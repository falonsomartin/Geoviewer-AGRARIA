(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";var r=n(10),a=(n(244),n(5)),i=n(11),o=n(42),s=n(329),u=n(330),c=n(161),l=n(328),d=function(){function e(){Object(a.a)(this,e),this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}return Object(i.a)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return fetch(e,t)})},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}},{key:"setTimeoutCustom",value:function(e,t){var n=this;"undefined"!==typeof window&&Object(o.b)().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout(function(){window.postMessage({name:n.messageName,index:n.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",function(e){e.source===window&&e.data.name===n.messageName&&(e.stopPropagation(),(0,n.functionRefs[e.data.index])(),n.handledMessageCount++,n.handledMessageCount===n.functionRefs.length&&(n.functionRefs=[],n.handledMessageCount=0))},!0))):setTimeout(e,t)}},{key:"isTypedArray",value:function(e){return Object(l.a)(e)}}]),e}();if(Object(o.b)().get("IS_BROWSER")){Object(o.b)().setPlatform("browser",new d);try{c.a.registerManager(u.a.URL_SCHEME,new u.b)}catch(C){}try{c.a.registerManager(s.a.URL_SCHEME,new s.b)}catch(C){}}n(702);var p=n(87),h=n(28),f=n(122),m=n(270),v=n(13);Object(r.b)();var g={buffer:p.a,cast:h.a,clone:f.a,print:m.a};Object(v.f)(g);var A=n(200),y=n(203),b=n(204),x=n(205),w=n(206),_=n(207),k=n(164),O=n(202),E=[A.a,y.a,b.a,x.a,w.a,_.a,k.a];var S=n(249);n.d(t,"hc",function(){return S.hc}),n.d(t,"kd",function(){return S.kd}),n.d(t,"ld",function(){return S.ld}),n.d(t,"yf",function(){return S.yf}),n.d(t,"Kf",function(){return S.Kf}),n.d(t,"Nf",function(){return S.Nf}),n.d(t,"he",function(){return S.he}),n.d(t,"Of",function(){return S.Of}),n.d(t,"Oe",function(){return S.Oe}),n.d(t,"Kd",function(){return S.Kd}),n.d(t,"te",function(){return S.te}),n.d(t,"hf",function(){return S.hf}),n.d(t,"Lf",function(){return S.Lf}),n.d(t,"Ed",function(){return S.Ed}),n.d(t,"Jd",function(){return S.Jd}),n.d(t,"Df",function(){return S.Df}),n.d(t,"pf",function(){return S.pf}),n.d(t,"be",function(){return S.be}),n.d(t,"ve",function(){return S.ve}),n.d(t,"Ab",function(){return S.Ab}),n.d(t,"O",function(){return S.O}),n.d(t,"wd",function(){return S.wd}),n.d(t,"xd",function(){return S.xd}),n.d(t,"yd",function(){return S.yd}),n.d(t,"zd",function(){return S.zd}),n.d(t,"Ad",function(){return S.Ad}),n.d(t,"Bd",function(){return S.Bd}),n.d(t,"Cd",function(){return S.Cd}),n.d(t,"Fd",function(){return S.Fd}),n.d(t,"Gd",function(){return S.Gd}),n.d(t,"Hd",function(){return S.Hd}),n.d(t,"Id",function(){return S.Id}),n.d(t,"Ld",function(){return S.Ld}),n.d(t,"Md",function(){return S.Md}),n.d(t,"Nd",function(){return S.Nd}),n.d(t,"Od",function(){return S.Od}),n.d(t,"Pd",function(){return S.Pd}),n.d(t,"Qd",function(){return S.Qd}),n.d(t,"Rd",function(){return S.Rd}),n.d(t,"Sd",function(){return S.Sd}),n.d(t,"Td",function(){return S.Td}),n.d(t,"Ud",function(){return S.Ud}),n.d(t,"Vd",function(){return S.Vd}),n.d(t,"Wd",function(){return S.Wd}),n.d(t,"Xd",function(){return S.Xd}),n.d(t,"Yd",function(){return S.Yd}),n.d(t,"Zd",function(){return S.Zd}),n.d(t,"ae",function(){return S.ae}),n.d(t,"de",function(){return S.de}),n.d(t,"fe",function(){return S.fe}),n.d(t,"ie",function(){return S.ie}),n.d(t,"je",function(){return S.je}),n.d(t,"ke",function(){return S.ke}),n.d(t,"le",function(){return S.le}),n.d(t,"me",function(){return S.me}),n.d(t,"ne",function(){return S.ne}),n.d(t,"pe",function(){return S.pe}),n.d(t,"qe",function(){return S.qe}),n.d(t,"re",function(){return S.re}),n.d(t,"we",function(){return S.we}),n.d(t,"ye",function(){return S.ye}),n.d(t,"ze",function(){return S.ze}),n.d(t,"Ae",function(){return S.Ae}),n.d(t,"Be",function(){return S.Be}),n.d(t,"Ce",function(){return S.Ce}),n.d(t,"De",function(){return S.De}),n.d(t,"Ee",function(){return S.Ee}),n.d(t,"Fe",function(){return S.Fe}),n.d(t,"Ge",function(){return S.Ge}),n.d(t,"He",function(){return S.He}),n.d(t,"Je",function(){return S.Je}),n.d(t,"Ke",function(){return S.Ke}),n.d(t,"Le",function(){return S.Le}),n.d(t,"Me",function(){return S.Me}),n.d(t,"Ne",function(){return S.Ne}),n.d(t,"Pe",function(){return S.Pe}),n.d(t,"Qe",function(){return S.Qe}),n.d(t,"Re",function(){return S.Re}),n.d(t,"Se",function(){return S.Se}),n.d(t,"Te",function(){return S.Te}),n.d(t,"Ue",function(){return S.Ue}),n.d(t,"Ve",function(){return S.Ve}),n.d(t,"We",function(){return S.We}),n.d(t,"Xe",function(){return S.Xe}),n.d(t,"Ye",function(){return S.Ye}),n.d(t,"bf",function(){return S.bf}),n.d(t,"cf",function(){return S.cf}),n.d(t,"df",function(){return S.df}),n.d(t,"ef",function(){return S.ef}),n.d(t,"ff",function(){return S.ff}),n.d(t,"gf",function(){return S.gf}),n.d(t,"jf",function(){return S.jf}),n.d(t,"kf",function(){return S.kf}),n.d(t,"lf",function(){return S.lf}),n.d(t,"mf",function(){return S.mf}),n.d(t,"nf",function(){return S.nf}),n.d(t,"of",function(){return S.of}),n.d(t,"qf",function(){return S.qf}),n.d(t,"rf",function(){return S.rf}),n.d(t,"sf",function(){return S.sf}),n.d(t,"tf",function(){return S.tf}),n.d(t,"uf",function(){return S.uf}),n.d(t,"vf",function(){return S.vf}),n.d(t,"wf",function(){return S.wf}),n.d(t,"xf",function(){return S.xf}),n.d(t,"zf",function(){return S.zf}),n.d(t,"Af",function(){return S.Af}),n.d(t,"Bf",function(){return S.Bf}),n.d(t,"Cf",function(){return S.Cf}),n.d(t,"Ff",function(){return S.Ff}),n.d(t,"If",function(){return S.If}),n.d(t,"Jf",function(){return S.Jf}),n.d(t,"Mf",function(){return S.Mf}),n.d(t,"Pf",function(){return S.Pf}),n.d(t,"Qf",function(){return S.Qf}),n.d(t,"Rf",function(){return S.Rf}),n.d(t,"se",function(){return S.se}),n.d(t,"xe",function(){return S.xe}),n.d(t,"oe",function(){return S.oe}),n.d(t,"Gf",function(){return S.Gf}),n.d(t,"ge",function(){return S.ge}),n.d(t,"Ie",function(){return S.Ie}),n.d(t,"Ef",function(){return S.Ef}),n.d(t,"ce",function(){return S.ce}),n.d(t,"ue",function(){return S.ue}),n.d(t,"if",function(){return S.if}),n.d(t,"Ze",function(){return S.Ze}),n.d(t,"Dd",function(){return S.Dd}),n.d(t,"af",function(){return S.af}),n.d(t,"a",function(){return S.a}),n.d(t,"b",function(){return S.b}),n.d(t,"c",function(){return S.c}),n.d(t,"d",function(){return S.d}),n.d(t,"e",function(){return S.e}),n.d(t,"f",function(){return S.f}),n.d(t,"g",function(){return S.g}),n.d(t,"h",function(){return S.h}),n.d(t,"i",function(){return S.i}),n.d(t,"j",function(){return S.j}),n.d(t,"k",function(){return S.k}),n.d(t,"l",function(){return S.l}),n.d(t,"n",function(){return S.n}),n.d(t,"m",function(){return S.m}),n.d(t,"o",function(){return S.o}),n.d(t,"r",function(){return S.r}),n.d(t,"p",function(){return S.p}),n.d(t,"q",function(){return S.q}),n.d(t,"s",function(){return S.s}),n.d(t,"t",function(){return S.t}),n.d(t,"u",function(){return S.u}),n.d(t,"v",function(){return S.v}),n.d(t,"w",function(){return S.w}),n.d(t,"x",function(){return S.x}),n.d(t,"y",function(){return S.y}),n.d(t,"z",function(){return S.z}),n.d(t,"A",function(){return S.A}),n.d(t,"B",function(){return S.B}),n.d(t,"C",function(){return S.C}),n.d(t,"D",function(){return S.D}),n.d(t,"E",function(){return S.E}),n.d(t,"F",function(){return S.F}),n.d(t,"G",function(){return S.G}),n.d(t,"H",function(){return S.H}),n.d(t,"I",function(){return S.I}),n.d(t,"J",function(){return S.J}),n.d(t,"K",function(){return S.K}),n.d(t,"M",function(){return S.M}),n.d(t,"N",function(){return S.N}),n.d(t,"L",function(){return S.L}),n.d(t,"P",function(){return S.P}),n.d(t,"Q",function(){return S.Q}),n.d(t,"R",function(){return S.R}),n.d(t,"S",function(){return S.S}),n.d(t,"T",function(){return S.T}),n.d(t,"U",function(){return S.U}),n.d(t,"V",function(){return S.V}),n.d(t,"X",function(){return S.X}),n.d(t,"W",function(){return S.W}),n.d(t,"Y",function(){return S.Y}),n.d(t,"sc",function(){return S.sc}),n.d(t,"Z",function(){return S.Z}),n.d(t,"ab",function(){return S.ab}),n.d(t,"bb",function(){return S.bb}),n.d(t,"db",function(){return S.db}),n.d(t,"cb",function(){return S.cb}),n.d(t,"eb",function(){return S.eb}),n.d(t,"fb",function(){return S.fb}),n.d(t,"gb",function(){return S.gb}),n.d(t,"hb",function(){return S.hb}),n.d(t,"ib",function(){return S.ib}),n.d(t,"jb",function(){return S.jb}),n.d(t,"kb",function(){return S.kb}),n.d(t,"lb",function(){return S.lb}),n.d(t,"nb",function(){return S.nb}),n.d(t,"rb",function(){return S.rb}),n.d(t,"qb",function(){return S.qb}),n.d(t,"sb",function(){return S.sb}),n.d(t,"tb",function(){return S.tb}),n.d(t,"vb",function(){return S.vb}),n.d(t,"ub",function(){return S.ub}),n.d(t,"wb",function(){return S.wb}),n.d(t,"xb",function(){return S.xb}),n.d(t,"yb",function(){return S.yb}),n.d(t,"zb",function(){return S.zb}),n.d(t,"Db",function(){return S.Db}),n.d(t,"Eb",function(){return S.Eb}),n.d(t,"Fb",function(){return S.Fb}),n.d(t,"Gb",function(){return S.Gb}),n.d(t,"Hb",function(){return S.Hb}),n.d(t,"Ib",function(){return S.Ib}),n.d(t,"Jb",function(){return S.Jb}),n.d(t,"Kb",function(){return S.Kb}),n.d(t,"Lb",function(){return S.Lb}),n.d(t,"Bb",function(){return S.Bb}),n.d(t,"Cb",function(){return S.Cb}),n.d(t,"Mb",function(){return S.Mb}),n.d(t,"Sb",function(){return S.Sb}),n.d(t,"Nb",function(){return S.Nb}),n.d(t,"Qb",function(){return S.Qb}),n.d(t,"Ob",function(){return S.Ob}),n.d(t,"Pb",function(){return S.Pb}),n.d(t,"Rb",function(){return S.Rb}),n.d(t,"Tb",function(){return S.Tb}),n.d(t,"Ub",function(){return S.Ub}),n.d(t,"Vb",function(){return S.Vb}),n.d(t,"Wb",function(){return S.Wb}),n.d(t,"Xb",function(){return S.Xb}),n.d(t,"Yb",function(){return S.Yb}),n.d(t,"Zb",function(){return S.Zb}),n.d(t,"ac",function(){return S.ac}),n.d(t,"ec",function(){return S.ec}),n.d(t,"bc",function(){return S.bc}),n.d(t,"cc",function(){return S.cc}),n.d(t,"dc",function(){return S.dc}),n.d(t,"gc",function(){return S.gc}),n.d(t,"fc",function(){return S.fc}),n.d(t,"ic",function(){return S.ic}),n.d(t,"jc",function(){return S.jc}),n.d(t,"kc",function(){return S.kc}),n.d(t,"lc",function(){return S.lc}),n.d(t,"mc",function(){return S.mc}),n.d(t,"nc",function(){return S.nc}),n.d(t,"oc",function(){return S.oc}),n.d(t,"pc",function(){return S.pc}),n.d(t,"qc",function(){return S.qc}),n.d(t,"rc",function(){return S.rc}),n.d(t,"tc",function(){return S.tc}),n.d(t,"uc",function(){return S.uc}),n.d(t,"wc",function(){return S.wc}),n.d(t,"zc",function(){return S.zc}),n.d(t,"Ac",function(){return S.Ac}),n.d(t,"xc",function(){return S.xc}),n.d(t,"yc",function(){return S.yc}),n.d(t,"vc",function(){return S.vc}),n.d(t,"Bc",function(){return S.Bc}),n.d(t,"Dc",function(){return S.Dc}),n.d(t,"Ec",function(){return S.Ec}),n.d(t,"Fc",function(){return S.Fc}),n.d(t,"md",function(){return S.md}),n.d(t,"Gc",function(){return S.Gc}),n.d(t,"Hc",function(){return S.Hc}),n.d(t,"Ic",function(){return S.Ic}),n.d(t,"Nc",function(){return S.Nc}),n.d(t,"Lc",function(){return S.Lc}),n.d(t,"Mc",function(){return S.Mc}),n.d(t,"Kc",function(){return S.Kc}),n.d(t,"Jc",function(){return S.Jc}),n.d(t,"Pc",function(){return S.Pc}),n.d(t,"Xc",function(){return S.Xc}),n.d(t,"hd",function(){return S.hd}),n.d(t,"Qc",function(){return S.Qc}),n.d(t,"Wc",function(){return S.Wc}),n.d(t,"Oc",function(){return S.Oc}),n.d(t,"Rc",function(){return S.Rc}),n.d(t,"Sc",function(){return S.Sc}),n.d(t,"Tc",function(){return S.Tc}),n.d(t,"Uc",function(){return S.Uc}),n.d(t,"Vc",function(){return S.Vc}),n.d(t,"Zc",function(){return S.Zc}),n.d(t,"Yc",function(){return S.Yc}),n.d(t,"ad",function(){return S.ad}),n.d(t,"cd",function(){return S.cd}),n.d(t,"dd",function(){return S.dd}),n.d(t,"ed",function(){return S.ed}),n.d(t,"fd",function(){return S.fd}),n.d(t,"gd",function(){return S.gd}),n.d(t,"id",function(){return S.id}),n.d(t,"jd",function(){return S.jd}),n.d(t,"nd",function(){return S.nd}),n.d(t,"od",function(){return S.od}),n.d(t,"pd",function(){return S.pd}),n.d(t,"qd",function(){return S.qd}),n.d(t,"rd",function(){return S.rd}),n.d(t,"sd",function(){return S.sd}),n.d(t,"td",function(){return S.td}),n.d(t,"ud",function(){return S.ud}),n.d(t,"bd",function(){return S.bd}),n.d(t,"mb",function(){return S.mb}),n.d(t,"Cc",function(){return S.Cc}),n.d(t,"vd",function(){return S.vd}),n.d(t,"ob",function(){return S.ob}),n.d(t,"pb",function(){return S.pb}),n.d(t,"Hf",function(){return S.Hf}),n.d(t,"ee",function(){return S.ee}),function(){for(var e=0,t=E;e<t.length;e++){var n=t[e];Object(O.registerClass)(n)}}()},function(e,t,n){"use strict";e.exports=n(537)},function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p});var r=n(6),a=n(0);function i(e,t,n,r,i){var s=t.inputParams[e];if(s&&void 0!==s.inputIndexStart){var u=s.inputIndexStart,c=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?u+1:s.inputIndexEnd,l=u<0?t.inputNames.length+u:u;if("tensor"===s.type)return o(t.inputNames[l],n,r,i);if("tensors"===s.type){var d=t.inputs.slice(u,c);return t.inputNames.slice(u,c).filter(function(e,t){var n;return"NoOp"!==(null===(n=d[t])||void 0===n?void 0:n.op)}).map(function(e){return o(e,n,r,i)})}var p=o(t.inputNames[l],n,r,i),h=p.dataSync();return"number"===s.type?h[0]:a.Lf.toNestedArray(p.shape,h)}var f=t.attrParams[e];return f&&f.value}function o(e,t,n,a){var i=l(e,n),o=Object(r.a)(i,2),s=o[0],u=o[1];if(null!=a){var d=a.getHashTableHandleByName(s);if(null!=d)return d}var p=n.currentContextIds.find(function(e){return!!t[c(s,e)]});return void 0!==p?t[c(s,p)][u]:void 0}function s(e,t,n){return t[c(e,n.currentContextId)]}function u(e,t){var n=l(e,t),a=Object(r.a)(n,3),i=a[0],o=a[1],s=a[2];return[c(i,t&&t.currentContextId),o,s]}function c(e,t){return t?"".concat(e,"-").concat(t):e}function l(e,t){if(""===e)return["",0,void 0];var n=null!=t&&null!=t.parseNodeNameCache;if(n){var r=t.parseNodeNameCache.get(e);if(null!=r)return r}var a,i=e.split(":");if(1===i.length)a=[e,0,void 0];else{var o=i[0],s=3===i.length?i[1]:void 0;a=[o,Number(i[i.length-1]),s]}return n&&t.parseNodeNameCache.set(e,a),a}function d(e,t,n){var r=i("pad",e,t,n);if("explicit"===r){r=i("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=r[2*o],a[o][1]=r[2*o+1];return a}return r}function p(e){return e.kept?e:Object(a.Od)(e)}},function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p});var r=n(10),a=n(42),i=n(13),o=n(103),s=n(24),u=n(20);function c(e,t){var n=e;if(Object(s.isTypedArray)(e))return"string"===t?[]:[e.length];if(Object(o.a)(e)){var r=e.channels||"RGBA";return[e.height,e.width*r.length]}if(Object(o.b)(e))return[e.buffer.size/(null==t?4:Object(u.h)(t))];if(!Array.isArray(e))return[];for(var i=[];Array.isArray(n)||Object(s.isTypedArray)(n)&&"string"!==t;)i.push(n.length),n=n[0];return Array.isArray(e)&&Object(a.b)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){r=r||[];if(!Array.isArray(t)&&!Object(s.isTypedArray)(t))return void Object(u.c)(0===n.length,function(){return"Element arr[".concat(r.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(n[0]," elements")});Object(u.c)(n.length>0,function(){return"Element arr[".concat(r.join("]["),"] should be a primitive, ")+"but is an array of ".concat(t.length," elements")});Object(u.c)(t.length===n[0],function(){return"Element arr[".concat(r.join("]["),"] should have ").concat(n[0]," ")+"elements, but has ".concat(t.length," elements")});var a=n.slice(1);for(var i=0;i<t.length;++i)e(t[i],a,r.concat(i))}(e,i,[]),i}function l(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function d(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof i.a)return l(a,e.dtype,t,n),e;var o=Object(u.s)(e);if("string"!==o&&["bool","int32","float32"].indexOf(a)>=0&&(o=a),l(a,o,t,n),null==e||!Object(s.isTypedArray)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var d=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(d,"'"))}var p=c(e,o);Object(s.isTypedArray)(e)||Array.isArray(e)||(e=[e]);var h="string"!==o?Object(s.toTypedArray)(e,o):Object(s.flatten)(e,[],!0);return r.a.makeTensor(h,p,o)}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(function(e,a){return d(e,"".concat(t,"[").concat(a,"]"),n,r)})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"l",function(){return f}),n.d(t,"n",function(){return m}),n.d(t,"m",function(){return v}),n.d(t,"o",function(){return g}),n.d(t,"r",function(){return A}),n.d(t,"p",function(){return y}),n.d(t,"q",function(){return b}),n.d(t,"s",function(){return x}),n.d(t,"t",function(){return w}),n.d(t,"u",function(){return _}),n.d(t,"v",function(){return k}),n.d(t,"x",function(){return O}),n.d(t,"w",function(){return E}),n.d(t,"y",function(){return S}),n.d(t,"z",function(){return C}),n.d(t,"A",function(){return T}),n.d(t,"B",function(){return I}),n.d(t,"C",function(){return j}),n.d(t,"D",function(){return M}),n.d(t,"E",function(){return N}),n.d(t,"F",function(){return D}),n.d(t,"G",function(){return R}),n.d(t,"H",function(){return P}),n.d(t,"I",function(){return L}),n.d(t,"J",function(){return F}),n.d(t,"K",function(){return B}),n.d(t,"L",function(){return z}),n.d(t,"N",function(){return U}),n.d(t,"O",function(){return V}),n.d(t,"M",function(){return W}),n.d(t,"P",function(){return G}),n.d(t,"Q",function(){return H}),n.d(t,"R",function(){return q}),n.d(t,"S",function(){return K}),n.d(t,"T",function(){return X}),n.d(t,"U",function(){return Q}),n.d(t,"V",function(){return Y}),n.d(t,"X",function(){return $}),n.d(t,"W",function(){return Z}),n.d(t,"Y",function(){return J}),n.d(t,"rc",function(){return ee}),n.d(t,"Z",function(){return te}),n.d(t,"ab",function(){return ne}),n.d(t,"bb",function(){return re}),n.d(t,"db",function(){return ae}),n.d(t,"cb",function(){return ie}),n.d(t,"eb",function(){return oe}),n.d(t,"fb",function(){return se}),n.d(t,"gb",function(){return ue}),n.d(t,"hb",function(){return ce}),n.d(t,"ib",function(){return le}),n.d(t,"jb",function(){return de}),n.d(t,"kb",function(){return pe}),n.d(t,"lb",function(){return he}),n.d(t,"nb",function(){return fe}),n.d(t,"rb",function(){return me}),n.d(t,"qb",function(){return ve}),n.d(t,"sb",function(){return ge}),n.d(t,"tb",function(){return Ae}),n.d(t,"vb",function(){return ye}),n.d(t,"ub",function(){return be}),n.d(t,"wb",function(){return xe}),n.d(t,"xb",function(){return we}),n.d(t,"yb",function(){return _e}),n.d(t,"zb",function(){return ke}),n.d(t,"Cb",function(){return Oe}),n.d(t,"Db",function(){return Ee}),n.d(t,"Eb",function(){return Se}),n.d(t,"Fb",function(){return Ce}),n.d(t,"Gb",function(){return Te}),n.d(t,"Hb",function(){return Ie}),n.d(t,"Jb",function(){return je}),n.d(t,"Kb",function(){return Me}),n.d(t,"Lb",function(){return Ne}),n.d(t,"Ib",function(){return De}),n.d(t,"Ab",function(){return Re}),n.d(t,"Bb",function(){return Pe}),n.d(t,"Mb",function(){return Le}),n.d(t,"Sb",function(){return Fe}),n.d(t,"Nb",function(){return Be}),n.d(t,"Qb",function(){return ze}),n.d(t,"Ob",function(){return Ue}),n.d(t,"Pb",function(){return Ve}),n.d(t,"Rb",function(){return We}),n.d(t,"Tb",function(){return Ge}),n.d(t,"Ub",function(){return He}),n.d(t,"Vb",function(){return qe}),n.d(t,"Wb",function(){return Ke}),n.d(t,"Xb",function(){return Xe}),n.d(t,"Yb",function(){return Qe}),n.d(t,"Zb",function(){return Ye}),n.d(t,"ac",function(){return $e}),n.d(t,"ec",function(){return Ze}),n.d(t,"bc",function(){return Je}),n.d(t,"cc",function(){return et}),n.d(t,"dc",function(){return tt}),n.d(t,"gc",function(){return nt}),n.d(t,"fc",function(){return rt}),n.d(t,"hc",function(){return at}),n.d(t,"ic",function(){return it}),n.d(t,"jc",function(){return ot}),n.d(t,"kc",function(){return st}),n.d(t,"lc",function(){return ut}),n.d(t,"mc",function(){return ct}),n.d(t,"nc",function(){return lt}),n.d(t,"oc",function(){return dt}),n.d(t,"pc",function(){return pt}),n.d(t,"qc",function(){return ht}),n.d(t,"sc",function(){return ft}),n.d(t,"tc",function(){return mt}),n.d(t,"vc",function(){return vt}),n.d(t,"yc",function(){return gt}),n.d(t,"zc",function(){return At}),n.d(t,"wc",function(){return yt}),n.d(t,"xc",function(){return bt}),n.d(t,"uc",function(){return xt}),n.d(t,"Ac",function(){return wt}),n.d(t,"Cc",function(){return _t}),n.d(t,"Dc",function(){return kt}),n.d(t,"Ec",function(){return Ot}),n.d(t,"jd",function(){return Et}),n.d(t,"Fc",function(){return St}),n.d(t,"Gc",function(){return Ct}),n.d(t,"Hc",function(){return Tt}),n.d(t,"Mc",function(){return It}),n.d(t,"Kc",function(){return jt}),n.d(t,"Lc",function(){return Mt}),n.d(t,"Jc",function(){return Nt}),n.d(t,"Ic",function(){return Dt}),n.d(t,"Oc",function(){return Rt}),n.d(t,"Wc",function(){return Pt}),n.d(t,"gd",function(){return Lt}),n.d(t,"Pc",function(){return Ft}),n.d(t,"Vc",function(){return Bt}),n.d(t,"Nc",function(){return zt}),n.d(t,"Qc",function(){return Ut}),n.d(t,"Rc",function(){return Vt}),n.d(t,"Sc",function(){return Wt}),n.d(t,"Tc",function(){return Gt}),n.d(t,"Uc",function(){return Ht}),n.d(t,"Yc",function(){return qt}),n.d(t,"Xc",function(){return Kt}),n.d(t,"Zc",function(){return Xt}),n.d(t,"bd",function(){return Qt}),n.d(t,"cd",function(){return Yt}),n.d(t,"dd",function(){return $t}),n.d(t,"ed",function(){return Zt}),n.d(t,"fd",function(){return Jt}),n.d(t,"hd",function(){return en}),n.d(t,"id",function(){return tn}),n.d(t,"kd",function(){return nn}),n.d(t,"ld",function(){return rn}),n.d(t,"md",function(){return an}),n.d(t,"nd",function(){return on}),n.d(t,"od",function(){return sn}),n.d(t,"pd",function(){return un}),n.d(t,"qd",function(){return cn}),n.d(t,"rd",function(){return ln}),n.d(t,"ad",function(){return dn}),n.d(t,"mb",function(){return pn}),n.d(t,"Bc",function(){return hn}),n.d(t,"sd",function(){return fn}),n.d(t,"ob",function(){return mn}),n.d(t,"pb",function(){return vn});var r="Abs",a="Acos",i="Acosh",o="Add",s="AddN",u="All",c="Any",l="ArgMax",d="ArgMin",p="Asin",h="Asinh",f="Atan",m="Atanh",v="Atan2",g="AvgPool",A="AvgPoolGrad",y="AvgPool3D",b="AvgPool3DGrad",x="BatchMatMul",w="BatchToSpaceND",_="Bincount",k="BitwiseAnd",O="BroadcastTo",E="BroadcastArgs",S="Cast",C="Ceil",T="ClipByValue",I="Complex",j="ComplexAbs",M="Concat",N="Conv2D",D="Conv2DBackpropFilter",R="Conv2DBackpropInput",P="Conv3D",L="Conv3DBackpropFilterV2",F="Conv3DBackpropInputV2",B="Cos",z="Cosh",U="Cumprod",V="Cumsum",W="CropAndResize",G="DenseBincount",H="DepthToSpace",q="DepthwiseConv2dNative",K="DepthwiseConv2dNativeBackpropFilter",X="DepthwiseConv2dNativeBackpropInput",Q="Diag",Y="Dilation2D",$="Dilation2DBackpropInput",Z="Dilation2DBackpropFilter",J="Draw",ee="RealDiv",te="Einsum",ne="Elu",re="EluGrad",ae="Erf",ie="Equal",oe="Exp",se="ExpandDims",ue="Expm1",ce="FFT",le="Fill",de="FlipLeftRight",pe="Floor",he="FloorDiv",fe="FusedBatchNorm",me="GatherV2",ve="GatherNd",ge="Greater",Ae="GreaterEqual",ye="Identity",be="IFFT",xe="Imag",we="IsFinite",_e="IsInf",ke="IsNan",Oe="LeakyRelu",Ee="Less",Se="LessEqual",Ce="LinSpace",Te="Log",Ie="Log1p",je="LogicalAnd",Me="LogicalNot",Ne="LogicalOr",De="LogSoftmax",Re="LRN",Pe="LRNGrad",Le="Max",Fe="Maximum",Be="MaxPool",ze="MaxPoolGrad",Ue="MaxPool3D",Ve="MaxPool3DGrad",We="MaxPoolWithArgmax",Ge="Mean",He="Min",qe="Minimum",Ke="MirrorPad",Xe="Mod",Qe="Multinomial",Ye="Multiply",$e="Neg",Ze="NotEqual",Je="NonMaxSuppressionV3",et="NonMaxSuppressionV4",tt="NonMaxSuppressionV5",nt="OnesLike",rt="OneHot",at="Pack",it="PadV2",ot="Pow",st="Prelu",ut="Prod",ct="RaggedGather",lt="RaggedRange",dt="RaggedTensorToTensor",pt="Range",ht="Real",ft="Reciprocal",mt="Relu",vt="Reshape",gt="ResizeNearestNeighbor",At="ResizeNearestNeighborGrad",yt="ResizeBilinear",bt="ResizeBilinearGrad",xt="Relu6",wt="Reverse",_t="Round",kt="Rsqrt",Ot="ScatterNd",Et="TensorScatterUpdate",St="SearchSorted",Ct="Select",Tt="Selu",It="Slice",jt="Sin",Mt="Sinh",Nt="Sign",Dt="Sigmoid",Rt="Softplus",Pt="Sqrt",Lt="Sum",Ft="SpaceToBatchND",Bt="SplitV",zt="Softmax",Ut="SparseFillEmptyRows",Vt="SparseReshape",Wt="SparseSegmentMean",Gt="SparseSegmentSum",Ht="SparseToDense",qt="SquaredDifference",Kt="Square",Xt="StaticRegexReplace",Qt="StridedSlice",Yt="StringNGrams",$t="StringSplit",Zt="StringToHashBucketFast",Jt="Sub",en="Tan",tn="Tanh",nn="Tile",rn="TopK",an="Transform",on="Transpose",sn="Unique",un="Unpack",cn="UnsortedSegmentSum",ln="ZerosLike",dn="Step",pn="FromPixels",hn="RotateWithOffset",fn="_FusedMatMul",mn="FusedConv2D",vn="FusedDepthwiseConv2D"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(315);var a=n(316);function i(e,t){return Object(r.a)(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||Object(a.a)()}n.d(t,"a",function(){return i})},function(e,t,n){e.exports=n(561)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(10),a=n(20),i="__op";function o(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=i;var s=function(){r.a.startScope(n);try{var e=o.apply(void 0,arguments);return Object(a.y)(e)&&console.error("Cannot return a Promise inside of tidy."),r.a.endScope(e),e}catch(t){throw r.a.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var r=n(25),a=n(7),i=n.n(a),o=n(16),s=n(5),u=n(11),c=n(246),l=n(42),d=n(187),p=n(4),h=n(109),f=n(133),m=n(24),v=n(20),g=function(){function e(t,n){Object(s.a)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new A)}return Object(u.a)(e,[{key:"profileKernel",value:function(e,t,n){var r,a,i=function(){r=n()},o=m.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();var s=!0,u=!1,c=void 0;try{for(var d,p=r[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){d.value.dataSync()}}catch(v){u=!0,c=v}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}a=Promise.resolve({kernelMs:m.now()-o})}if(Object(l.b)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var h=function(t){var n=r[t];n.data().then(function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)})},f=0;f<r.length;f++)h(f);return{kernelName:e,outputs:r,inputs:t,timeMs:a.then(function(e){return e.kernelMs}),extraInfo:a.then(function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""})}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,i=e.inputs,o=e.extraInfo;r.forEach(function(e){Promise.all([e.data(),a,o]).then(function(r){t.logger.logKernelProfile(n,e,r[0],r[1],i,r[2])})})}}]),e}();var A=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,i){var o="number"===typeof r?v.L("".concat(r,"ms"),9):r.error,s=v.L(e,25),u=t.rank,c=t.size,l=v.L(t.shape.toString(),14),d="";for(var p in a){var h=a[p];if(null!=h){var f=h.shape||t.shape,m=f.length;d+="".concat(p,": ").concat(m,"D ").concat(m>0?f:""," ")}}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(u,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(d,"\t%c").concat(i),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();var y=n(13),b=n(47);function x(e){return null!=e.kernelName}n.d(t,"b",function(){return k}),n.d(t,"a",function(){return O});var w=function(){function e(){Object(s.a)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(function(e){return e.name})))}}}return Object(u.a)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),_=function(){function e(t){Object(s.a)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new w}return Object(u.a)(e,[{key:"ready",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then(function(){}));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(f.b("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=Object(o.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new g(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;Object(h.c)(this.backendName).forEach(function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)})}},{key:"disposeRegisteredKernels",value:function(e){var t=this;Object(h.c)(e).forEach(function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])})}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof c.b||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,i=r.then(function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)}).catch(function(n){return!(a<t.pendingBackendInitId)&&(t.pendingBackendInit=null,f.b("Initialization of backend ".concat(e," failed")),f.b(n.stack||n.message),!1)});return this.pendingBackendInit=i,{success:i,asyncInit:!0}}catch(o){return f.b("Initialization of backend ".concat(e," failed")),f.b(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority})}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,i=r.asyncInit;if(i||a)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun(function(){return r.startScope(a)},function(){return r.endScope(n)},function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(a){throw t(),a}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=O.runKernel(p.vb,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return O.runKernel(p.y,t,n)}}},[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=Object(h.b)(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach(function(e){a+="complex64"===e.dtype?3:1});var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-i;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,i=[],o=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=x(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(x(e)){var l=e.kernelName,d=e.inputs,p=e.attrs;null==this.backendName&&this.backend;var f=Object(h.b)(l,this.backendName);v.c(null!=f,function(){return"Cannot find registered kernel '".concat(l,"' for backend '").concat(a.backendName,"'")}),n=function(){var e=a.backend.numDataIds();r=f.kernelFunc({inputs:d,attrs:p,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(l,e,t);var n=t.map(function(e){return null!=e.rank?e:a.makeTensorFromTensorInfo(e)});if(o){var s=a.getTensorsForGradient(l,d,n);i=a.saveTensorsForBackwardMode(s)}return n}}else{var m=e.forwardFunc,g=function(e){o&&(i=e.map(function(e){return a.keep(a.clone(e))}))};n=function(){var e=a.backend.numDataIds();r=a.tidy(function(){return m(a.backend,g)});var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t),t}}var A,y=e.inputs,b=e.attrs,w=x(e)?null:e.backwardsFunc;return this.scopedRun(function(){return a.state.kernelDepth++},function(){return a.state.kernelDepth--},function(){a.ENV.getBool("DEBUG")||a.state.profiling?(A=a.profiler.profileKernel(c,y,function(){return n()}),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(A),t=A.outputs):t=n()}),o&&this.addTapeNode(c,y,t,w,i,b),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(y).map(function(e){return null!=y[e]?y[e].shape:null}),outputShapes:t.map(function(e){return e.shape}),kernelTimeMs:A.timeMs,extraInfo:A.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this;return e.map(function(e){return t.keep(t.clone(e))})}},{key:"getTensorsForGradient",value:function(e,t,n){var r=Object(h.a)(e);if(null!=r){var a,i=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(v.c(Array.isArray(t),function(){return"saveAllInputs is true, expected inputs to be an array."}),a=Object.keys(t).map(function(e){return t[e]})):a=i.map(function(e){return t[e]});var s=n.filter(function(e,t){return o[t]});return a.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&v.A(e[0])&&(a=e.map(function(e){return m.encodeString(e)}));var i=r.write(a,t,n),o=new y.a(t,n,i,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var s=this.state.tensorInfo.get(i),u=Object(v.g)(a);this.state.numBytes+=u-s.bytes,s.bytes=u}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,a=e.dtype,i=new y.a(r,a,n,this.nextTensorId());return this.trackTensor(i,t),i}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new y.c(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*v.h(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof y.c||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*v.h(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=Object(o.a)(i.a.mark(function e(t){var n,a,o,s,u,c,l,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,a=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,Object(r.a)(this.state.activeProfile.kernels.map(function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-a,o=!0,s=!1,u=void 0,e.prev=14,c=this.state.activeProfile.kernels[Symbol.iterator]();case 16:if(o=(l=c.next()).done){e.next=27;break}return d=l.value,e.next=20,d.kernelTimeMs;case 20:return d.kernelTimeMs=e.sent,e.next=23,d.extraInfo;case 23:d.extraInfo=e.sent;case 24:o=!0,e.next=16;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(14),s=!0,u=e.t0;case 33:e.prev=33,e.prev=34,o||null==c.return||c.return();case 36:if(e.prev=36,!s){e.next=39;break}throw u;case 39:return e.finish(36);case 40:return e.finish(33);case 41:return e.abrupt("return",this.state.activeProfile);case 42:case"end":return e.stop()}},e,this,[[14,29,33,41],[34,,36,40]])}));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,i){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},u=Object(h.a)(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map(function(e,t){if(null==e){var r=n[t],a=v.F(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return e}),r(e.length>1?e:e[0],a,i)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=Object(b.getTensorsInContainer)(e),r=new Set(n.map(function(e){return e.id})),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];i.kept||r.has(i.id)||i.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(e){e.kept||e.scopeId!==o.id||t.track(e)})}},{key:"gradients",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(v.c(t.length>0,function(){return"gradients() received an empty list of xs."}),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var i=this.scopedRun(function(){return r.startTape()},function(){return r.endTape()},function(){return r.tidy("forward",e)});v.c(i instanceof y.a,function(){return"The result y returned by f() must be a tensor."});var o=function(e,t,n){for(var r={},a={},i=0;i<t.length;i++)r[t[i].id]=!0;for(var o=0;o<e.length;o++){var s=e[o],u=s.inputs;for(var c in u){for(var l=u[c],d=!1,p=0;p<t.length;p++)if(r[l.id]){s.outputs.forEach(function(e){return r[e.id]=!0}),d=!0,a[s.id]=!0;break}if(d)break}}var h={};h[n.id]=!0;for(var f={},m=e.length-1;m>=0;m--)for(var v=e[m],g=v.inputs,A=0;A<v.outputs.length;A++)if(h[v.outputs[A].id]){for(var y in g)h[g[y].id]=!0,f[v.id]=!0;break}for(var b=[],x=0;x<e.length;x++){var w=e[x];if(a[w.id]&&f[w.id]){var _={};for(var k in w.inputs){var O=w.inputs[k];r[O.id]&&(_[k]=O)}var E=Object.assign({},w);E.inputs=_,E.outputs=w.outputs,b.push(E)}}return b}(this.state.activeTape,t,i);if(!a&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var e={};e[i.id]=null==n?function(e){var t=Object(v.D)(Object(v.O)(e),"float32");return O.makeTensor(t,e,"float32")}(i.shape):n,function(e,t,n,r){for(var a=function(a){var i=t[a],o=[];if(i.outputs.forEach(function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)}),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(i.kernelName,"."));var s=i.gradient(o),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var a=n(function(){return s[t]()});if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var o=i.inputs[t];if(!v.a(a.shape,o.shape))throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=a;else{var u=e[o.id];e[o.id]=r(u,a),u.dispose()}};for(var c in i.inputs)u(c)},i=t.length-1;i>=0;i--)a(i)}(e,o,function(e){return r.tidy(e)},E);var a=t.map(function(t){return e[t.id]});return 0===r.state.gradientDepth&&(r.state.activeTape.forEach(function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e.saved[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.dispose()}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}),r.state.activeTape=null),{value:i,grads:a}})}},{key:"customGrad",value:function(e){var t=this;return v.c(v.v(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i;v.c(r.every(function(e){return e instanceof y.a}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o={};r.forEach(function(e,t){o[t]=e});return t.runKernelFunc({forwardFunc:function(t,n){return i=e.apply(void 0,[].concat(r,[n])),v.c(i.value instanceof y.a,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),v.c(v.v(i.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),i.value},backwardsFunc:function(e,t){var n=i.gradFunc(e,t),a=Array.isArray(n)?n:[n];v.c(a.length===r.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),v.c(a.every(function(e){return e instanceof y.a}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var o={};return a.forEach(function(e,t){o[t]=function(){return e}}),o},inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=Object(o.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.now)(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=Object(m.now)()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new w,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}}]),e}();function k(){var e=Object(d.b)();if(null==e._tfengine){var t=new l.a(e);e._tfengine=new _(t)}return Object(l.c)(e._tfengine.ENV),Object(y.g)(function(){return e._tfengine}),e._tfengine}_.nextTensorId=0,_.nextVariableId=0;var O=k();function E(e,t){var n={a:e,b:t};return O.runKernel(p.d,n)}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(18),a=n(12),i=n(17),o=n(7),s=n.n(o),u=n(16),c=n(5),l=n(11),d=n(187),p=n(25),h=n(20),f=20,m=3,v=7;function g(e,t,n,r){var a=Object(h.k)(t),i=function(e,t,n,r){var a=Object(h.O)(t),i=r[r.length-1],o=new Array(i).fill(0),s=t.length,u="complex64"===n?b(e):e;if(s>1)for(var c=0;c<a/i;c++)for(var l=c*i,d=0;d<i;d++)o[d]=Math.max(o[d],A(u[l+d],0,n).length);return o}(e,t,n,a),o=t.length,s=function e(t,n,r,a,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];var s="complex64"===r?2:1;var u=n[0];var c=n.length;if(0===c){if("complex64"===r){var l=b(t);return[A(l[0],0,r)]}return"bool"===r?[y(t[0])]:[t[0].toString()]}if(1===c){if(u>f){var d=m*s,h=Array.from(t.slice(0,d)),v=Array.from(t.slice((u-m)*s,u*s));return"complex64"===r&&(h=b(h),v=b(v)),["["+h.map(function(e,t){return A(e,i[t],r)}).join(", ")+", ..., "+v.map(function(e,t){return A(e,i[u-m+t],r)}).join(", ")+"]"]}var g="complex64"===r?b(t):Array.from(t);return["["+g.map(function(e,t){return A(e,i[t],r)}).join(", ")+"]"]}var x=n.slice(1);var w=a.slice(1);var _=a[0]*s;var k=[];if(u>f){for(var O=0;O<m;O++){var E=O*_,S=E+_;k.push.apply(k,Object(p.a)(e(t.slice(E,S),x,r,w,i,!1)))}k.push("...");for(var C=u-m;C<u;C++){var T=C*_,I=T+_;k.push.apply(k,Object(p.a)(e(t.slice(T,I),x,r,w,i,C===u-1)))}}else for(var j=0;j<u;j++){var M=j*_,N=M+_;k.push.apply(k,Object(p.a)(e(t.slice(M,N),x,r,w,i,j===u-1)))}var D=2===c?",":"";k[0]="["+(u>0?k[0]+D:"");for(var R=1;R<k.length-1;R++)k[R]=" "+k[R]+D;var P=",\n";for(var L=2;L<c;L++)P+="\n";k[k.length-1]=" "+k[k.length-1]+"]"+(o?"":P);return k}(e,t,n,a,i),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(o)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map(function(e){return"    "+e}).join("\n")),u.join("\n")}function A(e,t,n){var r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(v))," + ")+"".concat(parseFloat(e[1].toFixed(v)),"j"):Object(h.A)(e)?"'".concat(e,"'"):"bool"===n?y(e):parseFloat(e.toFixed(v)).toString(),Object(h.L)(r,t)}function y(e){return 0===e?"false":"true"}function b(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var x=n(24);n.d(t,"b",function(){return w}),n.d(t,"g",function(){return O}),n.d(t,"f",function(){return E}),n.d(t,"e",function(){return S}),n.d(t,"a",function(){return C}),n.d(t,"d",function(){return T}),n.d(t,"c",function(){return I});var w=function(){function e(t,n,r){var a=this;if(Object(c.a)(this,e),this.dtype=n,this.shape=t.slice(),this.size=h.O(t),null!=r){var i=r.length;h.c(i===this.size,function(){return"Length of values '".concat(i,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")})}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||h.o(n,this.size),this.strides=Object(h.k)(t)}return Object(l.a)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),h.c(r.length===this.rank,function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")});var i=this.locToIndex(r);this.values[i]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],c=0;c<t.length-1;++c)u+=this.strides[c]*t[c];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"toTensor",value:function(){return _().makeTensor(this.values,this.shape,this.dtype)}},{key:"rank",get:function(){return this.shape.length}}]),e}(),_=null,k=null;function O(e){_=e}function E(e){k=e}function S(e){e}var C=function(){function e(t,n,r,a){Object(c.a)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=h.O(t),this.strides=Object(h.k)(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object(l.a)(e,[{key:"buffer",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",k.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return k.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",Object(h.U)(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return Object(h.U)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=_().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map(function(e){return x.decodeString(e)}));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}},e,this,[[6,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),_().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=_().readSync(this.dataId);if("string"===this.dtype)try{return e.map(function(e){return x.decodeString(e)})}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,_().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(_().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return k.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),k.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g(this.dataSync(),this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),k.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),_().makeVariable(this,e,t,n)}},{key:"rank",get:function(){return this.shape.length}},{key:"isDisposed",get:function(){return this.isDisposedInternal}}]),e}();function T(){return Object(d.a)("Tensor",function(){return C})}Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),T();var I=function(e){function t(e,n,i,o){var s;return Object(c.a)(this,t),(s=Object(r.a)(this,Object(a.a)(t).call(this,e.shape,e.dtype,e.dataId,o))).trainable=n,s.name=i,s}return Object(i.a)(t,e),Object(l.a)(t,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!h.a(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));_().disposeTensor(this),this.dataId=e.dataId,_().incRef(this,null)}},{key:"dispose",value:function(){_().disposeVariable(this),this.isDisposedInternal=!0}}]),t}(C);Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return e instanceof C&&null!=e.assign&&e.assign instanceof Function}})},function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},function(e,t,n){var r=n(544);e.exports=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,u,"next",e)}function u(e){r(o,a,i,s,u,"throw",e)}s(void 0)})}}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(224);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return(a="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var i=n(72);function o(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(i.a)(e):t}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({reshape_:function(e,t){var n={x:Object(i.a)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.a.runKernel(a.vc,n,o)}})},function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,s(e,--t,n)}function a(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,s(e,--n,r),s(t,n,r)}function i(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function u(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){var n=Math.random();return t*n+(1-n)*e}function l(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n}function d(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";d(g(e,t),function(){return n+" Shapes ".concat(e," and ").concat(t," must match")})}function h(e){d(null!=e,function(){return"The input to the tensor constructor must be a non-null value."})}function f(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function m(e){return 0===e.length}function v(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}function g(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function A(e){return e%1===0}function y(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function b(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function x(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function w(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise(function(a,i){var o=0;!function s(){if(e())a();else{var u=t(++o);null!=n&&o>=n?i():null!=r?r(s,u):setTimeout(s,u)}}()})}function k(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var i=e.slice();return i[r]=t/n,i}function O(e,t){var n=t.length;return d((e=null==e?t.map(function(e,t){return t}):[].concat(e)).every(function(e){return e>=-n&&e<n}),function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)}),d(e.every(function(e){return A(e)}),function(){return"All values in axis param must be integers but "+"got axis ".concat(e)}),e.map(function(e){return e<0?n+e:e})}function E(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||a?null:O(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=i){if(i[o]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==i[o]||i[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function S(e,t){return C(e,t)}function C(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function T(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function I(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function j(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function M(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function N(e){if(null==e)return 0;var t=0;return e.forEach(function(e){return t+=e.length}),t}function D(e){return"string"===typeof e||e instanceof String}function R(e){return"boolean"===typeof e}function P(e){return"number"===typeof e}function L(e){return Array.isArray(e)?L(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":P(e)?"float32":D(e)?"string":R(e)?"bool":"float32"}function F(e){return!!(e&&e.constructor&&e.call&&e.apply)}function B(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function z(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce(function(e,t){return e*t})*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Array;if(1===n.length)for(var o=n[0]*(a?2:1),s=0;s<o;s++)i[s]=r[t+s];else for(var u=n[0],c=n.slice(1),l=c.reduce(function(e,t){return e*t})*(a?2:1),d=0;d<u;d++)i[d]=e(t+d*l,c,r,a);return i}(0,e,t,n)}function V(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error("Unknown dtype ".concat(t))}function W(e,t){for(var n=G(e,t),r=0;r<n.length;r++)n[r]=1;return n}function G(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function H(e,t){var n=e.reduce(function(e,t){return e*t},1);if(null==t||"float32"===t)return U(e,new Float32Array(n));if("int32"===t)return U(e,new Int32Array(n));if("bool"===t)return U(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function q(e){e.forEach(function(t){d(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")})})}function K(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function X(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function Q(e){return e&&e.then&&"function"===typeof e.then}n.d(t,"M",function(){return r}),n.d(t,"N",function(){return a}),n.d(t,"j",function(){return i}),n.d(t,"H",function(){return o}),n.d(t,"S",function(){return s}),n.d(t,"R",function(){return u}),n.d(t,"J",function(){return c}),n.d(t,"n",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"O",function(){return f}),n.d(t,"z",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"w",function(){return A}),n.d(t,"T",function(){return y}),n.d(t,"P",function(){return b}),n.d(t,"m",function(){return x}),n.d(t,"L",function(){return w}),n.d(t,"K",function(){return _}),n.d(t,"t",function(){return k}),n.d(t,"I",function(){return O}),n.d(t,"Q",function(){return E}),n.d(t,"p",function(){return S}),n.d(t,"o",function(){return C}),n.d(t,"i",function(){return T}),n.d(t,"B",function(){return I}),n.d(t,"q",function(){return j}),n.d(t,"h",function(){return M}),n.d(t,"g",function(){return N}),n.d(t,"A",function(){return D}),n.d(t,"u",function(){return R}),n.d(t,"x",function(){return P}),n.d(t,"s",function(){return L}),n.d(t,"v",function(){return F}),n.d(t,"G",function(){return B}),n.d(t,"k",function(){return z}),n.d(t,"U",function(){return U}),n.d(t,"l",function(){return V}),n.d(t,"D",function(){return W}),n.d(t,"F",function(){return G}),n.d(t,"E",function(){return H}),n.d(t,"d",function(){return q}),n.d(t,"C",function(){return K}),n.d(t,"r",function(){return X}),n.d(t,"y",function(){return Q})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(8);var c=Object(u.b)({mul_:function(e,t){var n=Object(s.a)(e,"a","mul"),u=Object(s.a)(t,"b","mul"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.Zb,d)}})},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(85),l=n.n(c),d=n(738),p=n(804),h=n(497),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,i=t.withTheme,s=void 0!==i&&i,c=t.name,f=o()(t,["defaultTheme","withTheme","name"]),m=c,v=Object(d.a)(e,a()({defaultTheme:r,Component:n,name:c||n.displayName,classNamePrefix:m},f)),g=u.a.forwardRef(function(e,t){e.classes;var i,l=e.innerRef,d=o()(e,["classes","innerRef"]),f=v(e),m=d;return("string"===typeof c||s)&&(i=Object(h.a)()||r,c&&(m=Object(p.a)({theme:i,name:c,props:d})),s&&!m.theme&&(m.theme=i)),u.a.createElement(n,a()({ref:l||t,classes:f},m))});return l()(g,n),g}},m=n(142);t.a=function(e,t){return f(e,a()({defaultTheme:m.a},t))}},function(e,t,n){e.exports=n(542)()},function(e,t,n){"use strict";n.r(t);var r=n(42),a=n(328),i=n(20),o=n(375),s=n.n(o).a||o;function u(e){return s.fromString(e,!0,16)}var c=u("c3a5c85c97cb3127"),l=u("b492b66fbe98f273"),d=u("9ae16a3b2f90404f");function p(e){return e.xor(e.shru(47))}function h(e,t,n){var r=e.slice(t,t+n);return s.fromBytes(Array.from(r),!0,!0)}function f(e,t){return h(e,t,8)}function m(e,t){return h(e,t,4)}function v(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var a=t.xor(r).mul(n);return a=(a=a.xor(a.shru(47))).mul(n)}function A(e,t,n,r){return function(e,t,n,r,a,i){a=a.add(e),i=v(i.add(a).add(r),21);var o=a;return a=(a=a.add(t)).add(n),i=i.add(v(a,44)),[a.add(r),i.add(o)]}(f(e,t),f(e,t+8),f(e,t+16),f(e,t+24),n,r)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=s.fromNumber(81,!0);if(t<=32)return t<=16?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=d.add(2*t),r=f(e,0).add(d),a=f(e,t-8);return g(v(a,37).mul(n).add(r),v(r,25).add(a).mul(n),n)}if(t>=4){var i=d.add(2*t);return g(m(e,0).shl(3).add(t),m(e,t-4),i)}if(t>0){var o=e[0]+(e[t>>1]<<8),s=t+(e[t-1]<<2);return p(d.mul(o).xor(c.mul(s))).mul(d)}return d}(e,t):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=d.add(2*t),r=f(e,0).mul(l),a=f(e,8),i=f(e,t-8).mul(n),o=f(e,t-16).mul(d);return g(v(r.add(a),43).add(v(i,30)).add(o),r.add(v(a.add(d),18)).add(i),n)}(e,t);if(t<=64)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=d.add(2*t),r=f(e,0).mul(d),a=f(e,8),i=f(e,t-8).mul(n),o=f(e,t-16).mul(d),s=v(r.add(a),43).add(v(i,30)).add(o),u=g(s,r.add(v(a.add(d),18)).add(i),n),c=f(e,16).mul(n),l=f(e,24),p=s.add(f(e,t-32)).mul(n),h=u.add(f(e,t-24)).mul(n);return g(v(c.add(l),43).add(v(p,30)).add(h),c.add(v(l.add(r),18)).add(p),n)}(e,t);var r=n,a=n.mul(l).add(113),i=p(a.mul(d).add(113)).mul(d),o=[s.UZERO,s.UZERO],u=[s.UZERO,s.UZERO];r=r.mul(d).add(f(e,0));var h=0,y=64*(t-1>>6),b=y+(t-1&63)-63;do{r=v(r.add(a).add(o[0]).add(f(e,h+8)),37).mul(l),a=v(a.add(o[1]).add(f(e,h+48)),42).mul(l),r=r.xor(u[1]),a=a.add(o[0]).add(f(e,h+40)),i=v(i.add(u[0]),33).mul(l),o=A(e,h,o[1].mul(l),r.add(u[0])),u=A(e,h+32,i.add(u[1]),a.add(f(e,h+16)));var x=[r,i];i=x[0],r=x[1],h+=64}while(h!==y);var w=l.add(i.and(255).shl(1));h=b,u[0]=u[0].add(t-1&63),o[0]=o[0].add(u[0]),u[0]=u[0].add(o[0]),r=v(r.add(a).add(o[0]).add(f(e,h+8)),37).mul(w),a=v(a.add(o[1]).add(f(e,h+48)),42).mul(w),r=r.xor(u[1].mul(9)),a=a.add(o[0].mul(9).add(f(e,h+40))),i=v(i.add(u[0]),33).mul(w),o=A(e,h,o[1].mul(w),r.add(u[0])),u=A(e,h+32,i.add(u[1]),a.add(f(e,h+16)));var _=[r,i];return i=_[0],r=_[1],g(g(o[0],u[0],w).add(p(a).mul(c)).add(i),g(o[1],u[1],w).add(r),w)}function b(e,t){return"string"===t?k(e):x([e],t)}function x(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=S(e)),Object(r.b)().getBool("DEBUG")&&i.i(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),a=0;a<n.length;++a)0!==Math.round(e[a])&&(n[a]=1);return n}throw new Error("Unknown data type ".concat(t))}function w(){return Object(r.b)().platform.now()}function _(e,t){return Object(r.b)().platform.fetch(e,t)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Object(r.b)().platform.encode(e,t)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Object(r.b)().platform.decode(e,t)}function E(e){return null!=Object(r.b)().platform.isTypedArray?Object(r.b)().platform.isTypedArray(e):Object(a.a)(e)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||i.y(e)||null==e||E(e)&&n)t.push(e);else if(Array.isArray(e)||E(e))for(var r=0;r<e.length;++r)S(e[r],t,n);else{for(var a=-1,o=0,s=Object.keys(e);o<s.length;o++){var u=s[o];/^([1-9]+[0-9]*|0)$/.test(u)&&(a=Math.max(a,Number(u)))}for(var c=0;c<=a;c++)S(e[c],t,n)}return t}n.d(t,"createScalarValue",function(){return b}),n.d(t,"toTypedArray",function(){return x}),n.d(t,"now",function(){return w}),n.d(t,"fetch",function(){return _}),n.d(t,"encodeString",function(){return k}),n.d(t,"decodeString",function(){return O}),n.d(t,"isTypedArray",function(){return E}),n.d(t,"flatten",function(){return S}),n.d(t,"shuffle",function(){return i.M}),n.d(t,"shuffleCombo",function(){return i.N}),n.d(t,"clamp",function(){return i.j}),n.d(t,"nearestLargerEven",function(){return i.H}),n.d(t,"swap",function(){return i.S}),n.d(t,"sum",function(){return i.R}),n.d(t,"randUniform",function(){return i.J}),n.d(t,"distSquared",function(){return i.n}),n.d(t,"assert",function(){return i.c}),n.d(t,"assertShapesMatch",function(){return i.f}),n.d(t,"assertNonNull",function(){return i.e}),n.d(t,"sizeFromShape",function(){return i.O}),n.d(t,"isScalarShape",function(){return i.z}),n.d(t,"arraysEqualWithNull",function(){return i.b}),n.d(t,"arraysEqual",function(){return i.a}),n.d(t,"isInt",function(){return i.w}),n.d(t,"tanh",function(){return i.T}),n.d(t,"sizeToSquarishShape",function(){return i.P}),n.d(t,"createShuffledIndices",function(){return i.m}),n.d(t,"rightPad",function(){return i.L}),n.d(t,"repeatedTry",function(){return i.K}),n.d(t,"inferFromImplicitShape",function(){return i.t}),n.d(t,"parseAxisParam",function(){return i.I}),n.d(t,"squeezeShape",function(){return i.Q}),n.d(t,"getTypedArrayFromDType",function(){return i.p}),n.d(t,"getArrayFromDType",function(){return i.o}),n.d(t,"checkConversionForErrors",function(){return i.i}),n.d(t,"isValidDtype",function(){return i.B}),n.d(t,"hasEncodingLoss",function(){return i.q}),n.d(t,"bytesPerElement",function(){return i.h}),n.d(t,"bytesFromStringArray",function(){return i.g}),n.d(t,"isString",function(){return i.A}),n.d(t,"isBoolean",function(){return i.u}),n.d(t,"isNumber",function(){return i.x}),n.d(t,"inferDtype",function(){return i.s}),n.d(t,"isFunction",function(){return i.v}),n.d(t,"nearestDivisor",function(){return i.G}),n.d(t,"computeStrides",function(){return i.k}),n.d(t,"toNestedArray",function(){return i.U}),n.d(t,"convertBackendValuesAndArrayBuffer",function(){return i.l}),n.d(t,"makeOnesTypedArray",function(){return i.D}),n.d(t,"makeZerosTypedArray",function(){return i.F}),n.d(t,"makeZerosNestedTypedArray",function(){return i.E}),n.d(t,"assertNonNegativeIntegerDimensions",function(){return i.d}),n.d(t,"locToIndex",function(){return i.C}),n.d(t,"indexToLoc",function(){return i.r}),n.d(t,"isPromise",function(){return i.y}),n.d(t,"hexToLong",function(){return u}),n.d(t,"fingerPrint64",function(){return y})},function(e,t,n){"use strict";var r=n(310);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";var r=!0,a="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(a):new Error(a+": "+(t||""))}},function(e,t,n){"use strict";(function(e){var r,a=n(314),i=Object.prototype.toString,o=Object.getPrototypeOf,s=(r=Object.create(null),function(e){var t=i.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())}),u=function(e){return e=e.toLowerCase(),function(t){return s(t)===e}},c=function(e){return function(t){return typeof t===e}},l=Array.isArray,d=c("undefined");var p=u("ArrayBuffer");var h=c("string"),f=c("function"),m=c("number"),v=function(e){return null!==e&&"object"===typeof e},g=function(e){if("object"!==s(e))return!1;var t=o(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},A=u("Date"),y=u("File"),b=u("Blob"),x=u("FileList"),w=u("URLSearchParams");function _(e,t){var n,r,a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,i=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=i?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function k(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),a=r.length;a-- >0;)if(t===(n=r[a]).toLowerCase())return n;return null}var O="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:e,E=function(e){return!d(e)&&e!==O};var S,C=(S="undefined"!==typeof Uint8Array&&o(Uint8Array),function(e){return S&&e instanceof S}),T=u("HTMLFormElement"),I=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),j=u("RegExp"),M=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};_(n,function(n,a){!1!==t(n,a,e)&&(r[a]=n)}),Object.defineProperties(e,r)},N="abcdefghijklmnopqrstuvwxyz",D={DIGIT:"0123456789",ALPHA:N,ALPHA_DIGIT:N+N.toUpperCase()+"0123456789"};var R=u("AsyncFunction");t.a={isArray:l,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&f(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||f(e.append)&&("formdata"===(t=s(e))||"object"===t&&f(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer)},isString:h,isNumber:m,isBoolean:function(e){return!0===e||!1===e},isObject:v,isPlainObject:g,isUndefined:d,isDate:A,isFile:y,isBlob:b,isRegExp:j,isFunction:f,isStream:function(e){return v(e)&&f(e.pipe)},isURLSearchParams:w,isTypedArray:C,isFileList:x,forEach:_,merge:function e(){for(var t=(E(this)&&this||{}).caseless,n={},r=function(r,a){var i=t&&k(n,a)||a;g(n[i])&&g(r)?n[i]=e(n[i],r):g(r)?n[i]=e({},r):l(r)?n[i]=r.slice():n[i]=r},a=0,i=arguments.length;a<i;a++)arguments[a]&&_(arguments[a],r);return n},extend:function(e,t,n){return _(t,function(t,r){n&&f(t)?e[r]=Object(a.a)(t,n):e[r]=t},{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var a,i,s,u={};if(t=t||{},null==e)return t;do{for(i=(a=Object.getOwnPropertyNames(e)).length;i-- >0;)s=a[i],r&&!r(s,e,t)||u[s]||(t[s]=e[s],u[s]=!0);e=!1!==n&&o(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:u,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(l(e))return e;var t=e.length;if(!m(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var a=n.value;t.call(e,a[0],a[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:T,hasOwnProperty:I,hasOwnProp:I,reduceDescriptors:M,freezeMethods:function(e){M(e,function(t,n){if(f(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];f(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:function(e,t){var n={},r=function(e){e.forEach(function(e){n[e]=!0})};return l(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n})},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:k,global:O,isContextDefined:E,ALPHABET:D,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&f(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(v(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var a=l(n)?[]:{};return _(n,function(t,n){var i=e(t,r+1);!d(i)&&(a[n]=i)}),t[r]=void 0,a}}return n}(e,0)},isAsyncFn:R,isThenable:function(e){return e&&(v(e)||f(e))&&f(e.then)&&f(e.catch)}}}).call(this,n(91))},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({cast_:function(e,t){var n=Object(i.a)(e,"x","cast");if(!o.B(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var s={x:n},u={dtype:t};return r.a.runKernel(a.y,s,u)}})},function(e,t,n){"use strict";var r=n(12);function a(e,t,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});n(53);function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}},function(){})}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(8);var c=Object(u.b)({add_:function(e,t){var n=Object(s.a)(e,"a","add"),u=Object(s.a)(t,"b","add"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.d,d)}})},function(e,t,n){"use strict";function r(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(8);var c=Object(u.b)({sub_:function(e,t){var n=Object(s.a)(e,"a","sub"),u=Object(s.a)(t,"b","sub"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.fd,d)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(201),c=n(8);var l=Object(c.b)({div_:function(e,t){var n=Object(s.a)(e,"a","div"),c=Object(s.a)(t,"b","div"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);if(n=d[0],c=d[1],"int32"===n.dtype&&"int32"===c.dtype)return Object(u.a)(n,c);var p={a:n,b:c};return a.a.runKernel(i.rc,p,{})}})},function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(i)}return r}function a(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(null==a||1===a&&o>1)&&n.unshift(i)}return n}function i(e,t){for(var n=Math.max(e.length,t.length),r=new Array(n),a=0;a<n;a++){var i=e[e.length-a-1];null==i&&(i=1);var o=t[t.length-a-1];if(null==o&&(o=1),1===i)r[n-a-1]=o;else if(1===o)r[n-a-1]=i;else{if(i!==o){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}r[n-a-1]=i}}return r}n.r(t),n.d(t,"getBroadcastDims",function(){return r}),n.d(t,"getReductionAxes",function(){return a}),n.d(t,"assertAndGetBroadcastShape",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(28),s=n(8);var u=Object(s.b)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object(i.a)(e,"x","sum");"bool"===s.dtype&&(s=Object(o.a)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.a.runKernel(a.gd,u,c)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(24),a=n(96);function i(e,t){if((Object(r.isTypedArray)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Object(r.isTypedArray)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Object(a.a)(e,[],[],t)}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"k",function(){return i}),n.d(t,"h",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"j",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"i",function(){return f});n(53);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function a(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb(".concat(n.map(function(e){return parseInt(e,16)}).join(", "),")"):""}function i(e){if(0===e.indexOf("#"))return e;var t=s(e).values;return"#".concat(t.map(function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)}).join(""))}function o(e){var t=(e=s(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,i=r*Math.min(a,1-a),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-i*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),u({type:c,values:l})}function s(e){if(e.type)return e;if("#"===e.charAt(0))return s(a(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map(function(e){return parseFloat(e)})}}function u(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function c(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=s(e)).type?s(o(e)).values:e.values;return t=t.map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?h(e,t):f(e,t)}function p(e,t){return e=s(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,u(e)}function h(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function f(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return u(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s});var r=n(1),a=n.n(r);function i(e,t){return a.a.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}function o(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function s(e,t){return a.a.useMemo(function(){return null==e&&null==t?null:function(n){o(e,n),o(t,n)}},[e,t])}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({zerosLike_:function(e){var t={x:Object(i.a)(e,"x","zerosLike")};return r.a.runKernel(a.rd,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f});var r=n(6),a=n(7),i=n.n(a),o=n(16),s=n(5),u=n(11),c=n(20),l=function(){function e(t){Object(s.a)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=d,this.populateURLFlags()}return Object(u.a)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if(Object(c.y)(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getString",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if("tfjsflags"in t)t.tfjsflags.split(",").forEach(function(t){var n=t.split(":"),a=Object(r.a)(n,2),i=a[0],o=a[1];e.urlFlags[i]=function(e,t){var n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,o)})}}},{key:"features",get:function(){return this.flags}}]),e}();function d(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")}),t}function p(){return h}var h=null;function f(e){h=e}},function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"k",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return A}),n.d(t,"h",function(){return y}),n.d(t,"a",function(){return b});var r=n(6),a=n(25),i=n(20);function o(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,s=e[3];return c(e,[].concat(Object(a.a)(t),[s]),n,o,r,null,null,y(i))}function s(e,t,n,a,i,o){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=p(t),d=Object(r.a)(l,2),h=d[0],f=d[1];if("channelsLast"===u)s=[h,f,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));s=[h,f,e[1],e[1]]}return c(e,s,n,a,i,o,!1,u)}function u(e,t,n,a,i,o){var s,u,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",d=h(t),p=Object(r.a)(d,3),f=p[0],m=p[1],v=p[2];if("NDHWC"===c)u="channelsLast",s=[f,m,v,e[4],e[4]];else{if("NCDHW"!==c)throw new Error("Unknown dataFormat ".concat(c));u="channelsFirst",s=[f,m,v,e[1],e[1]]}return l(e,s,n,a,i,!1,u,o)}function c(e,t,n,a,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",c=-1,l=-1,h=-1,v=-1;if("channelsLast"===u){var g=Object(r.a)(e,4);c=g[0],l=g[1],h=g[2],v=g[3]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var A=Object(r.a)(e,4);c=A[0],v=A[1],l=A[2],h=A[3]}var y,b=Object(r.a)(t,4),x=b[0],w=b[1],_=b[3],k=p(n),O=Object(r.a)(k,2),E=O[0],S=O[1],C=p(a),T=Object(r.a)(C,2),I=T[0],j=T[1],M=f(x,I),N=f(w,j),D=function(e,t,n,r,a,i,o,s,u){var c,l,p;if("number"===typeof e){var h=0===e?"VALID":"NUMBER";c={top:e,bottom:e,left:e,right:e,type:h};var f=function(e,t,n,r,a){null==r&&(r=d(e,t,n));var i=e[0],o=e[1],s=m((i-t+2*r)/n+1,a),u=m((o-t+2*r)/n+1,a);return[s,u]}([t,n],i,r,e,s);l=f[0],p=f[1]}else if("same"===e){l=Math.ceil(t/r),p=Math.ceil(n/a);var v=Math.max(0,(l-1)*r+i-t),g=Math.max(0,(p-1)*a+o-n),A=Math.floor(v/2),y=v-A,b=Math.floor(g/2),x=g-b;c={top:A,bottom:y,left:b,right:x,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-i+1)/r),p=Math.ceil((n-o+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var w="channelsLast"===u?e[1][0]:e[2][0],_="channelsLast"===u?e[1][1]:e[2][1],k="channelsLast"===u?e[2][0]:e[3][0],O="channelsLast"===u?e[2][1]:e[3][1],E=0===w&&0===_&&0===k&&0===O?"VALID":"EXPLICIT";c={top:w,bottom:_,left:k,right:O,type:E},l=m((t-i+w+_)/r+1,s),p=m((n-o+k+O)/a+1,s)}return{padInfo:c,outHeight:l,outWidth:p}}(i,l,h,E,S,M,N,o,u),R=D.padInfo,P=D.outHeight,L=D.outWidth,F=s?_*v:_;return"channelsFirst"===u?y=[c,F,P,L]:"channelsLast"===u&&(y=[c,P,L,F]),{batchSize:c,dataFormat:u,inHeight:l,inWidth:h,inChannels:v,outHeight:P,outWidth:L,outChannels:F,padInfo:R,strideHeight:E,strideWidth:S,filterHeight:x,filterWidth:w,effectiveFilterHeight:M,effectiveFilterWidth:N,dilationHeight:I,dilationWidth:j,inShape:e,outShape:y,filterShape:t}}function l(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,c=-1,l=-1,p=-1,v=-1,g=-1;if("channelsLast"===s){var A=Object(r.a)(e,5);c=A[0],l=A[1],p=A[2],v=A[3],g=A[4]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var y=Object(r.a)(e,5);c=y[0],g=y[1],l=y[2],p=y[3],v=y[4]}var b,x=Object(r.a)(t,5),w=x[0],_=x[1],k=x[2],O=x[4],E=h(n),S=Object(r.a)(E,3),C=S[0],T=S[1],I=S[2],j=h(a),M=Object(r.a)(j,3),N=M[0],D=M[1],R=M[2],P=f(w,N),L=f(_,D),F=f(k,R),B=function(e,t,n,r,a,i,o,s,u,c,l){var p,h,f,v;"valid"===e&&(e=0);if("number"===typeof e){var g=0===e?"VALID":"NUMBER";p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:g};var A=function(e,t,n,r,a,i){null==a&&(a=d(e,t[0],r[0]));for(var o=[0,0,0,n],s=0;s<3;s++)e[s]+2*a>=t[s]&&(o[s]=m((e[s]-t[s]+2*a)/r[s]+1,i));return o}([t,n,r,1],[s,u,c],1,[a,i,o],e,l);h=A[0],f=A[1],v=A[2]}else{if("same"!==e)throw Error("Unknown padding parameter: ".concat(e));h=Math.ceil(t/a),f=Math.ceil(n/i),v=Math.ceil(r/o);var y=(h-1)*a+s-t,b=(f-1)*i+u-n,x=(v-1)*o+c-r,w=Math.floor(y/2),_=y-w,k=Math.floor(b/2),O=b-k,E=Math.floor(x/2),S=x-E;p={top:k,bottom:O,left:E,right:S,front:w,back:_,type:"SAME"}}return{padInfo:p,outDepth:h,outHeight:f,outWidth:v}}(i,l,p,v,C,T,I,P,L,F,u),z=B.padInfo,U=B.outDepth,V=B.outHeight,W=B.outWidth,G=o?O*g:O;return"channelsFirst"===s?b=[c,G,U,V,W]:"channelsLast"===s&&(b=[c,U,V,W,G]),{batchSize:c,dataFormat:s,inDepth:l,inHeight:p,inWidth:v,inChannels:g,outDepth:U,outHeight:V,outWidth:W,outChannels:G,padInfo:z,strideDepth:C,strideHeight:T,strideWidth:I,filterDepth:w,filterHeight:_,filterWidth:k,effectiveFilterDepth:P,effectiveFilterHeight:L,effectiveFilterWidth:F,dilationDepth:N,dilationHeight:D,dilationWidth:R,inShape:e,outShape:b,filterShape:t}}function d(e,t,n){var r=f(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function p(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function h(e){return"number"===typeof e?[e,e,e]:e}function f(e,t){return t<=1?e:e+(e-1)*(t-1)}function m(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function v(e){var t=p(e),n=Object(r.a)(t,3),a=n[0],i=n[1],o=n[2];return 1===a&&1===i&&1===o}function g(e,t){return v(e)||v(t)}function A(e){return p(e).every(function(e){return e>0})}function y(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function b(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)i.c(i.w(t),function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")});else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach(function(t){t.forEach(function(t){i.c(i.w(t),function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")})})})}}}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"conv2d",function(){return Tr}),n.d(r,"depthwiseConv2d",function(){return Mr}),n.d(r,"matMul",function(){return Nr});var a=n(82),i=n(429),o=n(430),s=n(31),u=n(10),c=n(4),l=n(3),d=n(20),p=n(8);var h=Object(p.b)({addN_:function(e){d.c(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),d.c(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)});var t=e.map(function(e,t){return Object(l.a)(e,"tensors".concat(t),"addN")}),n=t[0];t.forEach(function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!d.a(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return u.a.runKernel(c.e,r)}}),f=n(271),m=n(272),v=n(273),g=n(274),A=n(431),y=n(432),b=n(433),x=n(275),w=n(434),_=n(208),k=n(28),O=n(43),E=n(19);var S=Object(p.b)({avgPool3d_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=Object(l.a)(e,"x","avgPool3d","float32"),s=o,p=!1;4===o.rank&&(p=!0,s=Object(E.a)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),d.c(5===s.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,".")}),d.c("NDHWC"===i,function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i)}),d.c("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,function(){return"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'")}),Object(O.a)("avgPool3d",r,a);var h={x:s},f={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},m=u.a.runKernel(c.p,h,f);return m=Object(k.a)(m,s.dtype),p?Object(E.a)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}}),C=n(62),T=n(50),I=n(21),j=n(123),M=n(51),N=n(247);var D=Object(p.b)({basicLSTMCell_:function(e,t,n,r,a,i){var o=Object(l.a)(e,"forgetBias","basicLSTMCell"),u=Object(l.a)(t,"lstmKernel","basicLSTMCell"),c=Object(l.a)(n,"lstmBias","basicLSTMCell"),d=Object(l.a)(r,"data","basicLSTMCell"),p=Object(l.a)(a,"c","basicLSTMCell"),h=Object(l.a)(i,"h","basicLSTMCell"),f=Object(C.a)([d,h],1),m=Object(T.a)(f,u),v=Object(s.a)(m,c),g=v.shape[0],A=v.shape[1]/4,y=[g,A],b=Object(M.a)(v,[0,0],y),x=Object(M.a)(v,[0,A],y),w=Object(M.a)(v,[0,2*A],y),_=Object(M.a)(v,[0,3*A],y),k=Object(s.a)(Object(I.a)(Object(j.a)(b),Object(N.a)(x)),Object(I.a)(p,Object(j.a)(Object(s.a)(o,w))));return[k,Object(I.a)(Object(N.a)(k),Object(j.a)(_))]}}),R=n(165),P=n(141);var L=Object(p.b)({batchNorm2d_:function(e,t,n,r,a,i){var o,s,u=Object(l.a)(e,"x","batchNorm"),c=Object(l.a)(t,"mean","batchNorm"),p=Object(l.a)(n,"variance","batchNorm");return null!=a&&(o=Object(l.a)(a,"scale","batchNorm")),null!=r&&(s=Object(l.a)(r,"offset","batchNorm")),d.c(2===u.rank,function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(u.rank,".")}),d.c(2===c.rank||1===c.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")}),d.c(2===p.rank||1===p.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(p.rank,".")}),null!=o&&d.c(2===o.rank||1===o.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")}),null!=s&&d.c(2===s.rank||1===s.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")}),Object(P.a)(u,c,p,s,o,i)}});var F=Object(p.b)({batchNorm3d_:function(e,t,n,r,a,i){var o,s,u=Object(l.a)(e,"x","batchNorm"),c=Object(l.a)(t,"mean","batchNorm"),p=Object(l.a)(n,"variance","batchNorm");return null!=a&&(o=Object(l.a)(a,"scale","batchNorm")),null!=r&&(s=Object(l.a)(r,"offset","batchNorm")),d.c(3===u.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")}),d.c(3===c.rank||1===c.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")}),d.c(3===p.rank||1===p.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(p.rank,".")}),null!=o&&d.c(3===o.rank||1===o.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")}),null!=s&&d.c(3===s.rank||1===s.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")}),Object(P.a)(u,c,p,s,o,i)}});var B=Object(p.b)({batchNorm4d_:function(e,t,n,r,a,i){var o,s,u=Object(l.a)(e,"x","batchNorm"),c=Object(l.a)(t,"mean","batchNorm"),p=Object(l.a)(n,"variance","batchNorm");return null!=a&&(o=Object(l.a)(a,"scale","batchNorm")),null!=r&&(s=Object(l.a)(r,"offset","batchNorm")),d.c(4===u.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(u.rank,".")}),d.c(4===c.rank||1===c.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")}),d.c(4===p.rank||1===p.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(p.rank,".")}),null!=o&&d.c(4===o.rank||1===o.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")}),null!=s&&d.c(4===s.rank||1===s.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")}),Object(P.a)(u,c,p,s,o,i)}});var z=Object(p.b)({bincount_:function(e,t,n){var r=Object(l.a)(e,"x","bincount"),a=Object(l.a)(t,"weights","bincount");d.c("int32"===r.dtype,function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype)}),d.c(n>=0,function(){return"size must be non-negative, but got ".concat(n,".")}),d.c(a.size===r.size||0===a.size,function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,".")});var i={x:r,weights:a},o={size:n};return u.a.runKernel(c.u,i,o)}});var U=Object(p.b)({bitwiseAnd_:function(e,t){var n=Object(l.a)(e,"x","bitwiseAnd"),r=Object(l.a)(t,"y","bitwiseAnd");if(!Object(d.a)(n.shape,r.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(r.shape));if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(r.dtype));var a={a:n,b:r};return u.a.runKernel(c.v,a)}});var V=Object(p.b)({broadcastArgs_:function(e,t){var n=Object(l.a)(e,"s0","broadcastArgs","int32"),r=Object(l.a)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));var a={s0:n,s1:r};return u.a.runKernel(c.w,a)}}),W=n(175),G=n(87),H=n(435),q=n(436),K=n(122),X=n(100);var Q=Object(p.b)({concat1d_:function(e){return Object(C.a)(e,0)}});var Y=Object(p.b)({concat2d_:function(e,t){return Object(C.a)(e,t)}});var $=Object(p.b)({concat3d_:function(e,t){return Object(C.a)(e,t)}});var Z=Object(p.b)({concat4d_:function(e,t){return Object(C.a)(e,t)}}),J=n(276),ee=n(119),te=n(277);var ne=Object(p.b)({conv3d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],o=Object(l.a)(e,"x","conv3d"),s=Object(l.a)(t,"filter","conv3d"),p=o,h=!1;4===o.rank&&(h=!0,p=Object(E.a)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),d.c(5===p.rank,function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(p.rank,".")}),d.c(5===s.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,".")}),d.c(p.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input (".concat(p.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],".")}),d.c(Object(O.i)(n,i),function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(i,"'")}),d.c("NDHWC"===a,function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")}),d.c(Object(O.j)(i),function(){return"Error in conv3D: Dilated rates should be larger than 0."}),d.c(Object(O.j)(n),function(){return"Error in conv3D: Strides should be larger than 0."});var f={x:p,filter:s},m={strides:n,pad:r,dataFormat:a,dilations:i},v=u.a.runKernel(c.H,f,m);return h?Object(E.a)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),re=n(331);var ae=Object(p.b)({conv3dTranspose_:function(e,t,n,r,a){var i=Object(l.a)(e,"x","conv3dTranspose"),o=Object(l.a)(t,"filter","conv3dTranspose");return Object(re.a)(n,i,o,r,a)}}),ie=n(209),oe=n(278),se=n(182),ue=n(210);var ce=Object(p.b)({denseBincount_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object(l.a)(e,"x","denseBincount"),i=Object(l.a)(t,"weights","denseBincount");d.c("int32"===a.dtype,function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype)}),d.c(a.rank<=2,function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,".")}),d.c(n>=0,function(){return"size must be non-negative, but got ".concat(n,".")}),d.c(i.size===a.size||0===i.size,function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(i.shape,".")});var o={x:a,weights:i},s={size:n,binaryOutput:r};return u.a.runKernel(c.P,o,s)}}),le=n(279),de=n(166);var pe=Object(p.b)({diag_:function(e){var t={x:Object(l.a)(e,"x","diag")};return u.a.runKernel(c.U,t)}}),he=n(280),fe=n(34),me=n(281),ve=n(282);var ge=Object(p.b)({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(function(e,t){return Object(l.a)(e,"tensors".concat(t),"einsum")}),i={equation:e};return u.a.runKernel(c.Z,a,i)}}),Ae=n(211);var ye=Object(p.b)({ensureShape_:function(e,t){var n=Object(l.a)(e,"x","ensureShape","string_or_numeric");if(!Object(d.b)(n.shape,t))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(t));return e}}),be=n(167),xe=n(437),we=n(283),_e=n(77),ke=n(115),Oe=n(438),Ee=n(125);var Se=Object(p.b)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=Object(G.a)([e,t],r),i=e<=t?e:t,o=0;o<i;++o)a.set(1,o,o);var s=Object(E.a)(a.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return Object(Ee.a)(Object(ke.a)(s,0),[n[0],1,1]);if(2===n.length)return Object(Ee.a)(Object(ke.a)(Object(ke.a)(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return Object(Ee.a)(Object(ke.a)(Object(ke.a)(Object(ke.a)(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}}),Ce=n(136),Te=n(212),Ie=n(201),je=n(169),Me=n(81),Ne=n(120),De=n(170),Re=n(439),Pe=n(440),Le=n(441),Fe=n(213),Be=n(153),ze=n(106);function Ue(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var r={start:e,stop:t,num:n};return u.a.runKernel(c.Fb,{},r)}var Ve=n(284),We=n(130),Ge=n(285),He=n(442),qe=n(443),Ke=n(214),Xe=n(112),Qe=n(171),Ye=n(215),$e=n(287),Ze=2147483648;var Je=Object(p.b)({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",r=Object(l.a)(e,"sortedSequence","searchSorted"),a=Object(l.a)(t,"values","searchSorted"),i=r.shape[r.shape.length-1],o=a.shape[a.shape.length-1],s=Object(E.a)(r,[-1,i]),p=Object(E.a)(a,[-1,o]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==p.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Object(d.O)(p.shape)>=Ze)throw new Error("values tensor size must less than ".concat(Ze));if(s.shape[1]>=Ze)throw new Error("trailing dim_size must less than ".concat(Ze," for int32 output type, was ").concat(s.shape[1]));var h={sortedSequence:s,values:p},f={side:n};return u.a.runKernel(c.Fc,h,f)}});function et(e,t){return Je(e,t,"left")}var tt=n(124),nt=n(216);var rt=Object(p.b)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=Object(l.a)(e,"x","maxPool3d"),s=o,p=!1;4===o.rank&&(p=!0,s=Object(E.a)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),d.c(5===s.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,".")}),d.c("NDHWC"===i,function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i)}),Object(O.a)("maxPool3d",r,a);var h={x:s},f={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},m=u.a.runKernel(c.Ob,h,f);return p?Object(E.a)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}});var at=Object(p.b)({maxPoolWithArgmax_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={x:Object(l.a)(e,"x","maxPoolWithArgmax")},o={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},s=u.a.runKernel(c.Rb,i,o);return{result:s[0],indexes:s[1]}}}),it=n(163),ot=n(154),st=n(102),ut=n(13);function ct(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).indexing,r=void 0===n?"xy":n;if("xy"!==r&&"ij"!==r)throw new TypeError("".concat(r," is not a valid third argument to meshgrid"));if(void 0===e)return[];var a=Object(l.a)(e,"x","meshgrid",e instanceof ut.a?e.dtype:"float32");if(void 0===t)return[a];var i=Object(l.a)(t,"y","meshgrid",t instanceof ut.a?t.dtype:"float32"),o=Object(d.O)(a.shape),s=Object(d.O)(i.shape);return"xy"===r?(a=Object(E.a)(a,[1,-1]),i=Object(E.a)(i,[-1,1]),[Object(T.a)(Object(st.a)([s,1],a.dtype),a),Object(T.a)(i,Object(st.a)([1,o],i.dtype))]):(a=Object(E.a)(a,[-1,1]),i=Object(E.a)(i,[1,-1]),[Object(T.a)(a,Object(st.a)([1,s],a.dtype)),Object(T.a)(Object(st.a)([o,1],i.dtype),i)])}var lt=n(183),dt=n(155),pt=n(288),ht=n(289),ft=n(74),mt=n(48),vt=n(33);var gt=Object(p.b)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Object(l.a)(e,"x","moments");var r=Object(d.I)(t,e.shape),a=Object(ot.a)(e,r,n),i=a.shape;n||(i=Object(ft.e)(a.shape,r));var o=Object(mt.a)(Object(vt.a)(Object(k.a)(e,"float32"),Object(E.a)(a,i)));return{mean:a,variance:Object(ot.a)(o,r,n)}}});var At=Object(p.b)({multiRNNCell_:function(e,t,n,r){for(var a=Object(l.a)(t,"data","multiRNNCell"),i=Object(l.b)(n,"c","multiRNNCell"),o=Object(l.b)(r,"h","multiRNNCell"),s=a,u=[],c=0;c<e.length;c++){var d=e[c](s,i[c],o[c]);u.push(d[0]),u.push(d[1]),s=d[1]}for(var p=[],h=[],f=0;f<u.length;f+=2)p.push(u[f]),h.push(u[f+1]);return[p,h]}});var yt=Object(p.b)({multinomial_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object(l.a)(e,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(i,"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(o));n=n||Math.random();var s={logits:1===o?Object(E.a)(a,[1,-1]):a},d={numSamples:t,seed:n,normalized:r},p=u.a.runKernel(c.Yb,s,d);return 1===o?Object(E.a)(p,[p.size]):p}}),bt=n(54),xt=n(217),wt=n(290),_t=n(444);var kt=Object(p.b)({outerProduct_:function(e,t){var n=Object(l.a)(e,"v1","outerProduct"),r=Object(l.a)(t,"v2","outerProduct");d.c(1===n.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")});var a=Object(E.a)(n,[-1,1]),i=Object(E.a)(r,[1,-1]);return Object(T.a)(a,i)}}),Ot=n(107);var Et=Object(p.b)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.c)(2===t.length,function(){return"Invalid number of paddings. Must be length of 2."}),Object(Ot.a)(e,[t],n)}});var St=Object(p.b)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.c)(2===t.length&&2===t[0].length&&2===t[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Object(Ot.a)(e,t,n)}});var Ct=Object(p.b)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.c)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Object(Ot.a)(e,t,n)}});var Tt=Object(p.b)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.c)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Object(Ot.a)(e,t,n)}}),It=n(291),jt=n(101),Mt=n(218),Nt=n(270),Dt=n(292);var Rt=Object(p.b)({raggedGather_:function(e,t,n,r){var a={paramsNestedSplits:e.map(function(e,t){return Object(l.a)(e,"tensors".concat(t),"raggedGather","int32")}),paramsDenseValues:Object(l.a)(t,"paramsDenseValues","raggedGather"),indices:Object(l.a)(n,"indices","raggedGather","int32")},i={outputRaggedRank:r},o=u.a.runKernel(c.mc,a,i);return{outputNestedSplits:o.slice(0,o.length-1),outputDenseValues:o[o.length-1]}}});var Pt=Object(p.b)({raggedRange_:function(e,t,n){var r=Object(l.a)(e,"starts","raggedRange"),a={starts:r,limits:Object(l.a)(t,"limits","raggedRange",r.dtype),deltas:Object(l.a)(n,"deltas","raggedRange",r.dtype)},i=u.a.runKernel(c.nc,a);return{rtNestedSplits:i[0],rtDenseValues:i[1]}}});var Lt=Object(p.b)({raggedTensorToTensor_:function(e,t,n,r,a){var i=Object(l.a)(e,"shape","raggedTensorToTensor","int32"),o=Object(l.a)(t,"values","raggedTensorToTensor"),s={shape:i,values:o,defaultValue:Object(l.a)(n,"defaultValue","raggedTensorToTensor",o.dtype),rowPartitionTensors:r.map(function(e,t){return Object(l.a)(e,"tensors".concat(t),"raggedTensorToTensor","int32")})},d={rowPartitionTypes:a};return u.a.runKernel(c.oc,s,d)}});var Ft=Object(p.b)({rand_:function(e,t,n){Object(d.d)(e);var r=Object(d.O)(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return u.a.makeTensor(a,e,n)}}),Bt=n(5),zt=n(11),Ut=n(147),Vt=(n(236),function(){function e(t,n,r,a,i){Object(Bt.a)(this,e),this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=Ut.alea(o.toString())}return Object(zt.a)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,i=void 0,o=void 0;do{o=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}()),Wt=function(){function e(t,n,r,a){Object(Bt.a)(this,e),this.alpha=t,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=Ut.alea(i.toString()),this.randn=new Vt(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return Object(zt.a)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(a=this.randu())<t||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),Gt=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(Object(Bt.a)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=r-n,this.dtype=a,null==i&&(i=Math.random()),"number"===typeof i&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(r," <= 1 and dtype is not float"));this.random=Ut.alea(i)}return Object(zt.a)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();var Ht=Object(p.b)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(Object(d.d)(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var i=new Wt(t,n,r,a),o=Object(G.a)(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var qt=Object(p.b)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Object(d.d)(e),null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var i=new Vt(t,n,r,!1,a),o=Object(G.a)(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var Kt=Object(p.b)({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return qt(e,0,1,t,n)}});var Xt=Object(p.b)({randomUniform_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;Object(d.d)(e);for(var i=Object(G.a)(e,r),o=new Gt(t,n,null,a),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});var Qt=Object(p.b)({randomUniformInt_:function(e,t,n,r){return Xt(e,t,n,"int32",r)}});function Yt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var a={start:e,stop:t,step:n,dtype:r};return u.a.runKernel(c.pc,{},a)}var $t=n(156),Zt=n(445),Jt=n(138),en=n(219),tn=n(88);var nn=Object(p.b)({reverse1d_:function(e){var t=Object(l.a)(e,"x","reverse");return d.c(1===t.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")}),Object(tn.a)(t,0)}});var rn=Object(p.b)({reverse2d_:function(e,t){var n=Object(l.a)(e,"x","reverse");return d.c(2===n.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")}),Object(tn.a)(n,t)}});var an=Object(p.b)({reverse3d_:function(e,t){var n=Object(l.a)(e,"x","reverse");return d.c(3===n.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")}),Object(tn.a)(n,t)}});var on=Object(p.b)({reverse4d_:function(e,t){var n=Object(l.a)(e,"x","reverse");return d.c(4===n.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")}),Object(tn.a)(n,t)}}),sn=n(293),un=n(294),cn=n(37),ln=n(295),dn=n(296),pn=n(7),hn=n.n(pn),fn=n(16);function mn(){return(mn=Object(fn.a)(hn.a.mark(function e(t,n){var r,a,i,o,s,u,c,p,h,f,m;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.a)(t,"x","setdiff1d"),a=Object(l.a)(n,"y","setdiff1d"),d.c(r.dtype===a.dtype,function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")}),d.c(1===r.rank,function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")}),d.c(1===a.rank,function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")}),e.next=7,r.data();case 7:return i=e.sent,e.next=10,a.data();case 10:for(o=e.sent,s=new Set(o),u=0,c=0;c<i.length;c++)s.has(i[c])||u++;for(p=new ut.b([u],r.dtype),h=new ut.b([u],"int32"),f=0,m=0;f<i.length;f++)s.has(i[f])||(p.values[m]=i[f],h.values[m]=f,m++);return e.abrupt("return",[p.toTensor(),h.toTensor()]);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}var vn=function(e,t){return mn.apply(this,arguments)},gn=n(446),An=n(297),yn=n(298);var bn=Object(p.b)({slice1d_:function(e,t,n){var r=Object(l.a)(e,"x","slice1d");return d.c(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")}),Object(M.a)(r,[t],[n])}});var xn=Object(p.b)({slice2d_:function(e,t,n){var r=Object(l.a)(e,"x","slice2d");return d.c(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")}),Object(M.a)(r,t,n)}});var wn=Object(p.b)({slice3d_:function(e,t,n){var r=Object(l.a)(e,"x","slice3d");return d.c(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")}),Object(M.a)(r,t,n)}});var _n=Object(p.b)({slice4d_:function(e,t,n){var r=Object(l.a)(e,"x","slice4d");return d.c(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")}),Object(M.a)(r,t,n)}}),kn=n(447),On=n(286),En=n(172),Sn=n(220),Cn=n(184),Tn=n(299),In=n(221),jn=n(113),Mn=n(70),Nn=n(222),Dn=n(173),Rn=n(114),Pn=n(139),Ln=n(448),Fn=n(36),Bn=n(449),zn=n(144),Un=n(96);function Vn(e,t){Object(d.e)(e);var n=Object(l.c)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Object(Un.a)(e,null,n,t)}function Wn(e,t,n){if(Object(d.e)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Object(l.c)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Object(Un.a)(e,t,r,n)}var Gn=n(300);function Hn(e,t,n){if(Object(d.e)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Object(l.c)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Object(Un.a)(e,t,r,n)}function qn(e,t,n){if(Object(d.e)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Object(l.c)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Object(Un.a)(e,t,r,n)}function Kn(e,t,n){if(Object(d.e)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Object(l.c)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,Object(Un.a)(e,t,r,n)}var Xn=n(162);var Qn=Object(p.b)({tensorScatterUpdate_:function(e,t,n){var r=Object(l.a)(e,"tensor","tensorScatterupdate"),a=Object(l.a)(t,"indices","tensorScatterupdate","int32"),i=Object(l.a)(n,"updates","tensorScatterupdate");if(Xn.b(i,a,r.shape),r.dtype!==i.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(r.dtype," and ").concat(i.dtype,"."));var o={tensor:r,indices:a,updates:i};return u.a.runKernel(c.jd,o,{})}}),Yn=n(301);var $n=Object(p.b)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Object(d.d)(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var i=new Vt(t,n,r,!0,a),o=Object(G.a)(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),Zn=n(302),Jn=n(223),er=n(140);function tr(e,t){return Je(e,t,"right")}function nr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return u.a.makeVariable(e,t,n,r)}var rr=n(63),ar=n(303);function ir(){return(ir=Object(fn.a)(hn.a.mark(function e(t){var n,r,a;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.a)(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,a=Object(ar.a)(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var or=function(e){return ir.apply(this,arguments)},sr=n(137),ur=n(41);function cr(){return(cr=Object(fn.a)(hn.a.mark(function e(t,n,r){var a,i,o,s,u,c,p,h,f,m,v,g,A;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Object(l.a)(t,"tensor","boolMask"),i=Object(l.a)(n,"mask","boolMask","bool"),o=null==r?0:r,s=i.rank,u=a.shape,d.c(s>0,function(){return"mask cannot be scalar"}),d.f(u.slice(o,o+s),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,p=o;p<o+s;p++)c*=u[p];return h=u.slice(0,o).concat([c],u.slice(o+s)),f=Object(E.a)(a,h),m=Object(E.a)(i,[-1]),e.next=14,or(m);case 14:return v=e.sent,g=Object(Dn.a)(v,[1]),A=Object(je.a)(f,g,o),t!==a&&a.dispose(),n!==i&&i.dispose(),g.dispose(),f.dispose(),m.dispose(),v.dispose(),e.abrupt("return",A);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}var lr=function(e,t,n){return cr.apply(this,arguments)},dr=n(89),pr=n(168),hr=n(47);var fr=Object(p.b)({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=Object(l.a)(e,"v","movingAverage"),o=Object(l.a)(t,"x","movingAverage"),u=Object(l.a)(n,"decay","movingAverage");Object(hr.assertTypesMatch)(i,o),d.c(d.a(i.shape,o.shape),function(){return"Shape mismatch in v and x"});var c=Object(cn.a)(1),p=Object(vt.a)(c,u),h=Object(I.a)(Object(vt.a)(o,i),p);if(a){d.c(null!=r,function(){return"When using zeroDebias: true, step is required."});var f=Object(l.a)(r,"step","movingAverage");h=Object(fe.a)(h,Object(vt.a)(c,Object(jt.a)(u,f)))}return Object(s.a)(i,h)}});var mr=Object(p.b)({scatterND_:function(e,t,n){Object(d.d)(n);var r=Object(l.a)(e,"indices","scatterND","int32"),a=Object(l.a)(t,"updates","scatterND");Xn.b(a,r,n);var i={indices:r,updates:a},o={shape:n};return u.a.runKernel(c.Ec,i,o)}});var vr=Object(p.b)({sparseToDense_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(d.d)(n);var a=Object(l.a)(e,"sparseIndices","sparseToDense","int32"),i=Object(l.a)(t,"sparseValues","sparseToDense","string_or_numeric"),o=Object(l.a)(r,"defaultValue","sparseToDense",i.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(i,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,i,n,o);var s={sparseIndices:a,sparseValues:i,defaultValue:o},p={outputShape:n};return u.a.runKernel(c.Uc,s,p)}});var gr=Object(p.b)({gatherND_:function(e,t){var n=Object(l.a)(t,"indices","gatherND","int32"),r={params:Object(l.a)(e,"x","gatherND","string_or_numeric"),indices:n};return u.a.runKernel(c.qb,r)}});var Ar=Object(p.b)({dropout_:function(e,t,n,r){var a=Object(l.a)(e,"x","dropout");if(d.c("float32"===a.dtype,function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")}),d.c(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")}),0===t)return e instanceof ut.a?a.clone():a;var i=function(e,t){if(null==t)return e.shape.slice();if(d.a(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),o=1-t,u=Object(fe.a)(Object(Te.a)(Object(s.a)(Xt(i,0,1,"float32",r),o)),o);return Object(I.a)(a,u)}});function yr(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function br(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return Vn(a,"float32")}function xr(){return(xr=Object(fn.a)(hn.a.mark(function e(t,n){var r,a,i,o,s,u,c,p,h,f,m,v,g,A,y,b=arguments;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:1,a=Object(l.a)(t,"predictions","inTopK"),i=Object(l.a)(n,"targets","inTopK"),Object(d.c)(a.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)}),Object(d.c)(a.rank-1===i.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(i.rank)}),Object(d.f)(a.shape.slice(0,a.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=a.shape[a.shape.length-1],Object(d.c)(r>0&&r<=o,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)}),e.next=10,a.data();case 10:return s=e.sent,e.next=13,i.data();case 13:u=e.sent,c=s.length/o,p=o,h=Object(d.p)("bool",c),f=0;case 17:if(!(f<c)){e.next=35;break}for(m=f*p,v=s.subarray(m,m+p),g=[],A=0;A<v.length;A++)g.push({value:v[A],index:A});g.sort(function(e,t){return t.value-e.value}),h[f]=0,y=0;case 25:if(!(y<r)){e.next=32;break}if(g[y].index!==u[f]){e.next=29;break}return h[f]=1,e.abrupt("break",32);case 29:y++,e.next=25;break;case 32:f++,e.next=17;break;case 35:return t!==a&&a.dispose(),n!==i&&i.dispose(),e.abrupt("return",Object(zn.a)(h,i.shape,"bool"));case 38:case"end":return e.stop()}},e)}))).apply(this,arguments)}var wr=function(e,t){return xr.apply(this,arguments)},_r=n(6),kr=n(69),Or=n(35),Er=n(237),Sr=n(235),Cr=n(83);var Tr=Object(p.b)({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,p=e.dilations,h=void 0===p?[1,1]:p,f=e.dimRoundingMode,m=e.bias,v=e.activation,g=void 0===v?"linear":v,A=e.preluActivationWeights,y=e.leakyreluAlpha;if(g=g||"linear",!1===Object(Cr.d)(u.a.state.gradientDepth,g)){d.c("NHWC"===o,function(){return"Error in fused conv2d: got dataFormat of ".concat(o," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."});var b=Object(ee.a)(t,n,r,a,o,h,f);return null!=m&&(b=Object(s.a)(b,m)),Object(Cr.a)(b,g,A,y)}var x=Object(l.a)(t,"x","conv2d","float32"),w=Object(l.a)(n,"filter","conv2d","float32"),_=x,k=!1;3===x.rank&&(k=!0,_=Object(E.a)(x,[1,x.shape[0],x.shape[1],x.shape[2]])),d.c(4===_.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(_.rank,".")}),d.c(4===w.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(w.rank,".")}),O.a("fused conv2d",a,f);var S="NHWC"===o?_.shape[3]:_.shape[1];d.c(w.shape[2]===S,function(){return"Error in conv2d: depth of input (".concat(S,") must match ")+"input depth for filter ".concat(w.shape[2],".")}),d.c(O.i(r,h),function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(h,"'")});var C,T,I=O.b(_.shape,w.shape,r,h,a,f);if(null!=m){C=Object(l.a)(m,"bias","fused conv2d");var j=Object(hr.makeTypesMatch)(C,x),M=Object(_r.a)(j,1);C=M[0],"NHWC"===o?Or.assertAndGetBroadcastShape(I.outShape,C.shape):(d.c(C.shape.length<=1,function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(C.shape.length,".")}),d.c(0===C.shape.length||C.shape[0]===I.outChannels||1===C.shape[0],function(){return"Error in fused conv2d: bias shape (".concat(C.shape,") is not ")+"compatible with the number of output channels "+"(".concat(I.outChannels,")")}))}if(null!=A){var N=A.shape;if(d.c(N.length<=1||3===N.length,function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(N.length,".")}),1===N.length)d.c(1===N[0]||N[0]===I.outChannels,function(){return"Error in fused conv2d: PReLU activation weights "+"(".concat(N,") is not compatible with the number of output ")+"channels (".concat(I.outChannels,").")});else if(3===N.length)try{Or.assertAndGetBroadcastShape(N,I.outShape)}catch(F){var D="Error in fused conv2d: PReLU activation weights (".concat(N,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(I.outShape,").");throw Error(D)}T=Object(l.a)(A,"prelu weights","fused conv2d")}var R=function(e,t){d.c("NHWC"===o,function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(o," but only NHWC is currently supported.")});var n=Object(_r.a)(t,4),i=n[0],s=n[1],u=n[2],c=n[3],l=Object(Cr.c)(e,u,g);d.c(O.k(h),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(h,"'")});var p=[Object(Sr.a)(s.shape,l,i,r,a),Object(Er.a)(s,l,i.shape,r,a)];if(null!=c){var f=Object(Cr.b)(c,l);p.push(f)}return p},P={x:_,filter:w,bias:C,preluActivationWeights:T},L={strides:r,pad:a,dataFormat:o,dilations:h,dimRoundingMode:f,activation:g,leakyreluAlpha:y};return null==m?Object(kr.a)(function(e,t,n){var r=u.a.runKernel(c.ob,P,L);return n([t,e,r]),k&&(r=Object(E.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:R}})(_,w):Object(kr.a)(function(e,t,n,r){var a=u.a.runKernel(c.ob,P,L);return r([t,e,a,n]),k&&(a=Object(E.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:R}})(_,w,C)}}),Ir=n(336),jr=n(335);var Mr=Object(p.b)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,p=e.dilations,h=void 0===p?[1,1]:p,f=e.dimRoundingMode,m=e.bias,v=e.activation,g=void 0===v?"linear":v,A=e.preluActivationWeights,y=e.leakyreluAlpha;if(!1===Object(Cr.d)(u.a.state.gradientDepth,g)){var b=Object(de.a)(t,n,r,a,o,h,f);return null!=m&&(b=Object(s.a)(b,m)),Object(Cr.a)(b,g,A,y)}var x=Object(l.a)(t,"x","depthwiseConv2d","float32"),w=Object(l.a)(n,"filter","depthwiseConv2d","float32"),_=x,k=!1;3===x.rank&&(k=!0,_=Object(E.a)(x,[1,x.shape[0],x.shape[1],x.shape[2]])),d.c(4===_.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(_.rank,".")}),d.c(4===w.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(w.rank,".")}),d.c(_.shape[3]===w.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(_.shape[3],") must match the inChannels dimension in ")+"filter ".concat(w.shape[2],".")}),null==h&&(h=[1,1]),d.c(O.i(r,h),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(h,"'")}),O.a("fused depthwiseConv2d",a,f);var S,C,T=O.b(_.shape,w.shape,r,h,a,f,!0);if(null!=m){S=Object(l.a)(m,"bias","fused conv2d");var I=Object(hr.makeTypesMatch)(S,x),j=Object(_r.a)(I,1);S=j[0],Or.assertAndGetBroadcastShape(T.outShape,S.shape)}null!=A&&(C=Object(l.a)(A,"prelu weights","fused depthwiseConv2d"));var M=function(e,t){d.c(O.k(h),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(h,"'")});var n=Object(_r.a)(t,4),i=n[0],o=n[1],s=n[2],u=n[3],c=Object(Cr.c)(e,s,g),l=Object(jr.a)(o.shape,c,i,r,a,h,f),p=Object(Ir.a)(o,c,i.shape,r,a,h,f);return null!=u?[l,p,Object(Cr.b)(S,c)]:[l,p]},N={x:_,filter:w,bias:S,preluActivationWeights:C},D={strides:r,pad:a,dataFormat:o,dilations:h,dimRoundingMode:f,activation:g,leakyreluAlpha:y};return null==m?Object(kr.a)(function(e,t,n){var r=u.a.runKernel(c.pb,N,D);return n([t,e,r]),k&&(r=Object(E.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:M}})(_,w):Object(kr.a)(function(e,t,n,r){var a=u.a.runKernel(c.pb,N,D);return r([t,e,a,n]),k&&(a=Object(E.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:M}})(_,w,S)}});var Nr=Object(p.b)({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,a=void 0!==r&&r,i=e.transposeB,o=void 0!==i&&i,p=e.bias,h=e.activation,f=void 0===h?"linear":h,m=e.preluActivationWeights,v=e.leakyreluAlpha,g=void 0===v?.2:v;if(!1===Object(Cr.d)(u.a.state.gradientDepth,f)){var A=Object(T.a)(t,n,a,o);return null!=p&&(A=Object(s.a)(A,p)),Object(Cr.a)(A,f,m,g)}var y=Object(l.a)(t,"a","fused matMul"),b=Object(l.a)(n,"b","fused matMul"),x=Object(hr.makeTypesMatch)(y,b),w=Object(_r.a)(x,2);y=w[0],b=w[1];var _=a?y.shape[y.rank-2]:y.shape[y.rank-1],k=o?b.shape[b.rank-1]:b.shape[b.rank-2],O=a?y.shape[y.rank-1]:y.shape[y.rank-2],S=o?b.shape[b.rank-2]:b.shape[b.rank-1],C=y.shape.slice(0,-2),I=b.shape.slice(0,-2),j=d.O(C),M=d.O(I);d.c(_===k,function(){return"Error in fused matMul: inner shapes (".concat(_,") and (")+"".concat(k,") of Tensors with shapes ").concat(y.shape," and ")+"".concat(b.shape," and transposeA=").concat(a)+" and transposeB=".concat(o," must match.")});var N,D,R=Or.assertAndGetBroadcastShape(y.shape.slice(0,-2),b.shape.slice(0,-2)).concat([O,S]),P=a?Object(E.a)(y,[j,_,O]):Object(E.a)(y,[j,O,_]),L=o?Object(E.a)(b,[M,S,k]):Object(E.a)(b,[M,k,S]);if(null!=p){N=Object(l.a)(p,"bias","fused matMul");var F=Object(hr.makeTypesMatch)(N,y);N=Object(_r.a)(F,1)[0],Or.assertAndGetBroadcastShape(R,N.shape)}null!=m&&(D=Object(l.a)(m,"prelu weights","fused matMul"));var B=function(e,t){var n,r,i=Object(_r.a)(t,4),s=i[0],u=i[1],c=i[2],l=i[3],d=Object(Cr.c)(Object(E.a)(e,c.shape),c,f);return a||o?!a&&o?(n=Object(T.a)(d,u,!1,!1),r=Object(T.a)(d,s,!0,!1)):a&&!o?(n=Object(T.a)(u,d,!1,!0),r=Object(T.a)(s,d,!1,!1)):(n=Object(T.a)(u,d,!0,!0),r=Object(T.a)(d,s,!0,!0)):(n=Object(T.a)(d,u,!1,!0),r=Object(T.a)(s,d,!0,!1)),null!=p?[n,r,Object(Cr.b)(l,d)]:[n,r]},z={a:P,b:L,bias:N,preluActivationWeights:D},U={transposeA:a,transposeB:o,activation:f,leakyreluAlpha:g};return null==p?Object(kr.a)(function(e,t,n){var r=u.a.runKernel(c.sd,z,U);return n([e,t,r]),{value:Object(E.a)(r,R),gradFunc:B}})(P,L):Object(kr.a)(function(e,t,n,r){var a=u.a.runKernel(c.sd,z,U);return r([e,t,a,n]),{value:Object(E.a)(a,R),gradFunc:B}})(P,L,N)}});var Dr=Object(p.b)({hammingWindow_:function(e){return br(e,.54,.46)}});var Rr=Object(p.b)({hannWindow_:function(e){return br(e,.5,.5)}});var Pr=Object(p.b)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,o=[];i+t<=e.size;)o.push(Object(M.a)(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=Object(C.a)([Object(M.a)(e,i,t-s),Object(Ce.a)([s],a)]);o.push(u),i+=n}return 0===o.length?Wn([],[0,t]):Object(E.a)(Object(C.a)(o),[o.length,t])}});var Lr=Object(p.b)({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rr;null==r&&(r=yr(t));var i=Pr(e,t,n),o=Object(I.a)(i,a(t));return Object(In.a)(o,r)}});var Fr=Object(p.b)({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Object(l.a)(e,"image","cropAndResize"),s=Object(l.a)(t,"boxes","cropAndResize","float32"),p=Object(l.a)(n,"boxInd","cropAndResize","int32"),h=s.shape[0];d.c(4===o.rank,function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,".")}),d.c(2===s.rank&&4===s.shape[1],function(){return"Error in cropAndResize: boxes must be have size [".concat(h,",4] ")+"but had shape ".concat(s.shape,".")}),d.c(1===p.rank&&p.shape[0]===h,function(){return"Error in cropAndResize: boxInd must be have size [".concat(h,"] ")+"but had shape ".concat(s.shape,".")}),d.c(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")}),d.c(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was ".concat(r)}),d.c("bilinear"===a||"nearest"===a,function(){return"method must be bilinear or nearest, but was ".concat(a)});var f={image:o,boxes:s,boxInd:p},m={method:a,extrapolationValue:i,cropSize:r};return u.a.runKernel(c.M,f,m)}});var Br=Object(p.b)({flipLeftRight_:function(e){var t=Object(l.a)(e,"image","flipLeftRight","float32");d.c(4===t.rank,function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")});var n={image:t};return u.a.runKernel(c.jb,n,{})}});var zr=Object(p.b)({grayscaleToRGB_:function(e){var t=Object(l.a)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];d.c(t.rank>=2,function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")}),d.c(1===r,function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")});var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,Object(Ee.a)(t,a)}});var Ur=Object(p.b)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=Object(l.a)(e,"image","rotateWithOffset","float32");d.c(4===a.rank,function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")});var i={image:a},o={radians:t,fillValue:n,center:r};return u.a.runKernel(c.Bc,i,o)}});function Vr(e,t,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);var o=e.shape[0];return n=Math.min(n,o),d.c(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")}),d.c(2===e.rank,function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")}),d.c(4===e.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])}),d.c(1===t.rank,function(){return"scores must be a 1D tensor"}),d.c(t.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0])}),d.c(0<=i&&i<=1,function(){return"softNmsSigma must be in [0, 1], but was '".concat(i,"'")}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var Wr=Object(p.b)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=Object(l.a)(e,"boxes","nonMaxSuppression","float32"),o=Object(l.a)(t,"scores","nonMaxSuppression","float32"),s=Vr(i,o,n,r,a),d={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold};return u.a.runKernel(c.bc,{boxes:i,scores:o},d)}}),Gr=n(135);function Hr(){return(Hr=Object(fn.a)(hn.a.mark(function e(t,n,r){var a,i,o,s,u,c,d,p,h,f,m=arguments;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>3&&void 0!==m[3]?m[3]:.5,i=m.length>4&&void 0!==m[4]?m[4]:Number.NEGATIVE_INFINITY,o=Object(l.a)(t,"boxes","nonMaxSuppressionAsync"),s=Object(l.a)(n,"scores","nonMaxSuppressionAsync"),u=Vr(o,s,r,a,i),r=u.maxOutputSize,a=u.iouThreshold,i=u.scoreThreshold,e.next=10,Promise.all([o.data(),s.data()]);case 10:return c=e.sent,d=c[0],p=c[1],h=Object(Gr.a)(d,p,r,a,i),f=h.selectedIndices,o!==t&&o.dispose(),s!==n&&s.dispose(),e.abrupt("return",Vn(f,"int32"));case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}var qr=function(e,t,n){return Hr.apply(this,arguments)};var Kr=Object(p.b)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Object(l.a)(e,"boxes","nonMaxSuppression"),s=Object(l.a)(t,"scores","nonMaxSuppression"),d=Vr(o,s,n,r,a,i),p={boxes:o,scores:s},h={maxOutputSize:n=d.maxOutputSize,iouThreshold:r=d.iouThreshold,scoreThreshold:a=d.scoreThreshold,softNmsSigma:i=d.softNmsSigma},f=u.a.runKernel(c.dc,p,h);return{selectedIndices:f[0],selectedScores:f[1]}}});function Xr(){return(Xr=Object(fn.a)(hn.a.mark(function e(t,n,r){var a,i,o,s,u,c,d,p,h,f,m,v,g=arguments;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.length>3&&void 0!==g[3]?g[3]:.5,i=g.length>4&&void 0!==g[4]?g[4]:Number.NEGATIVE_INFINITY,o=g.length>5&&void 0!==g[5]?g[5]:0,s=Object(l.a)(t,"boxes","nonMaxSuppressionAsync"),u=Object(l.a)(n,"scores","nonMaxSuppressionAsync"),c=Vr(s,u,r,a,i,o),r=c.maxOutputSize,a=c.iouThreshold,i=c.scoreThreshold,o=c.softNmsSigma,e.next=12,Promise.all([s.data(),u.data()]);case 12:return d=e.sent,p=d[0],h=d[1],f=Object(Gr.c)(p,h,r,a,i,o),m=f.selectedIndices,v=f.selectedScores,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:Vn(m,"int32"),selectedScores:Vn(v)});case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Qr=function(e,t,n){return Xr.apply(this,arguments)};var Yr=Object(p.b)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Object(l.a)(e,"boxes","nonMaxSuppression"),s=Object(l.a)(t,"scores","nonMaxSuppression"),d=Vr(o,s,n,r,a,null),p={boxes:o,scores:s},h={maxOutputSize:d.maxOutputSize,iouThreshold:d.iouThreshold,scoreThreshold:d.scoreThreshold,padToMaxOutputSize:i},f=u.a.runKernel(c.cc,p,h);return{selectedIndices:f[0],validOutputs:f[1]}}});function $r(){return($r=Object(fn.a)(hn.a.mark(function e(t,n,r){var a,i,o,s,u,c,d,p,h,f,m,v,g,A,y,b,x=arguments;return hn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.length>3&&void 0!==x[3]?x[3]:.5,i=x.length>4&&void 0!==x[4]?x[4]:Number.NEGATIVE_INFINITY,o=x.length>5&&void 0!==x[5]&&x[5],s=Object(l.a)(t,"boxes","nonMaxSuppressionAsync"),u=Object(l.a)(n,"scores","nonMaxSuppressionAsync"),c=Vr(s,u,r,a,i,null),d=c.maxOutputSize,p=c.iouThreshold,h=c.scoreThreshold,e.next=11,Promise.all([s.data(),u.data()]);case 11:return f=e.sent,m=Object(_r.a)(f,2),v=m[0],g=m[1],A=Object(Gr.b)(v,g,d,p,h,o),y=A.selectedIndices,b=A.validOutputs,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:Vn(y,"int32"),validOutputs:Object(cn.a)(b,"int32")});case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Zr=function(e,t,n){return $r.apply(this,arguments)},Jr=n(334),ea=n(332);var ta=Object(p.b)({threshold_:function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,c=Object(l.a)(e,"image","threshold"),p=c.shape[0]*c.shape[1],h=Object(I.a)(Vn([u]),255);if(d.c(3===c.rank,function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(c.rank,".")}),d.c(3===c.shape[2]||1===c.shape[2],function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(c.shape[2],".")}),d.c("int32"===c.dtype||"float32"===c.dtype,function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(c.dtype,".")}),d.c("otsu"===i||"binary"===i,function(){return"Method must be binary or otsu, but was ".concat(i)}),3===c.shape[2]){var f=Object(jn.a)(c,[1,1,1],-1),m=Object(_r.a)(f,3);t=m[0],n=m[1],r=m[2];var v=Object(I.a)(t,.2989),g=Object(I.a)(n,.587),A=Object(I.a)(r,.114);a=Object(s.a)(Object(s.a)(v,g),A)}else a=e;"otsu"===i&&(h=function(e,t){for(var n,r,a,i,o,u,c=Vn([-1]),l=Vn([0]),d=Vn([0]),p=0;p<e.size-1;p++){n=Object(M.a)(e,0,p+1),r=Object(M.a)(e,p+1),o=Object(fe.a)(Object(Fn.a)(n),t),u=Object(fe.a)(Object(Fn.a)(r),t);var h=Object(Fn.a)(Object(I.a)(n,Yt(0,n.size)));a=Object(fe.a)(h,Object(Fn.a)(n));var f=Object(Ce.a)(r.shape,n.size),m=Object(s.a)(Yt(0,r.size),f),v=Object(I.a)(r,m);i=Object(fe.a)(Object(Fn.a)(v),Object(Fn.a)(r));var g=Object(vt.a)(a,i),A=Object(vt.a)(a,i),y=Object(I.a)(o,u);d=Object(I.a)(Object(I.a)(y,g),A);var b=Object(Me.a)(d,l);l=Object(rr.a)(b,d,l),c=Object(rr.a)(b,Vn([p]),c)}return c}(z(Object(k.a)(Object(sn.a)(a),"int32"),Object(zn.a)([]),256),p));var y=o?Object(ze.a)(a,h):Object(Me.a)(a,h);return Object(k.a)(Object(I.a)(y,255),"int32")}});var na=Object(p.b)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,o=Object(l.a)(e,"image","transform","float32"),s=Object(l.a)(t,"transforms","transform","float32");d.c(4===o.rank,function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,".")}),d.c(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"}),d.c(null==i||2===i.length,function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(i,".")});var p={image:o,transforms:s},h={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return u.a.runKernel(c.md,p,h)}});var ra=Object(p.b)({bandPart_:function(e,t,n){var r=Object(l.a)(e,"a","bandPart");Object(d.c)(r.rank>=2,function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")});var a,i,o=r.shape,s=r.shape.slice(-2),u=Object(_r.a)(s,2),c=u[0],p=u[1];"number"===typeof t?(Object(d.c)(t%1===0,function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")}),Object(d.c)(t<=c,function(){return"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(c,").")}),a=Object(l.a)(t<0?c:t,"numLower","bandPart")):(Object(d.c)("int32"===t.dtype,function(){return"bandPart(): numLower's dtype must be an int32."}),a=Object(rr.a)(Object(Be.a)(t,0),c,Object(dt.a)(t,c))),"number"===typeof n?(Object(d.c)(n%1===0,function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}),Object(d.c)(n<=p,function(){return"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(p,").")}),i=Object(l.a)(n<0?p:n,"numUpper","bandPart")):(Object(d.c)("int32"===n.dtype,function(){return"bandPart(): numUpper's dtype must be an int32."}),i=Object(rr.a)(Object(Be.a)(n,0),p,Object(dt.a)(n,p)));var h=Object(E.a)(Yt(0,c,1,"int32"),[-1,1]),f=Yt(0,p,1,"int32"),m=Object(vt.a)(h,f),v=Object(Xe.a)(Object(ze.a)(m,a),Object(Ne.a)(m,Object(bt.a)(i))),g=Object(sr.a)([c,p],r.dtype);return Object(E.a)(Object(Rn.a)(Object(er.a)(Object(E.a)(r,[-1,c,p])).map(function(e){return Object(rr.a)(v,e,g)})),o)}});var aa=Object(p.b)({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,Object(d.c)(null!=e&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(t){Object(d.c)(e[t].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")})},a=1;a<e.length;++a)r(a)}():(t=!0,e=Object(jn.a)(e,e.shape[0],0).map(function(e){return Object(Dn.a)(e,[0])})),Object(d.c)(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")});for(var n=[],r=e,a=function(e){n.push(u.a.tidy(function(){var t=r[e];if(e>0)for(var a=0;a<e;++a){var i=Object(I.a)(Object(Fn.a)(Object(I.a)(n[a],t)),n[a]);t=Object(vt.a)(t,i)}return Object(fe.a)(t,Object(pr.a)(t,"euclidean"))}))},i=0;i<e.length;++i)a(i);return t?Object(Rn.a)(n,0):n}}),ia=n(49);function oa(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.a.tidy(function(){Object(d.c)(2===e.shape.length,function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")});for(var n=e.shape[0],r=e.shape[1],a=Se(n),i=Object(K.a)(e),o=Wn([[1]],[1,1]),s=Object(K.a)(o),c=n>=r?r:n,l=function(e){var t=i,c=s,l=a,d=u.a.tidy(function(){var t=Object(M.a)(i,[e,e],[n-e,1]),u=Object(pr.a)(t),c=Object(M.a)(i,[e,e],[1,1]),l=Object(rr.a)(Object(Me.a)(c,0),Wn([[-1]]),Wn([[1]])),d=Object(vt.a)(c,Object(I.a)(l,u)),p=Object(fe.a)(t,d);s=1===p.shape[0]?Object(K.a)(o):Object(C.a)([o,Object(M.a)(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);var h=Object(bt.a)(Object(fe.a)(Object(T.a)(l,d),u)),f=Object(M.a)(i,[e,0],[n-e,r]),m=Object(I.a)(h,s),v=Object(dr.a)(s);if(0===e)i=Object(vt.a)(f,Object(T.a)(m,Object(T.a)(v,f)));else{var g=Object(vt.a)(f,Object(T.a)(m,Object(T.a)(v,f)));i=Object(C.a)([Object(M.a)(i,[0,0],[e,r]),g],0)}var A=Object(dr.a)(m),y=Object(M.a)(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=Object(vt.a)(y,Object(T.a)(Object(T.a)(y,s),A));else{var b=Object(vt.a)(y,Object(T.a)(Object(T.a)(y,s),A));a=Object(C.a)([Object(M.a)(a,[0,0],[n,e]),b],1)}return[s,i,a]}),p=Object(_r.a)(d,3);s=p[0],i=p[1],a=p[2],Object(ia.b)([t,c,l])},p=0;p<c;++p)l(p);return!t&&n>r&&(a=Object(M.a)(a,[0,0],[n,r]),i=Object(M.a)(i,[0,0],[r,r])),[a,i]})}var sa=Object(p.b)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(d.c)(e.rank>=2,function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)}),2===e.rank)return oa(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),r=Object(er.a)(Object(E.a)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];return r.forEach(function(e){var n=oa(e,t),r=Object(_r.a)(n,2),o=r[0],s=r[1];a.push(o),i.push(s)}),[Object(E.a)(Object(Rn.a)(a,0),e.shape),Object(E.a)(Object(Rn.a)(i,0),e.shape)]}}),ua=n(71);var ca=Object(p.b)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ua.a.SUM_BY_NONZERO_WEIGHTS,r=Object(l.a)(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=Object(l.a)(t,"weights","computeWeightedLoss"));var i=null==a?r:Object(I.a)(r,a);if(n===ua.a.NONE)return i;if(n===ua.a.SUM)return Object(Fn.a)(i);if(n===ua.a.MEAN){if(null==a)return Object(ot.a)(i);var o=r.size/a.size,s=Object(fe.a)(Object(Fn.a)(i),Object(Fn.a)(a));return o>1?Object(fe.a)(s,Object(cn.a)(o)):s}if(n===ua.a.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Object(fe.a)(Object(Fn.a)(i),Object(cn.a)(r.size));var u=Object(I.a)(a,Object(st.a)(r.shape)),c=Object(k.a)(Object(Fn.a)(Object(xt.a)(u,Object(cn.a)(0))),"float32");return Object(fe.a)(Object(Fn.a)(i),c)}throw Error("Unknown reduction: ".concat(n))}});var la=Object(p.b)({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ua.a.SUM_BY_NONZERO_WEIGHTS,i=Object(l.a)(e,"labels","absoluteDifference"),o=Object(l.a)(t,"predictions","absoluteDifference"),s=null;null!=n&&(s=Object(l.a)(n,"weights","absoluteDifference")),Object(d.f)(i.shape,o.shape,"Error in absoluteDifference: ");var u=Object(a.a)(Object(vt.a)(i,o));return ca(u,s,r)}});var da=Object(p.b)({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ua.a.SUM_BY_NONZERO_WEIGHTS,i=Object(l.a)(e,"labels","cosineDistance"),o=Object(l.a)(t,"predictions","cosineDistance"),s=null;null!=r&&(s=Object(l.a)(r,"weights","cosineDistance")),Object(d.f)(i.shape,o.shape,"Error in cosineDistance: ");var u=Object(cn.a)(1),c=Object(vt.a)(u,Object(Fn.a)(Object(I.a)(i,o),n,!0));return ca(c,s,a)}});var pa=Object(p.b)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ua.a.SUM_BY_NONZERO_WEIGHTS,a=Object(l.a)(e,"labels","hingeLoss"),i=Object(l.a)(t,"predictions","hingeLoss"),o=null;null!=n&&(o=Object(l.a)(n,"weights","hingeLoss")),Object(d.f)(a.shape,i.shape,"Error in hingeLoss: ");var s=Object(cn.a)(1);a=Object(vt.a)(Object(I.a)(Object(cn.a)(2),a),s);var u=Object(Jt.a)(Object(vt.a)(s,Object(I.a)(a,i)));return ca(u,o,r)}});var ha=Object(p.b)({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ua.a.SUM_BY_NONZERO_WEIGHTS,o=Object(l.a)(e,"labels","huberLoss"),u=Object(l.a)(t,"predictions","huberLoss"),c=null;null!=n&&(c=Object(l.a)(n,"weights","huberLoss")),Object(d.f)(o.shape,u.shape,"Error in huberLoss: ");var p=Object(cn.a)(r),h=Object(a.a)(Object(vt.a)(u,o)),f=Object(dt.a)(h,p),m=Object(vt.a)(h,f),v=Object(s.a)(Object(I.a)(Object(cn.a)(.5),Object(mt.a)(f)),Object(I.a)(p,m));return ca(v,c,i)}});var fa=Object(p.b)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ua.a.SUM_BY_NONZERO_WEIGHTS,i=Object(l.a)(e,"labels","logLoss"),o=Object(l.a)(t,"predictions","logLoss"),u=null;null!=n&&(u=Object(l.a)(n,"weights","logLoss")),Object(d.f)(i.shape,o.shape,"Error in logLoss: ");var c=Object(cn.a)(1),p=Object(cn.a)(r),h=Object(bt.a)(Object(I.a)(i,Object(We.a)(Object(s.a)(o,p)))),f=Object(I.a)(Object(vt.a)(c,i),Object(We.a)(Object(s.a)(Object(vt.a)(c,o),p))),m=Object(vt.a)(h,f);return ca(m,u,a)}});var ma=Object(p.b)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ua.a.SUM_BY_NONZERO_WEIGHTS,a=Object(l.a)(e,"labels","meanSquaredError"),i=Object(l.a)(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=Object(l.a)(n,"weights","meanSquaredError")),Object(d.f)(a.shape,i.shape,"Error in meanSquaredError: ");var s=Object(Nn.a)(a,i);return ca(s,o,r)}});var va=Object(p.b)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ua.a.SUM_BY_NONZERO_WEIGHTS,o=Object(l.a)(e,"multiClassLabels","sigmoidCrossEntropy"),u=Object(l.a)(t,"logits","sigmoidCrossEntropy"),c=null;if(null!=n&&(c=Object(l.a)(n,"weights","sigmoidCrossEntropy")),Object(d.f)(o.shape,u.shape,"Error in sigmoidCrossEntropy: "),r>0){var p=Object(cn.a)(r),h=Object(cn.a)(1),f=Object(cn.a)(.5);o=Object(s.a)(Object(I.a)(o,Object(vt.a)(h,p)),Object(I.a)(f,p))}var m=function(e,t){var n=Object(l.a)(e,"labels","sigmoidCrossEntropyWithLogits"),r=Object(l.a)(t,"logits","sigmoidCrossEntropyWithLogits");Object(d.f)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=Object(Jt.a)(r),o=Object(I.a)(r,n),u=Object(Ge.a)(Object(_e.a)(Object(bt.a)(Object(a.a)(r))));return Object(s.a)(Object(vt.a)(i,o),u)}(o,u);return ca(m,c,i)}});var ga=Object(p.b)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ua.a.SUM_BY_NONZERO_WEIGHTS,i=Object(l.a)(e,"onehotLabels","softmaxCrossEntropy"),o=Object(l.a)(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=Object(l.a)(n,"weights","softmaxCrossEntropy")),Object(d.f)(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var c=Object(cn.a)(r),p=Object(cn.a)(1),h=Object(cn.a)(i.shape[1]);i=Object(s.a)(Object(I.a)(i,Object(vt.a)(p,c)),Object(fe.a)(c,h))}var f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));return Object(kr.a)(function(e,t,r){var a=Object(Ke.a)(t,[n],!0),i=Object(vt.a)(Object(k.a)(t,"float32"),a);r([e,i]);var o=Object(bt.a)(Object(I.a)(i,e));return{value:Object(Fn.a)(o,[n]),gradFunc:function(e,t){var r=Object(_r.a)(t,2),a=r[0],i=r[1],o=Object(ft.e)(e.shape,[n]);return[Object(I.a)(Object(E.a)(e,o),Object(vt.a)(Object(k.a)(a,"float32"),Object(_e.a)(i))),Object(I.a)(Object(E.a)(e,o),Object(vt.a)(Object(_e.a)(i),Object(k.a)(a,"float32")))]}}})(e,t)}(i,o);return ca(f,u,a)}});var Aa=Object(p.b)({sparseFillEmptyRows_:function(e,t,n,r){var a=Object(l.a)(e,"indices","sparseFillEmptyRows","int32"),i=Object(l.a)(t,"values","sparseFillEmptyRows"),o=Object(l.a)(n,"denseShape","sparseFillEmptyRows","int32"),s=Object(l.a)(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==i.rank)throw new Error("Values should be Tensor1D but received shape ".concat(i.shape));if(1!==o.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(o.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var d={indices:a,values:i,denseShape:o,defaultValue:s},p=u.a.runKernel(c.Qc,d);return{outputIndices:p[0],outputValues:p[1],emptyRowIndicator:p[2],reverseIndexMap:p[3]}}});var ya=Object(p.b)({sparseReshape_:function(e,t,n){var r=Object(l.a)(e,"inputIndices","sparseReshape","int32"),a=Object(l.a)(t,"inputShape","sparseReshape","int32"),i=Object(l.a)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==i.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(i.shape));var o={inputIndices:r,inputShape:a,newShape:i},s=u.a.runKernel(c.Rc,o);return{outputIndices:s[0],outputShape:s[1]}}});var ba=Object(p.b)({sparseSegmentMean_:function(e,t,n){var r=Object(l.a)(e,"data","sparseSegmentMean"),a=Object(l.a)(t,"indices","sparseSegmentMean","int32"),i=Object(l.a)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return u.a.runKernel(c.Sc,o)}});var xa=Object(p.b)({sparseSegmentSum_:function(e,t,n){var r=Object(l.a)(e,"data","sparseSegmentSum"),a=Object(l.a)(t,"indices","sparseSegmentSum","int32"),i=Object(l.a)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return u.a.runKernel(c.Tc,o)}});var wa=Object(p.b)({stringNGrams_:function(e,t,n,r,a,i,o,s){var d=Object(l.a)(e,"data","stringNGrams","string");if("string"!==d.dtype)throw new Error("Data must be of datatype string");if(1!==d.shape.length)throw new Error("Data must be a vector, saw: ".concat(d.shape));var p=Object(l.a)(t,"dataSplits","stringNGrams");if("int32"!==p.dtype)throw new Error("Data splits must be of datatype int32");var h={separator:n,nGramWidths:r,leftPad:a,rightPad:i,padWidth:o,preserveShortSequences:s},f={data:d,dataSplits:p},m=u.a.runKernel(c.cd,f,h);return{nGrams:m[0],nGramsSplits:m[1]}}});var _a=Object(p.b)({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(l.a)(e,"input","stringSplit","string"),a=Object(l.a)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));var i={skipEmpty:n},o={input:r,delimiter:a},s=u.a.runKernel(c.dd,o,i);return{indices:s[0],values:s[1],shape:s[2]}}});var ka=Object(p.b)({stringToHashBucketFast_:function(e,t){var n=Object(l.a)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return u.a.runKernel(c.ed,a,r)}});var Oa=Object(p.b)({staticRegexReplace_:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=Object(l.a)(e,"input","staticRegexReplace","string"),i={pattern:t,rewrite:n,replaceGlobal:r};return u.a.runKernel(c.Zc,{x:a},i)}});n.d(t,"Cb",function(){return Ca}),n.d(t,"Lb",function(){return Ta}),n.d(t,"Xb",function(){return Ia}),n.d(t,"Ad",function(){return Ea}),n.d(t,"nd",function(){return Sa}),n.d(t,"yd",function(){return ja}),n.d(t,"Jd",function(){return Ma}),n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return i.a}),n.d(t,"d",function(){return o.a}),n.d(t,"e",function(){return s.a}),n.d(t,"f",function(){return h}),n.d(t,"g",function(){return f.a}),n.d(t,"h",function(){return m.a}),n.d(t,"i",function(){return v.a}),n.d(t,"j",function(){return g.a}),n.d(t,"k",function(){return A.a}),n.d(t,"l",function(){return y.a}),n.d(t,"m",function(){return b.a}),n.d(t,"n",function(){return x.a}),n.d(t,"o",function(){return w.a}),n.d(t,"p",function(){return _.a}),n.d(t,"q",function(){return S}),n.d(t,"r",function(){return D}),n.d(t,"w",function(){return R.a}),n.d(t,"s",function(){return P.a}),n.d(t,"t",function(){return L}),n.d(t,"u",function(){return F}),n.d(t,"v",function(){return B}),n.d(t,"x",function(){return z}),n.d(t,"y",function(){return U}),n.d(t,"A",function(){return V}),n.d(t,"B",function(){return W.a}),n.d(t,"C",function(){return G.a}),n.d(t,"D",function(){return k.a}),n.d(t,"E",function(){return H.a}),n.d(t,"F",function(){return q.a}),n.d(t,"G",function(){return K.a}),n.d(t,"H",function(){return X.a}),n.d(t,"I",function(){return C.a}),n.d(t,"J",function(){return Q}),n.d(t,"K",function(){return Y}),n.d(t,"L",function(){return $}),n.d(t,"M",function(){return Z}),n.d(t,"N",function(){return J.a}),n.d(t,"O",function(){return ee.a}),n.d(t,"P",function(){return te.a}),n.d(t,"Q",function(){return ne}),n.d(t,"R",function(){return ae}),n.d(t,"S",function(){return ie.a}),n.d(t,"T",function(){return oe.a}),n.d(t,"V",function(){return se.a}),n.d(t,"W",function(){return ue.a}),n.d(t,"X",function(){return ce}),n.d(t,"Y",function(){return le.a}),n.d(t,"Z",function(){return de.a}),n.d(t,"ab",function(){return pe}),n.d(t,"bb",function(){return he.a}),n.d(t,"cb",function(){return fe.a}),n.d(t,"db",function(){return me.a}),n.d(t,"eb",function(){return ve.a}),n.d(t,"gb",function(){return ge}),n.d(t,"hb",function(){return Ae.a}),n.d(t,"jb",function(){return ye}),n.d(t,"kb",function(){return be.a}),n.d(t,"lb",function(){return xe.a}),n.d(t,"mb",function(){return we.a}),n.d(t,"nb",function(){return _e.a}),n.d(t,"ob",function(){return ke.a}),n.d(t,"pb",function(){return Oe.a}),n.d(t,"qb",function(){return Se}),n.d(t,"sb",function(){return Ce.a}),n.d(t,"tb",function(){return Te.a}),n.d(t,"ub",function(){return Ie.a}),n.d(t,"wb",function(){return je.a}),n.d(t,"yb",function(){return Me.a}),n.d(t,"zb",function(){return Ne.a}),n.d(t,"Bb",function(){return De.a}),n.d(t,"Fb",function(){return Re.a}),n.d(t,"Gb",function(){return Pe.a}),n.d(t,"Hb",function(){return Le.a}),n.d(t,"Ib",function(){return Fe.a}),n.d(t,"Jb",function(){return Be.a}),n.d(t,"Kb",function(){return ze.a}),n.d(t,"Mb",function(){return Ue}),n.d(t,"Nb",function(){return Ve.a}),n.d(t,"Ob",function(){return We.a}),n.d(t,"Pb",function(){return Ge.a}),n.d(t,"Qb",function(){return He.a}),n.d(t,"Rb",function(){return qe.a}),n.d(t,"Sb",function(){return Ke.a}),n.d(t,"Tb",function(){return Xe.a}),n.d(t,"Ub",function(){return Qe.a}),n.d(t,"Vb",function(){return Ye.a}),n.d(t,"Wb",function(){return $e.a}),n.d(t,"Yb",function(){return et}),n.d(t,"Zb",function(){return T.a}),n.d(t,"ac",function(){return tt.a}),n.d(t,"bc",function(){return nt.a}),n.d(t,"cc",function(){return rt}),n.d(t,"dc",function(){return at}),n.d(t,"ec",function(){return it.a}),n.d(t,"fc",function(){return ot.a}),n.d(t,"gc",function(){return ct}),n.d(t,"hc",function(){return lt.a}),n.d(t,"ic",function(){return dt.a}),n.d(t,"jc",function(){return pt.a}),n.d(t,"kc",function(){return ht.a}),n.d(t,"lc",function(){return gt}),n.d(t,"nc",function(){return I.a}),n.d(t,"oc",function(){return At}),n.d(t,"pc",function(){return yt}),n.d(t,"qc",function(){return bt.a}),n.d(t,"sc",function(){return xt.a}),n.d(t,"tc",function(){return wt.a}),n.d(t,"uc",function(){return st.a}),n.d(t,"vc",function(){return _t.a}),n.d(t,"xc",function(){return kt}),n.d(t,"yc",function(){return Ot.a}),n.d(t,"zc",function(){return Et}),n.d(t,"Ac",function(){return St}),n.d(t,"Bc",function(){return Ct}),n.d(t,"Cc",function(){return Tt}),n.d(t,"Dc",function(){return It.a}),n.d(t,"Ec",function(){return jt.a}),n.d(t,"Fc",function(){return Mt.a}),n.d(t,"Gc",function(){return Nt.a}),n.d(t,"Hc",function(){return Dt.a}),n.d(t,"Ic",function(){return Rt}),n.d(t,"Jc",function(){return Pt}),n.d(t,"Kc",function(){return Lt}),n.d(t,"Lc",function(){return Ft}),n.d(t,"Mc",function(){return Ht}),n.d(t,"Nc",function(){return qt}),n.d(t,"Oc",function(){return Kt}),n.d(t,"Pc",function(){return Xt}),n.d(t,"Qc",function(){return Qt}),n.d(t,"Rc",function(){return Yt}),n.d(t,"Sc",function(){return $t.a}),n.d(t,"Tc",function(){return Zt.a}),n.d(t,"Uc",function(){return Jt.a}),n.d(t,"Vc",function(){return en.a}),n.d(t,"Wc",function(){return E.a}),n.d(t,"Xc",function(){return tn.a}),n.d(t,"Yc",function(){return nn}),n.d(t,"Zc",function(){return rn}),n.d(t,"ad",function(){return an}),n.d(t,"bd",function(){return on}),n.d(t,"dd",function(){return sn.a}),n.d(t,"ed",function(){return un.a}),n.d(t,"fd",function(){return cn.a}),n.d(t,"id",function(){return ln.a}),n.d(t,"jd",function(){return dn.a}),n.d(t,"kd",function(){return vn}),n.d(t,"ld",function(){return j.a}),n.d(t,"md",function(){return gn.a}),n.d(t,"od",function(){return An.a}),n.d(t,"pd",function(){return yn.a}),n.d(t,"qd",function(){return M.a}),n.d(t,"rd",function(){return bn}),n.d(t,"sd",function(){return xn}),n.d(t,"td",function(){return wn}),n.d(t,"ud",function(){return _n}),n.d(t,"vd",function(){return kn.a}),n.d(t,"wd",function(){return On.a}),n.d(t,"xd",function(){return En.a}),n.d(t,"rb",function(){return Sn.a}),n.d(t,"Ab",function(){return Cn.a}),n.d(t,"Eb",function(){return Tn.a}),n.d(t,"cd",function(){return In.a}),n.d(t,"Bd",function(){return jn.a}),n.d(t,"Cd",function(){return Mn.a}),n.d(t,"Dd",function(){return mt.a}),n.d(t,"Ed",function(){return Nn.a}),n.d(t,"Fd",function(){return Dn.a}),n.d(t,"Gd",function(){return Rn.a}),n.d(t,"Hd",function(){return Pn.a}),n.d(t,"Id",function(){return Ln.a}),n.d(t,"Kd",function(){return vt.a}),n.d(t,"Ld",function(){return Fn.a}),n.d(t,"Md",function(){return Bn.a}),n.d(t,"Nd",function(){return N.a}),n.d(t,"Od",function(){return zn.a}),n.d(t,"Pd",function(){return Vn}),n.d(t,"Qd",function(){return Wn}),n.d(t,"Rd",function(){return Gn.a}),n.d(t,"Sd",function(){return Hn}),n.d(t,"Td",function(){return qn}),n.d(t,"Ud",function(){return Kn}),n.d(t,"Vd",function(){return Qn}),n.d(t,"Wd",function(){return Ee.a}),n.d(t,"Xd",function(){return Yn.a}),n.d(t,"Zd",function(){return $n}),n.d(t,"ae",function(){return Zn.a}),n.d(t,"be",function(){return Jn.a}),n.d(t,"ce",function(){return er.a}),n.d(t,"de",function(){return tr}),n.d(t,"ee",function(){return nr}),n.d(t,"fe",function(){return rr.a}),n.d(t,"ge",function(){return or}),n.d(t,"he",function(){return sr.a}),n.d(t,"ie",function(){return ur.a}),n.d(t,"z",function(){return lr}),n.d(t,"Yd",function(){return dr.a}),n.d(t,"rc",function(){return pr.a}),n.d(t,"mc",function(){return fr}),n.d(t,"gd",function(){return mr}),n.d(t,"hd",function(){return Je}),n.d(t,"zd",function(){return vr}),n.d(t,"xb",function(){return gr}),n.d(t,"fb",function(){return Ar}),n.d(t,"ib",function(){return yr}),n.d(t,"U",function(){return br}),n.d(t,"Db",function(){return wr}),n.d(t,"wc",function(){return p.b}),n.d(t,"a",function(){return p.a}),n.d(t,"vb",function(){return r});var Ea={fft:Sn.a,ifft:Cn.a,rfft:In.a,irfft:Tn.a},Sa={hammingWindow:Dr,hannWindow:Rr,frame:Pr,stft:Lr},Ca={flipLeftRight:Br,grayscaleToRGB:zr,resizeNearestNeighbor:ea.a,resizeBilinear:Jr.a,rotateWithOffset:Ur,cropAndResize:Fr,nonMaxSuppression:Wr,nonMaxSuppressionAsync:qr,nonMaxSuppressionWithScore:Kr,nonMaxSuppressionWithScoreAsync:Qr,nonMaxSuppressionPadded:Yr,nonMaxSuppressionPaddedAsync:Zr,threshold:ta,transform:na},Ta={bandPart:ra,gramSchmidt:aa,qr:sa},Ia={absoluteDifference:la,computeWeightedLoss:ca,cosineDistance:da,hingeLoss:pa,huberLoss:ha,logLoss:fa,meanSquaredError:ma,sigmoidCrossEntropy:va,softmaxCrossEntropy:ga},ja={sparseFillEmptyRows:Aa,sparseReshape:ya,sparseSegmentMean:ba,sparseSegmentSum:xa},Ma={stringNGrams:wa,stringSplit:_a,stringToHashBucketFast:ka,staticRegexReplace:Oa}},function(e,t,n){var r=n(401),a=n(549),i=n(402);e.exports=function(e,t){return r(e)||a(e,t)||i()}},function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"makeTypesMatch",function(){return o}),n.d(t,"assertTypesMatch",function(){return s}),n.d(t,"isTensorInList",function(){return u}),n.d(t,"getTensorsInContainer",function(){return c});var r=n(13),a=n(103),i=n(20);function o(e,t){if(e.dtype===t.dtype)return[e,t];var n=Object(a.d)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){Object(i.c)(e.dtype===t.dtype,function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")})}function u(e,t){return t.some(function(t){return t.id===e.id})}function c(e){var t=[];return function e(t,n,a){if(null==t)return;if(t instanceof r.a)return void n.push(t);if(i=t,!Array.isArray(i)&&"object"!==typeof i)return;var i;var o=t;for(var s in o){var u=o[s];a.has(u)||(a.add(u),e(u,n,a))}}(e,t,new Set),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(10),a=n(3),i=n(8);var o=Object(i.b)({square_:function(e){var t=Object(a.a)(e,"x","square");return r.a.runKernel("Square",{x:t},{})}})},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return f});var r=n(10),a=n(42),i=n(13),o=n(47);function s(){return r.a}function u(){return r.a.memory()}function c(e,t){return r.a.tidy(e,t)}function l(e){Object(o.getTensorsInContainer)(e).forEach(function(e){return e.dispose()})}function d(e){return r.a.keep(e)}function p(e){return r.a.setBackend(e)}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.a.registerBackend(e,t,n)}function f(){return r.a.backend}Object(i.e)(function(e){Object(a.b)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(8);var c=Object(u.b)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=Object(s.a)(e,"a","matMul"),l=Object(s.a)(t,"b","matMul"),d=Object(o.makeTypesMatch)(c,l),p=Object(r.a)(d,2),h={a:c=p[0],b:l=p[1]},f={transposeA:n,transposeB:u};return a.a.runKernel(i.s,h,f)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({slice_:function(e,t,n){var o=Object(i.a)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");var s={x:o},u={begin:t,size:n};return r.a.runKernel(a.Mc,s,u)}})},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(538)},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({neg_:function(e){var t={x:Object(i.a)(e,"x","neg")};return r.a.runKernel(a.ac,t)}})},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(27);function a(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}r.a.inherits(a,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:r.a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=a.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(e){o[e]={value:e}}),Object.defineProperties(a,o),Object.defineProperty(i,"isAxiosError",{value:!0}),a.from=function(e,t,n,o,s,u){var c=Object.create(i);return r.a.toFlatObject(e,c,function(e){return e!==Error.prototype},function(e){return"isAxiosError"!==e}),a.call(c,e.message,t,n,o,s),c.cause=e,c.name=e.name,u&&Object.assign(c,u),c},t.a=a},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(180),a=n(93);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?a(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(548);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(122),u=n(8);var c=Object(u.b)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.c)(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=Object(i.b)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach(function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))}),1===n.length)return Object(s.a)(n[0]);var u=n,c={axis:t};return r.a.runKernel(a.D,u,c)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),a=n(4),i=n(3),o=n(175),s=n(35),u=n(8);var c=Object(u.b)({where_:function(e,t,n){var u=Object(i.a)(t,"a","where"),c=Object(i.a)(n,"b","where"),l=Object(i.a)(e,"condition","where","bool"),d=Object(s.assertAndGetBroadcastShape)(Object(s.assertAndGetBroadcastShape)(l.shape,u.shape),c.shape),p={condition:Object(o.a)(l,d),t:Object(o.a)(u,d),e:Object(o.a)(c,d)};return r.a.runKernel(a.Gc,p)}})},function(e,t,n){"use strict";(function(e){n.d(t,"f",function(){return f}),n.d(t,"e",function(){return v}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return x}),n.d(t,"d",function(){return w}),n.d(t,"c",function(){return _}),n.d(t,"j",function(){return k}),n.d(t,"h",function(){return O}),n.d(t,"g",function(){return E}),n.d(t,"i",function(){return C}),n.d(t,"k",function(){return T});var r=n(6),a=n(7),i=n.n(a),o=n(25),s=n(16),u=n(100),c=n(144),l=n(20),d=n(252),p=n(95),h=4;function f(e,t){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(i.a.mark(function e(t,n){var r,a,o,u,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=[],o=Array.isArray(t)?t.map(function(e){return e.name}):Object.keys(t),u=function(e){var u=o[e],c=Array.isArray(t)?t[e].tensor:t[u];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype&&"complex64"!==c.dtype)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c.dtype));var l={name:u,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){var d=new Promise(function(){var e=Object(s.a)(i.a.mark(function e(t){var n,r,a,o,s,u,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.bytes();case 2:for(n=e.sent,r=n.reduce(function(e,t){return e+t.length},0)+h*n.length,a=new Uint8Array(r),o=0,s=0;s<n.length;s++)u=n[s],l=new Uint8Array(new Uint32Array([u.length]).buffer),a.set(l,o),o+=h,a.set(u,o),o+=u.length;t(a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());a.push(d)}else a.push(c.data());null!=n&&(l.group=n),r.push(l)},c=0;c<o.length;++c)u(c);return e.next=7,Promise.all(a);case 7:return l=e.sent,e.abrupt("return",{data:g(l),specs:r});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e,t){var n,r=new p.a(e),a={},i=0,o=!0,s=!1,f=void 0;try{for(var m,v=t[Symbol.iterator]();!(o=(m=v.next()).done);o=!0){var g=m.value,A=g.name,y=g.dtype,b=g.shape,x=Object(l.O)(b),w=void 0;if("quantization"in g){var _=g.quantization;if("uint8"===_.dtype||"uint16"===_.dtype){if(!("min"in _&&"scale"in _))throw new Error("Weight ".concat(g.name," with quantization ").concat(_.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==_.dtype)throw new Error("Weight ".concat(g.name," has unknown ")+"quantization dtype ".concat(_.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==y)throw new Error("Weight ".concat(g.name," is quantized with ").concat(_.dtype," ")+"which only supports weights of type float32 not ".concat(y,"."))}var k=d.a[_.dtype],O=r.slice(i,i+x*k),E="uint8"===_.dtype?new Uint8Array(O):new Uint16Array(O);if("float32"===y)if("uint8"===_.dtype||"uint16"===_.dtype){w=new Float32Array(E.length);for(var S=0;S<E.length;S++){var C=E[S];w[S]=C*_.scale+_.min}}else{if("float16"!==_.dtype)throw new Error("Unsupported quantization type ".concat(_.dtype," ")+"for weight type float32.");void 0===n&&(n=I()),w=n(E)}else{if("int32"!==y)throw new Error("Unsupported dtype in weight '".concat(A,"': ").concat(y));if("uint8"!==_.dtype&&"uint16"!==_.dtype)throw new Error("Unsupported quantization type ".concat(_.dtype," ")+"for weight type int32.");w=new Int32Array(E.length);for(var T=0;T<E.length;T++){var j=E[T];w[T]=Math.round(j*_.scale+_.min)}}i+=x*k}else if("string"===y){var M=Object(l.O)(g.shape);w=[];for(var N=0;N<M;N++){var D=new Uint32Array(r.slice(i,i+h))[0];i+=h;var R=new Uint8Array(r.slice(i,i+D));w.push(R),i+=D}}else{var P=d.a[y],L=r.slice(i,i+x*P);if("float32"===y)w=new Float32Array(L);else if("int32"===y)w=new Int32Array(L);else if("bool"===y)w=new Uint8Array(L);else{if("complex64"!==y)throw new Error("Unsupported dtype in weight '".concat(A,"': ").concat(y));w=new Float32Array(L);for(var F=new Float32Array(w.length/2),B=new Float32Array(w.length/2),z=0;z<F.length;z++)F[z]=w[2*z],B[z]=w[2*z+1];var U=Object(c.a)(F,b,"float32"),V=Object(c.a)(B,b,"float32");a[A]=Object(u.a)(U,V),U.dispose(),V.dispose()}i+=x*P}"complex64"!==y&&(a[A]=Object(c.a)(w,b,y))}}catch(W){s=!0,f=W}finally{try{o||null==v.return||v.return()}finally{if(s)throw f}}return a}function g(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach(function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))});var r=new Uint8Array(t),a=0;return n.forEach(function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength}),r.buffer}var A="undefined"!==typeof e&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function y(t){return A?e.byteLength(t,"utf8"):new Blob([t]).size}function b(t){if(A)return e.from(t).toString("base64");for(var n=new Uint8Array(t),r="",a=0,i=n.length;a<i;a++)r+=String.fromCharCode(n[a]);return btoa(r)}function x(t){if(A){var n=e.from(t,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}for(var r=atob(t),a=new Uint8Array(r.length),i=0;i<r.length;++i)a.set([r.charCodeAt(i)],i);return a.buffer}function w(e){return p.a.join(e)}function _(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function k(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function O(e,t,n){var r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}function E(e,t){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(i.a.mark(function e(t,n){var a,o,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.weightsManifest){e.next=7;break}return e.next=3,n(t.weightsManifest);case 3:s=e.sent,u=Object(r.a)(s,2),a=u[0],o=u[1];case 7:return e.abrupt("return",O(t,a,o));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:y(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:y(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new p.a(e.weightData).byteLength}}function T(e){var t=[],n=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;t.push.apply(t,Object(o.a)(u.weights))}}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return t}function I(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|(n+=947912704)},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),i=new Uint32Array(a),o=0;o<r.length;o++){var s=r[o],u=e[n[s>>10]+(1023&s)]+t[s>>10];i[o]=u}return new Float32Array(a)}}}).call(this,n(256).Buffer)},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return c});var r=n(15),a=n.n(r),i=(n(53),{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"}),o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},s=function(e){return"".concat(Math.round(e),"ms")},u=function(e){return"string"===typeof e},c=function(e){return!isNaN(parseFloat(e))};t.a={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?o.standard:n,u=t.easing,c=void 0===u?i.easeInOut:u,l=t.delay,d=void 0===l?0:l;a()(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"===typeof r?r:s(r)," ").concat(c," ").concat("string"===typeof d?d:s(d))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){var r=n(558),a=n(404),i=n(559);e.exports=function(e){return r(e)||a(e)||i()}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(9),a=n.n(r),i=n(1),o=n.n(i),s=n(309);function u(e,t){var n=o.a.memo(o.a.forwardRef(function(t,n){return o.a.createElement(s.a,a()({},t,{ref:n}),e)}));return n.muiName=s.a.muiName,n}},function(e,t){e.exports={classes:{CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},sources:{HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},cursors:{ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},types:{POLYGON:"polygon",LINE:"line_string",POINT:"point"},geojsonTypes:{FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},modes:{DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},events:{CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},updateActions:{MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},meta:{FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},activeStates:{ACTIVE:"true",INACTIVE:"false"},interactions:["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],LAT_MIN:-90,LAT_RENDERED_MIN:-85,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o});n(25);var r=n(10),a=n(13),i=(n(3),n(20));function o(e,t){i.c(i.v(e),function(){return"The f passed in variableGrads(f) must be a function"}),i.c(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof a.c}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=null!=t;if(!n)for(var o in t=[],r.a.registeredVariables)t.push(r.a.registeredVariables[o]);var s=n?t.filter(function(e){return!e.trainable}):null,u=t.length;t=t.filter(function(e){return e.trainable}),i.c(t.length>0,function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(u," variables is ")+"trainable."});var c=r.a.gradients(e,t,null,!0),l=c.value,d=c.grads;i.c(d.some(function(e){return null!=e}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),i.c(0===l.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")});var p={};return t.forEach(function(e,t){null!=d[t]&&(p[e.name]=d[t])}),null!=s&&s.forEach(function(e){return p[e.name]=null}),{value:l,grads:p}}function s(e){return r.a.customGrad(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({sqrt_:function(e){var t={x:Object(i.a)(e,"x","sqrt","float32")};return r.a.runKernel(a.Wc,t)}})},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return d});var r=n(20);function a(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function i(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[i++]):a.push(t[o++]);return a}function o(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map(function(t){return e[t]})]}function s(e,t){return i(e,t.map(function(e){return 1}),t)}function u(e,t,n){r.c(a(t,n),function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")})}function c(e,t){if(a(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(function(e){return n.push(e)}),n}function l(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function d(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=function(e){return e.scrollTop};function a(e,t){var n=e.timeout,r=e.style,a=void 0===r?{}:r;return{duration:a.transitionDuration||"number"===typeof n?n:n[t.mode],delay:a.transitionDelay}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({exp_:function(e){var t={x:Object(i.a)(e,"x","exp")};return r.a.runKernel(a.eb,t)}})},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u});var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=["xs","sm","md","lg","xl"];function u(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,u=e.step,c=void 0===u?5:u,l=o()(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function p(e,t){var r=s.indexOf(t)+1;return r===s.length?d(e):"@media (min-width:".concat(n[e]).concat(i,") and ")+"(max-width:".concat(n[s[r]]-c/100).concat(i,")")}return a()({keys:s,values:n,up:d,down:function(e){var t=s.indexOf(e)+1,r=n[s[t]];return t===s.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(i,")")},between:p,only:function(e){return p(e,e)},width:function(e){return n[e]}},l)}},function(e,t,n){"use strict";n.r(t);var r=n(267),a=n(304),i=n(453),o=n(396),s=n(454),u=n(305),c=n(22),l=n(104),d=n(807),p=n(568),h=n(728),f=n(9),m=n.n(f),v=n(15),g=n.n(v),A=n(1),y=n.n(A),b=n(14),x=n(30),w=y.a.forwardRef(function(e,t){var n=e.badgeContent,r=e.children,a=e.classes,i=e.className,o=e.color,s=void 0===o?"default":o,u=e.component,c=void 0===u?"span":u,l=e.invisible,d=e.max,p=void 0===d?99:d,h=e.showZero,f=void 0!==h&&h,v=e.variant,A=void 0===v?"standard":v,w=g()(e,["badgeContent","children","classes","className","color","component","invisible","max","showZero","variant"]),_=l;null==l&&(0===n&&!f||null==n&&"dot"!==A)&&(_=!0);var k="";return"dot"!==A&&(k=n>p?"".concat(p,"+"):n),y.a.createElement(c,m()({className:Object(b.a)(a.root,i),ref:t},w),r,y.a.createElement("span",{className:Object(b.a)(a.badge,"default"!==s&&a["color".concat(Object(x.a)(s))],_&&a.invisible,"dot"===A&&a.dot)},k))}),_=Object(c.a)(function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle"},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",top:0,right:0,boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,padding:"0 4px",height:20,borderRadius:10,backgroundColor:e.palette.color,color:e.palette.textColor,zIndex:1,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen}),transform:"scale(0) translate(50%, -50%)",transformOrigin:"100% 0%"},dot:{height:6,minWidth:6,padding:0}}},{name:"MuiBadge"})(w),k=(n(53),y.a.forwardRef(function(e,t){var n=e.children,r=e.classes,a=e.className,i=e.component,o=void 0===i?"div":i,s=e.onChange,u=e.showLabels,c=void 0!==u&&u,l=e.value,d=g()(e,["children","classes","className","component","onChange","showLabels","value"]);return y.a.createElement(o,m()({className:Object(b.a)(r.root,a),ref:t},d),y.a.Children.map(n,function(e,t){if(!y.a.isValidElement(e))return null;var n=void 0===e.props.value?t:e.props.value;return y.a.cloneElement(e,{selected:n===l,showLabel:void 0!==e.props.showLabel?e.props.showLabel:c,value:n,onChange:s})}))})),O=Object(c.a)(function(e){return{root:{display:"flex",justifyContent:"center",height:56,backgroundColor:e.palette.background.paper}}},{name:"MuiBottomNavigation"})(k),E=n(241),S=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.icon,i=e.label,o=e.onChange,s=e.onClick,u=e.selected,c=e.showLabel,l=e.value,d=g()(e,["classes","className","icon","label","onChange","onClick","selected","showLabel","value"]);return y.a.createElement(E.a,m()({ref:t,className:Object(b.a)(n.root,r,u?n.selected:!c&&n.iconOnly),focusRipple:!0,onClick:function(e){o&&o(e,l),s&&s(e)}},d),y.a.createElement("span",{className:n.wrapper},a,y.a.createElement("span",{className:Object(b.a)(n.label,u?n.selected:!c&&n.iconOnly)},i)))}),C=Object(c.a)(function(e){return{root:{transition:e.transitions.create(["color","padding-top"],{duration:e.transitions.duration.short}),padding:"6px 12px 8px",minWidth:80,maxWidth:168,color:e.palette.text.secondary,flex:"1","&$iconOnly":{paddingTop:16},"&$selected":{paddingTop:6,color:e.palette.primary.main}},selected:{},iconOnly:{},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"},label:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s","&$iconOnly":{opacity:0,transitionDelay:"0s"},"&$selected":{fontSize:e.typography.pxToRem(14)}}}},{name:"MuiBottomNavigationAction"})(S),T=n(66),I=n.n(T),j=n(143),M=n.n(j);var N=function(e,t){return t?M()(e,t,{clone:!1}):e};var D=function(e){var t=function(t){var n=e(t);return t.css?m()({},N(n,e(m()({theme:t.theme},t.css))),function(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(I()(e.filterProps)),t};var R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce(function(t,n){var r=n(e);return r?N(t,r):t},{})};return r.propTypes={},r.filterProps=t.reduce(function(e,t){return e.concat(t.filterProps)},[]),r},P=n(38),L=n.n(P),F=n(180),B=n.n(F),z={xs:0,sm:600,md:960,lg:1280,xl:1920},U={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(z[e],"px)")}};function V(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||U;return t.reduce(function(e,a,i){return e[r.up(r.keys[i])]=n(t[i]),e},{})}if("object"===B()(t)){var a=e.theme.breakpoints||U;return Object.keys(t).reduce(function(e,r){return e[a.up(r)]=n(t[r]),e},{})}return n(t)}function W(e,t){return t&&"string"===typeof t?t.split(".").reduce(function(e,t){return e&&e[t]?e[t]:null},e):null}var G=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,a=e.themeKey,i=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=W(e.theme,a)||{};return V(e,n,function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]:(t=W(o,e)||e,i&&(t=i(t))),!1===r?t:L()({},r,t)})};return o.propTypes={},o.filterProps=[t],o};function H(e){return"number"!==typeof e?e:"".concat(e,"px solid").concat(0===e?" !important":"")}var q=R(G({prop:"border",themeKey:"borders",transform:H}),G({prop:"borderTop",themeKey:"borders",transform:H}),G({prop:"borderRight",themeKey:"borders",transform:H}),G({prop:"borderBottom",themeKey:"borders",transform:H}),G({prop:"borderLeft",themeKey:"borders",transform:H}),G({prop:"borderColor",themeKey:"palette",transform:function(e){return"".concat(e," !important")}}),G({prop:"borderRadius",themeKey:"shape"})),K=R(G({prop:"display"}),G({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),G({prop:"overflow"}),G({prop:"textOverflow"}),G({prop:"whiteSpace"})),X=R(G({prop:"flexBasis"}),G({prop:"flexDirection"}),G({prop:"flexWrap"}),G({prop:"justifyContent"}),G({prop:"alignItems"}),G({prop:"alignContent"}),G({prop:"order"}),G({prop:"flex"}),G({prop:"flexGrow"}),G({prop:"flexShrink"}),G({prop:"alignSelf"}),G({prop:"justifyItems"}),G({prop:"justifySelf"})),Q=R(G({prop:"position"}),G({prop:"zIndex",themeKey:"zIndex"}),G({prop:"top"}),G({prop:"right"}),G({prop:"bottom"}),G({prop:"left"})),Y=R(G({prop:"color",themeKey:"palette"}),G({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),$=G({prop:"boxShadow",themeKey:"shadows"});function Z(e){return e<=1?"".concat(100*e,"%"):e}var J=G({prop:"width",transform:Z}),ee=G({prop:"maxWidth",transform:Z}),te=G({prop:"minWidth",transform:Z}),ne=G({prop:"height",transform:Z}),re=G({prop:"maxHeight",transform:Z}),ae=G({prop:"minHeight",transform:Z}),ie=(G({prop:"size",cssProperty:"width",transform:Z}),G({prop:"size",cssProperty:"height",transform:Z}),R(J,ee,te,ne,re,ae)),oe=n(45),se=n.n(oe);var ue={m:"margin",p:"padding"},ce={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},le=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){if(e.length>3)return[e];var t=e.split(""),n=se()(t,2),r=n[0],a=n[1],i=ue[r],o=ce[a]||"";return Array.isArray(o)?o.map(function(e){return i+e}):[i+o]}),de=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginLeft","marginTop","marginRight","marginBottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"];function pe(e,t){return function(n){return e.reduce(function(e,r){return e[r]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e},{})}}function he(e){var t=function(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}(e.theme);return Object.keys(e).map(function(n){if(-1===de.indexOf(n))return null;var r=pe(le(n),t),a=e[n];return V(e,a,r)}).reduce(N,{})}he.propTypes={},he.filterProps=de;var fe=he,me=R(G({prop:"fontFamily",themeKey:"typography"}),G({prop:"fontSize",themeKey:"typography"}),G({prop:"fontStyle",themeKey:"typography"}),G({prop:"fontWeight",themeKey:"typography"}),G({prop:"letterSpacing"}),G({prop:"lineHeight"}),G({prop:"textAlign"})),ve=D(R(q,K,X,Q,Y,$,ie,fe,me)),ge=Object(u.a)("div")(ve,{name:"MuiBox"}),Ae=n(191),ye=n(39),be=n(67),xe=Object(be.a)(y.a.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var we=Object(c.a)(function(e){return{root:{display:"flex"},icon:{width:24,height:16,backgroundColor:e.palette.grey[100],color:e.palette.grey[700],borderRadius:2,marginLeft:e.spacing(.5),marginRight:e.spacing(.5),cursor:"pointer","&:hover, &:focus":{backgroundColor:e.palette.grey[200]},"&:active":{boxShadow:e.shadows[0],backgroundColor:Object(ye.c)(e.palette.grey[200],.12)}}}},{name:"PrivateBreadcrumbCollapsed"})(function(e){var t=e.classes,n=g()(e,["classes"]);return y.a.createElement("li",m()({className:t.root},n),y.a.createElement(xe,{className:t.icon}))});var _e=Object(c.a)({root:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}},{name:"PrivateBreadcrumbSeparator"})(function(e){var t=e.classes,n=e.className,r=g()(e,["classes","className"]);return y.a.createElement("li",m()({"aria-hidden":!0,className:Object(b.a)(t.root,n)},r))});var ke=y.a.forwardRef(function(e,t){var n=e.children,r=e.classes,a=e.className,i=e.component,o=void 0===i?"nav":i,s=e.itemsAfterCollapse,u=void 0===s?1:s,c=e.itemsBeforeCollapse,l=void 0===c?1:c,d=e.maxItems,p=void 0===d?8:d,h=e.separator,f=void 0===h?"/":h,v=g()(e,["children","classes","className","component","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),A=y.a.useState(!1),x=se()(A,2),w=x[0],_=x[1],k=y.a.Children.toArray(n).filter(function(e){return y.a.isValidElement(e)}).map(function(e,t){return y.a.createElement("li",{className:r.li,key:"child-".concat(t)},e)});return y.a.createElement(Ae.a,m()({ref:t,component:o,color:"textSecondary",className:Object(b.a)(r.root,a)},v),y.a.createElement("ol",{className:r.ol},function(e,t,n){return e.reduce(function(r,a,i){return i<e.length-1?r=r.concat(a,y.a.createElement(_e,{key:"separator-".concat(i),className:t},n)):r.push(a),r},[])}(w||p&&k.length<=p?k:function(e){return l+u>=e.length?e:[].concat(I()(e.slice(0,l)),[y.a.createElement(we,{key:"ellipsis",onClick:function(){_(!0)}})],I()(e.slice(e.length-u,e.length)))}(k),r.separator,f)))}),Oe=Object(c.a)({root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0},li:{listStyle:"none"},separator:{}},{name:"MuiBreadcrumbs"})(ke),Ee=n(805),Se=y.a.forwardRef(function(e,t){var n=e.children,r=e.classes,a=e.className,i=e.color,o=void 0===i?"default":i,s=e.component,u=void 0===s?"div":s,c=e.disabled,l=void 0!==c&&c,d=e.disableFocusRipple,p=void 0!==d&&d,h=e.disableRipple,f=void 0!==h&&h,v=e.fullWidth,A=void 0!==v&&v,x=e.size,w=void 0===x?"medium":x,_=e.variant,k=void 0===_?"outlined":_,O=g()(e,["children","classes","className","color","component","disabled","disableFocusRipple","disableRipple","fullWidth","size","variant"]),E="outlined"===k,S="outlined"!==k,C="primary"===o,T="secondary"===o,I=Object(b.a)(r.grouped,E&&[r.groupedOutlined,C&&r.groupedOutlinedPrimary,T&&r.groupedOutlinedSecondary],S&&[r.groupedContained,C&&r.groupedContainedPrimary,T&&r.groupedContainedSecondary]);return y.a.createElement(u,m()({role:"group",className:Object(b.a)(r.root,a,S&&r.contained,A&&r.fullWidth),ref:t},O),y.a.Children.map(n,function(e){return y.a.isValidElement(e)?y.a.cloneElement(e,{className:Object(b.a)(I,e.props.className),disabled:e.props.disabled||l,color:o,disableFocusRipple:p,disableRipple:f,fullWidth:A,size:e.props.size||w,variant:k}):null}))}),Ce=Object(c.a)(function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},fullWidth:{width:"100%"},grouped:{minWidth:40,"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedOutlined:{"&:not(:first-child)":{borderLeftColor:"transparent",marginLeft:-1}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none","&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400])}},groupedContainedPrimary:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.primary.dark)}},groupedContainedSecondary:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.secondary.dark)}}}},{name:"MuiButtonGroup"})(Se),Te=n(816),Ie=y.a.forwardRef(function(e,t){var n=e.children,r=e.classes,a=e.className,i=e.focusVisibleClassName,o=g()(e,["children","classes","className","focusVisibleClassName"]);return y.a.createElement(E.a,m()({className:Object(b.a)(r.root,a),focusVisibleClassName:Object(b.a)(i,r.focusVisible),ref:t},o),n,y.a.createElement("span",{className:r.focusHighlight}))}),je=Object(c.a)(function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{pointerEvents:"none",position:"absolute",backgroundColor:"currentcolor",top:0,right:0,bottom:0,left:0,opacity:0,transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}},{name:"MuiCardActionArea"})(Ie),Me=y.a.forwardRef(function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,a=e.classes,i=e.className,o=g()(e,["disableSpacing","classes","className"]);return y.a.createElement("div",m()({className:Object(b.a)(a.root,i,!r&&a.spacing),ref:t},o))}),Ne=Object(c.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > * + *":{marginLeft:8}}},{name:"MuiCardActions"})(Me),De=n(817),Re=y.a.forwardRef(function(e,t){var n=e.action,r=e.avatar,a=e.classes,i=e.className,o=e.component,s=void 0===o?"div":o,u=e.disableTypography,c=void 0!==u&&u,l=e.subheader,d=e.subheaderTypographyProps,p=e.title,h=e.titleTypographyProps,f=g()(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),v=p;null==v||v.type===Ae.a||c||(v=y.a.createElement(Ae.a,m()({variant:r?"body2":"h5",className:a.title,component:"span",display:"block"},h),v));var A=l;return null==A||A.type===Ae.a||c||(A=y.a.createElement(Ae.a,m()({variant:r?"body2":"body1",className:a.subheader,color:"textSecondary",component:"span",display:"block"},d),A)),y.a.createElement(s,m()({className:Object(b.a)(a.root,i),ref:t},f),r&&y.a.createElement("div",{className:a.avatar},r),y.a.createElement("div",{className:a.content},v,A),n&&y.a.createElement("div",{className:a.action},n))}),Pe=Object(c.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(Re),Le=n(824),Fe=n(833),Be=n(837),ze=n(815),Ue=n(722),Ve=n(825),We=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.component,i=void 0===a?"div":a,o=e.fixed,s=void 0!==o&&o,u=e.maxWidth,c=void 0===u?"lg":u,l=g()(e,["classes","className","component","fixed","maxWidth"]);return y.a.createElement(i,m()({className:Object(b.a)(n.root,r,s&&n.fixed,!1!==c&&n["maxWidth".concat(Object(x.a)(String(c)))]),ref:t},l))}),Ge=Object(c.a)(function(e){var t;return{root:(t={width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},L()(t,e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),L()(t,e.breakpoints.up("md"),{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}),t),fixed:Object.keys(e.breakpoints.values).reduce(function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t},{}),maxWidthXs:L()({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:L()({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:L()({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:L()({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:L()({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}},{name:"MuiContainer"})(We),He=Object(o.a)(function(e){return{"@global":{html:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:"bolder"},body:m()({margin:0,color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})}}},{name:"MuiCssBaseline"});var qe=function(e){var t=e.children,n=void 0===t?null:t;return He(),y.a.createElement(y.a.Fragment,null,n)},Ke=n(812),Xe=n(826),Qe=n(827),Ye=y.a.forwardRef(function(e,t){return y.a.createElement(Ae.a,m()({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}),$e=Object(c.a)({root:{marginBottom:16}},{name:"MuiDialogContentText"})(Ye),Ze=y.a.forwardRef(function(e,t){var n=e.children,r=e.classes,a=e.className,i=e.disableTypography,o=void 0!==i&&i,s=g()(e,["children","classes","className","disableTypography"]);return y.a.createElement("div",m()({className:Object(b.a)(r.root,a),ref:t},s),o?n:y.a.createElement(Ae.a,{variant:"h6"},n))}),Je=Object(c.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(Ze),et=n(828),tt=n(500),nt=n(394),rt=n(253),at=n(65),it={left:"right",right:"left",top:"down",bottom:"up"};function ot(e){return-1!==["left","right"].indexOf(e)}function st(e,t){return"rtl"===e.direction&&ot(t)?it[t]:t}var ut={enter:at.b.enteringScreen,exit:at.b.leavingScreen},ct=y.a.forwardRef(function(e,t){var n=e.anchor,r=void 0===n?"left":n,a=e.BackdropProps,i=e.children,o=e.classes,s=e.className,u=e.elevation,c=void 0===u?16:u,l=e.ModalProps,d=(l=void 0===l?{}:l).BackdropProps,p=g()(l,["BackdropProps"]),f=e.onClose,v=e.open,A=void 0!==v&&v,w=e.PaperProps,_=e.SlideProps,k=e.theme,O=e.transitionDuration,E=void 0===O?ut:O,S=e.variant,C=void 0===S?"temporary":S,T=g()(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","theme","transitionDuration","variant"]),I=y.a.useRef(!1);y.a.useEffect(function(){I.current=!0},[]);var j=st(k,r),M=y.a.createElement(rt.a,m()({elevation:"temporary"===C?c:0,square:!0,className:Object(b.a)(o.paper,o["paperAnchor".concat(Object(x.a)(j))],"temporary"!==C&&o["paperAnchorDocked".concat(Object(x.a)(j))])},w),i);if("permanent"===C)return y.a.createElement("div",m()({className:Object(b.a)(o.root,o.docked,s),ref:t},T),M);var N=y.a.createElement(nt.a,m()({in:A,direction:it[j],timeout:E,appear:I.current},_),M);return"persistent"===C?y.a.createElement("div",m()({className:Object(b.a)(o.root,o.docked,s)},T),N):y.a.createElement(tt.a,m()({BackdropProps:m()({},a,d,{transitionDuration:E}),BackdropComponent:h.a,className:Object(b.a)(o.root,o.modal,s),open:A,onClose:f,ref:t},T,p),N)}),lt=Object(c.a)(function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:"none"},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}},{name:"MuiDrawer",flip:!1,withTheme:!0})(ct),dt=n(462),pt=n.n(dt),ht=y.a.forwardRef(function(e,t){var n=e.children,r=e.classes,a=e.className,i=e.defaultExpanded,o=void 0!==i&&i,s=e.disabled,u=void 0!==s&&s,c=e.expanded,l=e.onChange,d=e.square,p=void 0!==d&&d,h=e.TransitionComponent,f=void 0===h?Ve.a:h,v=e.TransitionProps,A=g()(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),x=y.a.useRef(null!=c).current,w=y.a.useState(o),_=se()(w,2),k=_[0],O=_[1],E=x?c:k,S=y.a.Children.toArray(n),C=pt()(S),T=C[0],I=C.slice(1);return y.a.createElement(rt.a,m()({className:Object(b.a)(r.root,a,E&&r.expanded,u&&r.disabled,!p&&r.rounded),ref:t,square:p},A),y.a.cloneElement(T,{disabled:u,expanded:E,onChange:function(e){x||O(!E),l&&l(e,!E)}}),y.a.createElement(f,m()({in:E,timeout:"auto"},v),y.a.createElement("div",{"aria-labelledby":T.props.id,id:T.props["aria-controls"],role:"region"},I)))}),ft=Object(c.a)(function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}},{name:"MuiExpansionPanel"})(ht),mt=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.disableSpacing,i=void 0!==a&&a,o=g()(e,["classes","className","disableSpacing"]);return y.a.createElement("div",m()({className:Object(b.a)(n.root,r,!i&&n.spacing),ref:t},o))}),vt=Object(c.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},spacing:{"& > * + *":{marginLeft:8}}},{name:"MuiExpansionPanelActions"})(mt),gt=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=g()(e,["classes","className"]);return y.a.createElement("div",m()({className:Object(b.a)(n.root,r),ref:t},a))}),At=Object(c.a)({root:{display:"flex",padding:"8px 24px 24px"}},{name:"MuiExpansionPanelDetails"})(gt),yt=n(726),bt=y.a.forwardRef(function(e,t){var n=e.children,r=e.classes,a=e.className,i=e.disabled,o=void 0!==i&&i,s=e.expanded,u=e.expandIcon,c=e.IconButtonProps,l=e.onBlur,d=e.onChange,p=e.onClick,h=e.onFocusVisible,f=g()(e,["children","classes","className","disabled","expanded","expandIcon","IconButtonProps","onBlur","onChange","onClick","onFocusVisible"]),v=y.a.useState(!1),A=se()(v,2),x=A[0],w=A[1];return y.a.createElement(E.a,m()({focusRipple:!1,disableRipple:!0,disabled:o,component:"div","aria-expanded":s,className:Object(b.a)(r.root,a,o&&r.disabled,s&&r.expanded,x&&r.focused),onFocusVisible:function(e){w(!0),h&&h(e)},onBlur:function(e){w(!1),l&&l(e)},onClick:function(e){d&&d(e),p&&p(e)},ref:t},f),y.a.createElement("div",{className:Object(b.a)(r.content,s&&r.expanded)},n),u&&y.a.createElement(yt.a,m()({disabled:o,className:Object(b.a)(r.expandIcon,s&&r.expanded),edge:"end",component:"div",tabIndex:-1,"aria-hidden":!0},c),u))}),xt=Object(c.a)(function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:"0 24px 0 24px","&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:e.palette.grey[300]},"&$disabled":{opacity:.38}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}},{name:"MuiExpansionPanelSummary"})(bt),wt=n(727),_t=n(498),kt=n(729),Ot=n(730),Et=n(814),St=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.row,i=void 0!==a&&a,o=g()(e,["classes","className","row"]);return y.a.createElement("div",m()({className:Object(b.a)(n.root,r,i&&n.row),ref:t},o))}),Ct=Object(c.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(St),Tt=n(736),It=n(732),jt=n(818),Mt=y.a.forwardRef(function(e,t){var n=e.cellHeight,r=void 0===n?180:n,a=e.children,i=e.classes,o=e.className,s=e.cols,u=void 0===s?2:s,c=e.component,l=void 0===c?"ul":c,d=e.spacing,p=void 0===d?4:d,h=e.style,f=g()(e,["cellHeight","children","classes","className","cols","component","spacing","style"]);return y.a.createElement(l,m()({className:Object(b.a)(i.root,o),ref:t,style:m()({margin:-p/2},h)},f),y.a.Children.map(a,function(e){if(!y.a.isValidElement(e))return null;var t=e.props.cols||1,n=e.props.rows||1;return y.a.cloneElement(e,{style:m()({width:"".concat(100/u*t,"%"),height:"auto"===r?"auto":r*n+p,padding:p/2},e.props.style)})}))}),Nt=Object(c.a)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiGridList"})(Mt),Dt=n(108),Rt=n.n(Dt),Pt=n(40),Lt=function(e,t){var n,r,a,i;e&&e.complete&&(e.width/e.height>e.parentNode.offsetWidth/e.parentNode.offsetHeight?((n=e.classList).remove.apply(n,I()(t.imgFullWidth.split(" "))),(r=e.classList).add.apply(r,I()(t.imgFullHeight.split(" ")))):((a=e.classList).remove.apply(a,I()(t.imgFullHeight.split(" "))),(i=e.classList).add.apply(i,I()(t.imgFullWidth.split(" ")))))};var Ft=y.a.forwardRef(function(e,t){var n=e.children,r=e.classes,a=e.className,i=(e.cols,e.component),o=void 0===i?"li":i,s=(e.rows,g()(e,["children","classes","className","cols","component","rows"])),u=y.a.useRef(null);return y.a.useEffect(function(){!function(e,t){e&&(e.complete?Lt(e,t):e.addEventListener("load",function(){Lt(e,t)}))}(u.current,r)}),y.a.useEffect(function(){var e=Rt()(function(){Lt(u.current,r)},166);return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}},[r]),y.a.createElement(o,m()({className:Object(b.a)(r.root,a),ref:t},s),y.a.createElement("div",{className:r.tile},y.a.Children.map(n,function(e){return y.a.isValidElement(e)?"img"===e.type||Object(Pt.a)(e,["Image"])?y.a.cloneElement(e,{ref:u}):e:null})))}),Bt=Object(c.a)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(Ft),zt=y.a.forwardRef(function(e,t){var n=e.actionIcon,r=e.actionPosition,a=void 0===r?"right":r,i=e.classes,o=e.className,s=e.subtitle,u=e.title,c=e.titlePosition,l=void 0===c?"bottom":c,d=g()(e,["actionIcon","actionPosition","classes","className","subtitle","title","titlePosition"]),p=n&&a,h=Object(b.a)(i.root,o,"top"===l?i.titlePositionTop:i.titlePositionBottom,s&&i.rootSubtitle),f=Object(b.a)(i.titleWrap,"left"===p&&i.titleWrapActionPosLeft,"right"===p&&i.titleWrapActionPosRight);return y.a.createElement("div",m()({className:h,ref:t},d),y.a.createElement("div",{className:f},y.a.createElement("div",{className:i.title},u),s?y.a.createElement("div",{className:i.subtitle},s):null),n?y.a.createElement("div",{className:Object(b.a)(i.actionIcon,"left"===p&&i.actionIconActionPosLeft)},n):null)}),Ut=Object(c.a)(function(e){return{root:{position:"absolute",left:0,right:0,height:48,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},titlePositionBottom:{bottom:0},titlePositionTop:{top:0},rootSubtitle:{height:68},titleWrap:{flexGrow:1,marginLeft:16,marginRight:16,color:e.palette.common.white,overflow:"hidden"},titleWrapActionPosLeft:{marginLeft:0},titleWrapActionPosRight:{marginRight:0},title:{fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},subtitle:{fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},actionIcon:{},actionIconActionPosLeft:{order:-1}}},{name:"MuiGridListTileBar"})(zt),Vt=n(378),Wt=n(23),Gt=n.n(Wt),Ht=n(78),qt=n(804),Kt=n(85),Xt=n.n(Kt),Qt=n(268),Yt=!1;var $t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e),r=n?e:[e];r=r.map(function(e){return e.replace("@media ","")});var a="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,i=t.defaultMatches,o=void 0!==i&&i,s=t.noSsr,u=void 0!==s&&s,c=t.ssrMatchMedia,l=void 0===c?null:c,d=y.a.useState(function(){return(Yt||u)&&a?r.map(function(e){return window.matchMedia(e).matches}):l?r.map(function(e){return l(e).matches}):r.map(function(){return o})}),p=se()(d,2),h=p[0],f=p[1];return y.a.useEffect(function(){if(Yt=!0,a){var e=r.map(function(e){return window.matchMedia(e)});return f(function(t){var n,r,a=e.map(function(e){return e.matches});return r=a,(n=t).length===r.length&&n.every(function(e,t){return e===r[t]})?t:a}),e.forEach(function(e){e.addListener(t)}),function(){e.forEach(function(e){e.removeListener(t)})}}function t(){f(e.map(function(e){return e.matches}))}},r),n?h:h[0]},Zt=function(e,t){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?Ht.b.indexOf(e)<=Ht.b.indexOf(t):Ht.b.indexOf(e)<Ht.b.indexOf(t)},Jt=function(e,t){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?Ht.b.indexOf(t)<=Ht.b.indexOf(e):Ht.b.indexOf(t)<Ht.b.indexOf(e)},en="undefined"===typeof window?y.a.useEffect:y.a.useLayoutEffect,tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,r=void 0!==n&&n,a=e.noSSR,i=void 0!==a&&a,o=e.initialWidth;function s(e){var n=Object(Qt.a)(),a=e.theme||n,s=Object(qt.a)({theme:a,name:"MuiWithWidth",props:m()({},e)}),u=s.initialWidth,c=s.width,l=g()(s,["initialWidth","width"]),d=y.a.useState(!1),p=se()(d,2),h=p[0],f=p[1];en(function(){f(!0)},[]);var v=I()(a.breakpoints.keys).reverse(),A=$t(v.map(function(e){return a.breakpoints.only(e)})).reduce(function(e,t,n){return!e&&t?v[n]:e},null),b=m()({width:c||(h||i?A:void 0)||u||o},r?{theme:a}:{},l);return void 0===b.width?null:y.a.createElement(t,b)}return Xt()(s,t),s}};function nn(e){var t=e.children,n=e.only,r=e.width,a=!0;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i+=1){if(r===n[i]){a=!1;break}}else n&&r===n&&(a=!1);if(a)for(var o=0;o<Ht.b.length;o+=1){var s=Ht.b[o],u=e["".concat(s,"Up")],c=e["".concat(s,"Down")];if(u&&Zt(s,r)||c&&Jt(s,r)){a=!1;break}}return a?t:null}nn.propTypes={children:Gt.a.node,className:Gt.a.string,implementation:Gt.a.oneOf(["js","css"]),initialWidth:Gt.a.oneOf(["xs","sm","md","lg","xl"]),lgDown:Gt.a.bool,lgUp:Gt.a.bool,mdDown:Gt.a.bool,mdUp:Gt.a.bool,only:Gt.a.oneOfType([Gt.a.oneOf(["xs","sm","md","lg","xl"]),Gt.a.arrayOf(Gt.a.oneOf(["xs","sm","md","lg","xl"]))]),smDown:Gt.a.bool,smUp:Gt.a.bool,width:Gt.a.string.isRequired,xlDown:Gt.a.bool,xlUp:Gt.a.bool,xsDown:Gt.a.bool,xsUp:Gt.a.bool};var rn=tn()(nn);var an=Object(c.a)(function(e){var t={display:"none"};return Ht.b.reduce(function(n,r){return n["only".concat(Object(x.a)(r))]=L()({},e.breakpoints.only(r),t),n["".concat(r,"Up")]=L()({},e.breakpoints.up(r),t),n["".concat(r,"Down")]=L()({},e.breakpoints.down(r),t),n},{})},{name:"PrivateHiddenCss"})(function(e){var t=e.children,n=e.classes,r=e.className,a=(e.lgDown,e.lgUp,e.mdDown,e.mdUp,e.only),i=(e.smDown,e.smUp,e.xlDown,e.xlUp,e.xsDown,e.xsUp,g()(e,["children","classes","className","lgDown","lgUp","mdDown","mdUp","only","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]),[]);r&&i.push(r);for(var o=0;o<Ht.b.length;o+=1){var s=Ht.b[o],u=e["".concat(s,"Up")],c=e["".concat(s,"Down")];u&&i.push(n["".concat(s,"Up")]),c&&i.push(n["".concat(s,"Down")])}return a&&(Array.isArray(a)?a:[a]).forEach(function(e){i.push(n["only".concat(Object(x.a)(e))])}),y.a.createElement("div",{className:i.join(" ")},t)});function on(e){var t=e.implementation,n=g()(e,["implementation"]);return"js"===t?y.a.createElement(rn,n):y.a.createElement(an,n)}on.defaultProps={implementation:"js",lgDown:!1,lgUp:!1,mdDown:!1,mdUp:!1,smDown:!1,smUp:!1,xlDown:!1,xlUp:!1,xsDown:!1,xsUp:!1};var sn=on,un=n(809),cn=n(499),ln=n(829),dn=n(501),pn=n(731),hn=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.color,i=void 0===a?"primary":a,o=e.theme,s=e.value,u=e.valueBuffer,c=e.variant,l=void 0===c?"indeterminate":c,d=g()(e,["classes","className","color","theme","value","valueBuffer","variant"]),p=Object(b.a)(n.root,r,"primary"===i?n.colorPrimary:n.colorSecondary,"determinate"===l&&n.determinate,"indeterminate"===l&&n.indeterminate,"buffer"===l&&n.buffer,"query"===l&&n.query),h=Object(b.a)(n.dashed,"primary"===i?n.dashedColorPrimary:n.dashedColorSecondary),f=Object(b.a)(n.bar,("indeterminate"===l||"query"===l)&&n.bar1Indeterminate,"primary"===i?n.barColorPrimary:n.barColorSecondary,"determinate"===l&&n.bar1Determinate,"buffer"===l&&n.bar1Buffer),v=Object(b.a)(n.bar,("indeterminate"===l||"query"===l)&&n.bar2Indeterminate,"buffer"===l?[n.bar2Buffer,"primary"===i?n.colorPrimary:n.colorSecondary]:"primary"===i?n.barColorPrimary:n.barColorSecondary),A={},x={bar1:{},bar2:{}};if(("determinate"===l||"buffer"===l)&&void 0!==s){A["aria-valuenow"]=Math.round(s);var w=s-100;"rtl"===o.direction&&(w=-w),x.bar1.transform="translateX(".concat(w,"%)")}if("buffer"===l&&void 0!==u){var _=(u||0)-100;"rtl"===o.direction&&(_=-_),x.bar2.transform="translateX(".concat(_,"%)")}return y.a.createElement("div",m()({className:p,role:"progressbar"},A,{ref:t},d),"buffer"===l?y.a.createElement("div",{className:h}):null,y.a.createElement("div",{className:f,style:x.bar1}),"determinate"===l?null:y.a.createElement("div",{className:v,style:x.bar2}))}),fn=Object(c.a)(function(e){return{root:{position:"relative",overflow:"hidden",height:4},colorPrimary:{backgroundColor:Object(ye.i)(e.palette.primary.light,.6)},colorSecondary:{backgroundColor:Object(ye.i)(e.palette.secondary.light,.4)},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"buffer 3s infinite linear",animationName:"$buffer"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(Object(ye.i)(e.palette.primary.light,.6)," 0%, ").concat(Object(ye.i)(e.palette.primary.light,.6)," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(Object(ye.i)(e.palette.secondary.light,.4)," 0%, ").concat(Object(ye.i)(e.palette.secondary.light,.6)," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"mui-indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite",animationName:"$mui-indeterminate1"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"mui-indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite",animationName:"$mui-indeterminate2",animationDelay:"1.15s"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes mui-indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes mui-indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0px -23px"},"50%":{opacity:0,backgroundPosition:"0px -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}},{name:"MuiLinearProgress",withTheme:!0})(hn),mn=n(231),vn=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.color,i=void 0===a?"primary":a,o=e.component,s=void 0===o?"a":o,u=e.onBlur,c=e.onFocus,l=e.TypographyClasses,d=e.underline,p=void 0===d?"hover":d,h=e.variant,f=void 0===h?"inherit":h,v=g()(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),A=Object(mn.a)(),w=A.isFocusVisible,_=A.onBlurVisible,k=A.ref,O=y.a.useState(!1),E=se()(O,2),S=E[0],C=E[1],T=Object(Pt.c)(t,k);return y.a.createElement(Ae.a,m()({className:Object(b.a)(n.root,n["underline".concat(Object(x.a)(p))],r,"button"===s&&n.button,S&&n.focusVisible),classes:l,color:i,component:s,onBlur:function(e){S&&(_(),C(!1)),u&&u(e)},onFocus:function(e){w(e)&&C(!0),c&&c(e)},ref:T,variant:f},v))}),gn=Object(c.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(vn),An=n(735),yn=n(737),bn=n(822),xn=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=g()(e,["classes","className"]);return y.a.createElement("div",m()({className:Object(b.a)(n.root,r),ref:t},a))}),wn=Object(c.a)(function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"}}},{name:"MuiListItemIcon"})(xn),_n=n(823),kn=n(821),On=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.color,i=void 0===a?"default":a,o=e.component,s=void 0===o?"li":o,u=e.disableGutters,c=void 0!==u&&u,l=e.disableSticky,d=void 0!==l&&l,p=e.inset,h=void 0!==p&&p,f=g()(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return y.a.createElement(s,m()({className:Object(b.a)(n.root,r,"default"!==i&&n["color".concat(Object(x.a)(i))],h&&n.inset,!d&&n.sticky,!c&&n.gutters),ref:t},f))}),En=Object(c.a)(function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}},{name:"MuiListSubheader"})(On),Sn=n(460),Cn=n(820),Tn=n(734),In=y.a.forwardRef(function(e,t){var n=e.activeStep,r=void 0===n?0:n,a=e.backButton,i=e.classes,o=e.className,s=e.LinearProgressProps,u=e.nextButton,c=e.position,l=void 0===c?"bottom":c,d=e.steps,p=e.variant,h=void 0===p?"dots":p,f=g()(e,["activeStep","backButton","classes","className","LinearProgressProps","nextButton","position","steps","variant"]);return y.a.createElement(rt.a,m()({square:!0,elevation:0,className:Object(b.a)(i.root,i["position".concat(Object(x.a)(l))],o),ref:t},f),a,"text"===h&&y.a.createElement(y.a.Fragment,null,r+1," / ",d),"dots"===h&&y.a.createElement("div",{className:i.dots},I()(new Array(d)).map(function(e,t){return y.a.createElement("div",{key:t,className:Object(b.a)(i.dot,t===r&&i.dotActive)})})),"progress"===h&&y.a.createElement(fn,m()({className:i.progress,variant:"determinate",value:Math.ceil(r/(d-1)*100)},s)),u)}),jn=Object(c.a)(function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:e.palette.background.default,padding:8},positionBottom:{position:"fixed",bottom:0,left:0,right:0,zIndex:e.zIndex.mobileStepper},positionTop:{position:"fixed",top:0,left:0,right:0,zIndex:e.zIndex.mobileStepper},positionStatic:{},dots:{display:"flex",flexDirection:"row"},dot:{backgroundColor:e.palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"},dotActive:{backgroundColor:e.palette.primary.main},progress:{width:"50%"}}},{name:"MuiMobileStepper"})(In),Mn=n(496),Nn=n(459),Dn=n(806),Rn=n(739),Pn=n(733),Ln=n(724),Fn=n(725),Bn=n(233),zn=Object(be.a)(y.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Un=Object(be.a)(y.a.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Vn=y.a.createElement(zn,null);var Wn=Object(c.a)(function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}},{name:"PrivateRadioButtonIcon"})(function(e){var t=e.checked,n=e.classes,r=e.className,a=g()(e,["checked","classes","className"]);return y.a.createElement("div",m()({className:Object(b.a)(n.root,r,t&&n.checked)},a),Vn,y.a.createElement(Un,{className:n.layer}))}),Gn=y.a.createContext(),Hn=y.a.createElement(Wn,{checked:!0}),qn=y.a.createElement(Wn,null),Kn=y.a.forwardRef(function(e,t){var n=e.checked,r=e.classes,a=e.color,i=void 0===a?"secondary":a,o=e.name,s=e.onChange,u=g()(e,["checked","classes","color","name","onChange"]),c=y.a.useContext(Gn),l=n,d=Object(x.b)(s,c&&c.onChange),p=o;return c&&("undefined"===typeof l&&(l=c.value===e.value),"undefined"===typeof p&&(p=c.name)),y.a.createElement(Bn.a,m()({color:i,type:"radio",icon:qn,checkedIcon:Hn,classes:{root:Object(b.a)(r.root,r["color".concat(Object(x.a)(i))]),checked:r.checked,disabled:r.disabled},name:p,checked:l,onChange:d,ref:t},u))}),Xn=Object(c.a)(function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(ye.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(ye.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},{name:"MuiRadio"})(Kn),Qn=y.a.forwardRef(function(e,t){var n=e.actions,r=e.children,a=e.name,i=e.value,o=e.onChange,s=g()(e,["actions","children","name","value","onChange"]),u=y.a.useRef(null),c=y.a.useRef(null!=e.value).current,l=y.a.useState(function(){return c?null:e.defaultValue}),d=se()(l,2),p=d[0],h=d[1];y.a.useImperativeHandle(n,function(){return{focus:function(){var e=u.current.querySelector("input:not(:disabled):checked");e||(e=u.current.querySelector("input:not(:disabled)")),e&&e.focus()}}},[]),y.a.useEffect(function(){},[i,c]);var f={name:a,onChange:function(e){c||h(e.target.value),o&&o(e,e.target.value)},value:c?i:p},v=Object(Pt.c)(t,u);return y.a.createElement(Ct,m()({role:"radiogroup",ref:v},s),y.a.createElement(Gn.Provider,{value:f},r))}),Yn=n(398),$n=n(740),Zn=n(400),Jn=n(368),er=y.a.forwardRef(function(e,t){var n=e.active,r=void 0!==n&&n,a=e.alternativeLabel,i=e.children,o=e.classes,s=e.className,u=e.completed,c=void 0!==u&&u,l=e.connector,d=e.disabled,p=void 0!==d&&d,h=e.index,f=e.last,v=e.orientation,A=g()(e,["active","alternativeLabel","children","classes","className","completed","connector","disabled","index","last","orientation"]),x=Object(b.a)(o.root,o[v],s,a&&o.alternativeLabel,c&&o.completed);return y.a.createElement("div",m()({className:x,ref:t},A),l&&a&&0!==h&&y.a.cloneElement(l,{orientation:v,alternativeLabel:a,index:h,active:r,completed:c,disabled:p}),y.a.Children.map(i,function(e){return y.a.isValidElement(e)?y.a.cloneElement(e,m()({active:r,alternativeLabel:a,completed:c,disabled:p,last:f,icon:h+1,orientation:v},e.props)):null}))}),tr=Object(c.a)({root:{},horizontal:{paddingLeft:8,paddingRight:8,"&:first-child":{paddingLeft:0},"&:last-child":{paddingRight:0}},vertical:{},alternativeLabel:{flex:1,position:"relative"},completed:{}},{name:"MuiStep"})(er),nr=Object(be.a)(y.a.createElement("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),rr=Object(be.a)(y.a.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning"),ar=n(309),ir=y.a.createElement("circle",{cx:"12",cy:"12",r:"12"}),or=y.a.forwardRef(function(e,t){var n=e.completed,r=void 0!==n&&n,a=e.icon,i=e.active,o=void 0!==i&&i,s=e.error,u=void 0!==s&&s,c=e.classes;return"number"===typeof a||"string"===typeof a?u?y.a.createElement(rr,{className:Object(b.a)(c.root,c.error),ref:t}):r?y.a.createElement(nr,{className:Object(b.a)(c.root,c.completed),ref:t}):y.a.createElement(ar.a,{className:Object(b.a)(c.root,o&&c.active),ref:t},ir,y.a.createElement("text",{className:c.text,x:"12",y:"16",textAnchor:"middle"},a)):a}),sr=Object(c.a)(function(e){return{root:{display:"block",color:e.palette.text.disabled,"&$active":{color:e.palette.primary.main},"&$completed":{color:e.palette.primary.main},"&$error":{color:e.palette.error.main}},text:{fill:e.palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily},active:{},completed:{},error:{}}},{name:"MuiStepIcon"})(or),ur=y.a.forwardRef(function(e,t){var n=e.active,r=void 0!==n&&n,a=e.alternativeLabel,i=void 0!==a&&a,o=e.children,s=e.classes,u=e.className,c=e.completed,l=void 0!==c&&c,d=e.disabled,p=void 0!==d&&d,h=e.error,f=void 0!==h&&h,v=e.icon,A=(e.last,e.optional),x=e.orientation,w=void 0===x?"horizontal":x,_=e.StepIconComponent,k=e.StepIconProps,O=g()(e,["active","alternativeLabel","children","classes","className","completed","disabled","error","icon","last","optional","orientation","StepIconComponent","StepIconProps"]),E=_;return v&&!E&&(E=sr),y.a.createElement("span",m()({className:Object(b.a)(s.root,s[w],u,p&&s.disabled,i&&s.alternativeLabel,f&&s.error),ref:t},O),v||E?y.a.createElement("span",{className:Object(b.a)(s.iconContainer,i&&s.alternativeLabel)},y.a.createElement(E,m()({completed:l,active:r,error:f,icon:v},k))):null,y.a.createElement("span",{className:s.labelContainer},y.a.createElement(Ae.a,{variant:"body2",component:"span",className:Object(b.a)(s.label,i&&s.alternativeLabel,l&&s.completed,r&&s.active,f&&s.error),display:"block"},o),A))});ur.muiName="StepLabel";var cr=Object(c.a)(function(e){return{root:{display:"flex",alignItems:"center","&$alternativeLabel":{flexDirection:"column"},"&$disabled":{cursor:"default"}},horizontal:{},vertical:{},label:{color:e.palette.text.secondary,"&$active":{color:e.palette.text.primary,fontWeight:500},"&$completed":{color:e.palette.text.primary,fontWeight:500},"&$alternativeLabel":{textAlign:"center",marginTop:16},"&$error":{color:e.palette.error.main}},active:{},completed:{},error:{},disabled:{},iconContainer:{flexShrink:0,display:"flex",paddingRight:8,"&$alternativeLabel":{paddingRight:0}},alternativeLabel:{},labelContainer:{width:"100%"}}},{name:"MuiStepLabel"})(ur),lr=y.a.forwardRef(function(e,t){var n=e.active,r=e.alternativeLabel,a=e.children,i=e.classes,o=e.className,s=e.completed,u=e.disabled,c=e.icon,l=(e.last,e.optional),d=e.orientation,p=g()(e,["active","alternativeLabel","children","classes","className","completed","disabled","icon","last","optional","orientation"]),h={active:n,alternativeLabel:r,completed:s,disabled:u,icon:c,optional:l,orientation:d},f=Object(Pt.a)(a,["StepLabel"])?y.a.cloneElement(a,h):y.a.createElement(cr,h,a);return y.a.createElement(E.a,m()({disabled:u,TouchRippleProps:{className:i.touchRipple},className:Object(b.a)(i.root,i[d],o),ref:t},p),f)}),dr=Object(c.a)({root:{width:"100%",padding:"24px 16px",margin:"-24px -16px",boxSizing:"content-box"},horizontal:{},vertical:{justifyContent:"flex-start"},touchRipple:{color:"rgba(0, 0, 0, 0.3)"}},{name:"MuiStepButton"})(lr),pr=y.a.forwardRef(function(e,t){var n=e.active,r=e.alternativeLabel,a=void 0!==r&&r,i=e.classes,o=e.className,s=e.completed,u=e.disabled,c=(e.index,e.orientation),l=void 0===c?"horizontal":c,d=g()(e,["active","alternativeLabel","classes","className","completed","disabled","index","orientation"]);return y.a.createElement("div",m()({className:Object(b.a)(i.root,i[l],o,a&&i.alternativeLabel,n&&i.active,s&&i.completed,u&&i.disabled),ref:t},d),y.a.createElement("span",{className:Object(b.a)(i.line,"vertical"===l?i.lineVertical:i.lineHorizontal)}))}),hr=Object(c.a)(function(e){return{root:{flex:"1 1 auto"},horizontal:{},vertical:{marginLeft:12,padding:"0 0 8px"},alternativeLabel:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"},active:{},completed:{},disabled:{},line:{display:"block",borderColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},lineHorizontal:{borderTopStyle:"solid",borderTopWidth:1},lineVertical:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}},{name:"MuiStepConnector"})(pr),fr=y.a.forwardRef(function(e,t){var n=e.active,r=(e.alternativeLabel,e.children),a=e.classes,i=e.className,o=(e.completed,e.last),s=(e.optional,e.orientation,e.TransitionComponent),u=void 0===s?Ve.a:s,c=e.transitionDuration,l=void 0===c?"auto":c,d=e.TransitionProps,p=g()(e,["active","alternativeLabel","children","classes","className","completed","last","optional","orientation","TransitionComponent","transitionDuration","TransitionProps"]),h=l;return"auto"!==l||u.muiSupportAuto||(h=void 0),y.a.createElement("div",m()({className:Object(b.a)(a.root,i,o&&a.last),ref:t},p),y.a.createElement(u,m()({in:n,className:a.transition,timeout:h,unmountOnExit:!0},d),r))}),mr=Object(c.a)(function(e){return{root:{marginTop:8,marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:"1px solid ".concat("light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600])},last:{borderLeft:"none"},transition:{}}},{name:"MuiStepContent"})(fr),vr=y.a.createElement(hr,null),gr=y.a.forwardRef(function(e,t){var n=e.activeStep,r=void 0===n?0:n,a=e.alternativeLabel,i=void 0!==a&&a,o=e.children,s=e.classes,u=e.className,c=e.connector,l=void 0===c?vr:c,d=e.nonLinear,p=void 0!==d&&d,h=e.orientation,f=void 0===h?"horizontal":h,v=g()(e,["activeStep","alternativeLabel","children","classes","className","connector","nonLinear","orientation"]),A=Object(b.a)(s.root,s[f],u,i&&s.alternativeLabel),x=y.a.isValidElement(l)?y.a.cloneElement(l,{orientation:f}):null,w=y.a.Children.toArray(o),_=w.map(function(e,t){var n={alternativeLabel:i,connector:l,last:t+1===w.length,orientation:f},a={index:t,active:!1,completed:!1,disabled:!1};return r===t?a.active=!0:!p&&r>t?a.completed=!0:!p&&r<t&&(a.disabled=!0),[!i&&x&&0!==t&&y.a.cloneElement(x,m()({key:t},a)),y.a.cloneElement(e,m()({},n,a,e.props))]});return y.a.createElement(rt.a,m()({square:!0,elevation:0,className:A,ref:t},v),_)}),Ar=Object(c.a)({root:{display:"flex",padding:24},horizontal:{flexDirection:"row",alignItems:"center"},vertical:{flexDirection:"column"},alternativeLabel:{alignItems:"flex-start"}},{name:"MuiStepper"})(gr),yr=n(52),br=n.n(yr),xr=n(75),wr=y.a.forwardRef(function(e,t){var n=e.anchor,r=e.classes,a=e.className,i=e.width,o=g()(e,["anchor","classes","className","width"]);return y.a.createElement("div",m()({className:Object(b.a)(r.root,r["anchor".concat(Object(x.a)(n))],a),ref:t,style:L()({},ot(n)?"width":"height",i)},o))}),_r=Object(c.a)(function(e){return{root:{position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1},anchorLeft:{right:"auto"},anchorRight:{left:"auto",right:0},anchorTop:{bottom:"auto",right:0},anchorBottom:{top:"auto",bottom:0,right:0}}},{name:"PrivateSwipeArea"})(wr),kr=null;function Or(e,t){return"right"===e?document.body.offsetWidth-t[0].pageX:t[0].pageX}function Er(e,t){return"bottom"===e?window.innerHeight-t[0].clientY:t[0].clientY}function Sr(e,t){return e?t.clientWidth:t.clientHeight}function Cr(e,t,n,r){return Math.min(Math.max(n?t-e:r+t-e,0),r)}var Tr="undefined"!==typeof window?y.a.useLayoutEffect:y.a.useEffect,Ir=y.a.forwardRef(function(e,t){var n=e.anchor,r=e.disableBackdropTransition,a=e.disableDiscovery,i=e.disableSwipeToOpen,o=e.hideBackdrop,s=e.hysteresis,u=e.minFlingVelocity,c=e.ModalProps,l=(c=void 0===c?{}:c).BackdropProps,d=g()(c,["BackdropProps"]),p=e.onClose,h=e.onOpen,f=e.open,v=e.PaperProps,A=void 0===v?{}:v,b=e.SwipeAreaProps,x=e.swipeAreaWidth,w=e.theme,_=e.transitionDuration,k=e.variant,O=g()(e,["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","theme","transitionDuration","variant"]),E=y.a.useState(!1),S=se()(E,2),C=S[0],T=S[1],I=y.a.useRef({isSwiping:null}),j=y.a.useRef(),M=y.a.useRef(),N=y.a.useRef(),D=y.a.useRef(!1),R=y.a.useRef(f);Tr(function(){R.current=f},[f]);var P=y.a.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.mode,i=void 0===a?null:a,s=t.changeTransition,u=void 0===s||s,c=st(w,n),l=-1!==["right","bottom"].indexOf(c)?1:-1,d=ot(n),p=d?"translate(".concat(l*e,"px, 0)"):"translate(0, ".concat(l*e,"px)"),h=N.current.style;h.webkitTransform=p,h.transform=p;var f="";if(i&&(f=w.transitions.create("all",Object(xr.a)({timeout:_},{mode:i}))),u&&(h.webkitTransition=f,h.transition=f),!r&&!o){var m=M.current.style;m.opacity=1-e/Sr(d,N.current),u&&(m.webkitTransition=f,m.transition=f)}},[n,r,o,w,_]),L=y.a.useCallback(function(e){if(D.current)if(kr=null,D.current=!1,T(!1),I.current.isSwiping){I.current.isSwiping=null;var t,r=st(w,n),a=ot(n);t=a?Or(r,e.changedTouches):Er(r,e.changedTouches);var i=a?I.current.startX:I.current.startY,o=Sr(a,N.current),c=Cr(t,i,R.current,o)/o;R.current?I.current.velocity>u||c>s?p():P(0,{mode:"exit"}):I.current.velocity<-u||1-c>s?h():P(Sr(a,N.current),{mode:"enter"})}else I.current.isSwiping=null},[n,s,u,p,h,P,w]),F=y.a.useCallback(function(e){if(N.current&&D.current){var t=st(w,n),r=ot(n),i=Or(t,e.touches),o=Er(t,e.touches);if(null==I.current.isSwiping){var s=Math.abs(i-I.current.startX),u=Math.abs(o-I.current.startY);s>u&&e.cancelable&&e.preventDefault();var c=r?s>u&&s>3:u>s&&u>3;if(!0===c||(r?u>3:s>3)){if(I.current.isSwiping=c,!c)return void L(e);I.current.startX=i,I.current.startY=o,a||R.current||(r?I.current.startX-=x:I.current.startY-=x)}}if(I.current.isSwiping){var l=r?I.current.startX:I.current.startY,d=Sr(r,N.current),p=Cr(r?i:o,l,R.current,d);null===I.current.lastTranslate&&(I.current.lastTranslate=p,I.current.lastTime=performance.now()+1);var h=(p-I.current.lastTranslate)/(performance.now()-I.current.lastTime)*1e3;I.current.velocity=.4*I.current.velocity+.6*h,I.current.lastTranslate=p,I.current.lastTime=performance.now(),e.cancelable&&e.preventDefault(),P(p)}}},[P,L,n,a,x,w]),B=y.a.useCallback(function(e){if(null===kr||kr===I.current){var t=st(w,n),r=ot(n),o=Or(t,e.touches),s=Er(t,e.touches);if(!R.current){if(i||e.target!==j.current)return;if(r){if(o>x)return}else if(s>x)return}kr=I.current,I.current.startX=o,I.current.startY=s,T(!0),!R.current&&N.current&&P(Sr(r,N.current)+(a?20:-x),{changeTransition:!1}),I.current.velocity=0,I.current.lastTime=null,I.current.lastTranslate=null,D.current=!0}},[P,n,a,i,x,w]);y.a.useEffect(function(){if("temporary"===k)return document.body.addEventListener("touchstart",B),document.body.addEventListener("touchmove",F,{passive:!1}),document.body.addEventListener("touchend",L),function(){document.body.removeEventListener("touchstart",B),document.body.removeEventListener("touchmove",F,{passive:!1}),document.body.removeEventListener("touchend",L)}},[k,B,F,L]),y.a.useEffect(function(){return function(){kr===I.current&&(kr=null)}},[]),y.a.useEffect(function(){f||T(!1)},[f]);var z=y.a.useCallback(function(e){M.current=br.a.findDOMNode(e)},[]),U=y.a.useCallback(function(e){N.current=br.a.findDOMNode(e)},[]);return y.a.createElement(y.a.Fragment,null,y.a.createElement(lt,m()({open:!("temporary"!==k||!C)||f,variant:k,ModalProps:m()({BackdropProps:m()({},l,{ref:z})},d),PaperProps:m()({},A,{style:m()({pointerEvents:"temporary"!==k||f?"":"none"},A.style),ref:U}),anchor:n,transitionDuration:_,onClose:p,ref:t},O)),!i&&"temporary"===k&&y.a.createElement(Dn.a,null,y.a.createElement(_r,m()({anchor:n,ref:j,width:x},b))))});Ir.defaultProps={anchor:"left",disableBackdropTransition:!1,disableDiscovery:!1,disableSwipeToOpen:"undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),hysteresis:.55,minFlingVelocity:400,swipeAreaWidth:20,transitionDuration:{enter:at.b.enteringScreen,exit:at.b.leavingScreen},variant:"temporary"};var jr=Object(l.a)(Ir),Mr=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.color,i=void 0===a?"secondary":a,o=e.edge,s=void 0!==o&&o,u=g()(e,["classes","className","color","edge"]),c=y.a.createElement("span",{className:n.thumb});return y.a.createElement("span",{className:Object(b.a)(n.root,r,"start"===s&&n.edgeStart,"end"===s&&n.edgeEnd)},y.a.createElement(Bn.a,m()({type:"checkbox",icon:c,checkedIcon:c,classes:{root:Object(b.a)(n.switchBase,n["color".concat(Object(x.a)(i))]),input:n.input,checked:n.checked,disabled:n.disabled},ref:t},u)),y.a.createElement("span",{className:n.track}))}),Nr=Object(c.a)(function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle"},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(50%)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(ye.d)(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(ye.d)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}},{name:"MuiSwitch"})(Mr),Dr=n(830),Rr=y.a.createContext(),Pr=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.component,i=void 0===a?"table":a,o=e.padding,s=void 0===o?"default":o,u=e.size,c=void 0===u?"medium":u,l=g()(e,["classes","className","component","padding","size"]),d=y.a.useMemo(function(){return{padding:s,size:c}},[s,c]);return y.a.createElement(Rr.Provider,{value:d},y.a.createElement(i,m()({ref:t,className:Object(b.a)(n.root,r)},l)))}),Lr=Object(c.a)({root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0}},{name:"MuiTable"})(Pr),Fr=y.a.createContext(),Br={variant:"body"},zr=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.component,i=void 0===a?"tbody":a,o=g()(e,["classes","className","component"]);return y.a.createElement(Fr.Provider,{value:Br},y.a.createElement(i,m()({className:Object(b.a)(n.root,r),ref:t},o)))}),Ur=Object(c.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(zr),Vr=y.a.forwardRef(function(e,t){var n,r=e.align,a=void 0===r?"inherit":r,i=e.classes,o=e.className,s=e.component,u=e.padding,c=e.scope,l=e.size,d=e.sortDirection,p=e.variant,h=g()(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),f=y.a.useContext(Rr),v=y.a.useContext(Fr);n=s||(v&&"head"===v.variant?"th":"td");var A=c;!A&&v&&"head"===v.variant&&(A="col");var w=u||(f&&f.padding?f.padding:"default"),_=l||(f&&f.size?f.size:"medium"),k=null;return d&&(k="asc"===d?"ascending":"descending"),y.a.createElement(n,m()({ref:t,className:Object(b.a)(i.root,o,(p?"head"===p:v&&"head"===v.variant)&&i.head,(p?"body"===p:v&&"body"===v.variant)&&i.body,(p?"footer"===p:v&&"footer"===v.variant)&&i.footer,"inherit"!==a&&i["align".concat(Object(x.a)(a))],"default"!==w&&i["padding".concat(Object(x.a)(w))],"medium"!==_&&i["size".concat(Object(x.a)(_))]),"aria-sort":k,scope:A},h))}),Wr=Object(c.a)(function(e){return{root:m()({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(ye.i)(Object(ye.d)(e.palette.divider,1),.88):Object(ye.a)(Object(ye.d)(e.palette.divider,1),.68)),textAlign:"left",padding:"14px 40px 14px 16px","&:last-child":{paddingRight:16}}),head:{color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),lineHeight:e.typography.pxToRem(21),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"}}},{name:"MuiTableCell"})(Vr),Gr={variant:"footer"},Hr=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.component,i=void 0===a?"tfoot":a,o=g()(e,["classes","className","component"]);return y.a.createElement(Fr.Provider,{value:Gr},y.a.createElement(i,m()({className:Object(b.a)(n.root,r),ref:t},o)))}),qr=Object(c.a)({root:{display:"table-footer-group"}},{name:"MuiTableFooter"})(Hr),Kr={variant:"head"},Xr=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.component,i=void 0===a?"thead":a,o=g()(e,["classes","className","component"]);return y.a.createElement(Fr.Provider,{value:Kr},y.a.createElement(i,m()({className:Object(b.a)(n.root,r),ref:t},o)))}),Qr=Object(c.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(Xr),Yr=n(808),$r=n(251),Zr=n(250),Jr=y.a.createElement(Zr.a,null),ea=y.a.createElement($r.a,null),ta=y.a.createElement($r.a,null),na=y.a.createElement(Zr.a,null),ra=y.a.forwardRef(function(e,t){var n=e.backIconButtonProps,r=e.count,a=e.nextIconButtonProps,i=e.onChangePage,o=e.page,s=e.rowsPerPage,u=e.theme,c=g()(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","page","rowsPerPage","theme"]);return y.a.createElement("div",m()({ref:t},c),y.a.createElement(yt.a,m()({onClick:function(e){i(e,o-1)},disabled:0===o,color:"inherit"},n),"rtl"===u.direction?Jr:ea),y.a.createElement(yt.a,m()({onClick:function(e){i(e,o+1)},disabled:o>=Math.ceil(r/s)-1,color:"inherit"},a),"rtl"===u.direction?ta:na))}),aa=Object(l.a)(ra),ia=function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," of ").concat(r)},oa=[10,25,50,100],sa=y.a.forwardRef(function(e,t){var n,r=e.ActionsComponent,a=void 0===r?aa:r,i=e.backIconButtonProps,o=e.classes,s=e.colSpan,u=e.component,c=void 0===u?Wr:u,l=e.count,d=e.labelDisplayedRows,p=void 0===d?ia:d,h=e.labelRowsPerPage,f=void 0===h?"Rows per page:":h,v=e.nextIconButtonProps,A=e.onChangePage,b=e.onChangeRowsPerPage,x=e.page,w=e.rowsPerPage,_=e.rowsPerPageOptions,k=void 0===_?oa:_,O=e.SelectProps,E=void 0===O?{}:O,S=g()(e,["ActionsComponent","backIconButtonProps","classes","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onChangePage","onChangeRowsPerPage","page","rowsPerPage","rowsPerPageOptions","SelectProps"]);c!==Wr&&"td"!==c||(n=s||1e3);var C=E.native?"option":Cn.a;return y.a.createElement(c,m()({className:o.root,colSpan:n,ref:t},S),y.a.createElement(Yr.a,{className:o.toolbar},y.a.createElement("div",{className:o.spacer}),k.length>1&&y.a.createElement(Ae.a,{color:"inherit",variant:"caption",className:o.caption},f),k.length>1&&y.a.createElement($n.a,m()({classes:{root:o.selectRoot,select:o.select,icon:o.selectIcon},input:y.a.createElement(dn.a,{className:o.input}),value:w,onChange:b},E),k.map(function(e){return y.a.createElement(C,{className:o.menuItem,key:e,value:e},e)})),y.a.createElement(Ae.a,{color:"inherit",variant:"caption",className:o.caption},p({from:0===l?0:x*w+1,to:Math.min(l,(x+1)*w),count:l,page:x})),y.a.createElement(a,{className:o.actions,backIconButtonProps:i,count:l,nextIconButtonProps:v,onChangePage:A,page:x,rowsPerPage:w})))}),ua=Object(c.a)(function(e){return{root:{color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),"&:last-child":{padding:0}},toolbar:{height:56,minHeight:56,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{top:1},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}},{name:"MuiTablePagination"})(sa),ca=y.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.component,i=void 0===a?"tr":a,o=e.hover,s=void 0!==o&&o,u=e.selected,c=void 0!==u&&u,l=g()(e,["classes","className","component","hover","selected"]),d=y.a.useContext(Fr);return y.a.createElement(i,m()({ref:t,className:Object(b.a)(n.root,r,d&&["head"===d.variant&&n.head,"footer"===d.variant&&n.footer],s&&n.hover,c&&n.selected)},l))}),la=Object(c.a)(function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:"none","&$selected":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.08)"},"&$hover:hover":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.07)":"rgba(255, 255, 255, 0.14)"}},selected:{},hover:{},head:{},footer:{}}},{name:"MuiTableRow"})(ca),da=Object(be.a)(y.a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),pa=y.a.forwardRef(function(e,t){var n=e.active,r=void 0!==n&&n,a=e.children,i=e.classes,o=e.className,s=e.direction,u=void 0===s?"desc":s,c=e.hideSortIcon,l=void 0!==c&&c,d=e.IconComponent,p=void 0===d?da:d,h=g()(e,["active","children","classes","className","direction","hideSortIcon","IconComponent"]);return y.a.createElement(E.a,m()({className:Object(b.a)(i.root,o,r&&i.active),component:"span",disableRipple:!0,ref:t},h),a,l&&!r?null:y.a.createElement(p,{className:Object(b.a)(i.icon,i["iconDirection".concat(Object(x.a)(u))])}))}),ha=Object(c.a)(function(e){return{root:{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:e.palette.text.primary},"&:hover":{color:e.palette.text.primary,"& $icon":{opacity:1,color:e.palette.text.secondary}},"&$active":{color:e.palette.text.primary,"&& $icon":{opacity:1,color:e.palette.text.primary}}},active:{},icon:{height:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",width:18},iconDirectionDesc:{transform:"rotate(0deg)"},iconDirectionAsc:{transform:"rotate(180deg)"}}},{name:"MuiTableSortLabel"})(pa),fa=n(832),ma=n(813),va=n(723);function ga(e,t,n){var r,a=n.disableHysteresis,i=void 0!==a&&a,o=n.threshold,s=void 0===o?100:o,u=t.current;return t.current=e?void 0!==(r=e.currentTarget).pageYOffset?r.pageYOffset:r.scrollTop:u,!(!i&&void 0!==u&&t.current<u)&&t.current>s}var Aa="undefined"!==typeof window?window:null;function ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getTrigger,n=void 0===t?ga:t,r=e.target,a=void 0===r?Aa:r,i=g()(e,["getTrigger","target"]),o=y.a.useRef(),s=y.a.useState(function(){return n(null,o,i)}),u=se()(s,2),c=u[0],l=u[1];return y.a.useEffect(function(){var e=function(e){l(n(e,o,i))};return e(null),a.addEventListener("scroll",e),function(){a.removeEventListener("scroll",e)}},[a,n,JSON.stringify(i)]),c}var ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.breakpoint,r=void 0===n?"sm":n;return tn()(function(e){return y.a.createElement(t,m()({fullScreen:Jt(r,e.width)},e))})}},xa=n(810);n.d(t,"colors",function(){return r}),n.d(t,"createMuiTheme",function(){return a.a}),n.d(t,"createStyles",function(){return i.a}),n.d(t,"makeStyles",function(){return o.a}),n.d(t,"MuiThemeProvider",function(){return s.a}),n.d(t,"styled",function(){return u.a}),n.d(t,"withStyles",function(){return c.a}),n.d(t,"withTheme",function(){return l.a}),n.d(t,"AppBar",function(){return d.a}),n.d(t,"Avatar",function(){return p.a}),n.d(t,"Backdrop",function(){return h.a}),n.d(t,"Badge",function(){return _}),n.d(t,"BottomNavigation",function(){return O}),n.d(t,"BottomNavigationAction",function(){return C}),n.d(t,"Box",function(){return ge}),n.d(t,"Breadcrumbs",function(){return Oe}),n.d(t,"Button",function(){return Ee.a}),n.d(t,"ButtonBase",function(){return E.a}),n.d(t,"ButtonGroup",function(){return Ce}),n.d(t,"Card",function(){return Te.a}),n.d(t,"CardActionArea",function(){return je}),n.d(t,"CardActions",function(){return Ne}),n.d(t,"CardContent",function(){return De.a}),n.d(t,"CardHeader",function(){return Pe}),n.d(t,"CardMedia",function(){return Le.a}),n.d(t,"Checkbox",function(){return Fe.a}),n.d(t,"Chip",function(){return Be.a}),n.d(t,"CircularProgress",function(){return ze.a}),n.d(t,"ClickAwayListener",function(){return Ue.a}),n.d(t,"Collapse",function(){return Ve.a}),n.d(t,"Container",function(){return Ge}),n.d(t,"CssBaseline",function(){return qe}),n.d(t,"Dialog",function(){return Ke.a}),n.d(t,"DialogActions",function(){return Xe.a}),n.d(t,"DialogContent",function(){return Qe.a}),n.d(t,"DialogContentText",function(){return $e}),n.d(t,"DialogTitle",function(){return Je}),n.d(t,"Divider",function(){return et.a}),n.d(t,"Drawer",function(){return lt}),n.d(t,"ExpansionPanel",function(){return ft}),n.d(t,"ExpansionPanelActions",function(){return vt}),n.d(t,"ExpansionPanelDetails",function(){return At}),n.d(t,"ExpansionPanelSummary",function(){return xt}),n.d(t,"Fab",function(){return wt.a}),n.d(t,"Fade",function(){return _t.a}),n.d(t,"FilledInput",function(){return kt.a}),n.d(t,"FormControl",function(){return Ot.a}),n.d(t,"FormControlLabel",function(){return Et.a}),n.d(t,"FormGroup",function(){return Ct}),n.d(t,"FormHelperText",function(){return Tt.a}),n.d(t,"FormLabel",function(){return It.a}),n.d(t,"Grid",function(){return jt.a}),n.d(t,"GridList",function(){return Nt}),n.d(t,"GridListTile",function(){return Bt}),n.d(t,"GridListTileBar",function(){return Ut}),n.d(t,"Grow",function(){return Vt.a}),n.d(t,"Hidden",function(){return sn}),n.d(t,"Icon",function(){return un.a}),n.d(t,"IconButton",function(){return yt.a}),n.d(t,"Input",function(){return cn.a}),n.d(t,"InputAdornment",function(){return ln.a}),n.d(t,"InputBase",function(){return dn.a}),n.d(t,"InputLabel",function(){return pn.a}),n.d(t,"LinearProgress",function(){return fn}),n.d(t,"Link",function(){return gn}),n.d(t,"List",function(){return An.a}),n.d(t,"ListItem",function(){return yn.a}),n.d(t,"ListItemAvatar",function(){return bn.a}),n.d(t,"ListItemIcon",function(){return wn}),n.d(t,"ListItemSecondaryAction",function(){return _n.a}),n.d(t,"ListItemText",function(){return kn.a}),n.d(t,"ListSubheader",function(){return En}),n.d(t,"Menu",function(){return Sn.a}),n.d(t,"MenuItem",function(){return Cn.a}),n.d(t,"MenuList",function(){return Tn.a}),n.d(t,"MobileStepper",function(){return jn}),n.d(t,"Modal",function(){return tt.a}),n.d(t,"ModalManager",function(){return Mn.a}),n.d(t,"NativeSelect",function(){return Nn.a}),n.d(t,"NoSsr",function(){return Dn.a}),n.d(t,"OutlinedInput",function(){return Rn.a}),n.d(t,"Paper",function(){return rt.a}),n.d(t,"Popover",function(){return Pn.a}),n.d(t,"Popper",function(){return Ln.a}),n.d(t,"Portal",function(){return Fn.a}),n.d(t,"Radio",function(){return Xn}),n.d(t,"RadioGroup",function(){return Qn}),n.d(t,"RootRef",function(){return Yn.a}),n.d(t,"Select",function(){return $n.a}),n.d(t,"Slide",function(){return nt.a}),n.d(t,"Snackbar",function(){return Zn.a}),n.d(t,"SnackbarContent",function(){return Jn.a}),n.d(t,"Step",function(){return tr}),n.d(t,"StepButton",function(){return dr}),n.d(t,"StepConnector",function(){return hr}),n.d(t,"StepContent",function(){return mr}),n.d(t,"StepIcon",function(){return sr}),n.d(t,"StepLabel",function(){return cr}),n.d(t,"Stepper",function(){return Ar}),n.d(t,"SvgIcon",function(){return ar.a}),n.d(t,"SwipeableDrawer",function(){return jr}),n.d(t,"Switch",function(){return Nr}),n.d(t,"Tab",function(){return Dr.a}),n.d(t,"Table",function(){return Lr}),n.d(t,"TableBody",function(){return Ur}),n.d(t,"TableCell",function(){return Wr}),n.d(t,"TableFooter",function(){return qr}),n.d(t,"TableHead",function(){return Qr}),n.d(t,"TablePagination",function(){return ua}),n.d(t,"TableRow",function(){return la}),n.d(t,"TableSortLabel",function(){return ha}),n.d(t,"Tabs",function(){return fa.a}),n.d(t,"TextField",function(){return ma.a}),n.d(t,"Toolbar",function(){return Yr.a}),n.d(t,"Tooltip",function(){return va.a}),n.d(t,"Typography",function(){return Ae.a}),n.d(t,"useMediaQuery",function(){return $t}),n.d(t,"useScrollTrigger",function(){return ya}),n.d(t,"withMobileDialog",function(){return ba}),n.d(t,"withWidth",function(){return tn}),n.d(t,"Zoom",function(){return xa.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return c});var r=n(5),a=n(11),i=function(){function e(){Object(r.a)(this,e),this.saveRouters=[],this.loadRouters=[]}return Object(a.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(e){var n=e(t,r);null!==n&&a.push(n)}),a}}]),e}(),o=function(e){return i.registerSaveRouter(e)},s=function(e){return i.registerLoadRouter(e)},u=function(e){return i.getSaveHandlers(e)},c=function(e,t){return i.getLoadHandlers(e,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(35),c=n(8);var l=Object(c.b)({greater_:function(e,t){var n=Object(s.a)(e,"a","greater","string_or_numeric"),c=Object(s.a)(t,"b","greater","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.sb,p)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({abs_:function(e){var t=Object(i.a)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.a.runKernel(a.C,n)}var o={x:t};return r.a.runKernel(a.a,o)}})},function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return g});var r=n(35),a=n(211),i=n(213),o=n(21),s=n(218),u=n(138),c=n(219),l=n(19),d=n(123),p=n(139),h=n(36);function f(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Object(o.a)(e,Object(p.a)(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function m(e,t){var n=t,a=r.getReductionAxes(e.shape,t.shape);return a.length>0&&(n=Object(h.a)(n,a)),Object(l.a)(n,e.shape)}function v(e,t,n,r){if("linear"===t)return e;if("relu"===t)return Object(u.a)(e);if("elu"===t)return Object(a.a)(e);if("relu6"===t)return Object(c.a)(e);if("prelu"===t)return Object(s.a)(e,n);if("leakyrelu"===t)return Object(i.a)(e,r);if("sigmoid"===t)return Object(d.a)(e);throw new Error("Unknown fused activation ".concat(t,"."))}var g=function(e,t){return!(e>0)||"linear"===t}},function(e,t,n){"use strict";var r=n(18),a=n(12),i=n(17),o=n(7),s=n.n(o),u=n(16),c=n(5),l=n(11),d=n(0),p=n(147),h=n(126);function f(e){return e instanceof d.kd?{value:e.clone(),recurse:!1}:Object(h.e)(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var m=n(29),v=function(){function e(t){if(Object(c.a)(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return Object(l.a)(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;this.push(o)}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}(),g=function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(a.a)(t).call(this,t.INITIAL_CAPACITY))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){Object(m.a)(Object(a.a)(t.prototype),"isFull",this).call(this)&&this.expand(),Object(m.a)(Object(a.a)(t.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){Object(m.a)(Object(a.a)(t.prototype),"isFull",this).call(this)&&this.expand(),Object(m.a)(Object(a.a)(t.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),t}(v);function A(e){return new k(e)}function y(e){return new O(e)}function b(e,t){return new P(e,t)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.FAIL;return new L(e,t)}g.INITIAL_CAPACITY=32,n.d(t,"f",function(){return A}),n.d(t,"e",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"g",function(){return x}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return D}),n.d(t,"c",function(){return w});var w,_=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"toArray",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.next();case 3:n=e.sent;case 4:if(n.done){e.next=11;break}return t.push(n.value),e.next=8,this.next();case 8:n=e.sent,e.next=4;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.prefetch(100),n=[],e.next=4,t.next();case 4:r=e.sent;case 5:if(r.done){e.next=12;break}return n.push(r.value),e.next=9,t.next();case 9:r=e.sent,e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:t=e.sent;case 3:if(t.done){e.next=9;break}return e.next=6,this.next();case 6:t=e.sent,e.next=3;break;case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=Object(u.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:n=e.sent,r=t(n.value);case 4:if(n.done||!r){e.next=11;break}return e.next=7,this.next();case 7:n=e.sent,r=t(n.value),e.next=4;break;case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new M(this,e)}},{key:"filter",value:function(e){return new I(this,e)}},{key:"map",value:function(e){return new j(this,e)}},{key:"mapAsync",value:function(e){return new N(this,e)}},{key:"serialMapAsync",value:function(e){return new N(this,e).serial()}},{key:"flatmap",value:function(e){return new R(this,e)}},{key:"forEachAsync",value:function(){var e=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map(t).resolveFully());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialMapAsync(t).resolveWhile(function(e){return!0===e}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new T(this,e,t)}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.f;return this.rowMajorBatch(e,t).map(function(e){return Object(h.d)(e,n)})}},{key:"concatenate",value:function(e,t){return new P(A([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new C(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new S(this,e)}},{key:"prefetch",value:function(e){return new F(this,e)}},{key:"shuffle",value:function(e,t){return new B(this,e,t)}},{key:"serial",value:function(){return new E(this)}}]),e}(),k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(r.a)(this,Object(a.a)(t).call(this))).items=e,n.trav=0,n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trav>=this.items.length)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=this.items[this.trav],this.trav++,e.abrupt("return",{value:(n=t,Object(h.b)(n,f)),done:!1});case 5:case"end":return e.stop()}var n},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(_),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(r.a)(this,Object(a.a)(t).call(this))).nextFn=e,n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.nextFn());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0.message="Error thrown while iterating through a dataset: ".concat(e.t0.message),e.t0;case 8:case"end":return e.stop()}},e,this,[[0,4]])}));return function(){return e.apply(this,arguments)}}()}]),t}(_),E=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,n.lastRead=Promise.resolve({value:null,done:!1}),n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.upstream.next());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(_),S=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.maxCount=n,i.count=0,i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++<this.maxCount)){e.next=9;break}return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done){e.next=6;break}return e.abrupt("return",t);case 6:d.ce(t.value),e.next=0;break;case 9:return e.abrupt("return",this.upstream.next());case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(_),C=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.maxCount=n,i.count=0,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++>=this.maxCount)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.abrupt("return",this.upstream.next());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(_),T=function(e){function t(e,n){var i,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.batchSize=n,i.enableSmallLastBatch=o,i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.batchSize)){e.next=12;break}return e.next=4,this.upstream.next();case 4:if(!(n=e.sent).done){e.next=9;break}if(!(this.enableSmallLastBatch&&t.length>0)){e.next=8;break}return e.abrupt("return",{value:t,done:!1});case 8:return e.abrupt("return",{value:null,done:!0});case 9:t.push(n.value),e.next=1;break;case 12:return e.abrupt("return",{value:t,done:!1});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(_),I=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.predicate=n,i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done&&!this.predicate(t.value)){e.next=6;break}return e.abrupt("return",t);case 6:d.ce(t.value),e.next=0;break;case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(_),j=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.transform=n,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,r,a,i,o,u,c,l,p;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:for(n=d.Df.getTensorsInContainer(t.value),r=this.transform(t.value),a=d.Df.getTensorsInContainer(r),i=!0,o=!1,u=void 0,e.prev=11,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)p=l.value,d.Df.isTensorInList(p,a)||p.dispose();e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),o=!0,u=e.t0;case 19:e.prev=19,e.prev=20,i||null==c.return||c.return();case 22:if(e.prev=22,!o){e.next=25;break}throw u;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.abrupt("return",{value:r,done:!1});case 28:case"end":return e.stop()}},e,this,[[11,15,19,27],[20,,22,26]])}));return function(){return e.apply(this,arguments)}}()}]),t}(_),M=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.handler=n,i.count=0,i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.upstream.next();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),this.handler(e.t0)){e.next=11;break}return e.abrupt("return",{value:null,done:!0});case 11:e.next=0;break;case 13:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()}]),t}(_),N=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.transform=n,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,r,a,i,o,u,c,l,p;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:return n=d.Df.getTensorsInContainer(t.value),e.next=8,this.transform(t.value);case 8:for(r=e.sent,a=d.Df.getTensorsInContainer(r),i=!0,o=!1,u=void 0,e.prev=13,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)p=l.value,d.Df.isTensorInList(p,a)||p.dispose();e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),o=!0,u=e.t0;case 21:e.prev=21,e.prev=22,i||null==c.return||c.return();case 24:if(e.prev=24,!o){e.next=27;break}throw u;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.abrupt("return",{value:r,done:!1});case 30:case"end":return e.stop()}},e,this,[[13,17,21,29],[22,,24,28]])}));return function(){return e.apply(this,arguments)}}()}]),t}(_),D=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(a.a)(t).call(this))).outputQueue=new g,e.lastRead=Promise.resolve({value:null,done:!1}),e}return Object(i.a)(t,e),Object(l.a)(t,[{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.outputQueue.length()){e.next=7;break}return e.next=3,this.pump();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:e.next=0;break;case 7:return e.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(_),R=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.transform=n,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,r,a,i,o,u,c,l,p;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:for(n=d.Df.getTensorsInContainer(t.value),r=this.transform(t.value),a=d.Df.getTensorsInContainer(r),this.outputQueue.pushAll(r),i=!0,o=!1,u=void 0,e.prev=12,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)p=l.value,d.Df.isTensorInList(p,a)||p.dispose();e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),o=!0,u=e.t0;case 20:e.prev=20,e.prev=21,i||null==c.return||c.return();case 23:if(e.prev=23,!o){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",!0);case 29:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}));return function(){return e.apply(this,arguments)}}()}]),t}(D),P=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).baseErrorHandler=n,i.lastRead=null,i.iterator=null,i.moreIterators=e,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.readFromChain(this.lastRead),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=Object(u.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(null!=this.iterator){e.next=10;break}return e.next=5,this.moreIterators.next();case 5:if(!(n=e.sent).done){e.next=8;break}return e.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 10:return e.next=12,this.iterator.next();case 12:if(!(r=e.sent).done){e.next=16;break}return this.iterator=null,e.abrupt("return",this.readFromChain(t));case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(_);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(w||(w={}));var L=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.FAIL;return Object(c.a)(this,t),(n=Object(r.a)(this,Object(a.a)(t).call(this))).iterators=e,n.mismatchMode=i,n.count=0,n.currentPromise=null,n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"{".concat("TODO: fill in upstream of zip summaries","} -> Zip")}},{key:"nextState",value:function(){var e=Object(u.a)(s.a.mark(function e(t){var n,r,a,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return e instanceof _?{value:e.next().then(function(e){return n++,e.done&&r++,e.value}),recurse:!1}:{value:null,recurse:!0}},e.next=3,t;case 3:return n=0,r=0,e.next=7,Object(h.c)(this.iterators,a);case 7:if(i=e.sent,n!==r){e.next=10;break}return e.abrupt("return",{value:null,done:!0});case 10:if(!(r>0)){e.next=16;break}e.t0=this.mismatchMode,e.next=e.t0===w.FAIL?14:e.t0===w.SHORTEST?15:(e.t0,w.LONGEST,16);break;case 14:throw new Error("Zipped streams should have the same length. "+"Mismatched at element ".concat(this.count,"."));case 15:return e.abrupt("return",{value:null,done:!0});case 16:return this.count++,e.abrupt("return",{value:i,done:!1});case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentPromise=this.nextState(this.currentPromise),e.abrupt("return",this.currentPromise);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(_),F=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.bufferSize=n,i.buffer=new v(n),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),t}(_),B=function(e){function t(e,n,i){var o;return Object(c.a)(this,t),(o=Object(r.a)(this,Object(a.a)(t).call(this,e,n))).upstream=e,o.windowSize=n,o.upstreamExhausted=!1,o.random=p.alea(i||d.Lf.now().toString()),o.lastRead=Promise.resolve({value:null,done:!1}),o}return Object(i.a)(t,e),Object(l.a)(t,[{key:"next",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){e.next=14;break}return t=this.chooseIndex(),e.next=5,this.buffer.shuffleExcise(t);case 5:if(!(n=e.sent).done){e.next=10;break}this.upstreamExhausted=!0,e.next=12;break;case 10:return this.refill(),e.abrupt("return",n);case 12:e.next=1;break;case 14:return e.abrupt("return",{value:null,done:!0});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(F)},function(e,t,n){"use strict";var r=n(245),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var a=h(n);a&&a!==f&&e(t,a,r)}var o=l(n);d&&(o=o.concat(d(n)));for(var s=u(t),m=u(n),v=0;v<o.length;++v){var g=o[v];if(!i[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var A=p(n,g);try{c(t,g,A)}catch(y){}}}}return t}},function(e,t,n){"use strict";t.a=function(e){return e&&e.ownerDocument||document}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(13),a=n(20);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",a.d(e),new r.b(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({reverse_:function(e,t){var n={x:Object(i.a)(e,"x","reverse")},o={dims:t};return r.a.runKernel(a.Ac,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(10),a=n(49),i=n(4),o=n(3),s=n(20),u=n(100),c=n(170),l=n(54),d=n(8),p=n(156);var h=Object(d.b)({transpose_:function(e,t,n){var d=Object(o.a)(e,"x","transpose");if(null==t&&(t=d.shape.map(function(e,t){return t}).reverse()),s.c(d.rank===t.length,function(){return"Error in transpose: rank of input ".concat(d.rank," ")+"must match length of perm ".concat(t,".")}),t.forEach(function(e){s.c(e>=0&&e<d.rank,function(){return"All entries in 'perm' must be between 0 and ".concat(d.rank-1)+" but got ".concat(t)})}),d.rank<=1)return d.clone();var h={x:d},f={perm:t};return"complex64"===d.dtype?Object(a.h)(function(){var e=Object(p.a)(d),t=Object(c.a)(d);return e=r.a.runKernel(i.nd,{x:e},f),t=r.a.runKernel(i.nd,{x:t},f),n&&(t=Object(l.a)(t)),Object(u.a)(e,t)}):r.a.runKernel(i.nd,h,f)}})},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(9),a=n.n(r),i=n(1),o=n.n(i),s=n(85),u=n.n(s),c=n(157);function l(e){var t=o.a.forwardRef(function(t,n){return o.a.createElement(c.a.Consumer,null,function(r){return o.a.createElement(e,a()({muiFormControl:r,ref:n},t))})});return u()(t,e),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),a=n(11),i=n(24),o=function(){function e(t){if(Object(r.a)(this,e),this.shards=[],this.previousShardIndex=0,null!=t&&(t instanceof Array||(t=[t]),0!==(t=t.map(function(e){return i.isTypedArray(e)?e.buffer:e})).length)){this.bufferUniformSize=t[0].byteLength;for(var n=0,a=0;a<t.length;a++){var o=t[a];a!==t.length-1&&o.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);var s=n+o.byteLength;this.shards.push({buffer:o,start:n,end:s}),n=s}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}}return Object(a.a)(e,null,[{key:"join",value:function(t){return new e(t).slice()}}]),Object(a.a)(e,[{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e)return new ArrayBuffer(0);var n=this.findShardForByte(e);if(-1===n)throw new Error("Could not find start shard for byte ".concat(e));for(var r=new ArrayBuffer(t-e),a=new Uint8Array(r),i=0,o=n;o<this.shards.length;o++){var s=this.shards[o],u=e+i-s.start,c=i,l=Math.min(t,s.end)-s.start,d=new Uint8Array(s.buffer,u,l-u);if(a.set(d,c),i+=d.length,t<s.end)break}return r}},{key:"findShardForByte",value:function(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;var n=function(e,t){var n=0,r=e.length;for(;n<=r;){var a=Math.floor((r-n)/2)+n,i=t(e[a]);if(0===i)return a;i<0?r=a:n=a+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(103),i=n(20),o=n(24);function s(e,t,n,s){if(null==s)s=Object(i.s)(e);else if("complex64"===s)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Object(a.b)(e)||Object(a.a)(e)){if("float32"!==s&&"int32"!==s)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(s,"."));return r.a.backend.createTensorFromGPUData(e,t||n,s)}if(!Object(o.isTypedArray)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Object(i.d)(t);var u=Object(i.O)(t),c=Object(i.O)(n);Object(i.c)(u===c,function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(u," values but has ").concat(c)});for(var l=0;l<n.length;++l){var d=n[l],p=l!==n.length-1||d!==Object(i.O)(t.slice(l));Object(i.c)(n[l]===t[l]||!p,function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")})}}return Object(o.isTypedArray)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==s?Object(o.toTypedArray)(e,s):Object(o.flatten)(e,[],!0),r.a.makeTensor(e,t,s)}},function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return he}),n.d(t,"b",function(){return fe}),n.d(t,"d",function(){return pe}),n.d(t,"f",function(){return p}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return H});var r=n(55),a=n(189),i=(n(160),n(11)),o=n(98),s=n(72),u={}.constructor;function c(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(c);if(e.constructor!==u)return e;var t={};for(var n in e)t[n]=c(e[n]);return t}function l(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,a=c(t),i=r.plugins.onCreateRule(e,a,n);return i||(e[0],null)}var d=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n};function p(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=d(e[r]," ");else n=d(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function h(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function f(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var a=n.indent,i=void 0===a?0:a,o=t.fallbacks;if(e&&i++,o)if(Array.isArray(o))for(var s=0;s<o.length;s++){var u=o[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+h(c+": "+p(l)+";",i))}}else for(var d in o){var f=o[d];null!=f&&(r&&(r+="\n"),r+=""+h(d+": "+p(f)+";",i))}for(var m in t){var v=t[m];null!=v&&"fallbacks"!==m&&(r&&(r+="\n"),r+=""+h(m+": "+p(v)+";",i))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),h(e+" {"+r,--i)+h("}",i)):r}var m=/([[\].#*$><+~=|^:(),"'`\s])/g,v="undefined"!==typeof CSS&&CSS.escape,g=function(e){return v?v(e):e.replace(m,"\\$1")},A=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,a=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:a&&(this.renderer=new a)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var a=t;n&&!1===n.process||(a=this.options.jss.plugins.onChangeValue(t,e,this));var i=null==a||!1===a,o=e in this.style;if(i&&!o&&!r)return this;var s=i&&o;if(s?delete this.style[e]:this.style[e]=a,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,a),this;var u=this.options.sheet;return u&&u.attached,this},e}(),y=function(e){function t(t,n,r){var a;(a=e.call(this,t,n,r)||this).selectorText=void 0,a.id=void 0,a.renderable=void 0;var i=r.selector,o=r.scoped,u=r.sheet,c=r.generateId;return i?a.selectorText=i:!1!==o&&(a.id=c(Object(s.a)(Object(s.a)(a)),u),a.selectorText="."+g(a.id)),a}Object(o.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=p(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return f(this.selectorText,this.style,n)},Object(i.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(A),b={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new y(e,t,n)}},x={indent:1,children:!0},w=/@([\w-]+)/,_=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var a=e.match(w);for(var i in this.at=a?a[1]:"unknown",this.options=n,this.rules=new H(Object(r.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=x),!1===e.children)return this.key+" {}";var t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""},e}(),k=/@media|@supports\s+/,O={onCreateRule:function(e,t,n){return k.test(e)?new _(e,t,n):null}},E={indent:1,children:!0},S=/@keyframes\s+([\w-]+)/,C=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var a=e.match(S);a&&a[1]?this.name=a[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,o=n.sheet,s=n.generateId;for(var u in this.id=!1===i?this.name:g(s(this,o)),this.rules=new H(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=E),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),T=/@keyframes\s+/,I=/\$([\w-]+)/g,j=function(e,t){return"string"===typeof e?e.replace(I,function(e,n){return n in t?t[n]:e}):e},M=function(e,t,n){var r=e[t],a=j(r,n);a!==r&&(e[t]=a)},N={onCreateRule:function(e,t,n){return"string"===typeof e&&T.test(e)?new C(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&M(e,"animation-name",n.keyframes),"animation"in e&&M(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return j(e,r.keyframes);default:return e}}},D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(o.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return f(this.key,this.style,n)},t}(A),R={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new D(e,t,n):null}},P=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=f(this.key,this.style[n]),this.style[n+1]&&(t+="\n");return t}return f(this.key,this.style,e)},e}(),L={onCreateRule:function(e,t,n){return"@font-face"===e?new P(e,t,n):null}},F=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return f(this.key,this.style,e)},e}(),B={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new F(e,t,n):null}},z=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),U={"@charset":!0,"@import":!0,"@namespace":!0},V=[b,O,N,R,L,B,{onCreateRule:function(e,t,n){return e in U?new z(e,t,n):null}}],W={process:!0},G={force:!0,process:!0},H=function(){function e(e){this.map={},this.raw={},this.index=[],this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var a=this.options,i=a.parent,o=a.sheet,s=a.jss,u=a.Renderer,c=a.generateId,d=a.scoped,p=Object(r.a)({classes:this.classes,parent:i,sheet:o,jss:s,Renderer:u,generateId:c,scoped:d},n);this.raw[e]=t,e in this.classes&&(p.selector="."+g(this.classes[e]));var h=l(e,t,p);if(!h)return null;this.register(h);var f=void 0===p.index?this.index.length:p.index;return this.index.splice(f,0,h),h},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof y?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof C&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof y?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof C&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.onUpdate(t,this.get(e),n);else for(var r=0;r<this.index.length;r++)this.onUpdate(t,this.index[r],n)},t.onUpdate=function(t,n,r){void 0===r&&(r=W);var a=this.options,i=a.jss.plugins,o=a.sheet;if(n.rules instanceof e)n.rules.update(t,r);else{var s=n,u=s.style;if(i.onUpdate(t,n,o,r),r.process&&u&&u!==s.style){for(var c in i.onProcessStyle(s.style,s,o),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,G)}for(var d in u){var p=s.style[d],h=u[d];null==p&&p!==h&&s.prop(d,null,G)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,a=0;a<this.index.length;a++){var i=this.index[a].toString(e);(i||r)&&(t&&(t+="\n"),t+=i)}return t},e}(),q=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new H(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var a=this.rules.add(e,t,n);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?this.deployed?(r?r.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),a):a:(this.deployed=!1,a)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var a=this.addRule(r,e[r],t);a&&n.push(a)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.toString=function(e){return this.rules.toString(e)},e}(),K=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var a=this.registry.onCreateRule[r](e,t,n);if(a)return a}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,a=0;a<this.registry.onChangeValue.length;a++)r=this.registry.onChangeValue[a](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),X=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){return this.registry.filter(function(e){return e.attached}).map(function(t){return t.toString(e)}).join("\n")},Object(i.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),Q="undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},Y="2f1acc6c3a606b082e5eef5e54414ffb";null==Q[Y]&&(Q[Y]=0);var $=Q[Y]++,Z=function(e){void 0===e&&(e={});var t=0,n=e.minify?"c":"";return function(r,a){t+=1;var i=n,o="";return a&&(i=a.options.classNamePrefix||n,null!=a.options.jss.id&&(o+=a.options.jss.id)),e.minify?""+i+$+o+t:i+r.key+"-"+$+(o&&"-"+o)+"-"+t}},J=function(e){var t;return function(){return t||(t=e()),t}};function ee(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}}function te(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=p(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(a){return!1}return!0}function ne(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}}function re(e,t){return e.selectorText=t,e.selectorText===t}var ae=J(function(){return document.querySelector("head")});function ie(e){var t=X.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var a=function(e){for(var t=ae(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(a)return{parent:a.parentNode,node:a.nextSibling}}return!1}var oe=J(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),se=function(e,t,n){void 0===n&&(n=e.cssRules.length);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},ue=function(){var e=document.createElement("style");return e.textContent="\n",e},ce=function(){function e(e){this.getPropertyValue=ee,this.setProperty=te,this.removeProperty=ne,this.setSelector=re,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&X.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,a=t.element;this.element=a||ue(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=oe();i&&this.element.setAttribute("nonce",i)}var t=e.prototype;return t.attach=function(){!this.element.parentNode&&this.sheet&&(!function(e,t){var n=t.insertionPoint,r=ie(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var a=n,i=a.parentNode;i&&i.insertBefore(e,a.nextSibling)}else ae().appendChild(e)}(this.element,this.sheet.options),this.hasInsertedRules&&(this.hasInsertedRules=!1,this.deploy()))},t.detach=function(){this.element.parentNode.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,a=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(a=se(n,r.toString({children:!1}),t)))&&(this.insertRules(r.rules,a),a)}var i=e.toString();if(!i)return!1;var o=se(n,i,t);return!1!==o&&(this.hasInsertedRules=!0,e.renderable=o,o)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),le=0,de=function(){function e(e){this.id=le++,this.version="10.0.0-alpha.17",this.plugins=new K,this.options={id:{minify:!1},createGenerateId:Z,Renderer:a.a?ce:null,plugins:[]},this.generateId=Z({minify:!1});for(var t=0;t<V.length;t++)this.plugins.use(V[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===X.index?0:X.index+1);var a=new q(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(e){return e.detach(),X.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var a=Object(r.a)({},n,{jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var i=l(e,t,a);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}();function pe(e){var t=null;for(var n in e){var r=e[n],a=typeof r;if("function"===a)t||(t={}),t[n]=r;else if("object"===a&&null!==r&&!Array.isArray(r)){var i=pe(r);i&&(t||(t={}),t[n]=i)}}return t}var he="undefined"!==typeof CSS&&CSS&&"number"in CSS,fe=function(e){return new de(e)};fe()}).call(this,n(91))},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.r(t);var r=n(39),a=n(304),i=n(453),o=n(396),s=n(454),u=n(9),c=n.n(u),l=n(370),d=n.n(l),p=function(e){return d()(e)[0]},h=function(e){return null==e&&(e=e),function(t,n,r,a){null==r&&(r=e),null==a&&(a=r);var i,o=(i=t,d()(i)[1]);if(o===n)return t;var s=p(t);if("px"!==o)if("em"===o)s=p(t)*p(r);else if("rem"===o)s=p(t)*p(e);else{if("ex"!==o)return t;s=p(t)*p(r)*2}var u=s;if("px"!==n)if("em"===n)u=s/p(a);else if("rem"===n)u=s/p(e);else{if("ex"!==n)return t;u=s/p(a)/2}return parseFloat(u.toFixed(5))+n}},f=n(38),m=n.n(f);function v(e){var t=e.lineHeight;return e.pixels/(t*e.htmlFontSize)}function g(e){return String(parseFloat(e)).length===String(e).length}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.breakpoints,r=void 0===n?["sm","md","lg"]:n,a=t.disableAlign,i=void 0!==a&&a,o=t.factor,s=void 0===o?2:o,u=t.variants,l=void 0===u?["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]:u,d=c()({},e);d.typography=c()({},d.typography);var p=d.typography,f=h(p.htmlFontSize),A=r.map(function(e){return d.breakpoints.values[e]});return l.forEach(function(e){var t=p[e],n=parseFloat(f(t.fontSize,"rem"));if(!(n<=1)){var r=n,a=1+(r-1)/s,o=t.lineHeight;if(!g(o)&&!i)throw new Error(["Material-UI: unsupported non-unitless line height with grid alignment.","Use unitless line heights instead."].join("\n"));g(o)||(o=parseFloat(f(o,"rem"))/parseFloat(n));var u=null;i||(u=function(e){return function(e){var t=e.size,n=e.grid,r=t-t%n,a=r+n;return t-r<a-t?r:a}({size:e,grid:v({pixels:4,lineHeight:o,htmlFontSize:p.htmlFontSize})})}),p[e]=c()({},t,function(e){var t=e.cssProperty,n=e.min,r=e.max,a=e.unit,i=void 0===a?"rem":a,o=e.breakpoints,s=void 0===o?[600,960,1280]:o,u=e.transform,c=void 0===u?null:u,l=m()({},t,"".concat(n).concat(i)),d=(r-n)/s[s.length-1];return s.forEach(function(e){var r=n+d*e;null!==c&&(r=c(r)),l["@media (min-width:".concat(e,"px)")]=m()({},t,"".concat(Math.round(1e4*r)/1e4).concat(i))}),l}({cssProperty:"fontSize",min:a,max:r,unit:"rem",breakpoints:A,transform:u}))}}),d}var y=n(305),b=n(65),x=n(268),w=n(22),_=n(104);n.d(t,"hexToRgb",function(){return r.g}),n.d(t,"rgbToHex",function(){return r.k}),n.d(t,"hslToRgb",function(){return r.h}),n.d(t,"decomposeColor",function(){return r.b}),n.d(t,"recomposeColor",function(){return r.j}),n.d(t,"getContrastRatio",function(){return r.e}),n.d(t,"getLuminance",function(){return r.f}),n.d(t,"emphasize",function(){return r.c}),n.d(t,"fade",function(){return r.d}),n.d(t,"darken",function(){return r.a}),n.d(t,"lighten",function(){return r.i}),n.d(t,"createMuiTheme",function(){return a.a}),n.d(t,"createStyles",function(){return i.a}),n.d(t,"makeStyles",function(){return o.a}),n.d(t,"MuiThemeProvider",function(){return s.a}),n.d(t,"responsiveFontSizes",function(){return A}),n.d(t,"styled",function(){return y.a}),n.d(t,"easing",function(){return b.c}),n.d(t,"duration",function(){return b.b}),n.d(t,"formatMs",function(){return b.d}),n.d(t,"isString",function(){return b.f}),n.d(t,"isNumber",function(){return b.e}),n.d(t,"useTheme",function(){return x.a}),n.d(t,"withStyles",function(){return w.a}),n.d(t,"withTheme",function(){return _.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({complex_:function(e,t){var n=Object(i.a)(e,"real","complex"),s=Object(i.a)(t,"imag","complex");o.f(n.shape,s.shape,"real and imag shapes, ".concat(n.shape," and ").concat(s.shape,", ")+"must match in call to tf.complex().");var u={real:n,imag:s};return r.a.runKernel(a.B,u)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(8);var c=Object(u.b)({pow_:function(e,t){var n=Object(s.a)(e,"base","pow"),u=Object(s.a)(t,"exp","pow"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.jc,d)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(20),i=n(100),o=n(137);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Object(a.d)(e),"complex64"===t){var n=s(e,"float32"),u=Object(o.a)(e,"float32");return Object(i.a)(n,u)}var c=Object(a.D)(Object(a.O)(e),t);return r.a.makeTensor(c,e,t)}},function(e,t,n){"use strict";var r,a,i,o,s;n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));var u={float32:o,int32:a,bool:i,complex64:s};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return u[e][t]}function l(e){return c(e,"int32")}function d(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function p(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}},function(e,t,n){"use strict";var r=n(721),a=n(142),i=Object(r.b)({defaultTheme:a.a});t.a=i},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(7),a=n.n(r),i=n(16),o=n(5),s=n(11),u=n(18),c=n(12),l=n(17),d=n(49),p=n(69),h=n(37),f=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,i=r.grads;if(null!=n){var o=n.map(function(e){return{name:e.name,tensor:i[e.name]}});this.applyGradients(o)}else this.applyGradients(i);return Object(d.b)(i),t?a:(a.dispose(),null)}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return Object(p.b)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&Object(d.b)(this.iterations_)}},{key:"saveIterations",value:function(){var e=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:Object(h.a)(this.iterations_,"int32")});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=Object(i.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}}]),t}(n(202).Serializable);Object.defineProperty(f,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(35),c=n(8);var l=Object(c.b)({lessEqual_:function(e,t){var n=Object(s.a)(e,"a","lessEqual","string_or_numeric"),c=Object(s.a)(t,"b","lessEqual","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.Eb,p)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=Object(i.a)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var s={paddings:t,constantValue:n},u={x:o};return r.a.runKernel(a.ic,u,s)}})},function(e,t){function n(e,t,n){var r,a,i,o,s;function u(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(i,a),i=a=null))}null==t&&(t=100);var c=function(){i=this,a=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(i,a),i=a=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(i,a),i=a=null,clearTimeout(r),r=null)},c}n.debounce=n,e.exports=n},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h});var r=n(6),a=n(42),i=n(187),o=n(133),s=Object(i.a)("kernelRegistry",function(){return new Map}),u=Object(i.a)("gradRegistry",function(){return new Map});function c(e,t){var n=f(e,t);return s.get(n)}function l(e){return u.get(e)}function d(e){for(var t=s.entries(),n=[];;){var a=t.next(),i=a.done,o=a.value;if(i)break;var u=Object(r.a)(o,2),c=u[0],l=u[1],d=c.split("_");Object(r.a)(d,1)[0]===e&&n.push(l)}return n}function p(e){var t=e.kernelName,n=e.backendName,r=f(t,n);s.has(r)&&o.b("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),s.set(r,e)}function h(e){var t=e.kernelName;u.has(t)&&Object(a.b)().getBool("DEBUG")&&o.b("Overriding the gradient for '".concat(t,"'")),u.set(t,e)}function f(e,t){return"".concat(t,"_").concat(e)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return I}),n.d(t,"i",function(){return M}),n.d(t,"c",function(){return N}),n.d(t,"f",function(){return D}),n.d(t,"e",function(){return L}),n.d(t,"d",function(){return F}),n.d(t,"k",function(){return z}),n.d(t,"g",function(){return U}),n.d(t,"h",function(){return V}),n.d(t,"j",function(){return W}),n.d(t,"b",function(){return G});var r=n(6),a=n(25),i=n(5),o=n(11),s=n(0),u=n(134),c=n(181),l=n(2),d=n(473),p=n(474),h=n(475),f=n(476),m=n(477),v=n(478),g=n(479),A=n(480),y=n(481),b=n(482),x=n(483),w=n(484),_=n(485),k=n(486),O=n(487),E=n(488),S=n(489),C=n(490),T=n(491),I=function(){function e(){var t;Object(i.a)(this,e);var n=[d,p,h,f,m,v,g,A,y,b,x,w,_,k,O,E,S,C,T],r=(t=[]).concat.apply(t,Object(a.a)(n.map(function(e){return e.json})));this.opMappers=r.reduce(function(e,t){return e[t.tfOpName]=t,e},{})}return Object(o.a)(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),Object(o.a)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.node,i=[],o=[],s=[],u=a.reduce(function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?i.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||s.push(e[n.name]),e},{}),c=[],d=[],p={},h={};null!=n&&(p=this.mapSignatureEntries(n.inputs),h=this.mapSignatureEntries(n.outputs));var f=Object.keys(u);f.forEach(function(e){var t=u[e];t.inputNames.forEach(function(e,n){var a=Object(l.b)(e),i=Object(r.a)(a,3),o=i[0],s=i[2],c=u[o];if(null!=c.outputs){var d=c.outputs.indexOf(s);if(-1!==d){var p="".concat(o,":").concat(d);t.inputNames[n]=p}}t.inputs.push(c),c.children.push(t)})}),0===Object.keys(h).length?f.forEach(function(e){var t=u[e];0===t.children.length&&d.push(t)}):Object.keys(h).forEach(function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=u[n];null!=a&&(a.signatureKey=h[e],d.push(a))}),Object.keys(p).length>0?Object.keys(p).forEach(function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=u[n];a&&(a.signatureKey=p[e],c.push(a))}):c=i;var m={};null!=e.library&&null!=e.library.function&&(m=e.library.function.reduce(function(e,n){return e[n.signature.name]=t.mapFunction(n),e},{}));var v={nodes:u,inputs:c,outputs:d,weights:o,placeholders:i,signature:n,functions:m};return s.length>0&&(v.initNodes=s),v}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce(function(t,n){return t[e[n].name]=n,t},{})}},{key:"mapNode",value:function(e){var t=Object(c.a)(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(function(e){return e.startsWith("^")?e.slice(1):e}),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e},{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=M(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=M(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=V(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=V(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=D(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=D(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=U(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=U(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=N(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=N(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=G(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=G(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=z(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=z(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=W(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=W(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=L(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=L(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=F(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=F(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=P(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=P(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t},{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,a=[],i={};null!=n&&(i=n.reduce(function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&a.push(e[n.name]),e},{}));var o=[],s=[];e.signature.inputArg.forEach(function(e){var t=Object(l.b)(e.name),n=Object(r.a)(t,1)[0],a={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:R(e.type),type:"dtype"}},children:[]};a.signatureKey=e.name,o.push(a),i[n]=a}),Object.keys(i).forEach(function(e){var t=i[e];t.inputNames.forEach(function(e,n){var a=Object(l.b)(e),o=Object(r.a)(a,3),s=o[0],u=o[2],c=i[s];if(null!=c.outputs){var d=c.outputs.indexOf(u);if(-1!==d){var p="".concat(s,":").concat(d);t.inputNames[n]=p}}t.inputs.push(c),c.children.push(t)})});var u=e.ret;e.signature.outputArg.forEach(function(e){var t=Object(l.b)(u[e.name]),n=Object(r.a)(t,2),a=n[0],o=n[1],c=i[a];null!=c&&(c.defaultOutput=o,s.push(c))});var c=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:s,weights:a,placeholders:[],signature:c}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e},{}),outputs:e.signature.outputArg.reduce(function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n},{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}]),e}();function j(t,n){var r=Array.isArray(t)?String.fromCharCode.apply(null,t):function(t){var n=Object(s.he)().global;if("undefined"!==typeof n.atob)return n.atob(t);if("undefined"!==typeof e)return new e(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(t);return n?r:r.toLowerCase()}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?j(a.s,r):n}function N(e,t,n){var r=e[t];return r?r.b:n}function D(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function R(e){switch("string"===typeof e&&(e=u.a[e]),e){case u.a.DT_FLOAT:case u.a.DT_HALF:return"float32";case u.a.DT_INT32:case u.a.DT_INT64:case u.a.DT_INT8:case u.a.DT_UINT8:return"int32";case u.a.DT_BOOL:return"bool";case u.a.DT_DOUBLE:return"float32";case u.a.DT_STRING:return"string";default:return null}}function P(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function L(e,t,n){var r=e[t];return r&&r.type?R(r.type):n}function F(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map(function(e){return R(e)}):n}function B(e){if(!e.unknownRank)return null!=e.dim?e.dim.map(function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)}):[]}function z(e,t,n){var r=e[t];return r&&r.shape?B(r.shape):n}function U(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(function(e){return"number"===typeof e?e:parseInt(e,10)}):n}function V(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map(function(e){return j(e,r)}):n}function W(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map(function(e){return B(e)}):n}function G(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}}).call(this,n(256).Buffer)},function(e,t,n){var r=n(38);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(35),s=n(8);var u=Object(s.b)({logicalAnd_:function(e,t){var n=Object(i.a)(e,"a","logicalAnd","bool"),s=Object(i.a)(t,"b","logicalAnd","bool");Object(o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.a.runKernel(a.Jb,u)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={x:Object(i.a)(e,"x","split")},s={numOrSizeSplits:t,axis:n};return r.a.runKernel(a.Vc,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.b)(e,"tensors","stack","string_or_numeric");o.c(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),n.length>0&&o.c(t<=n[0].rank,function(){return"Axis must be <= rank of the tensor"});var s=n,u={axis:t};return r.a.runKernel(a.hc,s,u)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","expandDims","string_or_numeric");o.c(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var s={input:n},u={dim:t};return r.a.runKernel(a.fb,s,u)}})},function(e,t,n){"use strict";n.r(t);var r=n(324),a=n(337),i=n(338),o=n(32);function s(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var u={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return s("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):s(n+1,2)},d:function(e,t){return s(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return s(e.getUTCHours()%12||12,t.length)},H:function(e,t){return s(e.getUTCHours(),t.length)},m:function(e,t){return s(e.getUTCMinutes(),t.length)},s:function(e,t){return s(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return s(Math.floor(r*Math.pow(10,n-3)),t.length)}},c=864e5;var l=n(340),d=n(326),p=n(339),h=n(234),f="midnight",m="noon",v="morning",g="afternoon",A="evening",y="night";function b(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;if(0===i)return n+String(a);var o=t||"";return n+String(a)+o+s(i,2)}function x(e,t){return e%60===0?(e>0?"-":"+")+s(Math.abs(e)/60,2):w(e,t)}function w(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+s(Math.floor(a/60),2)+n+s(a%60,2)}var _={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return u.y(e,t)},Y:function(e,t,n,r){var a=Object(h.a)(e,r),i=a>0?a:1-a;return"YY"===t?s(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):s(i,t.length)},R:function(e,t){return s(Object(d.a)(e),t.length)},u:function(e,t){return s(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return s(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return s(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return u.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return s(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=Object(p.a)(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):s(a,t.length)},I:function(e,t,n){var r=Object(l.a)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):s(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.d(e,t)},D:function(e,t,n){var r=function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(o.a)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/c)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):s(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return s(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return s(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return s(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?m:0===a?f:a/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?A:a>=12?g:a>=4?v:y,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return u.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):s(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):s(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.s(e,t)},S:function(e,t){return u.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return x(a);case"XXXX":case"XX":return w(a);case"XXXXX":case"XXX":default:return w(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return x(a);case"xxxx":case"xx":return w(a);case"xxxxx":case"xxx":default:return w(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+b(a,":");case"OOOO":default:return"GMT"+w(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+b(a,":");case"zzzz":default:return"GMT"+w(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return s(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return s((r._originalDate||e).getTime(),t.length)}},k=n(325),O=n(327),E=n(148),S=n(46);n.d(t,"default",function(){return N});var C=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I=/^'(.*?)'?$/,j=/''/g,M=/[a-zA-Z]/;function N(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var s=String(t),u=n||{},c=u.locale||a.a,l=c.options&&c.options.firstWeekContainsDate,d=null==l?1:Object(S.a)(l),p=null==u.firstWeekContainsDate?d:Object(S.a)(u.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=c.options&&c.options.weekStartsOn,f=null==h?0:Object(S.a)(h),m=null==u.weekStartsOn?f:Object(S.a)(u.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw new RangeError("locale must contain localize property");if(!c.formatLong)throw new RangeError("locale must contain formatLong property");var v=Object(o.a)(e);if(!Object(r.a)(v))throw new RangeError("Invalid time value");var g=Object(O.a)(v),A=Object(i.a)(v,g),y={firstWeekContainsDate:p,weekStartsOn:m,locale:c,_originalDate:v};return s.match(T).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,k.a[t])(e,c.formatLong,y):e}).join("").match(C).map(function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return e.match(I)[1].replace(j,"'");var n=_[t];if(n)return!u.useAdditionalWeekYearTokens&&Object(E.b)(e)&&Object(E.c)(e),!u.useAdditionalDayOfYearTokens&&Object(E.a)(e)&&Object(E.c)(e),n(A,e,c.localize,y);if(t.match(M))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e}).join("")}},,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(43),u=n(8),c=n(19);var l=Object(u.b)({conv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],p=arguments.length>6?arguments[6]:void 0,h=Object(i.a)(e,"x","conv2d","float32"),f=Object(i.a)(t,"filter","conv2d","float32"),m=h,v=!1;3===h.rank&&(v=!0,m=Object(c.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),o.c(4===m.rank,function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(m.rank,".")}),o.c(4===f.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(f.rank,".")}),s.a("conv2d",u,p);var g="NHWC"===l?m.shape[3]:m.shape[1];o.c(g===f.shape[2],function(){return"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(f.shape[2],".")}),o.c(s.i(n,d),function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(d,"'")}),o.c(s.j(d),function(){return"Error in conv2D: Dilated rates should be larger than 0."}),o.c(s.j(n),function(){return"Error in conv2D: Strides should be larger than 0."});var A={x:m,filter:f},y={strides:n,pad:u,dataFormat:l,dilations:d,dimRoundingMode:p},b=r.a.runKernel(a.E,A,y);return v?Object(c.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(35),c=n(8);var l=Object(c.b)({greaterEqual_:function(e,t){var n=Object(s.a)(e,"a","greaterEqual","string_or_numeric"),c=Object(s.a)(t,"b","greaterEqual","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.tb,p)}})},function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce(function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e},{})}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({clone_:function(e){var t={x:Object(i.a)(e,"x","clone","string_or_numeric")};return r.a.runKernel(a.vb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({sigmoid_:function(e){var t={x:Object(i.a)(e,"x","sigmoid","float32")};return r.a.runKernel(a.Ic,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","max")},s={reductionIndices:t,keepDims:n};return r.a.runKernel(a.Mb,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({tile_:function(e,t){var n=Object(i.a)(e,"x","tile","string_or_numeric");o.c(n.rank===t.length,function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")});var s={x:n},u={reps:t};return r.a.runKernel(a.kd,s,u)}})},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"a",function(){return f});var r=n(7),a=n.n(r),i=n(16),o=n(0);function s(e,t){return u(e,t)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(h(e)){var i=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var s=u(e[o],t,n,r);i[o]=s}return r.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,a.value),a.value}function c(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;var a=t[0];if(r.has(a))throw new Error("Circular references are not supported.");var i=n(t);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(h(a)){var o=Array.isArray(a)?[]:{};r.add(a);var s=function(a){var i=t.map(function(e){return e[a]}),s=e(i,n,r);o[a]=s};for(var u in a)s(u);return r.delete(a),o}throw new Error("Can't recurse into non-iterable type: ".concat(a))}return i.value}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)}function l(e){return null===e?null:h(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function d(e,t){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(a.a.mark(function e(t,n){var r,i,s,c,l,d,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,u(t,n,r),i=0,s=Array.from(r.keys());case 3:if(!(i<s.length)){e.next=14;break}if(c=s[i],l=r.get(c),!o.Lf.isPromise(l)){e.next=11;break}return e.next=9,l;case 9:d=e.sent,r.set(c,d);case 11:i++,e.next=3;break;case 14:return p=u(t,n,r),e.abrupt("return",p);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){var t=!1;o.he().get("IS_BROWSER")?t=e instanceof TextDecoder:t=e instanceof n(715).StringDecoder;return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof o.kd)&&!(e instanceof Promise)&&!t)}function f(e){return null==e||(null===(t=e)||"object"!==typeof t&&"function"!==typeof t)||Array.isArray(e)||"object"===typeof e&&e instanceof o.kd||o.Lf.isTypedArray(e);var t}},function(e,t,n){e.exports=function(){"use strict";var e,t,n;function r(r,a){if(e)if(t){var i="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",o={};e(o),(n=a(o)).workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"}))}else t=a;else e=a}return r(0,function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,a,i,o;for(void 0===t&&(t=1e-6),a=e,o=0;o<8;o++){if(i=this.sampleCurveX(a)-e,Math.abs(i)<t)return a;var s=this.sampleCurveDerivativeX(a);if(Math.abs(s)<1e-6)break;a-=i/s}if((a=e)<(n=0))return n;if(a>(r=1))return r;for(;n<r;){if(i=this.sampleCurveX(a),Math.abs(i-e)<t)return a;e>i?n=a:r=a,a=.5*(r-n)+n}return a},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var a=i;function i(e,t){this.x=e,this.y=t}function o(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!o(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!o(e[r],t[r]))return!1;return!0}return e===t}function s(e,t,r,a){var i=new n(e,t,r,a);return function(e){return i.solve(e)}}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,a=n*this.x+t*this.y;return this.x=r,this.y=a,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),a=t.x+n*(this.x-t.x)-r*(this.y-t.y),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=a,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(e){return e instanceof i?e:Array.isArray(e)?new i(e[0],e[1]):e};var u=s(.25,.1,.25,1);function c(e,t,n){return Math.min(n,Math.max(t,e))}function l(e,t,n){var r=n-t,a=((e-t)%r+r)%r+t;return a===t?n:a}function d(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,a=t;r<a.length;r+=1){var i=a[r];for(var o in i)e[o]=i[o]}return e}var p=1;function h(){return p++}function f(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function v(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function A(e,t,n){var r={};for(var a in e)r[a]=t.call(n||this,e[a],a,e);return r}function y(e,t,n){var r={};for(var a in e)t.call(n||this,e[a],a,e)&&(r[a]=e[a]);return r}function b(e){return Array.isArray(e)?e.map(b):"object"==typeof e&&e?A(e,b):e}var x={};function w(e){x[e]||("undefined"!=typeof console&&console.warn(e),x[e]=!0)}function _(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function k(e){for(var t=0,n=0,r=e.length,a=r-1,i=void 0,o=void 0;n<r;a=n++)i=e[n],t+=((o=e[a]).x-i.x)*(i.y+o.y);return t}function O(e){try{var t=self[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var E,S,C,T=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),I=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,j=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,M={now:T,frame:function(e){var t=I(e);return{cancel:function(){return j(t)}}},getImageData:function(e){var t=self.document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},resolveURL:function(e){return E||(E=self.document.createElement("a")),E.href=e,E.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio}},N={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},D={supported:!1,testSupport:function(e){!R&&C&&(P?L(e):S=e)}},R=!1,P=!1;function L(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,C),e.isContextLost())return;D.supported=!0}catch(e){}e.deleteTexture(t),R=!0}self.document&&((C=self.document.createElement("img")).onload=function(){S&&L(S),S=null,P=!0},C.onerror=function(){R=!0,S=null},C.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var F="01",B=function(e){this._transformRequestFn=e,this._createSkuToken()};B.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",F,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},B.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},B.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},B.prototype.normalizeStyleURL=function(e,t){return H(e,t)},B.prototype.normalizeGlyphsURL=function(e,t){return q(e,t)},B.prototype.normalizeSourceURL=function(e,t){return K(e,t)},B.prototype.normalizeSpriteURL=function(e,t,n,r){return X(e,t,n,r)},B.prototype.normalizeTileURL=function(e,t,n){return this._isSkuTokenExpired()&&this._createSkuToken(),Y(e,t,n,this._skuToken)},B.prototype.canonicalizeTileURL=function(e){return Z(e)},B.prototype.canonicalizeTileset=function(e,t){return J(e,t)};var z="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes";function U(e,t){var n=te(N.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"/"!==n.path&&(e.path=""+n.path+e.path),!N.REQUIRE_ACCESS_TOKEN)return ne(e);if(!(t=t||N.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+z);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+z);return e.params.push("access_token="+t),ne(e)}function V(e){return 0===e.indexOf("mapbox:")}var W=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function G(e){return W.test(e)}var H=function(e,t){if(!V(e))return e;var n=te(e);return n.path="/styles/v1"+n.path,U(n,t)},q=function(e,t){if(!V(e))return e;var n=te(e);return n.path="/fonts/v1"+n.path,U(n,t)},K=function(e,t){if(!V(e))return e;var n=te(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),U(n,t)},X=function(e,t,n,r){var a=te(e);return V(e)?(a.path="/styles/v1"+a.path+"/sprite"+t+n,U(a,r)):(a.path+=""+t+n,ne(a))},Q=/(\.(png|jpg)\d*)(?=$)/,Y=function(e,t,n,r){if(!t||!V(t))return e;var a=te(e),i=M.devicePixelRatio>=2||512===n?"@2x":"",o=D.supported?".webp":"$1";return a.path=a.path.replace(Q,""+i+o),a.path="/v4"+a.path,N.REQUIRE_ACCESS_TOKEN&&N.ACCESS_TOKEN&&r&&a.params.push("sku="+r),U(a)},$=/\.[\w]+$/,Z=function(e){var t=te(e);if(!t.path.match(/(^\/v4\/)/)||!t.path.match($))return e;var n="mapbox://tiles/";n+=t.path.replace("/v4/","");var r=t.params.filter(function(e){return!e.match(/^access_token=/)});return r.length&&(n+="?"+r.join("&")),n},J=function(e,t){if(!V(t))return e.tiles||[];for(var n=[],r=0,a=e.tiles;r<a.length;r+=1){var i=a[r],o=Z(i);n.push(o)}return n},ee=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/;function te(e){var t=e.match(ee);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function ne(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function re(e){if(!e)return null;var t,n=e.split(".");if(!n||3!==n.length)return null;try{return JSON.parse((t=n[1],decodeURIComponent(self.atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(e){return null}}var ae=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ae.prototype.getStorageKey=function(e){var t,n=re(N.ACCESS_TOKEN),r="";return n&&n.u?(t=n.u,r=self.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(Number("0x"+t))}))):r=N.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+r:"mapbox.eventData:"+r},ae.prototype.fetchEventData=function(){var e=O("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=self.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var a=self.localStorage.getItem(n);a&&(this.anonId=a)}catch(e){w("Unable to read from LocalStorage")}},ae.prototype.saveEventData=function(){var e=O("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{self.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){w("Unable to write to LocalStorage")}},ae.prototype.processRequests=function(){},ae.prototype.postEvent=function(e,t,n){var r=this;if(N.EVENTS_URL){var a=te(N.EVENTS_URL);a.params.push("access_token="+(N.ACCESS_TOKEN||""));var i={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.0.0",skuId:F,userId:this.anonId},o=t?d(i,t):i,s={url:ne(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([o])};this.pendingRequest=Ae(s,function(e){r.pendingRequest=null,n(e),r.saveEventData(),r.processRequests()})}},ae.prototype.queueRequest=function(e){this.queue.push(e),this.processRequests()};var ie=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postMapLoadEvent=function(e,t,n){this.skuToken=n,N.EVENTS_URL&&N.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(e){return V(e)||G(e)})&&this.queueRequest({id:t,timestamp:Date.now()})},t.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var t=this.queue.shift(),n=t.id,r=t.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=f()),this.postEvent(r,{skuToken:this.skuToken},function(t){t||n&&(e.success[n]=!0)}))}},t}(ae),oe=new(function(e){function t(){e.call(this,"appUserTurnstile")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postTurnstileEvent=function(e){N.EVENTS_URL&&N.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(e){return V(e)||G(e)})&&this.queueRequest(Date.now())},t.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var t=re(N.ACCESS_TOKEN),n=t?t.u:N.ACCESS_TOKEN,r=n!==this.eventData.tokenU;m(this.anonId)||(this.anonId=f(),r=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var i=new Date(this.eventData.lastSuccess),o=new Date(a),s=(a-this.eventData.lastSuccess)/864e5;r=r||s>=1||s<-1||i.getDate()!==o.getDate()}else r=!0;if(!r)return this.processRequests();this.postEvent(a,{"enabled.telemetry":!1},function(t){t||(e.eventData.lastSuccess=a,e.eventData.tokenU=n)})}},t}(ae)),se=oe.postTurnstileEvent.bind(oe),ue=new ie,ce=ue.postMapLoadEvent.bind(ue),le={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(le);var de=function(e){function t(t,n,r){401===n&&G(r)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error);function pe(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var he,fe,me=pe()?function(){return self.worker&&self.worker.referrer}:function(){var e=self.location.origin;if(e&&"null"!==e&&"file://"!==e)return e+self.location.pathname},ve=function(e,t){if(!/^file:/.test(e.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n=new self.AbortController,r=new self.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:me(),signal:n.signal});return"json"===e.type&&r.headers.set("Accept","application/json"),self.fetch(r).then(function(n){n.ok?n[e.type||"text"]().then(function(e){t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires"))}).catch(function(e){return t(new Error(e.message))}):t(new de(n.statusText,n.status,e.url))}).catch(function(e){20!==e.code&&t(new Error(e.message))}),{cancel:function(){return n.abort()}}}(e,t);if(pe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t)}return function(e,t){var n=new self.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&n.setRequestHeader("Accept","application/json"),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new de(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},ge=function(e,t){return ve(d(e,{type:"arrayBuffer"}),t)},Ae=function(e,t){return ve(d(e,{method:"POST"}),t)};function ye(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function be(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}he=[],fe=0;var xe=function(e,t){void 0===t&&(t={}),d(this,t),this.type=e},we=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,"error",d({error:t},n))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(xe),_e=function(){};_e.prototype.on=function(e,t){return this._listeners=this._listeners||{},ye(e,t,this._listeners),this},_e.prototype.off=function(e,t){return be(e,t,this._listeners),be(e,t,this._oneTimeListeners),this},_e.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},ye(e,t,this._oneTimeListeners),this},_e.prototype.fire=function(e,t){"string"==typeof e&&(e=new xe(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=0,a=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<a.length;r+=1)a[r].call(this,e);for(var i=0,o=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];i<o.length;i+=1){var s=o[i];be(n,s,this._oneTimeListeners),s.call(this,e)}var u=this._eventedParent;u&&(d(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof we&&console.error(e.error);return this},_e.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},_e.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var ke={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:[{"!":"text-offset"}],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:[{"!":"text-anchor"},{"!":"text-offset"},{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",requires:["text-field"],values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Oe=function(e,t,n,r){this.message=(e?e+": ":"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)};function Ee(e){var t=e.key,n=e.value;return n?[new Oe(t,n,"constants have been deprecated as of v8")]:[]}function Se(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,a=t;r<a.length;r+=1){var i=a[r];for(var o in i)e[o]=i[o]}return e}function Ce(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Te(e){return Array.isArray(e)?e.map(Te):Ce(e)}var Ie=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),je=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var a=r[n],i=a[0],o=a[1];this.bindings[i]=o}};je.prototype.concat=function(e){return new je(this,e)},je.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},je.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Me={kind:"null"},Ne={kind:"number"},De={kind:"string"},Re={kind:"boolean"},Pe={kind:"color"},Le={kind:"object"},Fe={kind:"value"},Be={kind:"collator"},ze={kind:"formatted"};function Ue(e,t){return{kind:"array",itemType:e,N:t}}function Ve(e){if("array"===e.kind){var t=Ve(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var We=[Me,Ne,De,Re,Pe,ze,Le,Ue(Fe)];function Ge(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ge(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=We;n<r.length;n+=1)if(!Ge(r[n],t))return null}return"Expected "+Ve(e)+" but found "+Ve(t)+" instead."}var He=t(function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function a(e){return e<0?0:e>1?1:e}function i(e){return"%"===e[e.length-1]?r(parseFloat(e)/100*255):r(parseInt(e))}function o(e){return"%"===e[e.length-1]?a(parseFloat(e)/100):a(parseFloat(e))}function s(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,a=e.replace(/ /g,"").toLowerCase();if(a in n)return n[a].slice();if("#"===a[0])return 4===a.length?(t=parseInt(a.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===a.length&&(t=parseInt(a.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=a.indexOf("("),c=a.indexOf(")");if(-1!==u&&c+1===a.length){var l=a.substr(0,u),d=a.substr(u+1,c-(u+1)).split(","),p=1;switch(l){case"rgba":if(4!==d.length)return null;p=o(d.pop());case"rgb":return 3!==d.length?null:[i(d[0]),i(d[1]),i(d[2]),p];case"hsla":if(4!==d.length)return null;p=o(d.pop());case"hsl":if(3!==d.length)return null;var h=(parseFloat(d[0])%360+360)%360/360,f=o(d[1]),m=o(d[2]),v=m<=.5?m*(f+1):m+f-m*f,g=2*m-v;return[r(255*s(g,v,h+1/3)),r(255*s(g,v,h)),r(255*s(g,v,h-1/3)),p];default:return null}}return null}}catch(e){}}).parseCSSColor,qe=function(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};qe.parse=function(e){if(e){if(e instanceof qe)return e;if("string"==typeof e){var t=He(e);if(t)return new qe(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},qe.prototype.toString=function(){var e=this.toArray(),t=e[0],n=e[1],r=e[2],a=e[3];return"rgba("+Math.round(t)+","+Math.round(n)+","+Math.round(r)+","+a+")"},qe.prototype.toArray=function(){var e=this.r,t=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]},qe.black=new qe(0,0,0,1),qe.white=new qe(1,1,1,1),qe.transparent=new qe(0,0,0,0),qe.red=new qe(1,0,0,1);var Ke=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Ke.prototype.compare=function(e,t){return this.collator.compare(e,t)},Ke.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Xe=function(e,t,n){this.text=e,this.scale=t,this.fontStack=n},Qe=function(e){this.sections=e};function Ye(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[e,t,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function $e(e){if(null===e)return Me;if("string"==typeof e)return De;if("boolean"==typeof e)return Re;if("number"==typeof e)return Ne;if(e instanceof qe)return Pe;if(e instanceof Ke)return Be;if(e instanceof Qe)return ze;if(Array.isArray(e)){for(var t,n=e.length,r=0,a=e;r<a.length;r+=1){var i=$e(a[r]);if(t){if(t===i)continue;t=Fe;break}t=i}return Ue(t||Fe,n)}return Le}function Ze(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof qe||e instanceof Qe?e.toString():JSON.stringify(e)}Qe.fromString=function(e){return new Qe([new Xe(e,null,null)])},Qe.prototype.toString=function(){return this.sections.map(function(e){return e.text}).join("")},Qe.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.text);var a={};r.fontStack&&(a["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(a["font-scale"]=r.scale),e.push(a)}return e};var Je=function(e,t){this.type=e,this.value=t};Je.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!function e(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof qe)return!0;if(t instanceof Ke)return!0;if(t instanceof Qe)return!0;if(Array.isArray(t)){for(var n=0,r=t;n<r.length;n+=1)if(!e(r[n]))return!1;return!0}if("object"==typeof t){for(var a in t)if(!e(t[a]))return!1;return!0}return!1}(e[1]))return t.error("invalid value");var n=e[1],r=$e(n),a=t.expectedType;return"array"!==r.kind||0!==r.N||!a||"array"!==a.kind||"number"==typeof a.N&&0!==a.N||(r=a),new Je(r,n)},Je.prototype.evaluate=function(){return this.value},Je.prototype.eachChild=function(){},Je.prototype.possibleOutputs=function(){return[this.value]},Je.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof qe?["rgba"].concat(this.value.toArray()):this.value instanceof Qe?this.value.serialize():this.value};var et=function(e){this.name="ExpressionEvaluationError",this.message=e};et.prototype.toJSON=function(){return this.message};var tt={string:De,number:Ne,boolean:Re,object:Le},nt=function(e,t){this.type=e,this.args=t};nt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,r=1,a=e[0];if("array"===a){var i,o;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in tt)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=tt[s],r++}else i=Fe;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],r++}n=Ue(i,o)}else n=tt[a];for(var u=[];r<e.length;r++){var c=t.parse(e[r],r,Fe);if(!c)return null;u.push(c)}return new nt(n,u)},nt.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Ge(this.type,$e(n)))return n;if(t===this.args.length-1)throw new et("Expected value to be of type "+Ve(this.type)+", but found "+Ve($e(n))+" instead.")}return null},nt.prototype.eachChild=function(e){this.args.forEach(e)},nt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}))},nt.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map(function(e){return e.serialize()}))};var rt=function(e){this.type=ze,this.sections=e};rt.parse=function(e,t){if(e.length<3)return t.error("Expected at least two arguments.");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");for(var n=[],r=1;r<e.length-1;r+=2){var a=t.parse(e[r],1,Fe);if(!a)return null;var i=a.type.kind;if("string"!==i&&"value"!==i&&"null"!==i)return t.error("Formatted text type must be 'string', 'value', or 'null'.");var o=e[r+1];if("object"!=typeof o||Array.isArray(o))return t.error("Format options argument must be an object.");var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,Ne)))return null;var u=null;if(o["text-font"]&&!(u=t.parse(o["text-font"],1,Ue(De))))return null;n.push({text:a,scale:s,font:u})}return new rt(n)},rt.prototype.evaluate=function(e){return new Qe(this.sections.map(function(t){return new Xe(Ze(t.text.evaluate(e)),t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null)}))},rt.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.text),r.scale&&e(r.scale),r.font&&e(r.font)}},rt.prototype.possibleOutputs=function(){return[void 0]},rt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.text.serialize());var a={};r.scale&&(a["font-scale"]=r.scale.serialize()),r.font&&(a["text-font"]=r.font.serialize()),e.push(a)}return e};var at={"to-boolean":Re,"to-color":Pe,"to-number":Ne,"to-string":De},it=function(e,t){this.type=e,this.args=t};it.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var r=at[n],a=[],i=1;i<e.length;i++){var o=t.parse(e[i],i,Fe);if(!o)return null;a.push(o)}return new it(r,a)},it.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,r=0,a=this.args;r<a.length;r+=1){if(n=null,(t=a[r].evaluate(e))instanceof qe)return t;if("string"==typeof t){var i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":Ye(t[0],t[1],t[2],t[3])))return new qe(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new et(n||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,u=this.args;s<u.length;s+=1){if(null===(o=u[s].evaluate(e)))return 0;var c=Number(o);if(!isNaN(c))return c}throw new et("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?Qe.fromString(Ze(this.args[0].evaluate(e))):Ze(this.args[0].evaluate(e))},it.prototype.eachChild=function(e){this.args.forEach(e)},it.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}))},it.prototype.serialize=function(){if("formatted"===this.type.kind)return new rt([{text:this.args[0],scale:null,font:null}]).serialize();var e=["to-"+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};var ot=["Unknown","Point","LineString","Polygon"],st=function(){this.globals=null,this.feature=null,this.featureState=null,this._parseColorCache={}};st.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},st.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?ot[this.feature.type]:this.feature.type:null},st.prototype.properties=function(){return this.feature&&this.feature.properties||{}},st.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=qe.parse(e)),t};var ut=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};ut.prototype.evaluate=function(e){return this._evaluate(e,this.args)},ut.prototype.eachChild=function(e){this.args.forEach(e)},ut.prototype.possibleOutputs=function(){return[void 0]},ut.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))},ut.parse=function(e,t){var n,r=e[0],a=ut.definitions[r];if(!a)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(a)?a[0]:a.type,o=Array.isArray(a)?[[a[1],a[2]]]:a.overloads,s=o.filter(function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1}),u=null,c=0,l=s;c<l.length;c+=1){var d=l[c],p=d[0],h=d[1];u=new ft(t.registry,t.path,null,t.scope);for(var f=[],m=!1,v=1;v<e.length;v++){var g=e[v],A=Array.isArray(p)?p[v-1]:p.type,y=u.parse(g,1+f.length,A);if(!y){m=!0;break}f.push(y)}if(!m)if(Array.isArray(p)&&p.length!==f.length)u.error("Expected "+p.length+" arguments, but found "+f.length+" instead.");else{for(var b=0;b<f.length;b++){var x=Array.isArray(p)?p[b]:p.type,w=f[b];u.concat(b+1).checkSubtype(x,w.type)}if(0===u.errors.length)return new ut(r,i,h,f)}}if(1===s.length)(n=t.errors).push.apply(n,u.errors);else{for(var _=(s.length?s:o).map(function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Ve).join(", ")+")":"("+Ve(t.type)+"...)"}).join(" | "),k=[],O=1;O<e.length;O++){var E=t.parse(e[O],1+k.length);if(!E)return null;k.push(Ve(E.type))}t.error("Expected arguments of type "+_+", but found ("+k.join(", ")+") instead.")}return null},ut.register=function(e,t){for(var n in ut.definitions=t,t)e[n]=ut};var ct=function(e,t,n){this.type=Be,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function lt(e){if(e instanceof ut){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}var t=!0;return e.eachChild(function(e){t&&!lt(e)&&(t=!1)}),t}function dt(e){if(e instanceof ut&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild(function(e){t&&!dt(e)&&(t=!1)}),t}function pt(e,t){if(e instanceof ut&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild(function(e){n&&!pt(e,t)&&(n=!1)}),n}ct.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Re);if(!r)return null;var a=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Re);if(!a)return null;var i=null;return n.locale&&!(i=t.parse(n.locale,1,De))?null:new ct(r,a,i)},ct.prototype.evaluate=function(e){return new Ke(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},ct.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},ct.prototype.possibleOutputs=function(){return[void 0]},ct.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var ht=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};ht.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new ht(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},ht.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},ht.prototype.eachChild=function(){},ht.prototype.possibleOutputs=function(){return[void 0]},ht.prototype.serialize=function(){return["var",this.name]};var ft=function(e,t,n,r,a){void 0===t&&(t=[]),void 0===r&&(r=new je),void 0===a&&(a=[]),this.registry=e,this.path=t,this.key=t.map(function(e){return"["+e+"]"}).join(""),this.scope=r,this.errors=a,this.expectedType=n};function mt(e,t){for(var n,r,a=0,i=e.length-1,o=0;a<=i;){if(n=e[o=Math.floor((a+i)/2)],r=e[o+1],t===n||t>n&&t<r)return o;if(n<t)a=o+1;else{if(!(n>t))throw new et("Input is not a number.");i=o-1}}return Math.max(o-1,0)}ft.prototype.parse=function(e,t,n,r,a){return void 0===a&&(a={}),t?this.concat(t,n,r)._parse(e,a):this._parse(e,a)},ft.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new nt(t,[e]):"coerce"===n?new it(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var a=this.registry[r];if(a){var i=a.parse(e,this);if(!i)return null;if(this.expectedType){var o=this.expectedType,s=i.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else i=n(i,o,t.typeAnnotation||"coerce");else i=n(i,o,t.typeAnnotation||"assert")}if(!(i instanceof Je)&&function e(t){if(t instanceof ht)return e(t.boundExpression);if(t instanceof ut&&"error"===t.name)return!1;if(t instanceof ct)return!1;var n=t instanceof it||t instanceof nt,r=!0;return t.eachChild(function(t){r=n?r&&e(t):r&&t instanceof Je}),!!r&&lt(t)&&pt(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(i)){var u=new st;try{i=new Je(i.type,i.evaluate(u))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},ft.prototype.concat=function(e,t,n){var r="number"==typeof e?this.path.concat(e):this.path,a=n?this.scope.concat(n):this.scope;return new ft(this.registry,r,t||null,a,this.errors)},ft.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=""+this.key+t.map(function(e){return"["+e+"]"}).join("");this.errors.push(new Ie(r,e))},ft.prototype.checkSubtype=function(e,t){var n=Ge(e,t);return n&&this.error(n),n};var vt=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,a=n;r<a.length;r+=1){var i=a[r],o=i[0],s=i[1];this.labels.push(o),this.outputs.push(s)}};function gt(e,t,n){return e*(1-n)+t*n}vt.parse=function(e,t){var n=e[1],r=e.slice(2);if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(n=t.parse(n,1,Ne)))return null;var a=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType),r.unshift(-1/0);for(var o=0;o<r.length;o+=2){var s=r[o],u=r[o+1],c=o+1,l=o+2;if("number"!=typeof s)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(a.length&&a[a.length-1][0]>=s)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);var d=t.parse(u,l,i);if(!d)return null;i=i||d.type,a.push([s,d])}return new vt(i,n,a)},vt.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var a=t.length;return r>=t[a-1]?n[a-1].evaluate(e):n[mt(t,r)].evaluate(e)},vt.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},vt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}))},vt.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var At=Object.freeze({number:gt,color:function(e,t,n){return new qe(gt(e.r,t.r,n),gt(e.g,t.g,n),gt(e.b,t.b,n),gt(e.a,t.a,n))},array:function(e,t,n){return e.map(function(e,r){return gt(e,t[r],n)})}}),yt=.95047,bt=1,xt=1.08883,wt=4/29,_t=6/29,kt=3*_t*_t,Ot=_t*_t*_t,Et=Math.PI/180,St=180/Math.PI;function Ct(e){return e>Ot?Math.pow(e,1/3):e/kt+wt}function Tt(e){return e>_t?e*e*e:kt*(e-wt)}function It(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function jt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Mt(e){var t=jt(e.r),n=jt(e.g),r=jt(e.b),a=Ct((.4124564*t+.3575761*n+.1804375*r)/yt),i=Ct((.2126729*t+.7151522*n+.072175*r)/bt);return{l:116*i-16,a:500*(a-i),b:200*(i-Ct((.0193339*t+.119192*n+.9503041*r)/xt)),alpha:e.a}}function Nt(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=bt*Tt(t),n=yt*Tt(n),r=xt*Tt(r),new qe(It(3.2404542*n-1.5371385*t-.4985314*r),It(-.969266*n+1.8760108*t+.041556*r),It(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function Dt(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var Rt={forward:Mt,reverse:Nt,interpolate:function(e,t,n){return{l:gt(e.l,t.l,n),a:gt(e.a,t.a,n),b:gt(e.b,t.b,n),alpha:gt(e.alpha,t.alpha,n)}}},Pt={forward:function(e){var t=Mt(e),n=t.l,r=t.a,a=t.b,i=Math.atan2(a,r)*St;return{h:i<0?i+360:i,c:Math.sqrt(r*r+a*a),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Et,n=e.c;return Nt({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Dt(e.h,t.h,n),c:gt(e.c,t.c,n),l:gt(e.l,t.l,n),alpha:gt(e.alpha,t.alpha,n)}}},Lt=Object.freeze({lab:Rt,hcl:Pt}),Ft=function(e,t,n,r,a){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var i=0,o=a;i<o.length;i+=1){var s=o[i],u=s[0],c=s[1];this.labels.push(u),this.outputs.push(c)}};function Bt(e,t,n,r){var a=r-n,i=e-n;return 0===a?0:1===t?i/a:(Math.pow(t,i)-1)/(Math.pow(t,a)-1)}Ft.interpolationFactor=function(e,t,r,a){var i=0;if("exponential"===e.name)i=Bt(t,e.base,r,a);else if("linear"===e.name)i=Bt(t,1,r,a);else if("cubic-bezier"===e.name){var o=e.controlPoints;i=new n(o[0],o[1],o[2],o[3]).solve(Bt(t,1,r,a))}return i},Ft.parse=function(e,t){var n=e[0],r=e[1],a=e[2],i=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var o=r[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:o}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some(function(e){return"number"!=typeof e||e<0||e>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(a=t.parse(a,2,Ne)))return null;var u=[],c=null;"interpolate-hcl"===n||"interpolate-lab"===n?c=Pe:t.expectedType&&"value"!==t.expectedType.kind&&(c=t.expectedType);for(var l=0;l<i.length;l+=2){var d=i[l],p=i[l+1],h=l+3,f=l+4;if("number"!=typeof d)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(u.length&&u[u.length-1][0]>=d)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var m=t.parse(p,f,c);if(!m)return null;c=c||m.type,u.push([d,m])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new Ft(c,n,r,a,u):t.error("Type "+Ve(c)+" is not interpolatable.")},Ft.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var a=t.length;if(r>=t[a-1])return n[a-1].evaluate(e);var i=mt(t,r),o=t[i],s=t[i+1],u=Ft.interpolationFactor(this.interpolation,r,o,s),c=n[i].evaluate(e),l=n[i+1].evaluate(e);return"interpolate"===this.operator?At[this.type.kind.toLowerCase()](c,l,u):"interpolate-hcl"===this.operator?Pt.reverse(Pt.interpolate(Pt.forward(c),Pt.forward(l),u)):Rt.reverse(Rt.interpolate(Rt.forward(c),Rt.forward(l),u))},Ft.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},Ft.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}))},Ft.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var zt=function(e,t){this.type=e,this.args=t};zt.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,r=t.expectedType;r&&"value"!==r.kind&&(n=r);for(var a=[],i=0,o=e.slice(1);i<o.length;i+=1){var s=o[i],u=t.parse(s,1+a.length,n,void 0,{typeAnnotation:"omit"});if(!u)return null;n=n||u.type,a.push(u)}var c=r&&a.some(function(e){return Ge(r,e.type)});return new zt(c?Fe:n,a)},zt.prototype.evaluate=function(e){for(var t=null,n=0,r=this.args;n<r.length&&null===(t=r[n].evaluate(e));n+=1);return t},zt.prototype.eachChild=function(e){this.args.forEach(e)},zt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}))},zt.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Ut=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};Ut.prototype.evaluate=function(e){return this.result.evaluate(e)},Ut.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},Ut.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],r=1;r<e.length-1;r+=2){var a=e[r];if("string"!=typeof a)return t.error("Expected string, but found "+typeof a+" instead.",r);if(/[^a-zA-Z0-9_]/.test(a))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);var i=t.parse(e[r+1],r+1);if(!i)return null;n.push([a,i])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return o?new Ut(n,o):null},Ut.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Ut.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t],a=r[0],i=r[1];e.push(a,i.serialize())}return e.push(this.result.serialize()),e};var Vt=function(e,t,n){this.type=e,this.index=t,this.input=n};Vt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Ne),r=t.parse(e[2],2,Ue(t.expectedType||Fe));if(!n||!r)return null;var a=r.type;return new Vt(a.itemType,n,r)},Vt.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new et("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new et("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new et("Array index must be an integer, but found "+t+" instead.");return n[t]},Vt.prototype.eachChild=function(e){e(this.index),e(this.input)},Vt.prototype.possibleOutputs=function(){return[void 0]},Vt.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Wt=function(e,t,n,r,a,i){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=a,this.otherwise=i};Wt.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var a={},i=[],o=2;o<e.length-1;o+=2){var s=e[o],u=e[o+1];Array.isArray(s)||(s=[s]);var c=t.concat(o);if(0===s.length)return c.error("Expected at least one branch label.");for(var l=0,d=s;l<d.length;l+=1){var p=d[l];if("number"!=typeof p&&"string"!=typeof p)return c.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,$e(p)))return null}else n=$e(p);if(void 0!==a[String(p)])return c.error("Branch labels must be unique.");a[String(p)]=i.length}var h=t.parse(u,o,r);if(!h)return null;r=r||h.type,i.push(h)}var f=t.parse(e[1],1,Fe);if(!f)return null;var m=t.parse(e[e.length-1],e.length-1,r);return m?"value"!==f.type.kind&&t.concat(1).checkSubtype(n,f.type)?null:new Wt(n,r,f,a,i,m):null},Wt.prototype.evaluate=function(e){var t=this.input.evaluate(e);return($e(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},Wt.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},Wt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()})).concat(this.otherwise.possibleOutputs())},Wt.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},a=0,i=Object.keys(this.cases).sort();a<i.length;a+=1){var o=i[a];void 0===(d=r[this.cases[o]])?(r[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[d][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,c=n;u<c.length;u+=1){var l=c[u],d=l[0],p=l[1];1===p.length?t.push(s(p[0])):t.push(p.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var Gt=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};function Ht(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function qt(e,t,n,r){return 0===r.compare(t,n)}function Kt(e,t,n){var r="=="!==e&&"!="!==e;return function(){function a(e,t,n){this.type=Re,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return a.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],i=t.parse(e[1],1,Fe);if(!i)return null;if(!Ht(n,i.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Ve(i.type)+"'.");var o=t.parse(e[2],2,Fe);if(!o)return null;if(!Ht(n,o.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Ve(o.type)+"'.");if(i.type.kind!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+Ve(i.type)+"' and '"+Ve(o.type)+"'.");r&&("value"===i.type.kind&&"value"!==o.type.kind?i=new nt(o.type,[i]):"value"!==i.type.kind&&"value"===o.type.kind&&(o=new nt(i.type,[o])));var s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Be)))return null}return new a(i,o,s)},a.prototype.evaluate=function(a){var i=this.lhs.evaluate(a),o=this.rhs.evaluate(a);if(r&&this.hasUntypedArgument){var s=$e(i),u=$e(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new et('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var c=$e(i),l=$e(o);if("string"!==c.kind||"string"!==l.kind)return t(a,i,o)}return this.collator?n(a,i,o,this.collator.evaluate(a)):t(a,i,o)},a.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},a.prototype.possibleOutputs=function(){return[!0,!1]},a.prototype.serialize=function(){var t=[e];return this.eachChild(function(e){t.push(e.serialize())}),t},a}()}Gt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var r=[],a=1;a<e.length-1;a+=2){var i=t.parse(e[a],a,Re);if(!i)return null;var o=t.parse(e[a+1],a+1,n);if(!o)return null;r.push([i,o]),n=n||o.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new Gt(n,r,s):null},Gt.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],a=r[0],i=r[1];if(a.evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},Gt.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],a=r[0],i=r[1];e(a),e(i)}e(this.otherwise)},Gt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.branches.map(function(e){return e[0],e[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs())},Gt.prototype.serialize=function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Xt=Kt("==",function(e,t,n){return t===n},qt),Qt=Kt("!=",function(e,t,n){return t!==n},function(e,t,n,r){return!qt(0,t,n,r)}),Yt=Kt("<",function(e,t,n){return t<n},function(e,t,n,r){return r.compare(t,n)<0}),$t=Kt(">",function(e,t,n){return t>n},function(e,t,n,r){return r.compare(t,n)>0}),Zt=Kt("<=",function(e,t,n){return t<=n},function(e,t,n,r){return r.compare(t,n)<=0}),Jt=Kt(">=",function(e,t,n){return t>=n},function(e,t,n,r){return r.compare(t,n)>=0}),en=function(e,t,n,r,a){this.type=De,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=a};en.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Ne);if(!n)return null;var r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");var a=null;if(r.locale&&!(a=t.parse(r.locale,1,De)))return null;var i=null;if(r.currency&&!(i=t.parse(r.currency,1,De)))return null;var o=null;if(r["min-fraction-digits"]&&!(o=t.parse(r["min-fraction-digits"],1,Ne)))return null;var s=null;return r["max-fraction-digits"]&&!(s=t.parse(r["max-fraction-digits"],1,Ne))?null:new en(n,a,i,o,s)},en.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},en.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},en.prototype.possibleOutputs=function(){return[void 0]},en.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var tn=function(e){this.type=Ne,this.input=e};tn.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+Ve(n.type)+" instead."):new tn(n):null},tn.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new et("Expected value to be of type string or array, but found "+Ve($e(t))+" instead.")},tn.prototype.eachChild=function(e){e(this.input)},tn.prototype.possibleOutputs=function(){return[void 0]},tn.prototype.serialize=function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e};var nn={"==":Xt,"!=":Qt,">":$t,"<":Yt,">=":Jt,"<=":Zt,array:nt,at:Vt,boolean:nt,case:Gt,coalesce:zt,collator:ct,format:rt,interpolate:Ft,"interpolate-hcl":Ft,"interpolate-lab":Ft,length:tn,let:Ut,literal:Je,match:Wt,number:nt,"number-format":en,object:nt,step:vt,string:nt,"to-boolean":it,"to-color":it,"to-number":it,"to-string":it,var:ht};function rn(e,t){var n=t[0],r=t[1],a=t[2],i=t[3];n=n.evaluate(e),r=r.evaluate(e),a=a.evaluate(e);var o=i?i.evaluate(e):1,s=Ye(n,r,a,o);if(s)throw new et(s);return new qe(n/255*o,r/255*o,a/255*o,o)}function an(e,t){return e in t}function on(e,t){var n=t[e];return void 0===n?null:n}function sn(e){return{type:e}}function un(e){return{result:"success",value:e}}function cn(e){return{result:"error",value:e}}function ln(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function dn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function pn(e){return!!e.expression&&e.expression.interpolated}function hn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function fn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function mn(e){return e}function vn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function gn(e,t,n,r,a){return vn(typeof n===a?r[n]:void 0,e.default,t.default)}function An(e,t,n){if("number"!==hn(n))return vn(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var a=xn(e.stops,n);return e.stops[a][1]}function yn(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==hn(n))return vn(e.default,t.default);var a=e.stops.length;if(1===a)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[a-1][0])return e.stops[a-1][1];var i=xn(e.stops,n),o=function(e,t,n,r){var a=r-n,i=e-n;return 0===a?0:1===t?i/a:(Math.pow(t,i)-1)/(Math.pow(t,a)-1)}(n,r,e.stops[i][0],e.stops[i+1][0]),s=e.stops[i][1],u=e.stops[i+1][1],c=At[t.type]||mn;if(e.colorSpace&&"rgb"!==e.colorSpace){var l=Lt[e.colorSpace];c=function(e,t){return l.reverse(l.interpolate(l.forward(e),l.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=u.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==r)return c(n,r,o)}}:c(s,u,o)}function bn(e,t,n){return"color"===t.type?n=qe.parse(n):"formatted"===t.type?n=Qe.fromString(n.toString()):hn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),vn(n,e.default,t.default)}function xn(e,t){for(var n,r,a=0,i=e.length-1,o=0;a<=i;){if(n=e[o=Math.floor((a+i)/2)][0],r=e[o+1][0],t===n||t>n&&t<r)return o;n<t?a=o+1:n>t&&(i=o-1)}return Math.max(o-1,0)}ut.register(nn,{error:[{kind:"error"},[De],function(e,t){var n=t[0];throw new et(n.evaluate(e))}],typeof:[De,[Fe],function(e,t){return Ve($e(t[0].evaluate(e)))}],"to-rgba":[Ue(Ne,4),[Pe],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Pe,[Ne,Ne,Ne],rn],rgba:[Pe,[Ne,Ne,Ne,Ne],rn],has:{type:Re,overloads:[[[De],function(e,t){return an(t[0].evaluate(e),e.properties())}],[[De,Le],function(e,t){var n=t[0],r=t[1];return an(n.evaluate(e),r.evaluate(e))}]]},get:{type:Fe,overloads:[[[De],function(e,t){return on(t[0].evaluate(e),e.properties())}],[[De,Le],function(e,t){var n=t[0],r=t[1];return on(n.evaluate(e),r.evaluate(e))}]]},"feature-state":[Fe,[De],function(e,t){return on(t[0].evaluate(e),e.featureState||{})}],properties:[Le,[],function(e){return e.properties()}],"geometry-type":[De,[],function(e){return e.geometryType()}],id:[Fe,[],function(e){return e.id()}],zoom:[Ne,[],function(e){return e.globals.zoom}],"heatmap-density":[Ne,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Ne,[],function(e){return e.globals.lineProgress||0}],accumulated:[Fe,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Ne,sn(Ne),function(e,t){for(var n=0,r=0,a=t;r<a.length;r+=1)n+=a[r].evaluate(e);return n}],"*":[Ne,sn(Ne),function(e,t){for(var n=1,r=0,a=t;r<a.length;r+=1)n*=a[r].evaluate(e);return n}],"-":{type:Ne,overloads:[[[Ne,Ne],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)-r.evaluate(e)}],[[Ne],function(e,t){return-t[0].evaluate(e)}]]},"/":[Ne,[Ne,Ne],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)/r.evaluate(e)}],"%":[Ne,[Ne,Ne],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)%r.evaluate(e)}],ln2:[Ne,[],function(){return Math.LN2}],pi:[Ne,[],function(){return Math.PI}],e:[Ne,[],function(){return Math.E}],"^":[Ne,[Ne,Ne],function(e,t){var n=t[0],r=t[1];return Math.pow(n.evaluate(e),r.evaluate(e))}],sqrt:[Ne,[Ne],function(e,t){var n=t[0];return Math.sqrt(n.evaluate(e))}],log10:[Ne,[Ne],function(e,t){var n=t[0];return Math.log(n.evaluate(e))/Math.LN10}],ln:[Ne,[Ne],function(e,t){var n=t[0];return Math.log(n.evaluate(e))}],log2:[Ne,[Ne],function(e,t){var n=t[0];return Math.log(n.evaluate(e))/Math.LN2}],sin:[Ne,[Ne],function(e,t){var n=t[0];return Math.sin(n.evaluate(e))}],cos:[Ne,[Ne],function(e,t){var n=t[0];return Math.cos(n.evaluate(e))}],tan:[Ne,[Ne],function(e,t){var n=t[0];return Math.tan(n.evaluate(e))}],asin:[Ne,[Ne],function(e,t){var n=t[0];return Math.asin(n.evaluate(e))}],acos:[Ne,[Ne],function(e,t){var n=t[0];return Math.acos(n.evaluate(e))}],atan:[Ne,[Ne],function(e,t){var n=t[0];return Math.atan(n.evaluate(e))}],min:[Ne,sn(Ne),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[Ne,sn(Ne),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],abs:[Ne,[Ne],function(e,t){var n=t[0];return Math.abs(n.evaluate(e))}],round:[Ne,[Ne],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ne,[Ne],function(e,t){var n=t[0];return Math.floor(n.evaluate(e))}],ceil:[Ne,[Ne],function(e,t){var n=t[0];return Math.ceil(n.evaluate(e))}],"filter-==":[Re,[De,Fe],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[Re,[Fe],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[Re,[De],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[Re,[De,Fe],function(e,t){var n=t[0],r=t[1],a=e.properties()[n.value],i=r.value;return typeof a==typeof i&&a<i}],"filter-id-<":[Re,[Fe],function(e,t){var n=t[0],r=e.id(),a=n.value;return typeof r==typeof a&&r<a}],"filter->":[Re,[De,Fe],function(e,t){var n=t[0],r=t[1],a=e.properties()[n.value],i=r.value;return typeof a==typeof i&&a>i}],"filter-id->":[Re,[Fe],function(e,t){var n=t[0],r=e.id(),a=n.value;return typeof r==typeof a&&r>a}],"filter-<=":[Re,[De,Fe],function(e,t){var n=t[0],r=t[1],a=e.properties()[n.value],i=r.value;return typeof a==typeof i&&a<=i}],"filter-id-<=":[Re,[Fe],function(e,t){var n=t[0],r=e.id(),a=n.value;return typeof r==typeof a&&r<=a}],"filter->=":[Re,[De,Fe],function(e,t){var n=t[0],r=t[1],a=e.properties()[n.value],i=r.value;return typeof a==typeof i&&a>=i}],"filter-id->=":[Re,[Fe],function(e,t){var n=t[0],r=e.id(),a=n.value;return typeof r==typeof a&&r>=a}],"filter-has":[Re,[Fe],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Re,[],function(e){return null!==e.id()}],"filter-type-in":[Re,[Ue(De)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Re,[Ue(Fe)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Re,[De,Ue(Fe)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[Re,[De,Ue(Fe)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var a=n+r>>1;if(t[a]===e)return!0;t[a]>e?r=a-1:n=a+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Re,overloads:[[[Re,Re],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)&&r.evaluate(e)}],[sn(Re),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:Re,overloads:[[[Re,Re],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)||r.evaluate(e)}],[sn(Re),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[Re,[Re],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Re,[De],function(e,t){var n=t[0],r=e.globals&&e.globals.isSupportedScript;return!r||r(n.evaluate(e))}],upcase:[De,[De],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[De,[De],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[De,sn(Fe),function(e,t){return t.map(function(t){return Ze(t.evaluate(e))}).join("")}],"resolved-locale":[De,[Be],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var wn=function(e,t){var n;this.expression=e,this._warningHistory={},this._evaluator=new st,this._defaultValue=t?"color"===(n=t).type&&fn(n.default)?new qe(0,0,0,0):"color"===n.type?qe.parse(n.default)||null:void 0===n.default?null:n.default:null,this._enumValues=t&&"enum"===t.type?t.values:null};function _n(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in nn}function kn(e,t){var n=new ft(nn,[],t?function(e){var t={color:Pe,string:De,number:Ne,enum:De,boolean:Re,formatted:ze};return"array"===e.type?Ue(t[e.value]||Fe,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?un(new wn(r,t)):cn(n.errors)}wn.prototype.evaluateWithoutErrorHandling=function(e,t,n){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this.expression.evaluate(this._evaluator)},wn.prototype.evaluate=function(e,t,n){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null;try{var r=this.expression.evaluate(this._evaluator);if(null==r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new et("Expected value to be one of "+Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var On=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!dt(t.expression)};On.prototype.evaluateWithoutErrorHandling=function(e,t,n){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n)},On.prototype.evaluate=function(e,t,n){return this._styleExpression.evaluate(e,t,n)};var En=function(e,t,n){this.kind=e,this.zoomStops=n.labels,this._styleExpression=t,this.isStateDependent="camera"!==e&&!dt(t.expression),n instanceof Ft&&(this._interpolationType=n.interpolation)};function Sn(e,t){if("error"===(e=kn(e,t)).result)return e;var n=e.value.expression,r=lt(n);if(!r&&!ln(t))return cn([new Ie("","data expressions not supported")]);var a=pt(n,["zoom"]);if(!a&&!dn(t))return cn([new Ie("","zoom expressions not supported")]);var i=function e(t){var n=null;if(t instanceof Ut)n=e(t.result);else if(t instanceof zt)for(var r=0,a=t.args;r<a.length;r+=1){var i=a[r];if(n=e(i))break}else(t instanceof vt||t instanceof Ft)&&t.input instanceof ut&&"zoom"===t.input.name&&(n=t);return n instanceof Ie?n:(t.eachChild(function(t){var r=e(t);r instanceof Ie?n=r:!n&&r?n=new Ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Ie("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n)}(n);return i||a?i instanceof Ie?cn([i]):i instanceof Ft&&!pn(t)?cn([new Ie("",'"interpolate" expressions cannot be used with this property')]):un(i?new En(r?"camera":"composite",e.value,i):new On(r?"constant":"source",e.value)):cn([new Ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}En.prototype.evaluateWithoutErrorHandling=function(e,t,n){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n)},En.prototype.evaluate=function(e,t,n){return this._styleExpression.evaluate(e,t,n)},En.prototype.interpolationFactor=function(e,t,n){return this._interpolationType?Ft.interpolationFactor(this._interpolationType,e,t,n):0};var Cn=function(e,t){this._parameters=e,this._specification=t,Se(this,function e(t,n){var r,a,i,o="color"===n.type,s=t.stops&&"object"==typeof t.stops[0][0],u=s||void 0!==t.property,c=s||!u,l=t.type||(pn(n)?"exponential":"interval");if(o&&((t=Se({},t)).stops&&(t.stops=t.stops.map(function(e){return[e[0],qe.parse(e[1])]})),t.default?t.default=qe.parse(t.default):t.default=qe.parse(n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Lt[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===l)r=yn;else if("interval"===l)r=An;else if("categorical"===l){r=gn,a=Object.create(null);for(var d=0,p=t.stops;d<p.length;d+=1){var h=p[d];a[h[0]]=h[1]}i=typeof t.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');r=bn}if(s){for(var f={},m=[],v=0;v<t.stops.length;v++){var g=t.stops[v],A=g[0].zoom;void 0===f[A]&&(f[A]={zoom:A,type:t.type,property:t.property,default:t.default,stops:[]},m.push(A)),f[A].stops.push([g[0].value,g[1]])}for(var y=[],b=0,x=m;b<x.length;b+=1){var w=x[b];y.push([f[w].zoom,e(f[w],n)])}return{kind:"composite",interpolationFactor:Ft.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:y.map(function(e){return e[0]}),evaluate:function(e,r){var a=e.zoom;return yn({stops:y,base:t.base},n,a).evaluate(a,r)}}}return c?{kind:"camera",interpolationFactor:"exponential"===l?Ft.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(e){return e[0]}),evaluate:function(e){var o=e.zoom;return r(t,n,o,a,i)}}:{kind:"source",evaluate:function(e,o){var s=o&&o.properties?o.properties[t.property]:void 0;return void 0===s?vn(t.default,n.default):r(t,n,s,a,i)}}}(this._parameters,this._specification))};function Tn(e,t){if(fn(e))return new Cn(e,t);if(_n(e)){var n=Sn(e,t);if("error"===n.result)throw new Error(n.value.map(function(e){return e.key+": "+e.message}).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=qe.parse(e)),{kind:"constant",evaluate:function(){return r}}}function In(e){var t=e.key,n=e.value,r=e.valueSpec||{},a=e.objectElementValidators||{},i=e.style,o=e.styleSpec,s=[],u=hn(n);if("object"!==u)return[new Oe(t,n,"object expected, "+u+" found")];for(var c in n){var l=c.split(".")[0],d=r[l]||r["*"],p=void 0;if(a[l])p=a[l];else if(r[l])p=er;else if(a["*"])p=a["*"];else{if(!r["*"]){s.push(new Oe(t,n[c],'unknown property "'+c+'"'));continue}p=er}s=s.concat(p({key:(t?t+".":t)+c,value:n[c],valueSpec:d,style:i,styleSpec:o,object:n,objectKey:c},n))}for(var h in r)a[h]||r[h].required&&void 0===r[h].default&&void 0===n[h]&&s.push(new Oe(t,n,'missing required property "'+h+'"'));return s}function jn(e){var t=e.value,n=e.valueSpec,r=e.style,a=e.styleSpec,i=e.key,o=e.arrayElementValidator||er;if("array"!==hn(t))return[new Oe(i,t,"array expected, "+hn(t)+" found")];if(n.length&&t.length!==n.length)return[new Oe(i,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new Oe(i,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var s={type:n.value,values:n.values};a.$version<7&&(s.function=n.function),"object"===hn(n.value)&&(s=n.value);for(var u=[],c=0;c<t.length;c++)u=u.concat(o({array:t,arrayIndex:c,value:t[c],valueSpec:s,style:r,styleSpec:a,key:i+"["+c+"]"}));return u}function Mn(e){var t=e.key,n=e.value,r=e.valueSpec,a=hn(n);return"number"!==a?[new Oe(t,n,"number expected, "+a+" found")]:"minimum"in r&&n<r.minimum?[new Oe(t,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Oe(t,n,n+" is greater than the maximum value "+r.maximum)]:[]}function Nn(e){var t,n,r,a=e.valueSpec,i=Ce(e.value.type),o={},s="categorical"!==i&&void 0===e.value.property,u=!s,c="array"===hn(e.value.stops)&&"array"===hn(e.value.stops[0])&&"object"===hn(e.value.stops[0][0]),l=In({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===i)return[new Oe(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(jn({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===hn(n)&&0===n.length&&t.push(new Oe(e.key,n,"array must have at least one stop")),t},default:function(e){return er({key:e.key,value:e.value,valueSpec:a,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===i&&s&&l.push(new Oe(e.key,e.value,'missing required property "property"')),"identity"===i||e.value.stops||l.push(new Oe(e.key,e.value,'missing required property "stops"')),"exponential"===i&&e.valueSpec.expression&&!pn(e.valueSpec)&&l.push(new Oe(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(u&&!ln(e.valueSpec)?l.push(new Oe(e.key,e.value,"property functions not supported")):s&&!dn(e.valueSpec)&&l.push(new Oe(e.key,e.value,"zoom functions not supported"))),"categorical"!==i&&!c||void 0!==e.value.property||l.push(new Oe(e.key,e.value,'"property" property is required')),l;function d(e){var t=[],i=e.value,s=e.key;if("array"!==hn(i))return[new Oe(s,i,"array expected, "+hn(i)+" found")];if(2!==i.length)return[new Oe(s,i,"array length 2 expected, length "+i.length+" found")];if(c){if("object"!==hn(i[0]))return[new Oe(s,i,"object expected, "+hn(i[0])+" found")];if(void 0===i[0].zoom)return[new Oe(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new Oe(s,i,"object stop key must have value")];if(r&&r>Ce(i[0].zoom))return[new Oe(s,i[0].zoom,"stop zoom values must appear in ascending order")];Ce(i[0].zoom)!==r&&(r=Ce(i[0].zoom),n=void 0,o={}),t=t.concat(In({key:s+"[0]",value:i[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Mn,value:p}}))}else t=t.concat(p({key:s+"[0]",value:i[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},i));return _n(Te(i[1]))?t.concat([new Oe(s+"[1]",i[1],"expressions are not allowed in function stops.")]):t.concat(er({key:s+"[1]",value:i[1],valueSpec:a,style:e.style,styleSpec:e.styleSpec}))}function p(e,r){var s=hn(e.value),u=Ce(e.value),c=null!==e.value?e.value:r;if(t){if(s!==t)return[new Oe(e.key,c,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Oe(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){var l="number expected, "+s+" found";return ln(a)&&void 0===i&&(l+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Oe(e.key,c,l)]}return"categorical"!==i||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==i&&"number"===s&&void 0!==n&&u<n?[new Oe(e.key,c,"stop domain values must appear in ascending order")]:(n=u,"categorical"===i&&u in o?[new Oe(e.key,c,"stop domain values must be unique")]:(o[u]=!0,[])):[new Oe(e.key,c,"integer expected, found "+u)]}}function Dn(e){var t=("property"===e.expressionContext?Sn:kn)(Te(e.value),e.valueSpec);if("error"===t.result)return t.value.map(function(t){return new Oe(""+e.key+t.key,e.value,t.message)});var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==n.possibleOutputs().indexOf(void 0))return[new Oe(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!dt(n))return[new Oe(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!dt(n))return[new Oe(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!pt(n,["zoom","feature-state"]))return[new Oe(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!lt(n))return[new Oe(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Rn(e){var t=e.key,n=e.value,r=e.valueSpec,a=[];return Array.isArray(r.values)?-1===r.values.indexOf(Ce(n))&&a.push(new Oe(t,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Ce(n))&&a.push(new Oe(t,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),a}function Pn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!Pn(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Cn.deserialize=function(e){return new Cn(e._parameters,e._specification)},Cn.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var Ln={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Fn(e){if(null==e)return function(){return!0};Pn(e)||(e=zn(e));var t=kn(e,Ln);if("error"===t.result)throw new Error(t.value.map(function(e){return e.key+": "+e.message}).join(", "));return function(e,n){return t.value.evaluate(e,n)}}function Bn(e,t){return e<t?-1:e>t?1:0}function zn(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?Un(e[1],e[2],"=="):"!="===n?Gn(Un(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Un(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(zn))):"all"===n?["all"].concat(e.slice(1).map(zn)):"none"===n?["all"].concat(e.slice(1).map(zn).map(Gn)):"in"===n?Vn(e[1],e.slice(2)):"!in"===n?Gn(Vn(e[1],e.slice(2))):"has"===n?Wn(e[1]):"!has"!==n||Gn(Wn(e[1]))}function Un(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function Vn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(function(e){return typeof e!=typeof t[0]})?["filter-in-large",e,["literal",t.sort(Bn)]]:["filter-in-small",e,["literal",t]]}}function Wn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Gn(e){return["!",e]}function Hn(e){return Pn(Te(e.value))?Dn(Se({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,r=t.key;if("array"!==hn(n))return[new Oe(r,n,"array expected, "+hn(n)+" found")];var a,i=t.styleSpec,o=[];if(n.length<1)return[new Oe(r,n,"filter array must have at least 1 element")];switch(o=o.concat(Rn({key:r+"[0]",value:n[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),Ce(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Ce(n[1])&&o.push(new Oe(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&o.push(new Oe(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(a=hn(n[1]))&&o.push(new Oe(r+"[1]",n[1],"string expected, "+a+" found"));for(var s=2;s<n.length;s++)a=hn(n[s]),"$type"===Ce(n[1])?o=o.concat(Rn({key:r+"["+s+"]",value:n[s],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==a&&"number"!==a&&"boolean"!==a&&o.push(new Oe(r+"["+s+"]",n[s],"string, number, or boolean expected, "+a+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)o=o.concat(e({key:r+"["+u+"]",value:n[u],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":a=hn(n[1]),2!==n.length?o.push(new Oe(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==a&&o.push(new Oe(r+"[1]",n[1],"string expected, "+a+" found"))}return o}(e)}function qn(e,t){var n=e.key,r=e.style,a=e.styleSpec,i=e.value,o=e.objectKey,s=a[t+"_"+e.layerType];if(!s)return[];var u=o.match(/^(.*)-transition$/);if("paint"===t&&u&&s[u[1]]&&s[u[1]].transition)return er({key:n,value:i,valueSpec:a.transition,style:r,styleSpec:a});var c,l=e.valueSpec||s[o];if(!l)return[new Oe(n,i,'unknown property "'+o+'"')];if("string"===hn(i)&&ln(l)&&!l.tokens&&(c=/^{([^}]+)}$/.exec(i)))return[new Oe(n,i,'"'+o+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(c[1])+" }`.")];var d=[];return"symbol"===e.layerType&&("text-field"===o&&r&&!r.glyphs&&d.push(new Oe(n,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&fn(Te(i))&&"identity"===Ce(i.type)&&d.push(new Oe(n,i,'"text-font" does not support identity functions'))),d.concat(er({key:e.key,value:i,valueSpec:l,style:r,styleSpec:a,expressionContext:"property",propertyType:t,propertyKey:o}))}function Kn(e){return qn(e,"paint")}function Xn(e){return qn(e,"layout")}function Qn(e){var t=[],n=e.value,r=e.key,a=e.style,i=e.styleSpec;n.type||n.ref||t.push(new Oe(r,n,'either "type" or "ref" is required'));var o,s=Ce(n.type),u=Ce(n.ref);if(n.id)for(var c=Ce(n.id),l=0;l<e.arrayIndex;l++){var d=a.layers[l];Ce(d.id)===c&&t.push(new Oe(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+d.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach(function(e){e in n&&t.push(new Oe(r,n[e],'"'+e+'" is prohibited for ref layers'))}),a.layers.forEach(function(e){Ce(e.id)===u&&(o=e)}),o?o.ref?t.push(new Oe(r,n.ref,"ref cannot reference another ref layer")):s=Ce(o.type):t.push(new Oe(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var p=a.sources&&a.sources[n.source],h=p&&Ce(p.type);p?"vector"===h&&"raster"===s?t.push(new Oe(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===h&&"raster"!==s?t.push(new Oe(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new Oe(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===h&&p.lineMetrics||t.push(new Oe(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Oe(r,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new Oe(r,n.source,'source "'+n.source+'" not found'))}else t.push(new Oe(r,n,'missing required property "source"'));return t=t.concat(In({key:r,value:n,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return er({key:r+".type",value:n.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:Hn,layout:function(e){return In({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Xn(Se({layerType:s},e))}}})},paint:function(e){return In({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Kn(Se({layerType:s},e))}}})}}}))}function Yn(e){var t=e.value,n=e.key,r=e.styleSpec,a=e.style;if(!t.type)return[new Oe(n,t,'"type" is required')];var i,o=Ce(t.type);switch(o){case"vector":case"raster":case"raster-dem":if(i=In({key:n,value:t,valueSpec:r["source_"+o.replace("-","_")],style:e.style,styleSpec:r}),"url"in t)for(var s in t)["type","url","tileSize"].indexOf(s)<0&&i.push(new Oe(n+"."+s,t[s],'a source with a "url" property may not include a "'+s+'" property'));return i;case"geojson":if(i=In({key:n,value:t,valueSpec:r.source_geojson,style:a,styleSpec:r}),t.cluster)for(var u in t.clusterProperties){var c=t.clusterProperties[u],l=c[0],d=c[1],p="string"==typeof l?[l,["accumulated"],["get",u]]:l;i.push.apply(i,Dn({key:n+"."+u+".map",value:d,expressionContext:"cluster-map"})),i.push.apply(i,Dn({key:n+"."+u+".reduce",value:p,expressionContext:"cluster-reduce"}))}return i;case"video":return In({key:n,value:t,valueSpec:r.source_video,style:a,styleSpec:r});case"image":return In({key:n,value:t,valueSpec:r.source_image,style:a,styleSpec:r});case"canvas":return[new Oe(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Rn({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:a,styleSpec:r})}}function $n(e){var t=e.value,n=e.styleSpec,r=n.light,a=e.style,i=[],o=hn(t);if(void 0===t)return i;if("object"!==o)return i.concat([new Oe("light",t,"object expected, "+o+" found")]);for(var s in t){var u=s.match(/^(.*)-transition$/);i=u&&r[u[1]]&&r[u[1]].transition?i.concat(er({key:s,value:t[s],valueSpec:n.transition,style:a,styleSpec:n})):r[s]?i.concat(er({key:s,value:t[s],valueSpec:r[s],style:a,styleSpec:n})):i.concat([new Oe(s,t[s],'unknown property "'+s+'"')])}return i}function Zn(e){var t=e.value,n=e.key,r=hn(t);return"string"!==r?[new Oe(n,t,"string expected, "+r+" found")]:[]}var Jn={"*":function(){return[]},array:jn,boolean:function(e){var t=e.value,n=e.key,r=hn(t);return"boolean"!==r?[new Oe(n,t,"boolean expected, "+r+" found")]:[]},number:Mn,color:function(e){var t=e.key,n=e.value,r=hn(n);return"string"!==r?[new Oe(t,n,"color expected, "+r+" found")]:null===He(n)?[new Oe(t,n,'color expected, "'+n+'" found')]:[]},constants:Ee,enum:Rn,filter:Hn,function:Nn,layer:Qn,object:In,source:Yn,light:$n,string:Zn,formatted:function(e){return 0===Zn(e).length?[]:Dn(e)}};function er(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&fn(Ce(t))?Nn(e):n.expression&&_n(Te(t))?Dn(e):n.type&&Jn[n.type]?Jn[n.type](e):In(Se({},e,{valueSpec:n.type?r[n.type]:n}))}function tr(e){var t=e.value,n=e.key,r=Zn(e);return r.length?r:(-1===t.indexOf("{fontstack}")&&r.push(new Oe(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new Oe(n,t,'"glyphs" url must include a "{range}" token')),r)}function nr(e,t){t=t||ke;var n=[];return n=n.concat(er({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:tr,"*":function(){return[]}}})),e.constants&&(n=n.concat(Ee({key:"constants",value:e.constants,style:e,styleSpec:t}))),rr(n)}function rr(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function ar(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return rr(e.apply(this,t))}}nr.source=ar(Yn),nr.light=ar($n),nr.layer=ar(Qn),nr.filter=ar(Hn),nr.paintProperty=ar(Kn),nr.layoutProperty=ar(Xn);var ir=nr,or=nr.light,sr=nr.paintProperty,ur=nr.layoutProperty;function cr(e,t){var n=!1;if(t&&t.length)for(var r=0,a=t;r<a.length;r+=1){var i=a[r];e.fire(new we(new Error(i.message))),n=!0}return n}var lr=pr,dr=3;function pr(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var a=new Int32Array(this.arrayBuffer);e=a[0],t=a[1],n=a[2],this.d=t+2*n;for(var i=0;i<this.d*this.d;i++){var o=a[dr+i],s=a[dr+i+1];r.push(o===s?null:a.subarray(o,s))}var u=a[dr+r.length],c=a[dr+r.length+1];this.keys=a.subarray(u,c),this.bboxes=a.subarray(c),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var l=0;l<this.d*this.d;l++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var d=n/t*e;this.min=-d,this.max=e+d}pr.prototype.insert=function(e,t,n,r,a){this._forEachCell(t,n,r,a,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(a)},pr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},pr.prototype._insertCell=function(e,t,n,r,a,i){this.cells[a].push(i)},pr.prototype.query=function(e,t,n,r,a){var i=this.min,o=this.max;if(e<=i&&t<=i&&o<=n&&o<=r&&!a)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},a),s},pr.prototype._queryCell=function(e,t,n,r,a,i,o,s){var u=this.cells[a];if(null!==u)for(var c=this.keys,l=this.bboxes,d=0;d<u.length;d++){var p=u[d];if(void 0===o[p]){var h=4*p;(s?s(l[h+0],l[h+1],l[h+2],l[h+3]):e<=l[h+2]&&t<=l[h+3]&&n>=l[h+0]&&r>=l[h+1])?(o[p]=!0,i.push(c[p])):o[p]=!1}}},pr.prototype._forEachCell=function(e,t,n,r,a,i,o,s){for(var u=this._convertToCellCoord(e),c=this._convertToCellCoord(t),l=this._convertToCellCoord(n),d=this._convertToCellCoord(r),p=u;p<=l;p++)for(var h=c;h<=d;h++){var f=this.d*h+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(h),this._convertFromCellCoord(p+1),this._convertFromCellCoord(h+1)))&&a.call(this,e,t,n,r,f,i,o,s))return}},pr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},pr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},pr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=dr+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var a=new Int32Array(t+n+this.keys.length+this.bboxes.length);a[0]=this.extent,a[1]=this.n,a[2]=this.padding;for(var i=t,o=0;o<e.length;o++){var s=e[o];a[dr+o]=i,a.set(s,i),i+=s.length}return a[dr+e.length]=i,a.set(this.keys,i),i+=this.keys.length,a[dr+e.length+1]=i,a.set(this.bboxes,i),i+=this.bboxes.length,a.buffer};var hr=self.ImageData,fr={};function mr(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),fr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var vr in mr("Object",Object),lr.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},lr.deserialize=function(e){return new lr(e.buffer)},mr("Grid",lr),mr("Color",qe),mr("Error",Error),mr("StylePropertyFunction",Cn),mr("StyleExpression",wn,{omit:["_evaluator"]}),mr("ZoomDependentExpression",En),mr("ZoomConstantExpression",On),mr("CompoundExpression",ut,{omit:["_evaluate"]}),nn)nn[vr]._classRegistryKey||mr("Expression_"+vr,nn[vr]);function gr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(e instanceof ArrayBuffer)return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof hr)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],a=0,i=e;a<i.length;a+=1){var o=i[a];r.push(gr(o,t))}return r}if("object"==typeof e){var s=e.constructor,u=s._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var c=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var l in e)if(e.hasOwnProperty(l)&&!(fr[u].omit.indexOf(l)>=0)){var d=e[l];c[l]=fr[u].shallow.indexOf(l)>=0?d:gr(d,t)}e instanceof Error&&(c.message=e.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==u&&(c.$name=u),c}throw new Error("can't serialize object of type "+typeof e)}function Ar(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||e instanceof hr)return e;if(Array.isArray(e))return e.map(Ar);if("object"==typeof e){var t=e.$name||"Object",n=fr[t].klass;if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),a=0,i=Object.keys(e);a<i.length;a+=1){var o=i[a];if("$name"!==o){var s=e[o];r[o]=fr[t].shallow.indexOf(o)>=0?s:Ar(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var yr=function(){this.first=!0};yr.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var br={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function xr(e){for(var t=0,n=e;t<n.length;t+=1)if(kr(n[t].charCodeAt(0)))return!0;return!1}function wr(e){for(var t=0,n=e;t<n.length;t+=1)if(!_r(n[t].charCodeAt(0)))return!1;return!0}function _r(e){return!br.Arabic(e)&&!br["Arabic Supplement"](e)&&!br["Arabic Extended-A"](e)&&!br["Arabic Presentation Forms-A"](e)&&!br["Arabic Presentation Forms-B"](e)}function kr(e){return 746===e||747===e||!(e<4352)&&(!!br["Bopomofo Extended"](e)||!!br.Bopomofo(e)||!(!br["CJK Compatibility Forms"](e)||e>=65097&&e<=65103)||!!br["CJK Compatibility Ideographs"](e)||!!br["CJK Compatibility"](e)||!!br["CJK Radicals Supplement"](e)||!!br["CJK Strokes"](e)||!(!br["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||!!br["CJK Unified Ideographs Extension A"](e)||!!br["CJK Unified Ideographs"](e)||!!br["Enclosed CJK Letters and Months"](e)||!!br["Hangul Compatibility Jamo"](e)||!!br["Hangul Jamo Extended-A"](e)||!!br["Hangul Jamo Extended-B"](e)||!!br["Hangul Jamo"](e)||!!br["Hangul Syllables"](e)||!!br.Hiragana(e)||!!br["Ideographic Description Characters"](e)||!!br.Kanbun(e)||!!br["Kangxi Radicals"](e)||!!br["Katakana Phonetic Extensions"](e)||!(!br.Katakana(e)||12540===e)||!(!br["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!br["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||!!br["Unified Canadian Aboriginal Syllabics"](e)||!!br["Unified Canadian Aboriginal Syllabics Extended"](e)||!!br["Vertical Forms"](e)||!!br["Yijing Hexagram Symbols"](e)||!!br["Yi Syllables"](e)||!!br["Yi Radicals"](e))}function Or(e){return!(kr(e)||function(e){return!!(br["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||br["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||br["Letterlike Symbols"](e)||br["Number Forms"](e)||br["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||br["Control Pictures"](e)&&9251!==e||br["Optical Character Recognition"](e)||br["Enclosed Alphanumerics"](e)||br["Geometric Shapes"](e)||br["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||br["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||br["CJK Symbols and Punctuation"](e)||br.Katakana(e)||br["Private Use Area"](e)||br["CJK Compatibility Forms"](e)||br["Small Form Variants"](e)||br["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Er(e,t){return!(!t&&(e>=1424&&e<=2303||br["Arabic Presentation Forms-A"](e)||br["Arabic Presentation Forms-B"](e)))&&!(e>=2304&&e<=3583||e>=3840&&e<=4255||br.Khmer(e))}var Sr,Cr=!1,Tr=null,Ir=!1,jr=new _e,Mr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Ir||null!=Mr.applyArabicShaping}},Nr=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new yr,this.transition={})};Nr.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,r=e;n<r.length;n+=1)if(!Er(r[n].charCodeAt(0),t))return!1;return!0}(e,Mr.isLoaded())},Nr.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Nr.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var Dr=function(e,t){this.property=e,this.value=t,this.expression=Tn(void 0===t?e.specification.default:t,e.specification)};Dr.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Dr.prototype.possiblyEvaluate=function(e){return this.property.possiblyEvaluate(this,e)};var Rr=function(e){this.property=e,this.value=new Dr(e,void 0)};Rr.prototype.transitioned=function(e,t){return new Lr(this.property,this.value,t,d({},e.transition,this.transition),e.now)},Rr.prototype.untransitioned=function(){return new Lr(this.property,this.value,null,{},0)};var Pr=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};Pr.prototype.getValue=function(e){return b(this._values[e].value.value)},Pr.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Rr(this._values[e].property)),this._values[e].value=new Dr(this._values[e].property,null===t?void 0:b(t))},Pr.prototype.getTransition=function(e){return b(this._values[e].transition)},Pr.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Rr(this._values[e].property)),this._values[e].transition=b(t)||void 0},Pr.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],a=this.getValue(r);void 0!==a&&(e[r]=a);var i=this.getTransition(r);void 0!==i&&(e[r+"-transition"]=i)}return e},Pr.prototype.transitioned=function(e,t){for(var n=new Fr(this._properties),r=0,a=Object.keys(this._values);r<a.length;r+=1){var i=a[r];n._values[i]=this._values[i].transitioned(e,t._values[i])}return n},Pr.prototype.untransitioned=function(){for(var e=new Fr(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var Lr=function(e,t,n,r,a){this.property=e,this.value=t,this.begin=a+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};Lr.prototype.possiblyEvaluate=function(e){var t=e.now||0,n=this.value.possiblyEvaluate(e),r=this.prior;if(r){if(t>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(t<this.begin)return r.possiblyEvaluate(e);var a=(t-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(e),n,function(e){if(a<=0)return 0;if(a>=1)return 1;var t=a*a,n=t*a;return 4*(a<.5?n:3*(a-t)+n-.75)}())}return n};var Fr=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};Fr.prototype.possiblyEvaluate=function(e){for(var t=new Ur(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var a=r[n];t._values[a]=this._values[a].possiblyEvaluate(e)}return t},Fr.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1){var n=t[e];if(this._values[n].prior)return!0}return!1};var Br=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};Br.prototype.getValue=function(e){return b(this._values[e].value)},Br.prototype.setValue=function(e,t){this._values[e]=new Dr(this._values[e].property,null===t?void 0:b(t))},Br.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],a=this.getValue(r);void 0!==a&&(e[r]=a)}return e},Br.prototype.possiblyEvaluate=function(e){for(var t=new Ur(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var a=r[n];t._values[a]=this._values[a].possiblyEvaluate(e)}return t};var zr=function(e,t,n){this.property=e,this.value=t,this.parameters=n};zr.prototype.isConstant=function(){return"constant"===this.value.kind},zr.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},zr.prototype.evaluate=function(e,t){return this.property.evaluate(this.value,this.parameters,e,t)};var Ur=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};Ur.prototype.get=function(e){return this._values[e]};var Vr=function(e){this.specification=e};Vr.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},Vr.prototype.interpolate=function(e,t,n){var r=At[this.specification.type];return r?r(e,t,n):e};var Wr=function(e){this.specification=e};Wr.prototype.possiblyEvaluate=function(e,t){return"constant"===e.expression.kind||"camera"===e.expression.kind?new zr(this,{kind:"constant",value:e.expression.evaluate(t)},t):new zr(this,e.expression,t)},Wr.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new zr(this,{kind:"constant",value:void 0},e.parameters);var r=At[this.specification.type];return r?new zr(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e},Wr.prototype.evaluate=function(e,t,n,r){return"constant"===e.kind?e.value:e.evaluate(t,n,r)};var Gr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(e,t){if(void 0===e.value)return new zr(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var n=e.expression.evaluate(t),r=this._calculate(n,n,n,t);return new zr(this,{kind:"constant",value:r},t)}if("camera"===e.expression.kind){var a=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new zr(this,{kind:"constant",value:a},t)}return new zr(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r){if("source"===e.kind){var a=e.evaluate(t,n,r);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(Wr),Hr=function(e){this.specification=e};Hr.prototype.possiblyEvaluate=function(e,t){if(void 0!==e.value){if("constant"===e.expression.kind){var n=e.expression.evaluate(t);return this._calculate(n,n,n,t)}return this._calculate(e.expression.evaluate(new Nr(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Nr(Math.floor(t.zoom),t)),e.expression.evaluate(new Nr(Math.floor(t.zoom+1),t)),t)}},Hr.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},Hr.prototype.interpolate=function(e){return e};var qr=function(e){this.specification=e};qr.prototype.possiblyEvaluate=function(e,t){return!!e.expression.evaluate(t)},qr.prototype.interpolate=function(){return!1};var Kr=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},e){var n=e[t],r=this.defaultPropertyValues[t]=new Dr(n,void 0),a=this.defaultTransitionablePropertyValues[t]=new Rr(n);this.defaultTransitioningPropertyValues[t]=a.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};mr("DataDrivenProperty",Wr),mr("DataConstantProperty",Vr),mr("CrossFadedDataDrivenProperty",Gr),mr("CrossFadedProperty",Hr),mr("ColorRampProperty",qr);var Xr=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter=function(){return!0},"custom"!==t.type&&(t=t,this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new Br(n.layout)),n.paint)){for(var r in this._transitionablePaint=new Pr(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var a in t.layout)this.setLayoutProperty(a,t.layout[a],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t){var r="layers."+this.id+".layout."+e;if(this._validate(ur,r,e,t,n))return}"visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t},t.prototype.getPaintProperty=function(e){return g(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t){var r="layers."+this.id+".paint."+e;if(this._validate(sr,r,e,t,n))return!1}if(g(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var a=this._transitionablePaint._values[e],i="cross-faded-data-driven"===a.property.specification["property-type"]&&!a.value.value&&t,o=this._transitionablePaint._values[e].value.isDataDriven();this._transitionablePaint.setValue(e,t);var s=this._transitionablePaint._values[e].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(e),s||o||i},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e)),this.paint=this._transitioningPaint.possiblyEvaluate(e)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),y(e,function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)})},t.prototype._validate=function(e,t,n,r,a){return void 0===a&&(a={}),(!a||!1!==a.validate)&&cr(this,e.call(ir,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:ke,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof zr&&ln(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(_e),Qr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Yr=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},$r=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Zr(e,t){void 0===t&&(t=1);var n=0,r=0;return{members:e.map(function(e){var a,i=(a=e.type,Qr[a].BYTES_PER_ELEMENT),o=n=Jr(n,Math.max(t,i)),s=e.components||1;return r=Math.max(r,i),n+=i*s,{name:e.name,type:e.type,components:s,offset:o}}),size:Jr(n,Math.max(r,t)),alignment:t}}function Jr(e,t){return Math.ceil(e/t)*t}$r.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},$r.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},$r.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},$r.prototype.clear=function(){this.length=0},$r.prototype.resize=function(e){this.reserve(e),this.length=e},$r.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},$r.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var ea=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}($r);ea.prototype.bytesPerElement=4,mr("StructArrayLayout2i4",ea);var ta=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,a){var i=4*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,this.int16[i+3]=a,e},t}($r);ta.prototype.bytesPerElement=8,mr("StructArrayLayout4i8",ta);var na=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,a,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,a,i)},t.prototype.emplace=function(e,t,n,r,a,i,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=a,this.int16[s+4]=i,this.int16[s+5]=o,e},t}($r);na.prototype.bytesPerElement=12,mr("StructArrayLayout2i4i12",na);var ra=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,a,i,o,s){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,a,i,o,s)},t.prototype.emplace=function(e,t,n,r,a,i,o,s,u){var c=6*e,l=12*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=a,this.uint8[l+8]=i,this.uint8[l+9]=o,this.uint8[l+10]=s,this.uint8[l+11]=u,e},t}($r);ra.prototype.bytesPerElement=12,mr("StructArrayLayout4i4ub12",ra);var aa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,a,i,o,s){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,a,i,o,s)},t.prototype.emplace=function(e,t,n,r,a,i,o,s,u){var c=8*e;return this.uint16[c+0]=t,this.uint16[c+1]=n,this.uint16[c+2]=r,this.uint16[c+3]=a,this.uint16[c+4]=i,this.uint16[c+5]=o,this.uint16[c+6]=s,this.uint16[c+7]=u,e},t}($r);aa.prototype.bytesPerElement=16,mr("StructArrayLayout8ui16",aa);var ia=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,a,i,o,s){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,a,i,o,s)},t.prototype.emplace=function(e,t,n,r,a,i,o,s,u){var c=8*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=a,this.uint16[c+4]=i,this.uint16[c+5]=o,this.uint16[c+6]=s,this.uint16[c+7]=u,e},t}($r);ia.prototype.bytesPerElement=16,mr("StructArrayLayout4i4ui16",ia);var oa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var a=3*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,e},t}($r);oa.prototype.bytesPerElement=12,mr("StructArrayLayout3f12",oa);var sa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var n=1*e;return this.uint32[n+0]=t,e},t}($r);sa.prototype.bytesPerElement=4,mr("StructArrayLayout1ul4",sa);var ua=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,a,i,o,s,u,c,l){var d=this.length;return this.resize(d+1),this.emplace(d,e,t,n,r,a,i,o,s,u,c,l)},t.prototype.emplace=function(e,t,n,r,a,i,o,s,u,c,l,d){var p=12*e,h=6*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=a,this.int16[p+4]=i,this.int16[p+5]=o,this.uint32[h+3]=s,this.uint16[p+8]=u,this.uint16[p+9]=c,this.int16[p+10]=l,this.int16[p+11]=d,e},t}($r);ua.prototype.bytesPerElement=24,mr("StructArrayLayout6i1ul2ui2i24",ua);var ca=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,a,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,a,i)},t.prototype.emplace=function(e,t,n,r,a,i,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=a,this.int16[s+4]=i,this.int16[s+5]=o,e},t}($r);ca.prototype.bytesPerElement=12,mr("StructArrayLayout2i2i2i12",ca);var la=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,a){var i=12*e,o=3*e;return this.uint8[i+0]=t,this.uint8[i+1]=n,this.float32[o+1]=r,this.float32[o+2]=a,e},t}($r);la.prototype.bytesPerElement=12,mr("StructArrayLayout2ub2f12",la);var da=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,a,i,o,s,u,c,l,d,p,h,f){var m=this.length;return this.resize(m+1),this.emplace(m,e,t,n,r,a,i,o,s,u,c,l,d,p,h,f)},t.prototype.emplace=function(e,t,n,r,a,i,o,s,u,c,l,d,p,h,f,m){var v=22*e,g=11*e,A=44*e;return this.int16[v+0]=t,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=a,this.uint32[g+2]=i,this.uint32[g+3]=o,this.uint32[g+4]=s,this.uint16[v+10]=u,this.uint16[v+11]=c,this.uint16[v+12]=l,this.float32[g+7]=d,this.float32[g+8]=p,this.uint8[A+36]=h,this.uint8[A+37]=f,this.uint32[g+10]=m,e},t}($r);da.prototype.bytesPerElement=44,mr("StructArrayLayout2i2ui3ul3ui2f2ub1ul44",da);var pa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,a,i,o,s,u,c,l,d,p,h,f,m,v,g){var A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,r,a,i,o,s,u,c,l,d,p,h,f,m,v,g)},t.prototype.emplace=function(e,t,n,r,a,i,o,s,u,c,l,d,p,h,f,m,v,g,A){var y=22*e,b=11*e;return this.int16[y+0]=t,this.int16[y+1]=n,this.int16[y+2]=r,this.int16[y+3]=a,this.int16[y+4]=i,this.int16[y+5]=o,this.uint16[y+6]=s,this.uint16[y+7]=u,this.uint16[y+8]=c,this.uint16[y+9]=l,this.uint16[y+10]=d,this.uint16[y+11]=p,this.uint16[y+12]=h,this.uint16[y+13]=f,this.uint16[y+14]=m,this.uint32[b+8]=v,this.float32[b+9]=g,this.float32[b+10]=A,e},t}($r);pa.prototype.bytesPerElement=44,mr("StructArrayLayout6i9ui1ul2f44",pa);var ha=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var n=1*e;return this.float32[n+0]=t,e},t}($r);ha.prototype.bytesPerElement=4,mr("StructArrayLayout1f4",ha);var fa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var a=3*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,e},t}($r);fa.prototype.bytesPerElement=6,mr("StructArrayLayout3i6",fa);var ma=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var a=2*e,i=4*e;return this.uint32[a+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e},t}($r);ma.prototype.bytesPerElement=8,mr("StructArrayLayout1ul2ui8",ma);var va=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var a=3*e;return this.uint16[a+0]=t,this.uint16[a+1]=n,this.uint16[a+2]=r,e},t}($r);va.prototype.bytesPerElement=6,mr("StructArrayLayout3ui6",va);var ga=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}($r);ga.prototype.bytesPerElement=4,mr("StructArrayLayout2ui4",ga);var Aa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var n=1*e;return this.uint16[n+0]=t,e},t}($r);Aa.prototype.bytesPerElement=2,mr("StructArrayLayout1ui2",Aa);var ya=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}($r);ya.prototype.bytesPerElement=8,mr("StructArrayLayout2f8",ya);var ba=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,a){var i=4*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,this.float32[i+3]=a,e},t}($r);ba.prototype.bytesPerElement=16,mr("StructArrayLayout4f16",ba);var xa=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(e){this._structArray.int16[this._pos2+0]=e},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(e){this._structArray.int16[this._pos2+1]=e},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(e){this._structArray.int16[this._pos2+2]=e},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(e){this._structArray.int16[this._pos2+3]=e},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(e){this._structArray.int16[this._pos2+4]=e},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(e){this._structArray.int16[this._pos2+5]=e},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(e){this._structArray.int16[this._pos2+10]=e},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+11]=e},n.anchorPoint.get=function(){return new a(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(Yr);xa.prototype.size=24;var wa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new xa(this,e)},t}(ua);mr("CollisionBoxArray",wa);var _a=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(e){this._structArray.uint16[this._pos2+3]=e},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(e){this._structArray.uint32[this._pos4+2]=e},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(e){this._structArray.uint32[this._pos4+4]=e},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(e){this._structArray.uint16[this._pos2+10]=e},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(e){this._structArray.uint16[this._pos2+11]=e},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(e){this._structArray.uint16[this._pos2+12]=e},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(e){this._structArray.float32[this._pos4+7]=e},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(e){this._structArray.float32[this._pos4+8]=e},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(e){this._structArray.uint8[this._pos1+36]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},Object.defineProperties(t.prototype,n),t}(Yr);_a.prototype.size=44;var ka=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new _a(this,e)},t}(da);mr("PlacedSymbolArray",ka);var Oa=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},radialTextOffset:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.rightJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+2]=e},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.centerJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+3]=e},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.leftJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+4]=e},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.verticalPlacedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+5]=e},n.key.get=function(){return this._structArray.uint16[this._pos2+6]},n.key.set=function(e){this._structArray.uint16[this._pos2+6]=e},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},n.textBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+7]=e},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.iconBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.iconBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+10]=e},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.featureIndex.set=function(e){this._structArray.uint16[this._pos2+11]=e},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+12]},n.numHorizontalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+12]=e},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+13]},n.numVerticalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+13]=e},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+14]},n.numIconVertices.set=function(e){this._structArray.uint16[this._pos2+14]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+8]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+8]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+9]},n.textBoxScale.set=function(e){this._structArray.float32[this._pos4+9]=e},n.radialTextOffset.get=function(){return this._structArray.float32[this._pos4+10]},n.radialTextOffset.set=function(e){this._structArray.float32[this._pos4+10]=e},Object.defineProperties(t.prototype,n),t}(Yr);Oa.prototype.size=44;var Ea=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Oa(this,e)},t}(pa);mr("SymbolInstanceArray",Ea);var Sa=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(e){this._structArray.float32[this._pos4+0]=e},Object.defineProperties(t.prototype,n),t}(Yr);Sa.prototype.size=4;var Ca=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t.prototype.get=function(e){return new Sa(this,e)},t}(ha);mr("GlyphOffsetArray",Ca);var Ta=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(e){this._structArray.int16[this._pos2+0]=e},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(e){this._structArray.int16[this._pos2+1]=e},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+2]=e},Object.defineProperties(t.prototype,n),t}(Yr);Ta.prototype.size=6;var Ia=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t.prototype.get=function(e){return new Ta(this,e)},t}(fa);mr("SymbolLineVertexArray",Ia);var ja=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(e){this._structArray.uint32[this._pos4+0]=e},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+3]=e},Object.defineProperties(t.prototype,n),t}(Yr);ja.prototype.size=8;var Ma=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new ja(this,e)},t}(ma);mr("FeatureIndexArray",Ma);var Na=Zr([{name:"a_pos",components:2,type:"Int16"}],4).members,Da=function(e){void 0===e&&(e=[]),this.segments=e};function Ra(e,t){return 256*(e=c(Math.floor(e),0,255))+c(Math.floor(t),0,255)}Da.prototype.prepareSegment=function(e,t,n,r){var a=this.segments[this.segments.length-1];return e>Da.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+Da.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!a||a.vertexLength+e>Da.MAX_VERTEX_ARRAY_LENGTH||a.sortKey!==r)&&(a={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(a.sortKey=r),this.segments.push(a)),a},Da.prototype.get=function(){return this.segments},Da.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},Da.simpleSegment=function(e,t,n,r){return new Da([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},Da.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,mr("SegmentVector",Da);var Pa=function(){this.ids=[],this.positions=[],this.indexed=!1};function La(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Pa.prototype.add=function(e,t,n,r){this.ids.push(e),this.positions.push(t,n,r)},Pa.prototype.getPositions=function(e){for(var t=0,n=this.ids.length-1;t<n;){var r=t+n>>1;this.ids[r]>=e?n=r:t=r+1}for(var a=[];this.ids[t]===e;){var i=this.positions[3*t],o=this.positions[3*t+1],s=this.positions[3*t+2];a.push({index:i,start:o,end:s}),t++}return a},Pa.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,a){if(!(r>=a)){for(var i=t[r+a>>1],o=r-1,s=a+1;;){do{o++}while(t[o]<i);do{s--}while(t[s]>i);if(o>=s)break;La(t,o,s),La(n,3*o,3*s),La(n,3*o+1,3*s+1),La(n,3*o+2,3*s+2)}e(t,n,r,s),e(t,n,s+1,a)}}(n,r,0,n.length-1),t.push(n.buffer,r.buffer),{ids:n,positions:r}},Pa.deserialize=function(e){var t=new Pa;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t},mr("FeaturePositionMap",Pa);var Fa=function(e,t){this.gl=e.gl,this.location=t},Ba=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(Fa),za=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(Fa),Ua=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(Fa),Va=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(Fa),Wa=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(Fa),Ga=function(e){function t(t,n){e.call(this,t,n),this.current=qe.transparent}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(Fa),Ha=new Float32Array(16),qa=function(e){function t(t,n){e.call(this,t,n),this.current=Ha}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(Fa);function Ka(e){return[Ra(255*e.r,255*e.g),Ra(255*e.b,255*e.a)]}var Xa=function(e,t,n){this.value=e,this.names=t,this.uniformNames=this.names.map(function(e){return"u_"+e}),this.type=n,this.maxValue=-1/0};Xa.prototype.defines=function(){return this.names.map(function(e){return"#define HAS_UNIFORM_u_"+e})},Xa.prototype.setConstantPatternPositions=function(){},Xa.prototype.populatePaintArray=function(){},Xa.prototype.updatePaintArray=function(){},Xa.prototype.upload=function(){},Xa.prototype.destroy=function(){},Xa.prototype.setUniforms=function(e,t,n,r){t.set(r.constantOr(this.value))},Xa.prototype.getBinding=function(e,t){return"color"===this.type?new Ga(e,t):new za(e,t)},Xa.serialize=function(e){var t=e.value,n=e.names,r=e.type;return{value:gr(t),names:n,type:r}},Xa.deserialize=function(e){var t=e.value,n=e.names,r=e.type;return new Xa(Ar(t),n,r)};var Qa=function(e,t,n){this.value=e,this.names=t,this.uniformNames=this.names.map(function(e){return"u_"+e}),this.type=n,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Qa.prototype.defines=function(){return this.names.map(function(e){return"#define HAS_UNIFORM_u_"+e})},Qa.prototype.populatePaintArray=function(){},Qa.prototype.updatePaintArray=function(){},Qa.prototype.upload=function(){},Qa.prototype.destroy=function(){},Qa.prototype.setConstantPatternPositions=function(e,t){this.patternPositions.patternTo=e.tlbr,this.patternPositions.patternFrom=t.tlbr},Qa.prototype.setUniforms=function(e,t,n,r,a){var i=this.patternPositions;"u_pattern_to"===a&&i.patternTo&&t.set(i.patternTo),"u_pattern_from"===a&&i.patternFrom&&t.set(i.patternFrom)},Qa.prototype.getBinding=function(e,t){return new Wa(e,t)};var Ya=function(e,t,n,r){this.expression=e,this.names=t,this.type=n,this.uniformNames=this.names.map(function(e){return"a_"+e}),this.maxValue=-1/0,this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}}),this.paintVertexArray=new r};Ya.prototype.defines=function(){return[]},Ya.prototype.setConstantPatternPositions=function(){},Ya.prototype.populatePaintArray=function(e,t){var n=this.paintVertexArray,r=n.length;n.reserve(e);var a=this.expression.evaluate(new Nr(0),t,{});if("color"===this.type)for(var i=Ka(a),o=r;o<e;o++)n.emplaceBack(i[0],i[1]);else{for(var s=r;s<e;s++)n.emplaceBack(a);this.maxValue=Math.max(this.maxValue,a)}},Ya.prototype.updatePaintArray=function(e,t,n,r){var a=this.paintVertexArray,i=this.expression.evaluate({zoom:0},n,r);if("color"===this.type)for(var o=Ka(i),s=e;s<t;s++)a.emplace(s,o[0],o[1]);else{for(var u=e;u<t;u++)a.emplace(u,i);this.maxValue=Math.max(this.maxValue,i)}},Ya.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ya.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ya.prototype.setUniforms=function(e,t){t.set(0)},Ya.prototype.getBinding=function(e,t){return new za(e,t)};var $a=function(e,t,n,r,a,i){this.expression=e,this.names=t,this.uniformNames=this.names.map(function(e){return"a_"+e+"_t"}),this.type=n,this.useIntegerZoom=r,this.zoom=a,this.maxValue=-1/0;var o=i;this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}}),this.paintVertexArray=new o};$a.prototype.defines=function(){return[]},$a.prototype.setConstantPatternPositions=function(){},$a.prototype.populatePaintArray=function(e,t){var n=this.paintVertexArray,r=n.length;n.reserve(e);var a=this.expression.evaluate(new Nr(this.zoom),t,{}),i=this.expression.evaluate(new Nr(this.zoom+1),t,{});if("color"===this.type)for(var o=Ka(a),s=Ka(i),u=r;u<e;u++)n.emplaceBack(o[0],o[1],s[0],s[1]);else{for(var c=r;c<e;c++)n.emplaceBack(a,i);this.maxValue=Math.max(this.maxValue,a,i)}},$a.prototype.updatePaintArray=function(e,t,n,r){var a=this.paintVertexArray,i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);if("color"===this.type)for(var s=Ka(i),u=Ka(o),c=e;c<t;c++)a.emplace(c,s[0],s[1],u[0],u[1]);else{for(var l=e;l<t;l++)a.emplace(l,i,o);this.maxValue=Math.max(this.maxValue,i,o)}},$a.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},$a.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},$a.prototype.interpolationFactor=function(e){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(e),this.zoom,this.zoom+1):this.expression.interpolationFactor(e,this.zoom,this.zoom+1)},$a.prototype.setUniforms=function(e,t,n){t.set(this.interpolationFactor(n.zoom))},$a.prototype.getBinding=function(e,t){return new za(e,t)};var Za=function(e,t,n,r,a,i,o){this.expression=e,this.names=t,this.type=n,this.uniformNames=this.names.map(function(e){return"a_"+e+"_t"}),this.useIntegerZoom=r,this.zoom=a,this.maxValue=-1/0,this.layerId=o,this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Za.prototype.defines=function(){return[]},Za.prototype.setConstantPatternPositions=function(){},Za.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,i=this.layerId,o=r.length;if(r.reserve(e),a.reserve(e),n&&t.patterns&&t.patterns[i]){var s=t.patterns[i],u=s.min,c=s.mid,l=s.max,d=n[u],p=n[c],h=n[l];if(!d||!p||!h)return;for(var f=o;f<e;f++)r.emplaceBack(p.tl[0],p.tl[1],p.br[0],p.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1]),a.emplaceBack(p.tl[0],p.tl[1],p.br[0],p.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1])}},Za.prototype.updatePaintArray=function(e,t,n,r,a){var i=this.zoomInPaintVertexArray,o=this.zoomOutPaintVertexArray,s=this.layerId;if(a&&n.patterns&&n.patterns[s]){var u=n.patterns[s],c=u.min,l=u.mid,d=u.max,p=a[c],h=a[l],f=a[d];if(!p||!h||!f)return;for(var m=e;m<t;m++)i.emplace(m,h.tl[0],h.tl[1],h.br[0],h.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1]),o.emplace(m,h.tl[0],h.tl[1],h.br[0],h.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1])}},Za.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Za.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},Za.prototype.setUniforms=function(e,t){t.set(0)},Za.prototype.getBinding=function(e,t){return new za(e,t)};var Ja=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Pa,this._bufferOffset=0};Ja.createDynamic=function(e,t,n){var r=new Ja,a=[];for(var i in e.paint._values)if(n(i)){var o=e.paint.get(i);if(o instanceof zr&&ln(o.property.specification)){var s=ti(i,e.type),u=o.property.specification.type,c=o.property.useIntegerZoom;if("cross-faded"===o.property.specification["property-type"]||"cross-faded-data-driven"===o.property.specification["property-type"])if("constant"===o.value.kind)r.binders[i]=new Qa(o.value.value,s,u),a.push("/u_"+i);else{var l=ni(i,u,"source");r.binders[i]=new Za(o.value,s,u,c,t,l,e.id),a.push("/a_"+i)}else if("constant"===o.value.kind)r.binders[i]=new Xa(o.value.value,s,u),a.push("/u_"+i);else if("source"===o.value.kind){var d=ni(i,u,"source");r.binders[i]=new Ya(o.value,s,u,d),a.push("/a_"+i)}else{var p=ni(i,u,"composite");r.binders[i]=new $a(o.value,s,u,c,t,p),a.push("/z_"+i)}}}return r.cacheKey=a.sort().join(""),r},Ja.prototype.populatePaintArrays=function(e,t,n,r){for(var a in this.binders)this.binders[a].populatePaintArray(e,t,r);void 0!==t.id&&this._featureMap.add(+t.id,n,this._bufferOffset,e),this._bufferOffset=e},Ja.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders)this.binders[n].setConstantPatternPositions(e,t)},Ja.prototype.updatePaintArrays=function(e,t,n,r){var a=!1;for(var i in e)for(var o=0,s=this._featureMap.getPositions(+i);o<s.length;o+=1){var u=s[o],c=t.feature(u.index);for(var l in this.binders){var d=this.binders[l];if(!(d instanceof Xa||d instanceof Qa)&&!0===d.expression.isStateDependent){var p=n.paint.get(l);d.expression=p.value,d.updatePaintArray(u.start,u.end,c,e[i],r),a=!0}}}return a},Ja.prototype.defines=function(){var e=[];for(var t in this.binders)e.push.apply(e,this.binders[t].defines());return e},Ja.prototype.getPaintVertexBuffers=function(){return this._buffers},Ja.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders)for(var a=this.binders[r],i=0,o=a.uniformNames;i<o.length;i+=1){var s=o[i];if(t[s]){var u=a.getBinding(e,t[s]);n.push({name:s,property:r,binding:u})}}return n},Ja.prototype.setUniforms=function(e,t,n,r){for(var a=0,i=t;a<i.length;a+=1){var o=i[a],s=o.name,u=o.property,c=o.binding;this.binders[u].setUniforms(e,c,r,n.get(u),s)}},Ja.prototype.updatePatternPaintBuffers=function(e){var t=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof Za){var a=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;a&&t.push(a)}else(r instanceof Ya||r instanceof $a)&&r.paintVertexBuffer&&t.push(r.paintVertexBuffer)}this._buffers=t},Ja.prototype.upload=function(e){for(var t in this.binders)this.binders[t].upload(e);var n=[];for(var r in this.binders){var a=this.binders[r];(a instanceof Ya||a instanceof $a)&&a.paintVertexBuffer&&n.push(a.paintVertexBuffer)}this._buffers=n},Ja.prototype.destroy=function(){for(var e in this.binders)this.binders[e].destroy()};var ei=function(e,t,n,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var a=0,i=t;a<i.length;a+=1){var o=i[a];this.programConfigurations[o.id]=Ja.createDynamic(o,n,r),this.programConfigurations[o.id].layoutAttributes=e}this.needsUpload=!1};function ti(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function ni(e,t,n){var r={color:{source:ya,composite:ba},number:{source:ha,composite:ya}},a=function(e){return{"line-pattern":{source:aa,composite:aa},"fill-pattern":{source:aa,composite:aa},"fill-extrusion-pattern":{source:aa,composite:aa}}[e]}(e);return a&&a[n]||r[t][n]}ei.prototype.populatePaintArrays=function(e,t,n,r){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,n,r);this.needsUpload=!0},ei.prototype.updatePaintArrays=function(e,t,n,r){for(var a=0,i=n;a<i.length;a+=1){var o=i[a];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,t,o,r)||this.needsUpload}},ei.prototype.get=function(e){return this.programConfigurations[e]},ei.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},ei.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},mr("ConstantBinder",Xa),mr("CrossFadedConstantBinder",Qa),mr("SourceExpressionBinder",Ya),mr("CrossFadedCompositeBinder",Za),mr("CompositeExpressionBinder",$a),mr("ProgramConfiguration",Ja,{omit:["_buffers"]}),mr("ProgramConfigurationSet",ei);var ri=8192,ai={min:-1*Math.pow(2,15),max:Math.pow(2,15)-1};function ii(e){for(var t=ri/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var a=n[r],i=0;i<a.length;i++){var o=a[i];o.x=Math.round(o.x*t),o.y=Math.round(o.y*t),(o.x<ai.min||o.x>ai.max||o.y<ai.min||o.y>ai.max)&&w("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function oi(e,t,n,r,a){e.emplaceBack(2*t+(r+1)/2,2*n+(a+1)/2)}var si=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ea,this.indexArray=new va,this.segments=new Da,this.programConfigurations=new ei(Na,e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function ui(e,t){for(var n=0;n<e.length;n++)if(gi(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(gi(e,t[r]))return!0;return!!pi(e,t)}function ci(e,t,n){return!!gi(e,t)||!!fi(t,e,n)}function li(e,t){if(1===e.length)return vi(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],a=0;a<r.length;a++)if(gi(e,r[a]))return!0;for(var i=0;i<e.length;i++)if(vi(t,e[i]))return!0;for(var o=0;o<t.length;o++)if(pi(e,t[o]))return!0;return!1}function di(e,t,n){if(e.length>1){if(pi(e,t))return!0;for(var r=0;r<t.length;r++)if(fi(t[r],e,n))return!0}for(var a=0;a<e.length;a++)if(fi(e[a],t,n))return!0;return!1}function pi(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],a=e[n+1],i=0;i<t.length-1;i++)if(hi(r,a,t[i],t[i+1]))return!0;return!1}function hi(e,t,n,r){return _(e,n,r)!==_(t,n,r)&&_(e,t,n)!==_(e,t,r)}function fi(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var a=1;a<t.length;a++)if(mi(e,t[a-1],t[a])<r)return!0;return!1}function mi(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var a=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return a<0?e.distSqr(t):a>1?e.distSqr(n):e.distSqr(n.sub(t)._mult(a)._add(t))}function vi(e,t){for(var n,r,a,i=!1,o=0;o<e.length;o++)for(var s=0,u=(n=e[o]).length-1;s<n.length;u=s++)r=n[s],a=n[u],r.y>t.y!=a.y>t.y&&t.x<(a.x-r.x)*(t.y-r.y)/(a.y-r.y)+r.x&&(i=!i);return i}function gi(e,t){for(var n=!1,r=0,a=e.length-1;r<e.length;a=r++){var i=e[r],o=e[a];i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(n=!n)}return n}function Ai(e,t,n){var r=n[0],a=n[2];if(e.x<r.x&&t.x<r.x||e.x>a.x&&t.x>a.x||e.y<r.y&&t.y<r.y||e.y>a.y&&t.y>a.y)return!1;var i=_(e,t,n[0]);return i!==_(e,t,n[1])||i!==_(e,t,n[2])||i!==_(e,t,n[3])}function yi(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).binders[e].maxValue}function bi(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function xi(e,t,n,r,i){if(!t[0]&&!t[1])return e;var o=a.convert(t)._mult(i);"viewport"===n&&o._rotate(-r);for(var s=[],u=0;u<e.length;u++){var c=e[u];s.push(c.sub(o))}return s}si.prototype.populate=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var a=r[n],i=a.feature,o=a.index,s=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nr(this.zoom),i)){var u=ii(i);this.addFeature(i,u,o),t.featureIndex.insert(i,u,o,s,this.index)}}},si.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},si.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},si.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},si.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Na),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},si.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},si.prototype.addFeature=function(e,t,n){for(var r=0,a=t;r<a.length;r+=1)for(var i=0,o=a[r];i<o.length;i+=1){var s=o[i],u=s.x,c=s.y;if(!(u<0||u>=ri||c<0||c>=ri)){var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),d=l.vertexLength;oi(this.layoutVertexArray,u,c,-1,-1),oi(this.layoutVertexArray,u,c,1,-1),oi(this.layoutVertexArray,u,c,1,1),oi(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(d,d+1,d+2),this.indexArray.emplaceBack(d,d+3,d+2),l.vertexLength+=4,l.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{})},mr("CircleBucket",si,{omit:["layers"]});var wi={paint:new Kr({"circle-radius":new Wr(ke.paint_circle["circle-radius"]),"circle-color":new Wr(ke.paint_circle["circle-color"]),"circle-blur":new Wr(ke.paint_circle["circle-blur"]),"circle-opacity":new Wr(ke.paint_circle["circle-opacity"]),"circle-translate":new Vr(ke.paint_circle["circle-translate"]),"circle-translate-anchor":new Vr(ke.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Vr(ke.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Vr(ke.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Wr(ke.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Wr(ke.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Wr(ke.paint_circle["circle-stroke-opacity"])})},_i="undefined"!=typeof Float32Array?Float32Array:Array;function ki(){var e=new _i(9);return _i!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Oi(){var e=new _i(3);return _i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Ei(e,t,n){var r=new _i(3);return r[0]=e,r[1]=t,r[2]=n,r}function Si(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}function Ci(){var e=new _i(4);return _i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}Math.PI,Oi(),function(){var e;e=new _i(4),_i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}(),Oi(),Ei(1,0,0),Ei(0,1,0),Ci(),Ci(),ki(),function(){var e;e=new _i(2),_i!=Float32Array&&(e[0]=0,e[1]=0)}();var Ti=function(e){function t(t){e.call(this,t,wi)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new si(e)},t.prototype.queryRadius=function(e){var t=e;return yi("circle-radius",this,t)+yi("circle-stroke-width",this,t)+bi(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,a,i,o,s){for(var u=xi(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,o),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),l="map"===this.paint.get("circle-pitch-alignment"),d=l?u:function(e,t){return u.map(function(e){return Ii(e,t)})}(0,s),p=l?c*o:c,h=0,f=r;h<f.length;h+=1)for(var m=0,v=f[h];m<v.length;m+=1){var g=v[m],A=l?g:Ii(g,s),y=p,b=Si([],[g.x,g.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?y*=b[3]/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(y*=i.cameraToCenterDistance/b[3]),ci(d,A,y))return!0}return!1},t}(Xr);function Ii(e,t){var n=Si([],[e.x,e.y,0,1],t);return new a(n[0]/n[3],n[1]/n[3])}var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(si);function Mi(e,t,n,r){var a=t.width,i=t.height;if(r){if(r.length!==a*i*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(a*i*n);return e.width=a,e.height=i,e.data=r,e}function Ni(e,t,n){var r=t.width,a=t.height;if(r!==e.width||a!==e.height){var i=Mi({},{width:r,height:a},n);Di(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,a)},n),e.width=r,e.height=a,e.data=i.data}}function Di(e,t,n,r,a,i){if(0===a.width||0===a.height)return t;if(a.width>e.width||a.height>e.height||n.x>e.width-a.width||n.y>e.height-a.height)throw new RangeError("out of range source coordinates for image copy");if(a.width>t.width||a.height>t.height||r.x>t.width-a.width||r.y>t.height-a.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,u=0;u<a.height;u++)for(var c=((n.y+u)*e.width+n.x)*i,l=((r.y+u)*t.width+r.x)*i,d=0;d<a.width*i;d++)s[l+d]=o[c+d];return t}mr("HeatmapBucket",ji,{omit:["layers"]});var Ri=function(e,t){Mi(this,e,1,t)};Ri.prototype.resize=function(e){Ni(this,e,1)},Ri.prototype.clone=function(){return new Ri({width:this.width,height:this.height},new Uint8Array(this.data))},Ri.copy=function(e,t,n,r,a){Di(e,t,n,r,a,1)};var Pi=function(e,t){Mi(this,e,4,t)};Pi.prototype.resize=function(e){Ni(this,e,4)},Pi.prototype.replace=function(e,t){t?this.data.set(e):this.data=e},Pi.prototype.clone=function(){return new Pi({width:this.width,height:this.height},new Uint8Array(this.data))},Pi.copy=function(e,t,n,r,a){Di(e,t,n,r,a,4)},mr("AlphaImage",Ri),mr("RGBAImage",Pi);var Li={paint:new Kr({"heatmap-radius":new Wr(ke.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Wr(ke.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Vr(ke.paint_heatmap["heatmap-intensity"]),"heatmap-color":new qr(ke.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Vr(ke.paint_heatmap["heatmap-opacity"])})};function Fi(e,t){for(var n=new Uint8Array(1024),r={},a=0,i=0;a<256;a++,i+=4){r[t]=a/255;var o=e.evaluate(r);n[i+0]=Math.floor(255*o.r/o.a),n[i+1]=Math.floor(255*o.g/o.a),n[i+2]=Math.floor(255*o.b/o.a),n[i+3]=Math.floor(255*o.a)}return new Pi({width:256,height:1},n)}var Bi=function(e){function t(t){e.call(this,t,Li),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new ji(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){var e=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Fi(e,"heatmapDensity"),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(Xr),zi={paint:new Kr({"hillshade-illumination-direction":new Vr(ke.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Vr(ke.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Vr(ke.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Vr(ke.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Vr(ke.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Vr(ke.paint_hillshade["hillshade-accent-color"])})},Ui=function(e){function t(t){e.call(this,t,zi)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(Xr),Vi=Zr([{name:"a_pos",components:2,type:"Int16"}],4).members,Wi=Hi,Gi=Hi;function Hi(e,t,n){n=n||2;var r,a,i,o,s,u,c,l=t&&t.length,d=l?t[0]*n:e.length,p=qi(e,0,d,n,!0),h=[];if(!p||p.next===p.prev)return h;if(l&&(p=function(e,t,n,r){var a,i,o,s=[];for(a=0,i=t.length;a<i;a++)(o=qi(e,t[a]*r,a<i-1?t[a+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(no(o));for(s.sort(Ji),a=0;a<s.length;a++)eo(s[a],n),n=Ki(n,n.next);return n}(e,t,p,n)),e.length>80*n){r=i=e[0],a=o=e[1];for(var f=n;f<d;f+=n)(s=e[f])<r&&(r=s),(u=e[f+1])<a&&(a=u),s>i&&(i=s),u>o&&(o=u);c=0!==(c=Math.max(i-r,o-a))?1/c:0}return Xi(p,h,n,r,a,c),h}function qi(e,t,n,r,a){var i,o;if(a===fo(e,t,n,r)>0)for(i=t;i<n;i+=r)o=lo(i,e[i],e[i+1],o);else for(i=n-r;i>=t;i-=r)o=lo(i,e[i],e[i+1],o);return o&&oo(o,o.next)&&(po(o),o=o.next),o}function Ki(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!oo(r,r.next)&&0!==io(r.prev,r,r.next))r=r.next;else{if(po(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Xi(e,t,n,r,a,i,o){if(e){!o&&i&&function(e,t,n,r){var a=e;do{null===a.z&&(a.z=to(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){var t,n,r,a,i,o,s,u,c=1;do{for(n=e,e=null,i=null,o=0;n;){for(o++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(a=n,n=n.nextZ,s--):(a=r,r=r.nextZ,u--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;n=r}i.nextZ=null,c*=2}while(o>1)}(a)}(e,r,a,i);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,i?Yi(e,r,a,i):Qi(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),po(e),e=u.next,c=u.next;else if((e=u)===c){o?1===o?Xi(e=$i(e,t,n),t,n,r,a,i,2):2===o&&Zi(e,t,n,r,a,i):Xi(Ki(e),t,n,r,a,i,1);break}}}function Qi(e){var t=e.prev,n=e,r=e.next;if(io(t,n,r)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(ro(t.x,t.y,n.x,n.y,r.x,r.y,a.x,a.y)&&io(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function Yi(e,t,n,r){var a=e.prev,i=e,o=e.next;if(io(a,i,o)>=0)return!1;for(var s=a.x<i.x?a.x<o.x?a.x:o.x:i.x<o.x?i.x:o.x,u=a.y<i.y?a.y<o.y?a.y:o.y:i.y<o.y?i.y:o.y,c=a.x>i.x?a.x>o.x?a.x:o.x:i.x>o.x?i.x:o.x,l=a.y>i.y?a.y>o.y?a.y:o.y:i.y>o.y?i.y:o.y,d=to(s,u,t,n,r),p=to(c,l,t,n,r),h=e.prevZ,f=e.nextZ;h&&h.z>=d&&f&&f.z<=p;){if(h!==e.prev&&h!==e.next&&ro(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&io(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,f!==e.prev&&f!==e.next&&ro(a.x,a.y,i.x,i.y,o.x,o.y,f.x,f.y)&&io(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&ro(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&io(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;f&&f.z<=p;){if(f!==e.prev&&f!==e.next&&ro(a.x,a.y,i.x,i.y,o.x,o.y,f.x,f.y)&&io(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function $i(e,t,n){var r=e;do{var a=r.prev,i=r.next.next;!oo(a,i)&&so(a,r,r.next,i)&&uo(a,i)&&uo(i,a)&&(t.push(a.i/n),t.push(r.i/n),t.push(i.i/n),po(r),po(r.next),r=e=i),r=r.next}while(r!==e);return r}function Zi(e,t,n,r,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&ao(o,s)){var u=co(o,s);return o=Ki(o,o.next),u=Ki(u,u.next),Xi(o,t,n,r,a,i),void Xi(u,t,n,r,a,i)}s=s.next}o=o.next}while(o!==e)}function Ji(e,t){return e.x-t.x}function eo(e,t){if(t=function(e,t){var n,r=t,a=e.x,i=e.y,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>o){if(o=s,s===a){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(a===o)return n.prev;var u,c=n,l=n.x,d=n.y,p=1/0;for(r=n.next;r!==c;)a>=r.x&&r.x>=l&&a!==r.x&&ro(i<d?a:o,i,l,d,i<d?o:a,i,r.x,r.y)&&((u=Math.abs(i-r.y)/(a-r.x))<p||u===p&&r.x>n.x)&&uo(r,e)&&(n=r,p=u),r=r.next;return n}(e,t)){var n=co(t,e);Ki(n,n.next)}}function to(e,t,n,r,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*a)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*a)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function no(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function ro(e,t,n,r,a,i,o,s){return(a-o)*(t-s)-(e-o)*(i-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(i-s)-(a-o)*(r-s)>=0}function ao(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&so(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&uo(e,t)&&uo(t,e)&&function(e,t){var n=e,r=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&a<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function io(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function oo(e,t){return e.x===t.x&&e.y===t.y}function so(e,t,n,r){return!!(oo(e,t)&&oo(n,r)||oo(e,r)&&oo(n,t))||io(e,t,n)>0!=io(e,t,r)>0&&io(n,r,e)>0!=io(n,r,t)>0}function uo(e,t){return io(e.prev,e,e.next)<0?io(e,t,e.next)>=0&&io(e,e.prev,t)>=0:io(e,t,e.prev)<0||io(e,e.next,t)<0}function co(e,t){var n=new ho(e.i,e.x,e.y),r=new ho(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function lo(e,t,n,r){var a=new ho(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function po(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ho(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fo(e,t,n,r){for(var a=0,i=t,o=n-r;i<n;i+=r)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}function mo(e,t,n,r,a){!function e(t,n,r,a,i){for(;a>r;){if(a-r>600){var o=a-r+1,s=n-r+1,u=Math.log(o),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(o-c)/o)*(s-o/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*c/o+l)),Math.min(a,Math.floor(n+(o-s)*c/o+l)),i)}var d=t[n],p=r,h=a;for(vo(t,r,n),i(t[a],d)>0&&vo(t,r,a);p<h;){for(vo(t,p,h),p++,h--;i(t[p],d)<0;)p++;for(;i(t[h],d)>0;)h--}0===i(t[r],d)?vo(t,r,h):vo(t,++h,a),h<=n&&(r=h+1),n<=h&&(a=h-1)}}(e,t,n||0,r||e.length-1,a||go)}function vo(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function go(e,t){return e<t?-1:e>t?1:0}function Ao(e,t){var n=e.length;if(n<=1)return[e];for(var r,a,i=[],o=0;o<n;o++){var s=k(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===a&&(a=s<0),a===s<0?(r&&i.push(r),r=[e[o]]):r.push(e[o]))}if(r&&i.push(r),t>1)for(var u=0;u<i.length;u++)i[u].length<=t||(mo(i[u],t,1,i[u].length-1,yo),i[u]=i[u].slice(0,t));return i}function yo(e,t){return t.area-e.area}function bo(e,t,n){for(var r=n.patternDependencies,a=!1,i=0,o=t;i<o.length;i+=1){var s=o[i].paint.get(e+"-pattern");s.isConstant()||(a=!0);var u=s.constantOr(null);u&&(a=!0,r[u.to]=!0,r[u.from]=!0)}return a}function xo(e,t,n,r,a){for(var i=a.patternDependencies,o=0,s=t;o<s.length;o+=1){var u=s[o],c=u.paint.get(e+"-pattern").value;if("constant"!==c.kind){var l=c.evaluate({zoom:r-1},n,{}),d=c.evaluate({zoom:r},n,{}),p=c.evaluate({zoom:r+1},n,{});i[l]=!0,i[d]=!0,i[p]=!0,n.patterns[u.id]={min:l,mid:d,max:p}}}return n}Hi.deviation=function(e,t,n,r){var a=t&&t.length,i=a?t[0]*n:e.length,o=Math.abs(fo(e,0,i,n));if(a)for(var s=0,u=t.length;s<u;s++){var c=t[s]*n,l=s<u-1?t[s+1]*n:e.length;o-=Math.abs(fo(e,c,l,n))}var d=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,h=r[s+1]*n,f=r[s+2]*n;d+=Math.abs((e[p]-e[f])*(e[h+1]-e[p+1])-(e[p]-e[h])*(e[f+1]-e[p+1]))}return 0===o&&0===d?0:Math.abs((d-o)/o)},Hi.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,a=0;a<e.length;a++){for(var i=0;i<e[a].length;i++)for(var o=0;o<t;o++)n.vertices.push(e[a][i][o]);a>0&&(r+=e[a-1].length,n.holes.push(r))}return n},Wi.default=Gi;var wo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ea,this.indexArray=new va,this.indexArray2=new ga,this.programConfigurations=new ei(Vi,e.layers,e.zoom),this.segments=new Da,this.segments2=new Da,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};wo.prototype.populate=function(e,t){this.features=[],this.hasPattern=bo("fill",this.layers,t);for(var n=0,r=e;n<r.length;n+=1){var a=r[n],i=a.feature,o=a.index,s=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nr(this.zoom),i)){var u=ii(i),c={sourceLayerIndex:s,index:o,geometry:u,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(c.id=i.id),this.hasPattern?this.features.push(xo("fill",this.layers,c,this.zoom,t)):this.addFeature(c,u,o,{}),t.featureIndex.insert(i,u,o,s,this.index)}}},wo.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},wo.prototype.addFeatures=function(e,t){for(var n=0,r=this.features;n<r.length;n+=1){var a=r[n],i=a.geometry;this.addFeature(a,i,a.index,t)}},wo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},wo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},wo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Vi),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},wo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},wo.prototype.addFeature=function(e,t,n,r){for(var a=0,i=Ao(t,500);a<i.length;a+=1){for(var o=i[a],s=0,u=0,c=o;u<c.length;u+=1)s+=c[u].length;for(var l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),d=l.vertexLength,p=[],h=[],f=0,m=o;f<m.length;f+=1){var v=m[f];if(0!==v.length){v!==o[0]&&h.push(p.length/2);var g=this.segments2.prepareSegment(v.length,this.layoutVertexArray,this.indexArray2),A=g.vertexLength;this.layoutVertexArray.emplaceBack(v[0].x,v[0].y),this.indexArray2.emplaceBack(A+v.length-1,A),p.push(v[0].x),p.push(v[0].y);for(var y=1;y<v.length;y++)this.layoutVertexArray.emplaceBack(v[y].x,v[y].y),this.indexArray2.emplaceBack(A+y-1,A+y),p.push(v[y].x),p.push(v[y].y);g.vertexLength+=v.length,g.primitiveLength+=v.length}}for(var b=Wi(p,h),x=0;x<b.length;x+=3)this.indexArray.emplaceBack(d+b[x],d+b[x+1],d+b[x+2]);l.vertexLength+=s,l.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r)},mr("FillBucket",wo,{omit:["layers","features"]});var _o={paint:new Kr({"fill-antialias":new Vr(ke.paint_fill["fill-antialias"]),"fill-opacity":new Wr(ke.paint_fill["fill-opacity"]),"fill-color":new Wr(ke.paint_fill["fill-color"]),"fill-outline-color":new Wr(ke.paint_fill["fill-outline-color"]),"fill-translate":new Vr(ke.paint_fill["fill-translate"]),"fill-translate-anchor":new Vr(ke.paint_fill["fill-translate-anchor"]),"fill-pattern":new Gr(ke.paint_fill["fill-pattern"])})},ko=function(e){function t(t){e.call(this,t,_o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new wo(e)},t.prototype.queryRadius=function(){return bi(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,a,i,o){return li(xi(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,o),r)},t.prototype.isTileClipped=function(){return!0},t}(Xr),Oo=Zr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Eo=So;function So(e,t,n,r,a){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=a,e.readFields(Co,this,t)}function Co(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],a=t._values[e.readVarint()];t.properties[r]=a}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function To(e){for(var t,n,r=0,a=0,i=e.length,o=i-1;a<i;o=a++)t=e[a],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}So.types=["Unknown","Point","LineString","Polygon"],So.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,s=0,u=[];e.pos<n;){if(i<=0){var c=e.readVarint();r=7&c,i=c>>3}if(i--,1===r||2===r)o+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&u.push(t),t=[]),t.push(new a(o,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&u.push(t),u},So.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,a=0,i=0,o=1/0,s=-1/0,u=1/0,c=-1/0;e.pos<t;){if(r<=0){var l=e.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)(a+=e.readSVarint())<o&&(o=a),a>s&&(s=a),(i+=e.readSVarint())<u&&(u=i),i>c&&(c=i);else if(7!==n)throw new Error("unknown command "+n)}return[o,u,s,c]},So.prototype.toGeoJSON=function(e,t,n){var r,a,i=this.extent*Math.pow(2,n),o=this.extent*e,s=this.extent*t,u=this.loadGeometry(),c=So.types[this.type];function l(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+s)/i;e[t]=[360*(n.x+o)/i-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<u.length;r++)d[r]=u[r][0];l(u=d);break;case 2:for(r=0;r<u.length;r++)l(u[r]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,a=[],i=0;i<t;i++){var o=To(e[i]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&a.push(n),n=[e[i]]):n.push(e[i]))}return n&&a.push(n),a}(u),r=0;r<u.length;r++)for(a=0;a<u[r].length;a++)l(u[r][a])}1===u.length?u=u[0]:c="Multi"+c;var p={type:"Feature",geometry:{type:c,coordinates:u},properties:this.properties};return"id"in this&&(p.id=this.id),p};var Io=jo;function jo(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Mo,this,t),this.length=this._features.length}function Mo(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function No(e,t,n){if(3===e){var r=new Io(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}jo.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Eo(this._pbf,t,this.extent,this._keys,this._values)};var Do={VectorTile:function(e,t){this.layers=e.readFields(No,{},t)},VectorTileFeature:Eo,VectorTileLayer:Io},Ro=Do.VectorTileFeature.types,Po=Math.pow(2,13);function Lo(e,t,n,r,a,i,o,s){e.emplaceBack(t,n,2*Math.floor(r*Po)+o,a*Po*2,i*Po*2,Math.round(s))}var Fo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new na,this.indexArray=new va,this.programConfigurations=new ei(Oo,e.layers,e.zoom),this.segments=new Da,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function Bo(e,t){return e.x===t.x&&(e.x<0||e.x>ri)||e.y===t.y&&(e.y<0||e.y>ri)}function zo(e){return e.every(function(e){return e.x<0})||e.every(function(e){return e.x>ri})||e.every(function(e){return e.y<0})||e.every(function(e){return e.y>ri})}Fo.prototype.populate=function(e,t){this.features=[],this.hasPattern=bo("fill-extrusion",this.layers,t);for(var n=0,r=e;n<r.length;n+=1){var a=r[n],i=a.feature,o=a.index,s=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nr(this.zoom),i)){var u=ii(i),c={sourceLayerIndex:s,index:o,geometry:u,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(c.id=i.id),this.hasPattern?this.features.push(xo("fill-extrusion",this.layers,c,this.zoom,t)):this.addFeature(c,u,o,{}),t.featureIndex.insert(i,u,o,s,this.index,!0)}}},Fo.prototype.addFeatures=function(e,t){for(var n=0,r=this.features;n<r.length;n+=1){var a=r[n],i=a.geometry;this.addFeature(a,i,a.index,t)}},Fo.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Fo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Fo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Fo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Oo),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Fo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Fo.prototype.addFeature=function(e,t,n,r){for(var a=0,i=Ao(t,500);a<i.length;a+=1){for(var o=i[a],s=0,u=0,c=o;u<c.length;u+=1)s+=c[u].length;for(var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),d=0,p=o;d<p.length;d+=1){var h=p[d];if(0!==h.length&&!zo(h))for(var f=0,m=0;m<h.length;m++){var v=h[m];if(m>=1){var g=h[m-1];if(!Bo(v,g)){l.vertexLength+4>Da.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var A=v.sub(g)._perp()._unit(),y=g.dist(v);f+y>32768&&(f=0),Lo(this.layoutVertexArray,v.x,v.y,A.x,A.y,0,0,f),Lo(this.layoutVertexArray,v.x,v.y,A.x,A.y,0,1,f),f+=y,Lo(this.layoutVertexArray,g.x,g.y,A.x,A.y,0,0,f),Lo(this.layoutVertexArray,g.x,g.y,A.x,A.y,0,1,f);var b=l.vertexLength;this.indexArray.emplaceBack(b,b+2,b+1),this.indexArray.emplaceBack(b+1,b+2,b+3),l.vertexLength+=4,l.primitiveLength+=2}}}}if(l.vertexLength+s>Da.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===Ro[e.type]){for(var x=[],w=[],_=l.vertexLength,k=0,O=o;k<O.length;k+=1){var E=O[k];if(0!==E.length){E!==o[0]&&w.push(x.length/2);for(var S=0;S<E.length;S++){var C=E[S];Lo(this.layoutVertexArray,C.x,C.y,0,0,1,1,0),x.push(C.x),x.push(C.y)}}}for(var T=Wi(x,w),I=0;I<T.length;I+=3)this.indexArray.emplaceBack(_+T[I],_+T[I+2],_+T[I+1]);l.primitiveLength+=T.length/3,l.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r)},mr("FillExtrusionBucket",Fo,{omit:["layers","features"]});var Uo={paint:new Kr({"fill-extrusion-opacity":new Vr(ke["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Wr(ke["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Vr(ke["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Vr(ke["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Gr(ke["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Wr(ke["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Wr(ke["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Vr(ke["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Vo=function(e){function t(t){e.call(this,t,Uo)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Fo(e)},t.prototype.queryRadius=function(){return bi(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,s,u){var c=xi(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),l=this.paint.get("fill-extrusion-height").evaluate(t,n),d=this.paint.get("fill-extrusion-base").evaluate(t,n),p=function(e,t,n,r){for(var i=[],o=0,s=e;o<s.length;o+=1){var u=s[o],c=[u.x,u.y,0,1];Si(c,c,t),i.push(new a(c[0]/c[3],c[1]/c[3]))}return i}(c,u),h=function(e,t,n,r){for(var i=[],o=[],s=r[8]*t,u=r[9]*t,c=r[10]*t,l=r[11]*t,d=r[8]*n,p=r[9]*n,h=r[10]*n,f=r[11]*n,m=0,v=e;m<v.length;m+=1){for(var g=[],A=[],y=0,b=v[m];y<b.length;y+=1){var x=b[y],w=x.x,_=x.y,k=r[0]*w+r[4]*_+r[12],O=r[1]*w+r[5]*_+r[13],E=r[2]*w+r[6]*_+r[14],S=r[3]*w+r[7]*_+r[15],C=E+c,T=S+l,I=k+d,j=O+p,M=E+h,N=S+f,D=new a((k+s)/T,(O+u)/T);D.z=C/T,g.push(D);var R=new a(I/N,j/N);R.z=M/N,A.push(R)}i.push(g),o.push(A)}return[i,o]}(r,d,l,u);return function(e,t,n){var r=1/0;li(n,t)&&(r=Go(n,t[0]));for(var a=0;a<t.length;a++)for(var i=t[a],o=e[a],s=0;s<i.length-1;s++){var u=i[s],c=i[s+1],l=o[s],d=[u,c,o[s+1],l,u];ui(n,d)&&(r=Math.min(r,Go(n,d)))}return r!==1/0&&r}(h[0],h[1],p)},t}(Xr);function Wo(e,t){return e.x*t.x+e.y*t.y}function Go(e,t){if(1===e.length){var n=t[0],r=t[1],a=t[3],i=e[0],o=r.sub(n),s=a.sub(n),u=i.sub(n),c=Wo(o,o),l=Wo(o,s),d=Wo(s,s),p=Wo(u,o),h=Wo(u,s),f=c*d-l*l,m=(d*p-l*h)/f,v=(c*h-l*p)/f,g=1-m-v;return n.z*g+r.z*m+a.z*v}for(var A=1/0,y=0,b=t;y<b.length;y+=1){var x=b[y];A=Math.min(A,x.z)}return A}var Ho=Zr([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,qo=Do.VectorTileFeature.types,Ko=63,Xo=Math.cos(Math.PI/180*37.5),Qo=.5,Yo=Math.pow(2,14)/Qo;function $o(e,t,n,r,a,i,o){e.emplaceBack(t.x,t.y,r?1:0,a?1:-1,Math.round(Ko*n.x)+128,Math.round(Ko*n.y)+128,1+(0===i?0:i<0?-1:1)|(o*Qo&63)<<2,o*Qo>>6)}var Zo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new ra,this.indexArray=new va,this.programConfigurations=new ei(Ho,e.layers,e.zoom),this.segments=new Da,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function Jo(e,t){return(e/t.tileTotal*(t.end-t.start)+t.start)*(Yo-1)}Zo.prototype.populate=function(e,t){this.features=[],this.hasPattern=bo("line",this.layers,t);for(var n=0,r=e;n<r.length;n+=1){var a=r[n],i=a.feature,o=a.index,s=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nr(this.zoom),i)){var u=ii(i),c={sourceLayerIndex:s,index:o,geometry:u,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(c.id=i.id),this.hasPattern?this.features.push(xo("line",this.layers,c,this.zoom,t)):this.addFeature(c,u,o,{}),t.featureIndex.insert(i,u,o,s,this.index)}}},Zo.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Zo.prototype.addFeatures=function(e,t){for(var n=0,r=this.features;n<r.length;n+=1){var a=r[n],i=a.geometry;this.addFeature(a,i,a.index,t)}},Zo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Zo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Zo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ho),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Zo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Zo.prototype.addFeature=function(e,t,n,r){for(var a=this.layers[0].layout,i=a.get("line-join").evaluate(e,{}),o=a.get("line-cap"),s=a.get("line-miter-limit"),u=a.get("line-round-limit"),c=0,l=t;c<l.length;c+=1){var d=l[c];this.addLine(d,e,i,o,s,u,n,r)}},Zo.prototype.addLine=function(e,t,n,r,a,i,o,s){var u=null;t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end")&&(u={start:t.properties.mapbox_clip_start,end:t.properties.mapbox_clip_end,tileTotal:void 0});for(var c="Polygon"===qo[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var d=0;d<l-1&&e[d].equals(e[d+1]);)d++;if(!(l<(c?3:2))){u&&(u.tileTotal=function(e,t,n){for(var r,a,i=0,o=d;o<n-1;o++)r=e[o],a=e[o+1],i+=r.dist(a);return i}(e,0,l)),"bevel"===n&&(a=1.05);var p=ri/(512*this.overscaling)*15,h=e[d],f=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.distance=0;var m,v,g,A=r,y=c?"butt":r,b=!0,x=void 0,w=void 0,_=void 0,k=void 0;this.e1=this.e2=this.e3=-1,c&&(m=e[l-2],k=h.sub(m)._unit()._perp());for(var O=d;O<l;O++)if(!(w=c&&O===l-1?e[d+1]:e[O+1])||!e[O].equals(w)){k&&(_=k),m&&(x=m),m=e[O],k=w?w.sub(m)._unit()._perp():_;var E=(_=_||k).add(k);0===E.x&&0===E.y||E._unit();var S=E.x*k.x+E.y*k.y,C=0!==S?1/S:1/0,T=S<Xo&&x&&w;if(T&&O>d){var I=m.dist(x);if(I>2*p){var j=m.sub(m.sub(x)._mult(p/I)._round());this.distance+=j.dist(x),this.addCurrentVertex(j,this.distance,_.mult(1),0,0,!1,f,u),x=j}}var M=x&&w,N=M?n:w?A:y;if(M&&"round"===N&&(C<i?N="miter":C<=2&&(N="fakeround")),"miter"===N&&C>a&&(N="bevel"),"bevel"===N&&(C>2&&(N="flipbevel"),C<a&&(N="miter")),x&&(this.distance+=m.dist(x)),"miter"===N)E._mult(C),this.addCurrentVertex(m,this.distance,E,0,0,!1,f,u);else if("flipbevel"===N){if(C>100)E=k.clone().mult(-1);else{var D=_.x*k.y-_.y*k.x>0?-1:1,R=C*_.add(k).mag()/_.sub(k).mag();E._perp()._mult(R*D)}this.addCurrentVertex(m,this.distance,E,0,0,!1,f,u),this.addCurrentVertex(m,this.distance,E.mult(-1),0,0,!1,f,u)}else if("bevel"===N||"fakeround"===N){var P=_.x*k.y-_.y*k.x>0,L=-Math.sqrt(C*C-1);if(P?(g=0,v=L):(v=0,g=L),b||this.addCurrentVertex(m,this.distance,_,v,g,!1,f,u),"fakeround"===N){for(var F=Math.floor(8*(.5-(S-.5))),B=void 0,z=0;z<F;z++)B=k.mult((z+1)/(F+1))._add(_)._unit(),this.addPieSliceVertex(m,this.distance,B,P,f,u);this.addPieSliceVertex(m,this.distance,E,P,f,u);for(var U=F-1;U>=0;U--)B=_.mult((U+1)/(F+1))._add(k)._unit(),this.addPieSliceVertex(m,this.distance,B,P,f,u)}w&&this.addCurrentVertex(m,this.distance,k,-v,-g,!1,f,u)}else"butt"===N?(b||this.addCurrentVertex(m,this.distance,_,0,0,!1,f,u),w&&this.addCurrentVertex(m,this.distance,k,0,0,!1,f,u)):"square"===N?(b||(this.addCurrentVertex(m,this.distance,_,1,1,!1,f,u),this.e1=this.e2=-1),w&&this.addCurrentVertex(m,this.distance,k,-1,-1,!1,f,u)):"round"===N&&(b||(this.addCurrentVertex(m,this.distance,_,0,0,!1,f,u),this.addCurrentVertex(m,this.distance,_,1,1,!0,f,u),this.e1=this.e2=-1),w&&(this.addCurrentVertex(m,this.distance,k,-1,-1,!0,f,u),this.addCurrentVertex(m,this.distance,k,0,0,!1,f,u)));if(T&&O<l-1){var V=m.dist(w);if(V>2*p){var W=m.add(w.sub(m)._mult(p/V)._round());this.distance+=W.dist(m),this.addCurrentVertex(W,this.distance,k.mult(1),0,0,!1,f,u),m=W}}b=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,s)}},Zo.prototype.addCurrentVertex=function(e,t,n,r,a,i,o,s){var u,c=this.layoutVertexArray,l=this.indexArray;s&&(t=Jo(t,s)),u=n.clone(),r&&u._sub(n.perp()._mult(r)),$o(c,e,u,i,!1,r,t),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),a&&u._sub(n.perp()._mult(a)),$o(c,e,u,i,!0,-a,t),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>Yo/2&&!s&&(this.distance=0,this.addCurrentVertex(e,this.distance,n,r,a,i,o))},Zo.prototype.addPieSliceVertex=function(e,t,n,r,a,i){n=n.mult(r?-1:1);var o=this.layoutVertexArray,s=this.indexArray;i&&(t=Jo(t,i)),$o(o,e,n,!1,r,0,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},mr("LineBucket",Zo,{omit:["layers","features"]});var es=new Kr({"line-cap":new Vr(ke.layout_line["line-cap"]),"line-join":new Wr(ke.layout_line["line-join"]),"line-miter-limit":new Vr(ke.layout_line["line-miter-limit"]),"line-round-limit":new Vr(ke.layout_line["line-round-limit"])}),ts={paint:new Kr({"line-opacity":new Wr(ke.paint_line["line-opacity"]),"line-color":new Wr(ke.paint_line["line-color"]),"line-translate":new Vr(ke.paint_line["line-translate"]),"line-translate-anchor":new Vr(ke.paint_line["line-translate-anchor"]),"line-width":new Wr(ke.paint_line["line-width"]),"line-gap-width":new Wr(ke.paint_line["line-gap-width"]),"line-offset":new Wr(ke.paint_line["line-offset"]),"line-blur":new Wr(ke.paint_line["line-blur"]),"line-dasharray":new Hr(ke.paint_line["line-dasharray"]),"line-pattern":new Gr(ke.paint_line["line-pattern"]),"line-gradient":new qr(ke.paint_line["line-gradient"])}),layout:es},ns=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new Nr(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,a){return n=d({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,a)},t}(Wr))(ts.paint.properties["line-width"].specification);ns.useIntegerZoom=!0;var rs=function(e){function t(t){e.call(this,t,ts)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&this._updateGradient()},t.prototype._updateGradient=function(){var e=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Fi(e,"lineProgress"),this.gradientTexture=null},t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),this.paint._values["line-floorwidth"]=ns.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Zo(e)},t.prototype.queryRadius=function(e){var t=e,n=as(yi("line-width",this,t),yi("line-gap-width",this,t)),r=yi("line-offset",this,t);return n/2+Math.abs(r)+bi(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,s){var u=xi(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),c=s/2*as(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(r=function(e,t){for(var n=[],r=new a(0,0),i=0;i<e.length;i++){for(var o=e[i],s=[],u=0;u<o.length;u++){var c=o[u-1],l=o[u],d=o[u+1],p=0===u?r:l.sub(c)._unit()._perp(),h=u===o.length-1?r:d.sub(l)._unit()._perp(),f=p._add(h)._unit(),m=f.x*h.x+f.y*h.y;f._mult(1/m),s.push(f._mult(t)._add(l))}n.push(s)}return n}(r,l*s)),function(e,t,n){for(var r=0;r<t.length;r++){var a=t[r];if(e.length>=3)for(var i=0;i<a.length;i++)if(gi(e,a[i]))return!0;if(di(e,a,n))return!0}return!1}(u,r,c)},t.prototype.isTileClipped=function(){return!0},t}(Xr);function as(e,t){return t>0?t+2*e:e}var is=Zr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),os=Zr([{name:"a_projected_pos",components:3,type:"Float32"}],4),ss=(Zr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Zr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),us=(Zr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Zr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),cs=Zr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function ls(e,t,n){return e.sections.forEach(function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),Mr.applyArabicShaping&&(e=Mr.applyArabicShaping(e)),e}(e.text,t,n)}),e}Zr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"}]),Zr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"radialTextOffset"}]),Zr([{type:"Float32",name:"offsetX"}]),Zr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var ds={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},ps=function(e){function t(t,n,r,a){e.call(this,t,n),this.angle=r,void 0!==a&&(this.segment=a)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(a);mr("Anchor",ps);var hs=256;function fs(e,t){var n=t.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate(new Nr(e+1))};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,a=0;a<r.length&&r[a]<=e;)a++;for(var i=a=Math.max(0,a-1);i<r.length&&r[i]<e+1;)i++;i=Math.min(r.length-1,i);var o={min:r[a],max:r[i]};return"composite"===n.kind?{functionType:"composite",zoomRange:o,propertyValue:t.value}:{functionType:"camera",layoutSize:n.evaluate(new Nr(e+1)),zoomRange:o,sizeRange:{min:n.evaluate(new Nr(o.min)),max:n.evaluate(new Nr(o.max))},propertyValue:t.value}}function ms(e,t,n){var r=t;return"source"===e.functionType?n.lowerSize/hs:"composite"===e.functionType?gt(n.lowerSize/hs,n.upperSize/hs,r.uSizeT):r.uSize}function vs(e,t,n){if("constant"===e.functionType)return{uSizeT:0,uSize:e.layoutSize};if("source"===e.functionType)return{uSizeT:0,uSize:0};if("camera"===e.functionType){var r=e.propertyValue,a=e.zoomRange,i=e.sizeRange,o=c(Tn(r,n.specification).interpolationFactor(t,a.min,a.max),0,1);return{uSizeT:0,uSize:i.min+o*(i.max-i.min)}}var s=e.propertyValue,u=e.zoomRange;return{uSizeT:c(Tn(s,n.specification).interpolationFactor(t,u.min,u.max),0,1),uSize:0}}var gs=Object.freeze({getSizeData:fs,evaluateSizeForFeature:ms,evaluateSizeForZoom:vs,SIZE_PACK_FACTOR:hs}),As=Do.VectorTileFeature.types,ys=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function bs(e,t,n,r,a,i,o,s){e.emplaceBack(t,n,Math.round(32*r),Math.round(32*a),i,o,s?s[0]:0,s?s[1]:0)}function xs(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}var ws=function(e){this.layoutVertexArray=new ia,this.indexArray=new va,this.programConfigurations=e,this.segments=new Da,this.dynamicLayoutVertexArray=new oa,this.opacityVertexArray=new sa,this.placedSymbolArray=new ka};ws.prototype.upload=function(e,t,n,r){n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,is.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,os.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ys,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e)},ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},mr("SymbolBuffers",ws);var _s=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new Da,this.collisionVertexArray=new la};_s.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,ss.members,!0)},_s.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},mr("CollisionBuffers",_s);var ks=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1;var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=fs(this.zoom,t["text-size"]),this.iconSizeData=fs(this.zoom,t["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),a=n.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==a&&void 0!==r.constantOr(1);var i="viewport-y"===a||"auto"===a&&!this.sortFeaturesByKey;this.sortFeaturesByY=i&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id}),this.sourceID=e.sourceID};ks.prototype.createArrays=function(){this.text=new ws(new ei(is.members,this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new ws(new ei(is.members,this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.collisionBox=new _s(ca,us.members,ga),this.collisionCircle=new _s(ca,cs.members,va),this.glyphOffsetArray=new Ca,this.lineVertexArray=new Ia,this.symbolInstances=new Ea},ks.prototype.calculateGlyphDependencies=function(e,t,n,r){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,n&&r){var i=ds[e.charAt(a)];i&&(t[i.charCodeAt(0)]=!0)}},ks.prototype.populate=function(e,t){var n=this.layers[0],r=n.layout,a=r.get("text-font"),i=r.get("text-field"),o=r.get("icon-image"),s=("constant"!==i.value.kind||i.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),u="constant"!==o.value.kind||o.value.value&&o.value.value.length>0,c=r.get("symbol-sort-key");if(this.features=[],s||u){for(var l=t.iconDependencies,d=t.glyphDependencies,p=new Nr(this.zoom),h=0,f=e;h<f.length;h+=1){var m=f[h],v=m.feature,g=m.index,A=m.sourceLayerIndex;if(n._featureFilter(p,v)){var y=void 0;if(s){var b=n.getValueAndResolveTokens("text-field",v);y=ls(b instanceof Qe?b:Qe.fromString(b),n,v)}var x=void 0;if(u&&(x=n.getValueAndResolveTokens("icon-image",v)),y||x){var w=this.sortFeaturesByKey?c.evaluate(v,{}):void 0,_={text:y,icon:x,index:g,sourceLayerIndex:A,geometry:ii(v),properties:v.properties,type:As[v.type],sortKey:w};if(void 0!==v.id&&(_.id=v.id),this.features.push(_),x&&(l[x]=!0),y)for(var k=a.evaluate(v,{}).join(","),O="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement"),E=0,S=y.sections;E<S.length;E+=1){var C=S[E],T=xr(y.toString()),I=C.fontStack||k,j=d[I]=d[I]||{};this.calculateGlyphDependencies(C.text,j,O,T)}}}}"line"===r.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],a=0;function i(t){r.push(e[t]),a++}function o(e,t,a){var i=n[e];return delete n[e],n[t]=i,r[i].geometry[0].pop(),r[i].geometry[0]=r[i].geometry[0].concat(a[0]),i}function s(e,n,a){var i=t[n];return delete t[n],t[e]=i,r[i].geometry[0].shift(),r[i].geometry[0]=a[0].concat(r[i].geometry[0]),i}function u(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var c=0;c<e.length;c++){var l=e[c],d=l.geometry,p=l.text?l.text.toString():null;if(p){var h=u(p,d),f=u(p,d,!0);if(h in n&&f in t&&n[h]!==t[f]){var m=s(h,f,d),v=o(h,f,r[m].geometry);delete t[h],delete n[f],n[u(p,r[v].geometry,!0)]=v,r[m].geometry=null}else h in n?o(h,f,d):f in t?s(h,f,d):(i(c),t[h]=a-1,n[f]=a-1)}else i(c)}return r.filter(function(e){return e.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(e,t){return e.sortKey-t.sortKey})}},ks.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},ks.prototype.isEmpty=function(){return 0===this.symbolInstances.length},ks.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ks.prototype.upload=function(e){this.uploaded||(this.collisionBox.upload(e),this.collisionCircle.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ks.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},ks.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),a=e.dist(t[e.segment]),i={},o=e.segment+1;o<t.length;o++)i[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:r},o<t.length-1&&(r+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)i[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:a},s>0&&(a+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var c=i[u];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},ks.prototype.addSymbols=function(e,t,n,r,a,i,o,s,u,c){for(var l=e.indexArray,d=e.layoutVertexArray,p=e.dynamicLayoutVertexArray,h=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray,i.sortKey),f=this.glyphOffsetArray.length,m=h.vertexLength,v=0,g=t;v<g.length;v+=1){var A=g[v],y=A.tl,b=A.tr,x=A.bl,w=A.br,_=A.tex,k=h.vertexLength,O=A.glyphOffset[1];bs(d,s.x,s.y,y.x,O+y.y,_.x,_.y,n),bs(d,s.x,s.y,b.x,O+b.y,_.x+_.w,_.y,n),bs(d,s.x,s.y,x.x,O+x.y,_.x,_.y+_.h,n),bs(d,s.x,s.y,w.x,O+w.y,_.x+_.w,_.y+_.h,n),xs(p,s,0),l.emplaceBack(k,k+1,k+2),l.emplaceBack(k+1,k+2,k+3),h.vertexLength+=4,h.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A.glyphOffset[0])}e.placedSymbolArray.emplaceBack(s.x,s.y,f,this.glyphOffsetArray.length-f,m,u,c,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],o,!1,0),e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,i,i.index,{})},ks.prototype._addCollisionDebugVertex=function(e,t,n,r,a,i){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,a,Math.round(i.x),Math.round(i.y))},ks.prototype.addCollisionDebugVertices=function(e,t,n,r,i,o,s,u){var c=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=c.vertexLength,d=i.layoutVertexArray,p=i.collisionVertexArray,h=s.anchorX,f=s.anchorY;if(this._addCollisionDebugVertex(d,p,o,h,f,new a(e,t)),this._addCollisionDebugVertex(d,p,o,h,f,new a(n,t)),this._addCollisionDebugVertex(d,p,o,h,f,new a(n,r)),this._addCollisionDebugVertex(d,p,o,h,f,new a(e,r)),c.vertexLength+=4,u){var m=i.indexArray;m.emplaceBack(l,l+1,l+2),m.emplaceBack(l,l+2,l+3),c.primitiveLength+=2}else{var v=i.indexArray;v.emplaceBack(l,l+1),v.emplaceBack(l+1,l+2),v.emplaceBack(l+2,l+3),v.emplaceBack(l+3,l),c.primitiveLength+=4}},ks.prototype.addDebugCollisionBoxes=function(e,t,n){for(var r=e;r<t;r++){var a=this.collisionBoxArray.get(r),i=a.x1,o=a.y1,s=a.x2,u=a.y2,c=a.radius>0;this.addCollisionDebugVertices(i,o,s,u,c?this.collisionCircle:this.collisionBox,a.anchorPoint,n,c)}},ks.prototype.generateCollisionDebugBuffers=function(){for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t)}},ks.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,a){for(var i={},o=t;o<n;o++){var s=e.get(o);if(0===s.radius){i.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},i.textFeatureIndex=s.featureIndex;break}i.textCircles||(i.textCircles=[],i.textFeatureIndex=s.featureIndex),i.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var u=r;u<a;u++){var c=e.get(u);if(0===c.radius){i.iconBox={x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2,anchorPointX:c.anchorPointX,anchorPointY:c.anchorPointY},i.iconFeatureIndex=c.featureIndex;break}}return i},ks.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex))}},ks.prototype.hasTextData=function(){return this.text.segments.get().length>0},ks.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ks.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},ks.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},ks.prototype.addIndicesForPlacedTextSymbol=function(e){for(var t=this.text.placedSymbolArray.get(e),n=t.vertexStartIndex+4*t.numGlyphs,r=t.vertexStartIndex;r<n;r+=4)this.text.indexArray.emplaceBack(r,r+1,r+2),this.text.indexArray.emplaceBack(r+1,r+2,r+3)},ks.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&(this.sortedAngle=e,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var n=[],r=0;r<this.symbolInstances.length;r++)n.push(r);for(var a=Math.sin(e),i=Math.cos(e),o=[],s=[],u=0;u<this.symbolInstances.length;u++){var c=this.symbolInstances.get(u);o.push(0|Math.round(a*c.anchorX+i*c.anchorY)),s.push(c.featureIndex)}n.sort(function(e,t){return o[e]-o[t]||s[t]-s[e]}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var l=0,d=n;l<d.length;l+=1){var p=d[l],h=this.symbolInstances.get(p);this.featureSortOrder.push(h.featureIndex),[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex].forEach(function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedTextSymbol(e)}),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.verticalPlacedTextSymbolIndex);var f=this.icon.placedSymbolArray.get(p);if(f.numGlyphs){var m=f.vertexStartIndex;this.icon.indexArray.emplaceBack(m,m+1,m+2),this.icon.indexArray.emplaceBack(m+1,m+2,m+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},mr("SymbolBucket",ks,{omit:["layers","collisionBoxArray","features","compareText"]}),ks.MAX_GLYPHS=65535,ks.addDynamicAttributes=xs;var Os=new Kr({"symbol-placement":new Vr(ke.layout_symbol["symbol-placement"]),"symbol-spacing":new Vr(ke.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Vr(ke.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Wr(ke.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Vr(ke.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Vr(ke.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Vr(ke.layout_symbol["icon-ignore-placement"]),"icon-optional":new Vr(ke.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Vr(ke.layout_symbol["icon-rotation-alignment"]),"icon-size":new Wr(ke.layout_symbol["icon-size"]),"icon-text-fit":new Vr(ke.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Vr(ke.layout_symbol["icon-text-fit-padding"]),"icon-image":new Wr(ke.layout_symbol["icon-image"]),"icon-rotate":new Wr(ke.layout_symbol["icon-rotate"]),"icon-padding":new Vr(ke.layout_symbol["icon-padding"]),"icon-keep-upright":new Vr(ke.layout_symbol["icon-keep-upright"]),"icon-offset":new Wr(ke.layout_symbol["icon-offset"]),"icon-anchor":new Wr(ke.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Vr(ke.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Vr(ke.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Vr(ke.layout_symbol["text-rotation-alignment"]),"text-field":new Wr(ke.layout_symbol["text-field"]),"text-font":new Wr(ke.layout_symbol["text-font"]),"text-size":new Wr(ke.layout_symbol["text-size"]),"text-max-width":new Wr(ke.layout_symbol["text-max-width"]),"text-line-height":new Vr(ke.layout_symbol["text-line-height"]),"text-letter-spacing":new Wr(ke.layout_symbol["text-letter-spacing"]),"text-justify":new Wr(ke.layout_symbol["text-justify"]),"text-radial-offset":new Wr(ke.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Vr(ke.layout_symbol["text-variable-anchor"]),"text-anchor":new Wr(ke.layout_symbol["text-anchor"]),"text-max-angle":new Vr(ke.layout_symbol["text-max-angle"]),"text-rotate":new Wr(ke.layout_symbol["text-rotate"]),"text-padding":new Vr(ke.layout_symbol["text-padding"]),"text-keep-upright":new Vr(ke.layout_symbol["text-keep-upright"]),"text-transform":new Wr(ke.layout_symbol["text-transform"]),"text-offset":new Wr(ke.layout_symbol["text-offset"]),"text-allow-overlap":new Vr(ke.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Vr(ke.layout_symbol["text-ignore-placement"]),"text-optional":new Vr(ke.layout_symbol["text-optional"])}),Es={paint:new Kr({"icon-opacity":new Wr(ke.paint_symbol["icon-opacity"]),"icon-color":new Wr(ke.paint_symbol["icon-color"]),"icon-halo-color":new Wr(ke.paint_symbol["icon-halo-color"]),"icon-halo-width":new Wr(ke.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Wr(ke.paint_symbol["icon-halo-blur"]),"icon-translate":new Vr(ke.paint_symbol["icon-translate"]),"icon-translate-anchor":new Vr(ke.paint_symbol["icon-translate-anchor"]),"text-opacity":new Wr(ke.paint_symbol["text-opacity"]),"text-color":new Wr(ke.paint_symbol["text-color"]),"text-halo-color":new Wr(ke.paint_symbol["text-halo-color"]),"text-halo-width":new Wr(ke.paint_symbol["text-halo-width"]),"text-halo-blur":new Wr(ke.paint_symbol["text-halo-blur"]),"text-translate":new Vr(ke.paint_symbol["text-translate"]),"text-translate-anchor":new Vr(ke.paint_symbol["text-translate-anchor"])}),layout:Os},Ss=function(e){function t(t){e.call(this,t,Es)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},t.prototype.getValueAndResolveTokens=function(e,t){var n,r=this.layout.get(e).evaluate(t,{}),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||_n(a.value)?r:(n=t.properties,r.replace(/{([^{}]+)}/g,function(e,t){return t in n?String(n[t]):""}))},t.prototype.createBucket=function(e){return new ks(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t}(Xr),Cs={paint:new Kr({"background-color":new Vr(ke.paint_background["background-color"]),"background-pattern":new Hr(ke.paint_background["background-pattern"]),"background-opacity":new Vr(ke.paint_background["background-opacity"])})},Ts=function(e){function t(t){e.call(this,t,Cs)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Xr),Is={paint:new Kr({"raster-opacity":new Vr(ke.paint_raster["raster-opacity"]),"raster-hue-rotate":new Vr(ke.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Vr(ke.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Vr(ke.paint_raster["raster-brightness-max"]),"raster-saturation":new Vr(ke.paint_raster["raster-saturation"]),"raster-contrast":new Vr(ke.paint_raster["raster-contrast"]),"raster-resampling":new Vr(ke.paint_raster["raster-resampling"]),"raster-fade-duration":new Vr(ke.paint_raster["raster-fade-duration"])})},js=function(e){function t(t){e.call(this,t,Is)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Xr),Ms=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e)},t}(Xr),Ns={circle:Ti,heatmap:Bi,hillshade:Ui,fill:ko,"fill-extrusion":Vo,line:rs,symbol:Ss,background:Ts,raster:js};function Ds(e){for(var t=0,n=0,r=0,a=e;r<a.length;r+=1){var i=a[r];t+=i.w*i.h,n=Math.max(n,i.w)}e.sort(function(e,t){return t.h-e.h});for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,u=0,c=0,l=e;c<l.length;c+=1)for(var d=l[c],p=o.length-1;p>=0;p--){var h=o[p];if(!(d.w>h.w||d.h>h.h)){if(d.x=h.x,d.y=h.y,u=Math.max(u,d.y+d.h),s=Math.max(s,d.x+d.w),d.w===h.w&&d.h===h.h){var f=o.pop();p<o.length&&(o[p]=f)}else d.h===h.h?(h.x+=d.w,h.w-=d.w):d.w===h.w?(h.y+=d.h,h.h-=d.h):(o.push({x:h.x+d.w,y:h.y,w:h.w-d.w,h:d.h}),h.y+=d.h,h.h-=d.h);break}}return{w:s,h:u,fill:t/(s*u)||0}}var Rs=function(e,t){var n=t.pixelRatio,r=t.version;this.paddedRect=e,this.pixelRatio=n,this.version=r},Ps={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ps.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Ps.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Ps.tlbr.get=function(){return this.tl.concat(this.br)},Ps.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Rs.prototype,Ps);var Ls=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var a=[];this.addImages(e,n,a),this.addImages(t,r,a);var i=Ds(a),o=i.w,s=i.h,u=new Pi({width:o||1,height:s||1});for(var c in e){var l=e[c],d=n[c].paddedRect;Pi.copy(l.data,u,{x:0,y:0},{x:d.x+1,y:d.y+1},l.data)}for(var p in t){var h=t[p],f=r[p].paddedRect,m=f.x+1,v=f.y+1,g=h.data.width,A=h.data.height;Pi.copy(h.data,u,{x:0,y:0},{x:m,y:v},h.data),Pi.copy(h.data,u,{x:0,y:A-1},{x:m,y:v-1},{width:g,height:1}),Pi.copy(h.data,u,{x:0,y:0},{x:m,y:v+A},{width:g,height:1}),Pi.copy(h.data,u,{x:g-1,y:0},{x:m-1,y:v},{width:1,height:A}),Pi.copy(h.data,u,{x:0,y:0},{x:m+g,y:v},{width:1,height:A})}this.image=u,this.iconPositions=n,this.patternPositions=r};Ls.prototype.addImages=function(e,t,n){for(var r in e){var a=e[r],i={x:0,y:0,w:a.data.width+2,h:a.data.height+2};n.push(i),t[r]=new Rs(i,a),a.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},Ls.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},Ls.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=e.tl,a=r[0],i=r[1];n.update(t.data,void 0,{x:a,y:i})}},mr("ImagePosition",Rs),mr("ImageAtlas",Ls);var Fs=self.HTMLImageElement,Bs=self.HTMLCanvasElement,zs=self.HTMLVideoElement,Us=self.ImageData,Vs=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};Vs.prototype.update=function(e,t,n){var r=e.width,a=e.height,i=!(this.size&&this.size[0]===r&&this.size[1]===a||n),o=this.context,s=o.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),i)this.size=[r,a],e instanceof Fs||e instanceof Bs||e instanceof zs||e instanceof Us?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,a,0,this.format,s.UNSIGNED_BYTE,e.data);else{var u=n||{x:0,y:0},c=u.x,l=u.y;e instanceof Fs||e instanceof Bs||e instanceof zs||e instanceof Us?s.texSubImage2D(s.TEXTURE_2D,0,c,l,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,c,l,r,a,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Vs.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},Vs.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Vs.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Ws=function(e,t,n,r,a){var i,o,s=8*a-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?a-1:0,p=n?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=p,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=256*o+e[t+d],d+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),i-=c}return(h?-1:1)*o*Math.pow(2,i-r)},Gs=function(e,t,n,r,a,i){var o,s,u,c=8*i-a-1,l=(1<<c)-1,d=l>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*u-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+h]=255&s,h+=f,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[n+h]=255&o,h+=f,o/=256,c-=8);e[n+h-f]|=128*m},Hs=qs;function qs(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function Ks(e){return e.type===qs.Bytes?e.readVarint()+e.pos:e.pos+1}function Xs(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Qs(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var a=n.pos-1;a>=e;a--)n.buf[a+r]=n.buf[a]}function Ys(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function $s(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Zs(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Js(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function eu(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function tu(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function nu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function ru(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function au(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function iu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function ou(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function su(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}qs.Varint=0,qs.Fixed64=1,qs.Bytes=2,qs.Fixed32=5,qs.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),a=r>>3,i=this.pos;this.type=7&r,e(a,t,this),this.pos===i&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=iu(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=su(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=iu(this.buf,this.pos)+4294967296*iu(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=iu(this.buf,this.pos)+4294967296*su(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Ws(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ws(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,a,i=n.buf;if(r=(112&(a=i[n.pos++]))>>4,a<128)return Xs(e,r,t);if(r|=(127&(a=i[n.pos++]))<<3,a<128)return Xs(e,r,t);if(r|=(127&(a=i[n.pos++]))<<10,a<128)return Xs(e,r,t);if(r|=(127&(a=i[n.pos++]))<<17,a<128)return Xs(e,r,t);if(r|=(127&(a=i[n.pos++]))<<24,a<128)return Xs(e,r,t);if(r|=(1&(a=i[n.pos++]))<<31,a<128)return Xs(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,n){for(var r="",a=t;a<n;){var i,o,s,u=e[a],c=null,l=u>239?4:u>223?3:u>191?2:1;if(a+l>n)break;1===l?u<128&&(c=u):2===l?128==(192&(i=e[a+1]))&&(c=(31&u)<<6|63&i)<=127&&(c=null):3===l?(i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&((c=(15&u)<<12|(63&i)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===l&&(i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&((c=(15&u)<<18|(63&i)<<12|(63&o)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,l=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),a+=l}return r}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var n=Ks(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===qs.Varint)for(;this.buf[this.pos++]>127;);else if(t===qs.Bytes)this.pos=this.readVarint()+this.pos;else if(t===qs.Fixed32)this.pos+=4;else{if(t!==qs.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),ou(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),ou(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),ou(this.buf,-1&e,this.pos),ou(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),ou(this.buf,-1&e,this.pos),ou(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,a,i=0;i<t.length;i++){if((r=t.charCodeAt(i))>55295&&r<57344){if(!a){r>56319||i+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):a=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,a=r;continue}r=a-55296<<10|r-56320|65536,a=null}else a&&(e[n++]=239,e[n++]=191,e[n++]=189,a=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&Qs(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Gs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Gs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&Qs(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,qs.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,Ys,t)},writePackedSVarint:function(e,t){this.writeMessage(e,$s,t)},writePackedBoolean:function(e,t){this.writeMessage(e,eu,t)},writePackedFloat:function(e,t){this.writeMessage(e,Zs,t)},writePackedDouble:function(e,t){this.writeMessage(e,Js,t)},writePackedFixed32:function(e,t){this.writeMessage(e,tu,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,nu,t)},writePackedFixed64:function(e,t){this.writeMessage(e,ru,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,au,t)},writeBytesField:function(e,t){this.writeTag(e,qs.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,qs.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,qs.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,qs.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,qs.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,qs.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,qs.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,qs.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,qs.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,qs.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var uu=3;function cu(e,t,n){1===e&&n.readMessage(lu,t)}function lu(e,t,n){if(3===e){var r=n.readMessage(du,{}),a=r.id,i=r.bitmap,o=r.width,s=r.height,u=r.left,c=r.top,l=r.advance;t.push({id:a,bitmap:new Ri({width:o+2*uu,height:s+2*uu},i),metrics:{width:o,height:s,left:u,top:c,advance:l}})}}function du(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}var pu=uu,hu=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.callbackID=0,v(["receive"],this),this.target.addEventListener("message",this.receive,!1)};function fu(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}hu.prototype.send=function(e,t,n,r){var a=this,i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n);var o=[];if(this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:e,id:String(i),data:gr(t,o)},o),n)return{cancel:function(){return a.target.postMessage({targetMapId:r,sourceMapId:a.mapId,type:"<cancel>",id:String(i)})}}},hu.prototype.receive=function(e){var t,n=this,r=e.data,a=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var i=function(e,t){delete n.callbacks[a];var r=[];n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(a),error:e?gr(e):null,data:gr(t,r)},r)};if("<response>"===r.type||"<cancel>"===r.type)t=this.callbacks[r.id],delete this.callbacks[r.id],t&&r.error?t(Ar(r.error)):t&&t(null,Ar(r.data));else if(void 0!==r.id&&this.parent[r.type]){this.callbacks[r.id]=null;var o=this.parent[r.type](r.sourceMapId,Ar(r.data),i);o&&null===this.callbacks[r.id]&&(this.callbacks[r.id]=o.cancel)}else if(void 0!==r.id&&this.parent.getWorkerSource){var s=r.type.split("."),u=Ar(r.data);this.parent.getWorkerSource(r.sourceMapId,s[0],u.source)[s[1]](u,i)}else this.parent[r.type](Ar(r.data))}},hu.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var mu=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};mu.prototype.setNorthEast=function(e){return this._ne=e instanceof vu?new vu(e.lng,e.lat):vu.convert(e),this},mu.prototype.setSouthWest=function(e){return this._sw=e instanceof vu?new vu(e.lng,e.lat):vu.convert(e),this},mu.prototype.extend=function(e){var t,n,r=this._sw,a=this._ne;if(e instanceof vu)t=e,n=e;else{if(!(e instanceof mu))return Array.isArray(e)?e.every(Array.isArray)?this.extend(mu.convert(e)):this.extend(vu.convert(e)):this;if(t=e._sw,n=e._ne,!t||!n)return this}return r||a?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new vu(t.lng,t.lat),this._ne=new vu(n.lng,n.lat)),this},mu.prototype.getCenter=function(){return new vu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},mu.prototype.getSouthWest=function(){return this._sw},mu.prototype.getNorthEast=function(){return this._ne},mu.prototype.getNorthWest=function(){return new vu(this.getWest(),this.getNorth())},mu.prototype.getSouthEast=function(){return new vu(this.getEast(),this.getSouth())},mu.prototype.getWest=function(){return this._sw.lng},mu.prototype.getSouth=function(){return this._sw.lat},mu.prototype.getEast=function(){return this._ne.lng},mu.prototype.getNorth=function(){return this._ne.lat},mu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},mu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},mu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},mu.convert=function(e){return!e||e instanceof mu?e:new mu(e)};var vu=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};function gu(e){return 2*Math.PI*6378137*Math.cos(e*Math.PI/180)}function Au(e){return(180+e)/360}function yu(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function bu(e,t){return e/gu(t)}function xu(e){var t=180-360*e;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}vu.prototype.wrap=function(){return new vu(l(this.lng,-180,180),this.lat)},vu.prototype.toArray=function(){return[this.lng,this.lat]},vu.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},vu.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new mu(new vu(this.lng-n,this.lat-t),new vu(this.lng+n,this.lat+t))},vu.convert=function(e){if(e instanceof vu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new vu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new vu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var wu=function(e,t,n){void 0===n&&(n=0),this.x=+e,this.y=+t,this.z=+n};wu.fromLngLat=function(e,t){void 0===t&&(t=0);var n=vu.convert(e);return new wu(Au(n.lng),yu(n.lat),bu(t,n.lat))},wu.prototype.toLngLat=function(){return new vu(360*this.x-180,xu(this.y))},wu.prototype.toAltitude=function(){return this.z*gu(xu(this.y))};var _u=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Eu(0,e,t,n)};_u.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},_u.prototype.url=function(e,t){var n,r,a,i,o,s=(n=this.x,r=this.y,a=this.z,i=fu(256*n,256*(r=Math.pow(2,a)-r-1),a),o=fu(256*(n+1),256*(r+1),a),i[0]+","+i[1]+","+o[0]+","+o[1]),u=function(e,t,n){for(var r,a="",i=e;i>0;i--)a+=(t&(r=1<<i-1)?1:0)+(n&r?2:0);return a}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},_u.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new a((e.x*t-this.x)*ri,(e.y*t-this.y)*ri)};var ku=function(e,t){this.wrap=e,this.canonical=t,this.key=Eu(e,t.z,t.x,t.y)},Ou=function(e,t,n,r,a){this.overscaledZ=e,this.wrap=t,this.canonical=new _u(n,+r,+a),this.key=Eu(t,e,r,a)};function Eu(e,t,n,r){(e*=2)<0&&(e=-1*e-1);var a=1<<t;return 32*(a*a*e+a*r+n)+t}Ou.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Ou.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Ou(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ou(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Ou.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Ou.prototype.children=function(e){if(this.overscaledZ>=e)return[new Ou(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Ou(t,this.wrap,t,n,r),new Ou(t,this.wrap,t,n+1,r),new Ou(t,this.wrap,t,n,r+1),new Ou(t,this.wrap,t,n+1,r+1)]},Ou.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Ou.prototype.wrapped=function(){return new Ou(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ou.prototype.unwrapTo=function(e){return new Ou(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Ou.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ou.prototype.toUnwrapped=function(){return new ku(this.wrap,this.canonical)},Ou.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ou.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new wu(e.x-this.wrap,e.y))},mr("CanonicalTileID",_u),mr("OverscaledTileID",Ou,{omit:["posMatrix"]});var Su=function(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return w('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var r=this.dim=t.height;this.stride=this.dim+2,this.data=new Int32Array(this.stride*this.stride);for(var a=t.data,i="terrarium"===n?this._unpackTerrarium:this._unpackMapbox,o=0;o<r;o++)for(var s=0;s<r;s++){var u=4*(o*r+s);this.set(s,o,i(a[u],a[u+1],a[u+2]))}for(var c=0;c<r;c++)this.set(-1,c,this.get(0,c)),this.set(r,c,this.get(r-1,c)),this.set(c,-1,this.get(c,0)),this.set(c,r,this.get(c,r-1));this.set(-1,-1,this.get(0,0)),this.set(r,-1,this.get(r-1,0)),this.set(-1,r,this.get(0,r-1)),this.set(r,r,this.get(r-1,r-1))};Su.prototype.set=function(e,t,n){this.data[this._idx(e,t)]=n+65536},Su.prototype.get=function(e,t){return this.data[this._idx(e,t)]-65536},Su.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Su.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},Su.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},Su.prototype.getPixels=function(){return new Pi({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Su.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,a=t*this.dim+this.dim,i=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=a-1;break;case 1:a=r+1}switch(n){case-1:i=o-1;break;case 1:o=i+1}for(var s=-t*this.dim,u=-n*this.dim,c=i;c<o;c++)for(var l=r;l<a;l++)this.set(l,c,e.get(l+s,c+u))},mr("DEMData",Su);var Cu=Zr([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Tu=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};Tu.prototype.encode=function(e){return this._stringToNumber[e]},Tu.prototype.decode=function(e){return this._numberToString[e]};var Iu=function(e,t,n,r){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,null!=e.id&&(this.id=e.id)},ju={geometry:{configurable:!0}};ju.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},ju.geometry.set=function(e){this._geometry=e},Iu.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Iu.prototype,ju);var Mu=function(){this.state={},this.stateChanges={},this.deletedStates={}};Mu.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},d(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var a in this.deletedStates[e]={},this.state[e])a!==r&&(this.deletedStates[e][a]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var i in this.deletedStates[e][r]={},this.state[e][r])n[i]||(this.deletedStates[e][r][i]=null);else for(var o in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][o]&&delete this.deletedStates[e][r][o]},Mu.prototype.removeFeatureState=function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},Mu.prototype.getState=function(e,t){var n=String(t),r=this.state[e]||{},a=this.stateChanges[e]||{},i=d({},r[n],a[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var o=this.deletedStates[e][t];if(null===o)return{};for(var s in o)delete i[s]}return i},Mu.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},Mu.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var a={};for(var i in this.stateChanges[r])this.state[r][i]||(this.state[r][i]={}),d(this.state[r][i],this.stateChanges[r][i]),a[i]=this.state[r][i];n[r]=a}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var u in this.state[o])s[u]={},this.state[o][u]={};else for(var c in this.deletedStates[o]){if(null===this.deletedStates[o][c])this.state[o][c]={};else for(var l=0,p=Object.keys(this.deletedStates[o][c]);l<p.length;l+=1){var h=p[l];delete this.state[o][c][h]}s[c]=this.state[o][c]}n[o]=n[o]||{},d(n[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var f in e)e[f].setFeatureState(n,t)};var Nu=function(e,t,n){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=t||new lr(ri,16,0),this.grid3D=new lr(ri,16,0),this.featureIndexArray=n||new Ma};function Du(e){for(var t=1/0,n=1/0,r=-1/0,a=-1/0,i=0,o=e;i<o.length;i+=1){var s=o[i];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),a=Math.max(a,s.y)}return{minX:t,minY:n,maxX:r,maxY:a}}function Ru(e,t){return t-e}Nu.prototype.insert=function(e,t,n,r,a,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,a);for(var s=i?this.grid3D:this.grid,u=0;u<t.length;u++){for(var c=t[u],l=[1/0,1/0,-1/0,-1/0],d=0;d<c.length;d++){var p=c[d];l[0]=Math.min(l[0],p.x),l[1]=Math.min(l[1],p.y),l[2]=Math.max(l[2],p.x),l[3]=Math.max(l[3],p.y)}l[0]<ri&&l[1]<ri&&l[2]>=0&&l[3]>=0&&s.insert(o,l[0],l[1],l[2],l[3])}},Nu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Do.VectorTile(new Hs(this.rawTileData)).layers,this.sourceLayerCoder=new Tu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Nu.prototype.query=function(e,t,n){var r=this;this.loadVTLayers();for(var i=e.params||{},o=ri/e.tileSize/e.scale,s=Fn(i.filter),u=e.queryGeometry,c=e.queryPadding*o,l=Du(u),d=this.grid.query(l.minX-c,l.minY-c,l.maxX+c,l.maxY+c),p=Du(e.cameraQueryGeometry),h=0,f=this.grid3D.query(p.minX-c,p.minY-c,p.maxX+c,p.maxY+c,function(t,n,r,i){return function(e,t,n,r,i){for(var o=0,s=e;o<s.length;o+=1){var u=s[o];if(t<=u.x&&n<=u.y&&r>=u.x&&i>=u.y)return!0}var c=[new a(t,n),new a(t,i),new a(r,i),new a(r,n)];if(e.length>2)for(var l=0,d=c;l<d.length;l+=1)if(gi(e,d[l]))return!0;for(var p=0;p<e.length-1;p++)if(Ai(e[p],e[p+1],c))return!0;return!1}(e.cameraQueryGeometry,t-c,n-c,r+c,i+c)});h<f.length;h+=1){var m=f[h];d.push(m)}d.sort(Ru);for(var v,g={},A=function(a){var c=d[a];if(c!==v){v=c;var l=r.featureIndexArray.get(c),p=null;r.loadMatchingFeature(g,l.bucketIndex,l.sourceLayerIndex,l.featureIndex,s,i.layers,t,function(t,a){p||(p=ii(t));var i={};return t.id&&(i=n.getState(a.sourceLayer||"_geojsonTileLayer",t.id)),a.queryIntersectsFeature(u,t,i,p,r.z,e.transform,o,e.pixelPosMatrix)})}},y=0;y<d.length;y++)A(y);return g},Nu.prototype.loadMatchingFeature=function(e,t,n,r,a,i,o,s){var u=this.bucketLayerIDs[t];if(!i||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(i,u)){var c=this.sourceLayerCoder.decode(n),l=this.vtLayers[c].feature(r);if(a(new Nr(this.tileID.overscaledZ),l))for(var d=0;d<u.length;d++){var p=u[d];if(!(i&&i.indexOf(p)<0)){var h=o[p];if(h){var f=!s||s(l,h);if(f){var m=new Iu(l,this.z,this.x,this.y);m.layer=h.serialize();var v=e[p];void 0===v&&(v=e[p]=[]),v.push({featureIndex:r,feature:m,intersectionZ:f})}}}}}},Nu.prototype.lookupSymbolFeatures=function(e,t,n,r,a,i){var o={};this.loadVTLayers();for(var s=Fn(r),u=0,c=e;u<c.length;u+=1){var l=c[u];this.loadMatchingFeature(o,t,n,l,s,a,i)}return o},Nu.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,a=n[t];r<a.length;r+=1)if(e===a[r])return!0;return!1},mr("FeatureIndex",Nu,{omit:["rawTileData","sourceLayerCoder"]});var Pu=function(e,t){this.tileID=e,this.uid=h(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};Pu.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<M.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},Pu.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Pu.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var r=function(){var e=i[a],r=e.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==r.length){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map(function(e){return r.filter(function(t){return t.id===e})[0]}));for(var o=0,s=r;o<s.length;o+=1){var u=s[o];n[u.id]=e}}},a=0,i=e;a<i.length;a+=1)r();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var a=this.buckets[r];if(a instanceof ks){if(this.hasSymbolBuckets=!0,!n)break;a.justReloaded=!0}}for(var i in this.queryPadding=0,this.buckets){var o=this.buckets[i];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(i).queryRadius(o))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new wa},Pu.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Pu.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},Pu.prototype.getBucket=function(e){return this.buckets[e.id]},Pu.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Vs(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Vs(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},Pu.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},Pu.prototype.queryRenderedFeatures=function(e,t,n,r,a,i,o,s,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:r,scale:a,tileSize:this.tileSize,pixelPosMatrix:u,transform:o,params:i,queryPadding:this.queryPadding*s},e,t):{}},Pu.prototype.querySourceFeatures=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),r=t?t.sourceLayer:"",a=n._geojsonTileLayer||n[r];if(a)for(var i=Fn(t&&t.filter),o=this.tileID.canonical,s=o.z,u=o.x,c=o.y,l={z:s,x:u,y:c},d=0;d<a.length;d++){var p=a.feature(d);if(i(new Nr(this.tileID.overscaledZ),p)){var h=new Iu(p,s,u,c);h.tile=l,e.push(h)}}}},Pu.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},Pu.prototype.setMask=function(e,t){if(!o(this.mask,e)&&(this.mask=e,this.clearMask(),!o(e,{0:!0}))){var n=new ta,r=new va;this.segments=new Da,this.segments.prepareSegment(0,n,r);for(var i=Object.keys(e),s=0;s<i.length;s++){var u=e[i[s]],c=ri>>u.z,l=new a(u.x*c,u.y*c),d=new a(l.x+c,l.y+c),p=this.segments.prepareSegment(4,n,r);n.emplaceBack(l.x,l.y,l.x,l.y),n.emplaceBack(d.x,l.y,d.x,l.y),n.emplaceBack(l.x,d.y,l.x,d.y),n.emplaceBack(d.x,d.y,d.x,d.y);var h=p.vertexLength;r.emplaceBack(h,h+1,h+2),r.emplaceBack(h+1,h+2,h+3),p.vertexLength+=4,p.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(n,Cu.members),this.maskedIndexBuffer=t.createIndexBuffer(r)}},Pu.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Pu.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Pu.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=function(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(e,n,r,a){var i=r||a;return t[n]=!i||i.toLowerCase(),""}),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),a=!1;if(this.expirationTime>r)a=!1;else if(t)if(this.expirationTime<t)a=!0;else{var i=this.expirationTime-t;i?this.expirationTime=r+Math.max(i,3e4):a=!0}else a=!0;a?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Pu.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Pu.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets){var a=this.buckets[r],i=a.layers[0].sourceLayer||"_geojsonTileLayer",o=n[i],s=e[i];o&&s&&0!==Object.keys(s).length&&(a.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{}),t&&t.style&&(this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(r).queryRadius(a))))}}},Pu.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Pu.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<M.now()},Pu.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Pu.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=M.now()+e};var Lu=24,Fu={horizontal:1,vertical:2,horizontalOnly:3},Bu=function(){this.text="",this.sectionIndex=[],this.sections=[]};function zu(e,t,n,r,a,i,o,s,u,c){var l,d=Bu.fromFeature(e,n);c===Fu.vertical&&d.verticalizePunctuation();var p=Mr.processBidirectionalText,h=Mr.processStyledBidirectionalText;if(p&&1===d.sections.length){l=[];for(var f=0,m=p(d.toString(),qu(d,s,r,t));f<m.length;f+=1){var v=m[f],g=new Bu;g.text=v,g.sections=d.sections;for(var A=0;A<v.length;A++)g.sectionIndex.push(0);l.push(g)}}else if(h){l=[];for(var y=0,b=h(d.text,d.sectionIndex,qu(d,s,r,t));y<b.length;y+=1){var x=b[y],w=new Bu;w.text=x[0],w.sectionIndex=x[1],w.sections=d.sections,l.push(w)}}else l=function(e,t){for(var n=[],r=e.text,a=0,i=0,o=t;i<o.length;i+=1){var s=o[i];n.push(e.substring(a,s)),a=s}return a<r.length&&n.push(e.substring(a,r.length)),n}(d,qu(d,s,r,t));var _=[],k={positionedGlyphs:_,text:d.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:c,lineCount:l.length};return function(e,t,n,r,a,i,o,s){for(var u=0,c=-17,l=0,d=e.positionedGlyphs,p="right"===i?1:"left"===i?0:.5,h=0,f=n;h<f.length;h+=1){var m=f[h];m.trim();var v=m.getMaxScale();if(m.length()){for(var g=d.length,A=0;A<m.length();A++){var y=m.getSection(A),b=m.getCharCode(A),x=24*(v-y.scale),w=t[y.fontStack],_=w&&w[b];_&&(kr(b)&&o!==Fu.horizontal?(d.push({glyph:b,x:u,y:x,vertical:!0,scale:y.scale,fontStack:y.fontStack}),u+=Lu*y.scale+s):(d.push({glyph:b,x:u,y:c+x,vertical:!1,scale:y.scale,fontStack:y.fontStack}),u+=_.metrics.advance*y.scale+s))}if(d.length!==g){var k=u-s;l=Math.max(k,l),Xu(d,t,g,d.length-1,p)}u=0,c+=r*v}else c+=r}var O=Ku(a),E=O.horizontalAlign,S=O.verticalAlign;!function(e,t,n,r,a,i,o){for(var s=(t-n)*a,u=(-r*o+.5)*i,c=0;c<e.length;c++)e[c].x+=s,e[c].y+=u}(d,p,E,S,l,r,n.length);var C=c- -17;e.top+=-S*C,e.bottom=e.top+C,e.left+=-E*l,e.right=e.left+l}(k,t,l,a,i,o,c,s),!!_.length&&k}Bu.fromFeature=function(e,t){for(var n=new Bu,r=0;r<e.sections.length;r++){var a=e.sections[r];n.sections.push({scale:a.scale||1,fontStack:a.fontStack||t}),n.text+=a.text;for(var i=0;i<a.text.length;i++)n.sectionIndex.push(r)}return n},Bu.prototype.length=function(){return this.text.length},Bu.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Bu.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Bu.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,a=e.charCodeAt(n-1)||null;r&&Or(r)&&!ds[e[n+1]]||a&&Or(a)&&!ds[e[n-1]]||!ds[e[n]]?t+=e[n]:t+=ds[e[n]]}return t}(this.text)},Bu.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Uu[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&Uu[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},Bu.prototype.substring=function(e,t){var n=new Bu;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},Bu.prototype.toString=function(){return this.text},Bu.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce(function(t,n){return Math.max(t,e.sections[n].scale)},0)};var Uu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Vu={};function Wu(e,t,n,r){var a=Math.pow(e-t,2);return r?e<t?a/2:2*a:a+Math.abs(n)*n}function Gu(e,t){var n=0;return 10===e&&(n-=1e4),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function Hu(e,t,n,r,a,i){for(var o=null,s=Wu(t,n,a,i),u=0,c=r;u<c.length;u+=1){var l=c[u],d=Wu(t-l.x,n,a,i)+l.badness;d<=s&&(o=l,s=d)}return{index:e,x:t,priorBreak:o,badness:s}}function qu(e,t,n,r){if(!n)return[];if(!e)return[];for(var a,i=[],o=function(e,t,n,r){for(var a=0,i=0;i<e.length();i++){var o=e.getSection(i),s=r[o.fontStack],u=s&&s[e.getCharCode(i)];u&&(a+=u.metrics.advance*o.scale+t)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,r),s=0,u=0;u<e.length();u++){var c=e.getSection(u),l=e.getCharCode(u),d=r[c.fontStack],p=d&&d[l];p&&!Uu[l]&&(s+=p.metrics.advance*c.scale+t),u<e.length()-1&&(Vu[l]||!((a=l)<11904)&&(br["Bopomofo Extended"](a)||br.Bopomofo(a)||br["CJK Compatibility Forms"](a)||br["CJK Compatibility Ideographs"](a)||br["CJK Compatibility"](a)||br["CJK Radicals Supplement"](a)||br["CJK Strokes"](a)||br["CJK Symbols and Punctuation"](a)||br["CJK Unified Ideographs Extension A"](a)||br["CJK Unified Ideographs"](a)||br["Enclosed CJK Letters and Months"](a)||br["Halfwidth and Fullwidth Forms"](a)||br.Hiragana(a)||br["Ideographic Description Characters"](a)||br["Kangxi Radicals"](a)||br["Katakana Phonetic Extensions"](a)||br.Katakana(a)||br["Vertical Forms"](a)||br["Yi Radicals"](a)||br["Yi Syllables"](a)))&&i.push(Hu(u+1,s,o,i,Gu(l,e.getCharCode(u+1)),!1))}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Hu(e.length(),s,o,i,0,!0))}function Ku(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Xu(e,t,n,r,a){if(a){var i=e[r],o=t[i.fontStack],s=o&&o[i.glyph];if(s)for(var u=s.metrics.advance*i.scale,c=(e[r].x+u)*a,l=n;l<=r;l++)e[l].x-=c}}function Qu(e,t,n){var r=Ku(n),a=r.horizontalAlign,i=r.verticalAlign,o=t[0],s=t[1],u=o-e.displaySize[0]*a,c=u+e.displaySize[0],l=s-e.displaySize[1]*i;return{image:e,top:l,bottom:l+e.displaySize[1],left:u,right:c}}function Yu(e,t,n,r,a){if(void 0===t.segment)return!0;for(var i=t,o=t.segment+1,s=0;s>-n/2;){if(--o<0)return!1;s-=e[o].dist(i),i=e[o]}s+=e[o].dist(e[o+1]),o++;for(var u=[],c=0;s<n/2;){var l=e[o-1],d=e[o],p=e[o+1];if(!p)return!1;var h=l.angleTo(d)-d.angleTo(p);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:h}),c+=h;s-u[0].distance>r;)c-=u.shift().angleDelta;if(c>a)return!1;o++,s+=d.dist(p)}return!0}function $u(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Zu(e,t,n){return e?.6*t*n:0}function Ju(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function ec(e,t,n,r,a,i){for(var o=Zu(n,a,i),s=Ju(n,r)*i,u=0,c=$u(e)/2,l=0;l<e.length-1;l++){var d=e[l],p=e[l+1],h=d.dist(p);if(u+h>c){var f=(c-u)/h,m=gt(d.x,p.x,f),v=gt(d.y,p.y,f),g=new ps(m,v,p.angleTo(d),l);return g._round(),!o||Yu(e,g,s,o,t)?g:void 0}u+=h}}function tc(e,t,n,r,a,i,o,s,u){var c=Zu(r,i,o),l=Ju(r,a),d=l*o,p=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;return t-d<t/4&&(t=d+t/4),function e(t,n,r,a,i,o,s,u,c){for(var l=o/2,d=$u(t),p=0,h=n-r,f=[],m=0;m<t.length-1;m++){for(var v=t[m],g=t[m+1],A=v.dist(g),y=g.angleTo(v);h+r<p+A;){var b=((h+=r)-p)/A,x=gt(v.x,g.x,b),w=gt(v.y,g.y,b);if(x>=0&&x<c&&w>=0&&w<c&&h-l>=0&&h+l<=d){var _=new ps(x,w,y,m);_._round(),a&&!Yu(t,_,o,a,i)||f.push(_)}}p+=A}return u||f.length||s||(f=e(t,p/2,r,a,i,o,s,!0,c)),f}(e,p?t/2*s%t:(l/2+2*i)*o*s%t,t,c,n,d,p,!1,u)}Vu[10]=!0,Vu[32]=!0,Vu[38]=!0,Vu[40]=!0,Vu[41]=!0,Vu[43]=!0,Vu[45]=!0,Vu[47]=!0,Vu[173]=!0,Vu[183]=!0,Vu[8203]=!0,Vu[8208]=!0,Vu[8211]=!0,Vu[8231]=!0;var nc=function(e,t,n,r,i,o,s,u,c,l,d,p){var h=s.top*u-c,f=s.bottom*u+c,m=s.left*u-c,v=s.right*u+c;if(this.boxStartIndex=e.length,l){var g=f-h,A=v-m;g>0&&(g=Math.max(10*u,g),this._addLineCollisionCircles(e,t,n,n.segment,A,g,r,i,o,d))}else{if(p){var y=new a(m,h),b=new a(v,h),x=new a(m,f),w=new a(v,f),_=p*Math.PI/180;y._rotate(_),b._rotate(_),x._rotate(_),w._rotate(_),m=Math.min(y.x,b.x,x.x,w.x),v=Math.max(y.x,b.x,x.x,w.x),h=Math.min(y.y,b.y,x.y,w.y),f=Math.max(y.y,b.y,x.y,w.y)}e.emplaceBack(n.x,n.y,m,h,v,f,r,i,o,0,0)}this.boxEndIndex=e.length};nc.prototype._addLineCollisionCircles=function(e,t,n,r,a,i,o,s,u,c){var l=i/2,d=Math.floor(a/l)||1,p=1+.4*Math.log(c)/Math.LN2,h=Math.floor(d*p/2),f=-i/2,m=n,v=r+1,g=f,A=-a/2,y=A-a/4;do{if(--v<0){if(g>A)return;v=0;break}g-=t[v].dist(m),m=t[v]}while(g>y);for(var b=t[v].dist(t[v+1]),x=-h;x<d+h;x++){var w=x*l,_=A+w;if(w<0&&(_+=w),w>a&&(_+=w-a),!(_<g)){for(;g+b<_;){if(g+=b,++v+1>=t.length)return;b=t[v].dist(t[v+1])}var k=_-g,O=t[v],E=t[v+1].sub(O)._unit()._mult(k)._add(O)._round(),S=Math.abs(_-f)<l?0:.8*(_-f);e.emplaceBack(E.x,E.y,-i/2,-i/2,i/2,i/2,o,s,u,i/2,S)}}};var rc=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=ac),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function ac(e,t){return e<t?-1:e>t?1:0}function ic(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var r=1/0,i=1/0,o=-1/0,s=-1/0,u=e[0],c=0;c<u.length;c++){var l=u[c];(!c||l.x<r)&&(r=l.x),(!c||l.y<i)&&(i=l.y),(!c||l.x>o)&&(o=l.x),(!c||l.y>s)&&(s=l.y)}var d=o-r,p=s-i,h=Math.min(d,p),f=h/2,m=new rc([],oc);if(0===h)return new a(r,i);for(var v=r;v<o;v+=h)for(var g=i;g<s;g+=h)m.push(new sc(v+f,g+f,f,e));for(var A=function(e){for(var t=0,n=0,r=0,a=e[0],i=0,o=a.length,s=o-1;i<o;s=i++){var u=a[i],c=a[s],l=u.x*c.y-c.x*u.y;n+=(u.x+c.x)*l,r+=(u.y+c.y)*l,t+=3*l}return new sc(n/t,r/t,0,e)}(e),y=m.length;m.length;){var b=m.pop();(b.d>A.d||!A.d)&&(A=b,n&&console.log("found best %d after %d probes",Math.round(1e4*b.d)/1e4,y)),b.max-A.d<=t||(f=b.h/2,m.push(new sc(b.p.x-f,b.p.y-f,f,e)),m.push(new sc(b.p.x+f,b.p.y-f,f,e)),m.push(new sc(b.p.x-f,b.p.y+f,f,e)),m.push(new sc(b.p.x+f,b.p.y+f,f,e)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+A.d)),A.p}function oc(e,t){return t.max-e.max}function sc(e,t,n,r){this.p=new a(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,a=0;a<t.length;a++)for(var i=t[a],o=0,s=i.length,u=s-1;o<s;u=o++){var c=i[o],l=i[u];c.y>e.y!=l.y>e.y&&e.x<(l.x-c.x)*(e.y-c.y)/(l.y-c.y)+c.x&&(n=!n),r=Math.min(r,mi(e,c,l))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}rc.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},rc.prototype.pop=function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},rc.prototype.peek=function(){return this.data[0]},rc.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var a=e-1>>1,i=t[a];if(n(r,i)>=0)break;t[e]=i,e=a}t[e]=r},rc.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,a=t[e];e<r;){var i=1+(e<<1),o=t[i],s=i+1;if(s<this.length&&n(t[s],o)<0&&(i=s,o=t[s]),n(o,a)>=0)break;t[e]=o,e=i}t[e]=a};var uc=t(function(e){e.exports=function(e,t){var n,r,a,i,o,s,u,c;for(n=3&e.length,r=e.length-n,a=t,o=3432918353,s=461845907,c=0;c<r;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,a=27492+(65535&(i=5*(65535&(a=(a^=u=(65535&(u=(u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:a^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0}}),cc=t(function(e){e.exports=function(e,t){for(var n,r=e.length,a=t^r,i=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(n>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++i;switch(r){case 3:a^=(255&e.charCodeAt(i+2))<<16;case 2:a^=(255&e.charCodeAt(i+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(i)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),(a^=a>>>15)>>>0}}),lc=uc,dc=uc,pc=cc;lc.murmur3=dc,lc.murmur2=pc;var hc=7;function fc(e,t){var n=0,r=0,a=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=a-hc;break;case"bottom-right":case"bottom-left":r=-a+hc;break;case"bottom":r=-t+hc;break;case"top":r=t-hc}switch(e){case"top-right":case"bottom-right":n=-a;break;case"top-left":case"bottom-left":n=a;break;case"left":n=t;break;case"right":n=-t}return[n,r]}function mc(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function vc(e,t,n,r,i,o,s){var u=o.layoutTextSize.evaluate(t,{}),c=o.layoutIconSize.evaluate(t,{}),l=o.textMaxSize.evaluate(t,{});void 0===l&&(l=u);var d=e.layers[0].layout,p=d.get("icon-offset").evaluate(t,{}),h=yc(n.horizontal),f=u/24,m=e.tilePixelRatio*f,v=e.tilePixelRatio*l/24,g=e.tilePixelRatio*c,A=e.tilePixelRatio*d.get("symbol-spacing"),y=d.get("text-padding")*e.tilePixelRatio,b=d.get("icon-padding")*e.tilePixelRatio,x=d.get("text-max-angle")/180*Math.PI,_="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),k="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),O=d.get("symbol-placement"),E=A/2,S=function(u,c){c.x<0||c.x>=ri||c.y<0||c.y>=ri||function(e,t,n,r,i,o,s,u,c,l,d,p,h,f,m,v,g,A,y,b,x){var _,k,O=e.addToLineVertexArray(t,n),E=0,S=0,C=0,T={},I=lc(""),j=(o.layout.get("text-radial-offset").evaluate(y,{})||0)*Lu;for(var M in r.horizontal){var N=r.horizontal[M];if(!_){I=lc(N.text);var D=o.layout.get("text-rotate").evaluate(y,{});_=new nc(s,n,t,u,c,l,N,d,p,h,e.overscaling,D)}var R=1===N.lineCount;if(S+=Ac(e,t,N,o,h,y,f,O,r.vertical?Fu.horizontal:Fu.horizontalOnly,R?Object.keys(r.horizontal):[M],T,b,x),R)break}r.vertical&&(C+=Ac(e,t,r.vertical,o,h,y,f,O,Fu.vertical,["vertical"],T,b,x));var P=_?_.boxStartIndex:e.collisionBoxArray.length,L=_?_.boxEndIndex:e.collisionBoxArray.length;if(i){var F=function(e,t,n,r,i,o){var s,u,c,l,d=t.image,p=n.layout,h=t.top-1/d.pixelRatio,f=t.left-1/d.pixelRatio,m=t.bottom+1/d.pixelRatio,v=t.right+1/d.pixelRatio;if("none"!==p.get("icon-text-fit")&&i){var g=v-f,A=m-h,y=p.get("text-size").evaluate(o,{})/24,b=i.left*y,x=i.right*y,w=i.top*y,_=x-b,k=i.bottom*y-w,O=p.get("icon-text-fit-padding")[0],E=p.get("icon-text-fit-padding")[1],S=p.get("icon-text-fit-padding")[2],C=p.get("icon-text-fit-padding")[3],T="width"===p.get("icon-text-fit")?.5*(k-A):0,I="height"===p.get("icon-text-fit")?.5*(_-g):0,j="width"===p.get("icon-text-fit")||"both"===p.get("icon-text-fit")?_:g,M="height"===p.get("icon-text-fit")||"both"===p.get("icon-text-fit")?k:A;s=new a(b+I-C,w+T-O),u=new a(b+I+E+j,w+T-O),c=new a(b+I+E+j,w+T+S+M),l=new a(b+I-C,w+T+S+M)}else s=new a(f,h),u=new a(v,h),c=new a(v,m),l=new a(f,m);var N=n.layout.get("icon-rotate").evaluate(o,{})*Math.PI/180;if(N){var D=Math.sin(N),R=Math.cos(N),P=[R,-D,D,R];s._matMult(P),u._matMult(P),l._matMult(P),c._matMult(P)}return[{tl:s,tr:u,bl:l,br:c,tex:d.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,i,o,0,yc(r.horizontal),y),B=o.layout.get("icon-rotate").evaluate(y,{});k=new nc(s,n,t,u,c,l,i,m,v,!1,e.overscaling,B),E=4*F.length;var z=e.iconSizeData,U=null;"source"===z.functionType?(U=[hs*o.layout.get("icon-size").evaluate(y,{})])[0]>gc&&w(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===z.functionType&&((U=[hs*x.compositeIconSizes[0].evaluate(y,{}),hs*x.compositeIconSizes[1].evaluate(y,{})])[0]>gc||U[1]>gc)&&w(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),e.addSymbols(e.icon,F,U,A,g,y,!1,t,O.lineStartIndex,O.lineLength)}var V=k?k.boxStartIndex:e.collisionBoxArray.length,W=k?k.boxEndIndex:e.collisionBoxArray.length;e.glyphOffsetArray.length>=ks.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),e.symbolInstances.emplaceBack(t.x,t.y,T.right>=0?T.right:-1,T.center>=0?T.center:-1,T.left>=0?T.left:-1,T.vertical||-1,I,P,L,V,W,u,S,C,E,0,d,j)}(e,c,u,n,r,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,m,y,_,s,g,b,k,p,t,i,o)};if("line"===O)for(var C=0,T=function(e,t,n,r,i){for(var o=[],s=0;s<e.length;s++)for(var u=e[s],c=void 0,l=0;l<u.length-1;l++){var d=u[l],p=u[l+1];d.x<0&&p.x<0||(d.x<0?d=new a(0,d.y+(p.y-d.y)*((0-d.x)/(p.x-d.x)))._round():p.x<0&&(p=new a(0,d.y+(p.y-d.y)*((0-d.x)/(p.x-d.x)))._round()),d.y<0&&p.y<0||(d.y<0?d=new a(d.x+(p.x-d.x)*((0-d.y)/(p.y-d.y)),0)._round():p.y<0&&(p=new a(d.x+(p.x-d.x)*((0-d.y)/(p.y-d.y)),0)._round()),d.x>=r&&p.x>=r||(d.x>=r?d=new a(r,d.y+(p.y-d.y)*((r-d.x)/(p.x-d.x)))._round():p.x>=r&&(p=new a(r,d.y+(p.y-d.y)*((r-d.x)/(p.x-d.x)))._round()),d.y>=i&&p.y>=i||(d.y>=i?d=new a(d.x+(p.x-d.x)*((i-d.y)/(p.y-d.y)),i)._round():p.y>=i&&(p=new a(d.x+(p.x-d.x)*((i-d.y)/(p.y-d.y)),i)._round()),c&&d.equals(c[c.length-1])||(c=[d],o.push(c)),c.push(p)))))}return o}(t.geometry,0,0,ri,ri);C<T.length;C+=1)for(var I=T[C],j=0,M=tc(I,A,x,n.vertical||h,r,24,v,e.overscaling,ri);j<M.length;j+=1){var N=M[j];h&&bc(e,h.text,E,N)||S(I,N)}else if("line-center"===O)for(var D=0,R=t.geometry;D<R.length;D+=1){var P=R[D];if(P.length>1){var L=ec(P,x,n.vertical||h,r,24,v);L&&S(P,L)}}else if("Polygon"===t.type)for(var F=0,B=Ao(t.geometry,0);F<B.length;F+=1){var z=B[F],U=ic(z,16);S(z[0],new ps(U.x,U.y,0))}else if("LineString"===t.type)for(var V=0,W=t.geometry;V<W.length;V+=1){var G=W[V];S(G,new ps(G[0].x,G[0].y,0))}else if("Point"===t.type)for(var H=0,q=t.geometry;H<q.length;H+=1)for(var K=0,X=q[H];K<X.length;K+=1){var Q=X[K];S([Q],new ps(Q.x,Q.y,0))}}var gc=65535;function Ac(e,t,n,r,i,o,s,u,c,l,d,p,h){var f=function(e,t,n,r,i,o,s){for(var u=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,c=t.positionedGlyphs,l=[],d=0;d<c.length;d++){var p=c[d],h=s[p.fontStack],f=h&&h[p.glyph];if(f){var m=f.rect;if(m){var v=pu+1,g=f.metrics.advance*p.scale/2,A=i?[p.x+g,p.y]:[0,0],y=i?[0,0]:[p.x+g+n[0],p.y+n[1]],b=(f.metrics.left-v)*p.scale-g+y[0],x=(-f.metrics.top-v)*p.scale+y[1],w=b+m.w*p.scale,_=x+m.h*p.scale,k=new a(b,x),O=new a(w,x),E=new a(b,_),S=new a(w,_);if(i&&p.vertical){var C=new a(-g,g),T=-Math.PI/2,I=new a(5,0);k._rotateAround(T,C)._add(I),O._rotateAround(T,C)._add(I),E._rotateAround(T,C)._add(I),S._rotateAround(T,C)._add(I)}if(u){var j=Math.sin(u),M=Math.cos(u),N=[M,-j,j,M];k._matMult(N),O._matMult(N),E._matMult(N),S._matMult(N)}l.push({tl:k,tr:O,bl:E,br:S,tex:m,writingMode:t.writingMode,glyphOffset:A})}}}return l}(0,n,s,r,i,o,p),m=e.textSizeData,v=null;"source"===m.functionType?(v=[hs*r.layout.get("text-size").evaluate(o,{})])[0]>gc&&w(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===m.functionType&&((v=[hs*h.compositeTextSizes[0].evaluate(o,{}),hs*h.compositeTextSizes[1].evaluate(o,{})])[0]>gc||v[1]>gc)&&w(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),e.addSymbols(e.text,f,v,s,i,o,c,t,u.lineStartIndex,u.lineLength);for(var g=0,A=l;g<A.length;g+=1)d[A[g]]=e.text.placedSymbolArray.length-1;return 4*f.length}function yc(e){for(var t in e)return e[t];return null}function bc(e,t,n,r){var a=e.compareText;if(t in a){for(var i=a[t],o=i.length-1;o>=0;o--)if(r.dist(i[o])<n)return!0}else a[t]=[];return a[t].push(r),!1}e.Actor=hu,e.AlphaImage=Ri,e.CanonicalTileID=_u,e.CollisionBoxArray=wa,e.Color=qe,e.DEMData=Su,e.DataConstantProperty=Vr,e.DictionaryCoder=Tu,e.EXTENT=ri,e.ErrorEvent=we,e.EvaluationParameters=Nr,e.Event=xe,e.Evented=_e,e.FeatureIndex=Nu,e.FillBucket=wo,e.FillExtrusionBucket=Fo,e.ImageAtlas=Ls,e.ImagePosition=Rs,e.LineBucket=Zo,e.LngLat=vu,e.LngLatBounds=mu,e.MercatorCoordinate=wu,e.ONE_EM=Lu,e.OverscaledTileID=Ou,e.Point=a,e.Point$1=a,e.ProgramConfiguration=Ja,e.Properties=Kr,e.Protobuf=Hs,e.RGBAImage=Pi,e.RequestManager=B,e.ResourceType=le,e.SegmentVector=Da,e.SourceFeatureState=Mu,e.StructArrayLayout1ui2=Aa,e.StructArrayLayout2i4=ea,e.StructArrayLayout2ui4=ga,e.StructArrayLayout3ui6=va,e.StructArrayLayout4i8=ta,e.SymbolBucket=ks,e.Texture=Vs,e.Tile=Pu,e.Transitionable=Pr,e.Uniform1f=za,e.Uniform1i=Ba,e.Uniform2f=Ua,e.Uniform3f=Va,e.Uniform4f=Wa,e.UniformColor=Ga,e.UniformMatrix4f=qa,e.UnwrappedTileID=ku,e.ValidationError=Oe,e.WritingMode=Fu,e.ZoomHistory=yr,e.addDynamicAttributes=xs,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,a=new Array(e.length),i=null;e.forEach(function(e,o){t(e,function(e,t){e&&(i=e),a[o]=t,0==--r&&n(i,a)})})},e.bezier=s,e.bindAll=v,e.browser=M,e.clamp=c,e.clone=function(e){var t=new _i(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=b,e.config=N,e.create=function(){var e=new _i(16);return _i!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=ki,e.create$2=function(){var e=new _i(4);return _i!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=kn,e.createLayout=Zr,e.createStyleLayer=function(e){return"custom"===e.type?new Ms(e):new Ns[e.type](e)},e.deepEqual=o,e.ease=u,e.emitValidationErrors=cr,e.endsWith=g,e.evaluateRadialOffset=fc,e.evaluateSizeForFeature=ms,e.evaluateSizeForZoom=vs,e.evented=jr,e.extend=d,e.featureFilter=Fn,e.filterObject=y,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Ku,e.getAnchorJustification=mc,e.getArrayBuffer=ge,e.getImage=function e(t,n){if(fe>=N.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return he.push(r),r}fe++;var a=!1,i=function(){if(!a)for(a=!0,fe--;he.length&&fe<N.MAX_PARALLEL_IMAGE_REQUESTS;){var t=he.shift(),n=t.requestParameters,r=t.callback;t.cancelled||(t.cancel=e(n,r).cancel)}},o=ge(t,function(e,t,r,a){if(i(),e)n(e);else if(t){var o=new self.Image,s=self.URL||self.webkitURL;o.onload=function(){n(null,o),s.revokeObjectURL(o.src)},o.onerror=function(){return n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var u=new self.Blob([new Uint8Array(t)],{type:"image/png"});o.cacheControl=r,o.expires=a,o.src=t.byteLength?s.createObjectURL(u):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}});return{cancel:function(){o.cancel(),i()}}},e.getJSON=function(e,t){return ve(d(e,{type:"json"}),t)},e.getReferrer=me,e.getVideo=function(e,t){var n,r,a=self.document.createElement("video");a.muted=!0,a.onloadstart=function(){t(null,a)};for(var i=0;i<e.length;i++){var o=self.document.createElement("source");n=e[i],r=void 0,(r=self.document.createElement("a")).href=n,(r.protocol!==self.document.location.protocol||r.host!==self.document.location.host)&&(a.crossOrigin="Anonymous"),o.src=e[i],a.appendChild(o)}return{cancel:function(){}}},e.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.invert=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],d=t[9],p=t[10],h=t[11],f=t[12],m=t[13],v=t[14],g=t[15],A=n*s-r*o,y=n*u-a*o,b=n*c-i*o,x=r*u-a*s,w=r*c-i*s,_=a*c-i*u,k=l*m-d*f,O=l*v-p*f,E=l*g-h*f,S=d*v-p*m,C=d*g-h*m,T=p*g-h*v,I=A*T-y*C+b*S+x*E-w*O+_*k;return I?(I=1/I,e[0]=(s*T-u*C+c*S)*I,e[1]=(a*C-r*T-i*S)*I,e[2]=(m*_-v*w+g*x)*I,e[3]=(p*w-d*_-h*x)*I,e[4]=(u*E-o*T-c*O)*I,e[5]=(n*T-a*E+i*O)*I,e[6]=(v*b-f*_-g*y)*I,e[7]=(l*_-p*b+h*y)*I,e[8]=(o*C-s*E+c*k)*I,e[9]=(r*E-n*C-i*k)*I,e[10]=(f*w-m*b+g*A)*I,e[11]=(d*b-l*w-h*A)*I,e[12]=(s*O-o*S-u*k)*I,e[13]=(n*S-r*O+a*k)*I,e[14]=(m*y-f*x-v*A)*I,e[15]=(l*x-d*y+p*A)*I,e):null},e.isChar=br,e.isMapboxURL=V,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.makeRequest=ve,e.mapObject=A,e.mercatorXfromLng=Au,e.mercatorYfromLat=yu,e.mercatorZfromAltitude=bu,e.multiply=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],d=t[8],p=t[9],h=t[10],f=t[11],m=t[12],v=t[13],g=t[14],A=t[15],y=n[0],b=n[1],x=n[2],w=n[3];return e[0]=y*r+b*s+x*d+w*m,e[1]=y*a+b*u+x*p+w*v,e[2]=y*i+b*c+x*h+w*g,e[3]=y*o+b*l+x*f+w*A,y=n[4],b=n[5],x=n[6],w=n[7],e[4]=y*r+b*s+x*d+w*m,e[5]=y*a+b*u+x*p+w*v,e[6]=y*i+b*c+x*h+w*g,e[7]=y*o+b*l+x*f+w*A,y=n[8],b=n[9],x=n[10],w=n[11],e[8]=y*r+b*s+x*d+w*m,e[9]=y*a+b*u+x*p+w*v,e[10]=y*i+b*c+x*h+w*g,e[11]=y*o+b*l+x*f+w*A,y=n[12],b=n[13],x=n[14],w=n[15],e[12]=y*r+b*s+x*d+w*m,e[13]=y*a+b*u+x*p+w*v,e[14]=y*i+b*c+x*h+w*g,e[15]=y*o+b*l+x*f+w*A,e},e.mvt=Do,e.number=gt,e.ortho=function(e,t,n,r,a,i,o){var s=1/(t-n),u=1/(r-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*u,e[14]=(o+i)*c,e[15]=1,e},e.parseGlyphPBF=function(e){return new Hs(e).readFields(cu,[])},e.pbf=Hs,e.performSymbolLayout=function(e,t,n,r,a,i){e.createArrays();var o=512*e.overscaling;e.tilePixelRatio=ri/o,e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,u=e.layers[0]._unevaluatedLayout._values,c={};if("composite"===e.textSizeData.functionType){var l=e.textSizeData.zoomRange,d=l.min,p=l.max;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new Nr(d)),u["text-size"].possiblyEvaluate(new Nr(p))]}if("composite"===e.iconSizeData.functionType){var h=e.iconSizeData.zoomRange,f=h.min,m=h.max;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new Nr(f)),u["icon-size"].possiblyEvaluate(new Nr(m))]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new Nr(e.zoom+1)),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new Nr(e.zoom+1)),c.textMaxSize=u["text-size"].possiblyEvaluate(new Nr(18));for(var v=s.get("text-line-height")*Lu,g="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),A=s.get("text-keep-upright"),y=0,b=e.features;y<b.length;y+=1){var x=b[y],_=s.get("text-font").evaluate(x,{}).join(","),k=n,O={horizontal:{},vertical:void 0},E=x.text,S=[0,0];if(E){var C=E.toString(),T=s.get("text-letter-spacing").evaluate(x,{})*Lu,I=wr(C)?T:0,j=s.get("text-anchor").evaluate(x,{}),M=s.get("text-variable-anchor"),N=s.get("text-radial-offset").evaluate(x,{});M||(S=N?fc(j,N*Lu):s.get("text-offset").evaluate(x,{}).map(function(e){return e*Lu}));var D=g?"center":s.get("text-justify").evaluate(x,{}),R="point"===s.get("symbol-placement")?s.get("text-max-width").evaluate(x,{})*Lu:0;if(!g&&M)for(var P="auto"===D?M.map(function(e){return mc(e)}):[D],L=!1,F=0;F<P.length;F++){var B=P[F];if(!O.horizontal[B])if(L)O.horizontal[B]=O.horizontal[0];else{var z=zu(E,t,_,R,v,"center",B,I,S,Fu.horizontal);z&&(O.horizontal[B]=z,L=1===z.lineCount)}}else{"auto"===D&&(D=mc(j));var U=zu(E,t,_,R,v,j,D,I,S,Fu.horizontal);U&&(O.horizontal[D]=U),xr(C)&&g&&A&&(O.vertical=zu(E,t,_,R,v,j,D,I,S,Fu.vertical))}}var V=void 0;if(x.icon){var W=r[x.icon];W&&(V=Qu(a[x.icon],s.get("icon-offset").evaluate(x,{}),s.get("icon-anchor").evaluate(x,{})),void 0===e.sdfIcons?e.sdfIcons=W.sdf:e.sdfIcons!==W.sdf&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),W.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==s.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}(Object.keys(O.horizontal).length||V)&&vc(e,x,O,V,k,c,S)}i&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,a){var i,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(r-a),e[10]=(a+r)*i,e[14]=2*a*r*i):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var a=t[r];a in e&&(n[a]=e[a])}return n},e.plugin=Mr,e.polygonIntersectsPolygon=ui,e.postMapLoadEvent=ce,e.postTurnstileEvent=se,e.potpack=Ds,e.properties=Es,e.rasterBoundsAttributes=Cu,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=mr,e.registerForPluginAvailability=function(e){return Tr?e({pluginURL:Tr,completionCallback:Sr}):jr.once("pluginAvailable",e),e},e.rotate=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=a*u+o*s,e[2]=r*-s+i*u,e[3]=a*-s+o*u,e},e.rotateX=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],d=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*r,e[5]=o*a+l*r,e[6]=s*a+d*r,e[7]=u*a+p*r,e[8]=c*a-i*r,e[9]=l*a-o*r,e[10]=d*a-s*r,e[11]=p*a-u*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],u=t[3],c=t[4],l=t[5],d=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*r,e[1]=o*a+l*r,e[2]=s*a+d*r,e[3]=u*a+p*r,e[4]=c*a-i*r,e[5]=l*a-o*r,e[6]=d*a-s*r,e[7]=p*a-u*r,e},e.scale=function(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.setRTLTextPlugin=function(e,t){if(Cr)throw new Error("setRTLTextPlugin cannot be called multiple times.");Cr=!0,Tr=M.resolveURL(e),Sr=function(e){e?(Cr=!1,Tr=null,t&&t(e)):Ir=!0},jr.fire(new xe("pluginAvailable",{pluginURL:Tr,completionCallback:Sr}))},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},e.styleSpec=ke,e.symbolSize=gs,e.transformMat3=function(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e},e.transformMat4=Si,e.translate=function(e,t,n){var r,a,i,o,s,u,c,l,d,p,h,f,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],d=t[8],p=t[9],h=t[10],f=t[11],e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=d,e[9]=p,e[10]=h,e[11]=f,e[12]=r*m+s*v+d*g+t[12],e[13]=a*m+u*v+p*g+t[13],e[14]=i*m+c*v+h*g+t[14],e[15]=o*m+l*v+f*g+t[15]),e},e.uniqueId=h,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers."+n+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+n+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=or,e.validateStyle=ir,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=Do,e.version="1.0.0",e.warnOnce=w,e.webpSupported=D,e.window=self,e.wrap=l}),r(0,function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",a=0,i=e;a<i.length;a+=1)r+=t(i[a])+",";return r+"]"}for(var o=Object.keys(e).sort(),s="{",u=0;u<o.length;u++)s+=JSON.stringify(o[u])+":"+t(e[o[u]])+",";return s+"}"}function n(n){for(var r="",a=0,i=e.refProperties;a<i.length;a+=1)r+="/"+t(n[i[a]]);return r}var r=function(e){e&&this.replace(e)};r.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},r.prototype.update=function(t,r){for(var a=this,i=0,o=t;i<o.length;i+=1){var s=o[i];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=e.createStyleLayer(s);u._featureFilter=e.featureFilter(u.filter)}for(var c=0,l=r;c<l.length;c+=1){var d=l[c];delete this._layerConfigs[d],delete this._layers[d]}this.familiesBySource={};for(var p=0,h=function(e){for(var t={},r=0;r<e.length;r++){var a=n(e[r]),i=t[a];i||(i=t[a]=[]),i.push(e[r])}var o=[];for(var s in t)o.push(t[s]);return o}(e.values(this._layerConfigs));p<h.length;p+=1){var f=h[p].map(function(e){return a._layers[e.id]}),m=f[0];if("none"!==m.visibility){var v=m.source||"",g=this.familiesBySource[v];g||(g=this.familiesBySource[v]={});var A=m.sourceLayer||"_geojsonTileLayer",y=g[A];y||(y=g[A]=[]),y.push(f)}}};var a=function(t){var n={},r=[];for(var a in t){var i=t[a],o=n[a]={};for(var s in i){var u=i[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var c={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};r.push(c),o[s]={rect:c,metrics:u.metrics}}}}var l=e.potpack(r),d=l.w,p=l.h,h=new e.AlphaImage({width:d||1,height:p||1});for(var f in t){var m=t[f];for(var v in m){var g=m[+v];if(g&&0!==g.bitmap.width&&0!==g.bitmap.height){var A=n[f][v].rect;e.AlphaImage.copy(g.bitmap,h,{x:0,y:0},{x:A.x+1,y:A.y+1},g.bitmap)}}}this.image=h,this.positions=n};e.register("GlyphAtlas",a);var i=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies};function o(t,n){for(var r=new e.EvaluationParameters(n),a=0,i=t;a<i.length;a+=1)i[a].recalculate(r)}i.prototype.parse=function(t,n,r,i){var s=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var u=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID);c.bucketLayerIDs=[];var l,d,p,h,f={},m={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},v=n.familiesBySource[this.source];for(var g in v){var A=t.layers[g];if(A){1===A.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+g+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var y=u.encode(g),b=[],x=0;x<A.length;x++){var w=A.feature(x);b.push({feature:w,index:x,sourceLayerIndex:y})}for(var _=0,k=v[g];_<k.length;_+=1){var O=k[_],E=O[0];E.minzoom&&this.zoom<Math.floor(E.minzoom)||E.maxzoom&&this.zoom>=E.maxzoom||"none"!==E.visibility&&(o(O,this.zoom),(f[E.id]=E.createBucket({index:c.bucketLayerIDs.length,layers:O,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:y,sourceID:this.source})).populate(b,m),c.bucketLayerIDs.push(O.map(function(e){return e.id})))}}}var S=e.mapObject(m.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(S).length?r.send("getGlyphs",{uid:this.uid,stacks:S},function(e,t){l||(l=e,d=t,I.call(s))}):d={};var C=Object.keys(m.iconDependencies);C.length?r.send("getImages",{icons:C},function(e,t){l||(l=e,p=t,I.call(s))}):p={};var T=Object.keys(m.patternDependencies);function I(){if(l)return i(l);if(d&&p&&h){var t=new a(d),n=new e.ImageAtlas(p,h);for(var r in f){var s=f[r];s instanceof e.SymbolBucket?(o(s.layers,this.zoom),e.performSymbolLayout(s,d,t.positions,p,n.iconPositions,this.showCollisionBoxes)):s.hasPattern&&(s instanceof e.LineBucket||s instanceof e.FillBucket||s instanceof e.FillExtrusionBucket)&&(o(s.layers,this.zoom),s.addFeatures(m,n.patternPositions))}this.status="done",i(null,{buckets:e.values(f).filter(function(e){return!e.isEmpty()}),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?t.positions:null})}}T.length?r.send("getImages",{icons:T},function(e,t){l||(l=e,h=t,I.call(s))}):h={},I.call(this)};var s="undefined"!=typeof performance,u={getEntriesByName:function(e){return!!(s&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(e)},mark:function(e){return!!(s&&performance&&performance.mark)&&performance.mark(e)},measure:function(e,t,n){return!!(s&&performance&&performance.measure)&&performance.measure(e,t,n)},clearMarks:function(e){return!!(s&&performance&&performance.clearMarks)&&performance.clearMarks(e)},clearMeasures:function(e){return!!(s&&performance&&performance.clearMeasures)&&performance.clearMeasures(e)}},c=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},u.mark(this._marks.start)};function l(t,n){var r=e.getArrayBuffer(t.request,function(t,r,a,i){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:a,expires:i})});return function(){r.cancel(),n()}}c.prototype.finish=function(){u.mark(this._marks.end);var e=u.getEntriesByName(this._marks.measure);return 0===e.length&&(u.measure(this._marks.measure,this._marks.start,this._marks.end),e=u.getEntriesByName(this._marks.measure),u.clearMarks(this._marks.start),u.clearMarks(this._marks.end),u.clearMeasures(this._marks.measure)),e},u.Performance=c;var d=function(e,t,n){this.actor=e,this.layerIndex=t,this.loadVectorData=n||l,this.loading={},this.loaded={}};d.prototype.loadTile=function(t,n){var r=this,a=t.uid;this.loading||(this.loading={});var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new u.Performance(t.request),s=this.loading[a]=new i(t);s.abort=this.loadVectorData(t,function(t,i){if(delete r.loading[a],t||!i)return s.status="done",r.loaded[a]=s,n(t);var u=i.rawData,c={};i.expires&&(c.expires=i.expires),i.cacheControl&&(c.cacheControl=i.cacheControl);var l={};if(o){var d=o.finish();d&&(l.resourceTiming=JSON.parse(JSON.stringify(d)))}s.vectorTile=i.vectorTile,s.parse(i.vectorTile,r.layerIndex,r.actor,function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:u.slice(0)},r,c,l))}),r.loaded=r.loaded||{},r.loaded[a]=s})},d.prototype.reloadTile=function(e,t){var n=this.loaded,r=e.uid,a=this;if(n&&n[r]){var i=n[r];i.showCollisionBoxes=e.showCollisionBoxes;var o=function(e,n){var r=i.reloadCallback;r&&(delete i.reloadCallback,i.parse(i.vectorTile,a.layerIndex,a.actor,r)),t(e,n)};"parsing"===i.status?i.reloadCallback=o:"done"===i.status&&(i.vectorTile?i.parse(i.vectorTile,this.layerIndex,this.actor,o):o())}},d.prototype.abortTile=function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},d.prototype.removeTile=function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()};var p=function(){this.loaded={}};p.prototype.loadTile=function(t,n){var r=t.uid,a=t.encoding,i=t.rawImageData,o=new e.DEMData(r,i,a);this.loaded=this.loaded||{},this.loaded[r]=o,n(null,o)},p.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var h={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function f(e){var t=0;if(e&&e.length>0){t+=Math.abs(m(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(m(e[n]))}return t}function m(e){var t,n,r,a,i,o,s=0,u=e.length;if(u>2){for(o=0;o<u;o++)o===u-2?(r=u-2,a=u-1,i=0):o===u-1?(r=u-1,a=0,i=1):(r=o,a=o+1,i=o+2),t=e[r],n=e[a],s+=(v(e[i][0])-v(t[0]))*Math.sin(v(n[1]));s=s*h.RADIUS*h.RADIUS/2}return s}function v(e){return e*Math.PI/180}var g={geometry:function e(t){var n,r=0;switch(t.type){case"Polygon":return f(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)r+=f(t.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++)r+=e(t.geometries[n]);return r}},ring:m};function A(e,t){return function(n){return e(n,t)}}function y(e,t){t=!!t,e[0]=b(e[0],t);for(var n=1;n<e.length;n++)e[n]=b(e[n],!t);return e}function b(e,t){return function(e){return g.ring(e)>=0}(e)===t?e:e.reverse()}var x=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,w=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};w.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var a=r[n];t.push([new e.Point$1(a[0],a[1])])}return t}for(var i=[],o=0,s=this._feature.geometry;o<s.length;o+=1){for(var u=[],c=0,l=s[o];c<l.length;c+=1){var d=l[c];u.push(new e.Point$1(d[0],d[1]))}i.push(u)}return i},w.prototype.toGeoJSON=function(e,t,n){return x.call(this,e,t,n)};var _=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};_.prototype.feature=function(e){return new w(this._features[e])};var k=e.vectorTile.VectorTileFeature,O=E;function E(e,t){this.options=t||{},this.features=e,this.length=e.length}function S(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}E.prototype.feature=function(e){return new S(this.features[e],this.options.extent)},S.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],a=[],i=0;i<r.length;i++)a.push(new e.Point$1(r[i][0],r[i][1]));this.geometry.push(a)}return this.geometry},S.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,a=-1/0,i=0;i<e.length;i++)for(var o=e[i],s=0;s<o.length;s++){var u=o[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),a=Math.max(a,u.y)}return[t,r,n,a]},S.prototype.toGeoJSON=k.prototype.toGeoJSON;var C=j,T=j,I=O;function j(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,M,e.layers[n])}(t,n),n.finish()}function M(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,N,r);var a=r.keys;for(n=0;n<a.length;n++)t.writeStringField(3,a[n]);var i=r.values;for(n=0;n<i.length;n++)t.writeMessage(4,F,i[n])}function N(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,D,e),t.writeVarintField(3,n.type),t.writeMessage(4,L,n)}function D(e,t){var n=e.feature,r=e.keys,a=e.values,i=e.keycache,o=e.valuecache;for(var s in n.properties){var u=i[s];void 0===u&&(r.push(s),u=r.length-1,i[s]=u),t.writeVarint(u);var c=n.properties[s],l=typeof c;"string"!==l&&"boolean"!==l&&"number"!==l&&(c=JSON.stringify(c));var d=l+":"+c,p=o[d];void 0===p&&(a.push(c),p=a.length-1,o[d]=p),t.writeVarint(p)}}function R(e,t){return(t<<3)+(7&e)}function P(e){return e<<1^e>>31}function L(e,t){for(var n=e.loadGeometry(),r=e.type,a=0,i=0,o=n.length,s=0;s<o;s++){var u=n[s],c=1;1===r&&(c=u.length),t.writeVarint(R(1,c));for(var l=3===r?u.length-1:u.length,d=0;d<l;d++){1===d&&1!==r&&t.writeVarint(R(2,l-1));var p=u[d].x-a,h=u[d].y-i;t.writeVarint(P(p)),t.writeVarint(P(h)),a+=p,i+=h}3===r&&t.writeVarint(R(7,1))}}function F(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function B(e,t,n,r){z(e,n,r),z(t,2*n,2*r),z(t,2*n+1,2*r+1)}function z(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function U(e,t,n,r){var a=e-n,i=t-r;return a*a+i*i}C.fromVectorTileJs=T,C.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new O(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return j({layers:n})},C.GeoJSONWrapper=I;var V=function(e){return e[0]},W=function(e){return e[1]},G=function(e,t,n,r,a){void 0===t&&(t=V),void 0===n&&(n=W),void 0===r&&(r=64),void 0===a&&(a=Float64Array),this.nodeSize=r,this.points=e;for(var i=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new i(e.length),s=this.coords=new a(2*e.length),u=0;u<e.length;u++)o[u]=u,s[2*u]=t(e[u]),s[2*u+1]=n(e[u]);!function e(t,n,r,a,i,o){if(!(i-a<=r)){var s=a+i>>1;!function e(t,n,r,a,i,o){for(;i>a;){if(i-a>600){var s=i-a+1,u=r-a+1,c=Math.log(s),l=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);e(t,n,r,Math.max(a,Math.floor(r-u*l/s+d)),Math.min(i,Math.floor(r+(s-u)*l/s+d)),o)}var p=n[2*r+o],h=a,f=i;for(B(t,n,a,r),n[2*i+o]>p&&B(t,n,a,i);h<f;){for(B(t,n,h,f),h++,f--;n[2*h+o]<p;)h++;for(;n[2*f+o]>p;)f--}n[2*a+o]===p?B(t,n,a,f):B(t,n,++f,i),f<=r&&(a=f+1),r<=f&&(i=f-1)}}(t,n,s,a,i,o%2),e(t,n,r,a,s-1,o+1),e(t,n,r,s+1,i,o+1)}}(o,s,r,0,o.length-1,0)};G.prototype.range=function(e,t,n,r){return function(e,t,n,r,a,i,o){for(var s,u,c=[0,e.length-1,0],l=[];c.length;){var d=c.pop(),p=c.pop(),h=c.pop();if(p-h<=o)for(var f=h;f<=p;f++)s=t[2*f],u=t[2*f+1],s>=n&&s<=a&&u>=r&&u<=i&&l.push(e[f]);else{var m=Math.floor((h+p)/2);s=t[2*m],u=t[2*m+1],s>=n&&s<=a&&u>=r&&u<=i&&l.push(e[m]);var v=(d+1)%2;(0===d?n<=s:r<=u)&&(c.push(h),c.push(m-1),c.push(v)),(0===d?a>=s:i>=u)&&(c.push(m+1),c.push(p),c.push(v))}}return l}(this.ids,this.coords,e,t,n,r,this.nodeSize)},G.prototype.within=function(e,t,n){return function(e,t,n,r,a,i){for(var o=[0,e.length-1,0],s=[],u=a*a;o.length;){var c=o.pop(),l=o.pop(),d=o.pop();if(l-d<=i)for(var p=d;p<=l;p++)U(t[2*p],t[2*p+1],n,r)<=u&&s.push(e[p]);else{var h=Math.floor((d+l)/2),f=t[2*h],m=t[2*h+1];U(f,m,n,r)<=u&&s.push(e[h]);var v=(c+1)%2;(0===c?n-a<=f:r-a<=m)&&(o.push(d),o.push(h-1),o.push(v)),(0===c?n+a>=f:r+a>=m)&&(o.push(h+1),o.push(l),o.push(v))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)};var H={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(e){return e}},q=function(e){this.options=J(Object.create(H),e),this.trees=new Array(this.options.maxZoom+1)};function K(e,t,n,r,a){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:a}}function X(e,t){var n=e.geometry.coordinates,r=n[0],a=n[1];return{x:$(r),y:Z(a),zoom:1/0,index:t,parentId:-1}}function Q(e){return{type:"Feature",id:e.id,properties:Y(e),geometry:{type:"Point",coordinates:[(r=e.x,360*(r-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,r}function Y(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return J(J({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function $(e){return e/360+.5}function Z(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function J(e,t){for(var n in t)e[n]=t[n];return e}function ee(e){return e.x}function te(e){return e.y}function ne(e,t,n,r,a,i){var o=a-n,s=i-r;if(0!==o||0!==s){var u=((e-n)*o+(t-r)*s)/(o*o+s*s);u>1?(n=a,r=i):u>0&&(n+=o*u,r+=s*u)}return(o=e-n)*o+(s=t-r)*s}function re(e,t,n,r){var a={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)ae(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)ae(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var a=0;a<t[r].length;a++)ae(e,t[r][a])}(a),a}function ae(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function ie(e,t,n,r){if(t.geometry){var a=t.geometry.coordinates,i=t.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=t.id;if(n.promoteId?u=t.properties[n.promoteId]:n.generateId&&(u=r||0),"Point"===i)oe(a,s);else if("MultiPoint"===i)for(var c=0;c<a.length;c++)oe(a[c],s);else if("LineString"===i)se(a,s,o,!1);else if("MultiLineString"===i){if(n.lineMetrics){for(c=0;c<a.length;c++)s=[],se(a[c],s,o,!1),e.push(re(u,"LineString",s,t.properties));return}ue(a,s,o,!1)}else if("Polygon"===i)ue(a,s,o,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(c=0;c<t.geometry.geometries.length;c++)ie(e,{id:u,geometry:t.geometry.geometries[c],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<a.length;c++){var l=[];ue(a[c],l,o,!0),s.push(l)}}e.push(re(u,i,s,t.properties))}}function oe(e,t){t.push(ce(e[0])),t.push(le(e[1])),t.push(0)}function se(e,t,n,r){for(var a,i,o=0,s=0;s<e.length;s++){var u=ce(e[s][0]),c=le(e[s][1]);t.push(u),t.push(c),t.push(0),s>0&&(o+=r?(a*c-u*i)/2:Math.sqrt(Math.pow(u-a,2)+Math.pow(c-i,2))),a=u,i=c}var l=t.length-3;t[2]=1,function e(t,n,r,a){for(var i,o=a,s=r-n>>1,u=r-n,c=t[n],l=t[n+1],d=t[r],p=t[r+1],h=n+3;h<r;h+=3){var f=ne(t[h],t[h+1],c,l,d,p);if(f>o)i=h,o=f;else if(f===o){var m=Math.abs(h-s);m<u&&(i=h,u=m)}}o>a&&(i-n>3&&e(t,n,i,a),t[i+2]=o,r-i>3&&e(t,i,r,a))}(t,0,l,n),t[l+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function ue(e,t,n,r){for(var a=0;a<e.length;a++){var i=[];se(e[a],i,n,r),t.push(i)}}function ce(e){return e/360+.5}function le(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function de(e,t,n,r,a,i,o,s){if(r/=t,i>=(n/=t)&&o<r)return e;if(o<n||i>=r)return null;for(var u=[],c=0;c<e.length;c++){var l=e[c],d=l.geometry,p=l.type,h=0===a?l.minX:l.minY,f=0===a?l.maxX:l.maxY;if(h>=n&&f<r)u.push(l);else if(!(f<n||h>=r)){var m=[];if("Point"===p||"MultiPoint"===p)pe(d,m,n,r,a);else if("LineString"===p)he(d,m,n,r,a,!1,s.lineMetrics);else if("MultiLineString"===p)me(d,m,n,r,a,!1);else if("Polygon"===p)me(d,m,n,r,a,!0);else if("MultiPolygon"===p)for(var v=0;v<d.length;v++){var g=[];me(d[v],g,n,r,a,!0),g.length&&m.push(g)}if(m.length){if(s.lineMetrics&&"LineString"===p){for(v=0;v<m.length;v++)u.push(re(l.id,p,m[v],l.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===m.length?(p="LineString",m=m[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===m.length?"Point":"MultiPoint"),u.push(re(l.id,p,m,l.tags))}}}return u.length?u:null}function pe(e,t,n,r,a){for(var i=0;i<e.length;i+=3){var o=e[i+a];o>=n&&o<=r&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]))}}function he(e,t,n,r,a,i,o){for(var s,u,c=fe(e),l=0===a?ge:Ae,d=e.start,p=0;p<e.length-3;p+=3){var h=e[p],f=e[p+1],m=e[p+2],v=e[p+3],g=e[p+4],A=0===a?h:f,y=0===a?v:g,b=!1;o&&(s=Math.sqrt(Math.pow(h-v,2)+Math.pow(f-g,2))),A<n?y>n&&(u=l(c,h,f,v,g,n),o&&(c.start=d+s*u)):A>r?y<r&&(u=l(c,h,f,v,g,r),o&&(c.start=d+s*u)):ve(c,h,f,m),y<n&&A>=n&&(u=l(c,h,f,v,g,n),b=!0),y>r&&A<=r&&(u=l(c,h,f,v,g,r),b=!0),!i&&b&&(o&&(c.end=d+s*u),t.push(c),c=fe(e)),o&&(d+=s)}var x=e.length-3;h=e[x],f=e[x+1],m=e[x+2],(A=0===a?h:f)>=n&&A<=r&&ve(c,h,f,m),x=c.length-3,i&&x>=3&&(c[x]!==c[0]||c[x+1]!==c[1])&&ve(c,c[0],c[1],c[2]),c.length&&t.push(c)}function fe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function me(e,t,n,r,a,i){for(var o=0;o<e.length;o++)he(e[o],t,n,r,a,i,!1)}function ve(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ge(e,t,n,r,a,i){var o=(i-t)/(r-t);return e.push(i),e.push(n+(a-n)*o),e.push(1),o}function Ae(e,t,n,r,a,i){var o=(i-n)/(a-n);return e.push(t+(r-t)*o),e.push(i),e.push(1),o}function ye(e,t){for(var n=[],r=0;r<e.length;r++){var a,i=e[r],o=i.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)a=be(i.geometry,t);else if("MultiLineString"===o||"Polygon"===o){a=[];for(var s=0;s<i.geometry.length;s++)a.push(be(i.geometry[s],t))}else if("MultiPolygon"===o)for(a=[],s=0;s<i.geometry.length;s++){for(var u=[],c=0;c<i.geometry[s].length;c++)u.push(be(i.geometry[s][c],t));a.push(u)}n.push(re(i.id,o,a,i.tags))}return n}function be(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function xe(e,t){if(e.transformed)return e;var n,r,a,i=1<<e.z,o=e.x,s=e.y;for(n=0;n<e.features.length;n++){var u=e.features[n],c=u.geometry,l=u.type;if(u.geometry=[],1===l)for(r=0;r<c.length;r+=2)u.geometry.push(we(c[r],c[r+1],t,i,o,s));else for(r=0;r<c.length;r++){var d=[];for(a=0;a<c[r].length;a+=2)d.push(we(c[r][a],c[r][a+1],t,i,o,s));u.geometry.push(d)}}return e.transformed=!0,e}function we(e,t,n,r,a,i){return[Math.round(n*(e*r-a)),Math.round(n*(t*r-i))]}function _e(e,t,n,r,a){for(var i=t===a.maxZoom?0:a.tolerance/((1<<t)*a.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,ke(o,e[s],i,a);var u=e[s].minX,c=e[s].minY,l=e[s].maxX,d=e[s].maxY;u<o.minX&&(o.minX=u),c<o.minY&&(o.minY=c),l>o.maxX&&(o.maxX=l),d>o.maxY&&(o.maxY=d)}return o}function ke(e,t,n,r){var a=t.geometry,i=t.type,o=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<a.length;s+=3)o.push(a[s]),o.push(a[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===i)Oe(o,a,e,n,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<a.length;s++)Oe(o,a[s],e,n,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var u=0;u<a.length;u++){var c=a[u];for(s=0;s<c.length;s++)Oe(o,c[s],e,n,!0,0===s)}if(o.length){var l=t.tags||null;if("LineString"===i&&r.lineMetrics){for(var d in l={},t.tags)l[d]=t.tags[d];l.mapbox_clip_start=a.start/a.size,l.mapbox_clip_end=a.end/a.size}var p={geometry:o,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:l};null!==t.id&&(p.id=t.id),e.features.push(p)}}function Oe(e,t,n,r,a,i){var o=r*r;if(r>0&&t.size<(a?o:r))n.numPoints+=t.length/3;else{for(var s=[],u=0;u<t.length;u+=3)(0===r||t[u+2]>o)&&(n.numSimplified++,s.push(t[u]),s.push(t[u+1])),n.numPoints++;a&&function(e,t){for(var n=0,r=0,a=e.length,i=a-2;r<a;i=r,r+=2)n+=(e[r]-e[i])*(e[r+1]+e[i+1]);if(n>0===t)for(r=0,a=e.length;r<a/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[a-2-r],e[r+1]=e[a-1-r],e[a-2-r]=o,e[a-1-r]=s}}(s,i),e.push(s)}}function Ee(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)ie(n,e.features[r],t,r);else"Feature"===e.type?ie(n,e,t):ie(n,{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,a=de(e,1,-1-n,n,0,-1,2,t),i=de(e,1,1-n,2+n,0,-1,2,t);return(a||i)&&(r=de(e,1,-n,1+n,0,-1,2,t)||[],a&&(r=ye(a,1).concat(r)),i&&(r=r.concat(ye(i,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Se(e,t,n){return 32*((1<<e)*n+t)+e}function Ce(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var a=new _(r.features),i=C(a);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:a,rawData:i.buffer})}q.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,a=t.maxZoom,i=t.nodeSize;n&&console.time("total time");var o="prepare "+e.length+" points";n&&console.time(o),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(X(e[u],u));this.trees[a+1]=new G(s,ee,te,i,Float32Array),n&&console.timeEnd(o);for(var c=a;c>=r;c--){var l=+Date.now();s=this._cluster(s,c),this.trees[c]=new G(s,ee,te,i,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-l)}return n&&console.timeEnd("total time"),this},q.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),a=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,a=180;else if(n>a){var o=this.getClusters([n,r,180,i],t),s=this.getClusters([-180,r,a,i],t);return o.concat(s)}for(var u=this.trees[this._limitZoom(t)],c=[],l=0,d=u.range($(n),Z(i),$(a),Z(r));l<d.length;l+=1){var p=d[l],h=u.points[p];c.push(h.numPoints?Q(h):this.points[h.index])}return c},q.prototype.getChildren=function(e){var t=e>>5,n=e%32,r="No cluster with the specified id.",a=this.trees[n];if(!a)throw new Error(r);var i=a.points[t];if(!i)throw new Error(r);for(var o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,c=a.within(i.x,i.y,o);u<c.length;u+=1){var l=c[u],d=a.points[l];d.parentId===e&&s.push(d.numPoints?Q(d):this.points[d.index])}if(0===s.length)throw new Error(r);return s},q.prototype.getLeaves=function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r},q.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],a=Math.pow(2,e),i=this.options,o=i.extent,s=i.radius/o,u=(n-s)/a,c=(n+1+s)/a,l={features:[]};return this._addTileFeatures(r.range((t-s)/a,u,(t+1+s)/a,c),r.points,t,n,a,l),0===t&&this._addTileFeatures(r.range(1-s/a,u,1,c),r.points,a,n,a,l),t===a-1&&this._addTileFeatures(r.range(0,u,s/a,c),r.points,-1,n,a,l),l.features.length?l:null},q.prototype.getClusterExpansionZoom=function(e){for(var t=e%32-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},q.prototype._appendLeaves=function(e,t,n,r,a){for(var i=0,o=this.getChildren(t);i<o.length;i+=1){var s=o[i],u=s.properties;if(u&&u.cluster?a+u.point_count<=r?a+=u.point_count:a=this._appendLeaves(e,u.cluster_id,n,r,a):a<r?a++:e.push(s),e.length===n)break}return a},q.prototype._addTileFeatures=function(e,t,n,r,a,i){for(var o=0,s=e;o<s.length;o+=1){var u=t[s[o]],c={type:1,geometry:[[Math.round(this.options.extent*(u.x*a-n)),Math.round(this.options.extent*(u.y*a-r))]],tags:u.numPoints?Y(u):this.points[u.index].properties},l=u.numPoints?u.id:this.points[u.index].id;void 0!==l&&(c.id=l),i.features.push(c)}},q.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},q.prototype._cluster=function(e,t){for(var n=[],r=this.options,a=r.radius,i=r.extent,o=r.reduce,s=a/(i*Math.pow(2,t)),u=0;u<e.length;u++){var c=e[u];if(!(c.zoom<=t)){c.zoom=t;for(var l=this.trees[t+1],d=l.within(c.x,c.y,s),p=c.numPoints||1,h=c.x*p,f=c.y*p,m=o?this._map(c,!0):null,v=(u<<5)+(t+1),g=0,A=d;g<A.length;g+=1){var y=A[g],b=l.points[y];if(!(b.zoom<=t)){b.zoom=t;var x=b.numPoints||1;h+=b.x*x,f+=b.y*x,p+=x,b.parentId=v,o&&o(m,this._map(b))}}1===p?n.push(c):(c.parentId=v,n.push(K(h/p,f/p,v,p,m)))}}return n},q.prototype._map=function(e,t){if(e.numPoints)return t?J({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?J({},r):r},Ee.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ee.prototype.splitTile=function(e,t,n,r,a,i,o){for(var s=[e,t,n,r],u=this.options,c=u.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var l=1<<t,d=Se(t,n,r),p=this.tiles[d];if(!p&&(c>1&&console.time("creation"),p=this.tiles[d]=_e(e,t,n,r,u),this.tileCoords.push({z:t,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(p.source=e,a){if(t===u.maxZoom||t===a)continue;var f=1<<a-t;if(n!==Math.floor(i/f)||r!==Math.floor(o/f))continue}else if(t===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==e.length){c>1&&console.time("clipping");var m,v,g,A,y,b,x=.5*u.buffer/u.extent,w=.5-x,_=.5+x,k=1+x;m=v=g=A=null,y=de(e,l,n-x,n+_,0,p.minX,p.maxX,u),b=de(e,l,n+w,n+k,0,p.minX,p.maxX,u),e=null,y&&(m=de(y,l,r-x,r+_,1,p.minY,p.maxY,u),v=de(y,l,r+w,r+k,1,p.minY,p.maxY,u),y=null),b&&(g=de(b,l,r-x,r+_,1,p.minY,p.maxY,u),A=de(b,l,r+w,r+k,1,p.minY,p.maxY,u),b=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(v||[],t+1,2*n,2*r+1),s.push(g||[],t+1,2*n+1,2*r),s.push(A||[],t+1,2*n+1,2*r+1)}}},Ee.prototype.getTile=function(e,t,n){var r=this.options,a=r.extent,i=r.debug;if(e<0||e>24)return null;var o=1<<e,s=Se(e,t=(t%o+o)%o,n);if(this.tiles[s])return xe(this.tiles[s],a);i>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var u,c=e,l=t,d=n;!u&&c>0;)c--,l=Math.floor(l/2),d=Math.floor(d/2),u=this.tiles[Se(c,l,d)];return u&&u.source?(i>1&&console.log("found parent tile z%d-%d-%d",c,l,d),i>1&&console.time("drilling down"),this.splitTile(u.source,c,l,d,e,t,n),i>1&&console.timeEnd("drilling down"),this.tiles[s]?xe(this.tiles[s],a):null):null};var Te=function(t){function n(e,n,r){t.call(this,e,n,Ce),r&&(this.loadGeoJSON=r)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var a=!!(r&&r.request&&r.request.collectResourceTiming)&&new u.Performance(r.request);this.loadGeoJSON(r,function(i,o){if(i||!o)return n(i);if("object"!=typeof o)return n(new Error("Input data is not a valid GeoJSON object."));!function e(t,n){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(A(e,n)),t;case"GeometryCollection":return t.geometries=t.geometries.map(A(e,n)),t;case"Feature":return t.geometry=e(t.geometry,n),t;case"Polygon":case"MultiPolygon":return function(e,t){return"Polygon"===e.type?e.coordinates=y(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(A(y,t))),e}(t,n);default:return t}}(o,!0);try{t._geoJSONIndex=r.cluster?new q(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var a={},i={},o={accumulated:null,zoom:0},s={properties:null},u=Object.keys(r),c=0,l=u;c<l.length;c+=1){var d=l[c],p=r[d],h=p[0],f=p[1],m=e.createExpression(f),v=e.createExpression("string"==typeof h?[h,["accumulated"],["get",d]]:h);a[d]=m.value,i[d]=v.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=u;n<r.length;n+=1){var i=r[n];t[i]=a[i].evaluate(o,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=u;n<r.length;n+=1){var a=r[n];o.accumulated=e[a],e[a]=i[a].evaluate(o,s)}},n}(r)).load(o.features):new Ee(o,r.geojsonVtOptions)}catch(i){return n(i)}t.loaded={};var s={};if(a){var u=a.finish();u&&(s.resourceTiming={},s.resourceTiming[r.source]=JSON.parse(JSON.stringify(u)))}n(null,s)})}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(e,n){var r=this.loaded,a=e.uid;return r&&r[a]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data is not a valid GeoJSON object."));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))},n.prototype.getClusterChildren=function(e,t){t(null,this._geoJSONIndex.getChildren(e.clusterId))},n.prototype.getClusterLeaves=function(e,t){t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))},n}(d),Ie=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.workerSourceTypes={vector:d,geojson:Te},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isLoaded())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return Ie.prototype.setReferrer=function(e,t){this.referrer=t},Ie.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},Ie.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},Ie.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},Ie.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},Ie.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},Ie.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},Ie.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},Ie.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},Ie.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}},Ie.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},Ie.prototype.loadRTLTextPlugin=function(t,n,r){try{e.plugin.isLoaded()||(this.self.importScripts(n),r(e.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+n)))}catch(e){r(e.toString())}},Ie.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t},Ie.prototype.getWorkerSource=function(e,t,n){var r=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){var a={send:function(t,n,a){r.actor.send(t,n,a,e)}};this.workerSources[e][t][n]=new this.workerSourceTypes[t](a,this.getLayerIndex(e))}return this.workerSources[e][t][n]},Ie.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new p),this.demWorkerSources[e][t]},"undefined"!=typeof WorkerGlobalScope&&void 0!==e.window&&e.window instanceof WorkerGlobalScope&&(e.window.worker=new Ie(e.window)),Ie}),r(0,function(e){var t=e.createCommonjsModule(function(e){function t(e){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(e){return void 0===n[e]&&(n[e]=function(e){var n=document.createElement("canvas"),r=Object.create(t.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(e)),n[e]}(e&&e.failIfMajorPerformanceCaveat))}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t);var n={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),n={create:function(t,n,r){var a=e.window.document.createElement(t);return n&&(a.className=n),r&&r.appendChild(a),a},createNS:function(t,n){return e.window.document.createElementNS(t,n)}},r=e.window.document?e.window.document.documentElement.style:null;function a(e){if(!r)return null;for(var t=0;t<e.length;t++)if(e[t]in r)return e[t];return e[0]}var i,o=a(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&o&&(i=r[o],r[o]="none")},n.enableDrag=function(){r&&o&&(r[o]=i)};var s=a(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[s]=t};var u=!1;try{var c=Object.defineProperty({},"passive",{get:function(){u=!0}});e.window.addEventListener("test",c,c),e.window.removeEventListener("test",c,c)}catch(e){u=!1}n.addEventListener=function(e,t,n,r){void 0===r&&(r={}),"passive"in r&&u?e.addEventListener(t,n,r):e.addEventListener(t,n,r.capture)},n.removeEventListener=function(e,t,n,r){void 0===r&&(r={}),"passive"in r&&u?e.removeEventListener(t,n,r):e.removeEventListener(t,n,r.capture)};var l=function t(n){n.preventDefault(),n.stopPropagation(),e.window.removeEventListener("click",t,!0)};function d(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}n.suppressClick=function(){e.window.addEventListener("click",l,!0),e.window.setTimeout(function(){e.window.removeEventListener("click",l,!0)},0)},n.mousePos=function(t,n){var r=t.getBoundingClientRect();return n=n.touches?n.touches[0]:n,new e.Point(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)},n.touchPos=function(t,n){for(var r=t.getBoundingClientRect(),a=[],i="touchend"===n.type?n.changedTouches:n.touches,o=0;o<i.length;o++)a.push(new e.Point(i[o].clientX-r.left-t.clientLeft,i[o].clientY-r.top-t.clientTop));return a},n.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var p=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t],a=r.ids,i=r.callback;this._notify(a,i)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this.images[e]=t},n.prototype.updateImage=function(e,t){var n=this.images[e];t.version=n.version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,a=e;r<a.length;r+=1){var i=a[r];this.images[i]||(n=!1)}this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var r={},a=0,i=t;a<i.length;a+=1){var o=i[a];this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?r[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+o+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var a={w:r.data.width+2,h:r.data.height+2,x:0,y:0},i=new e.ImagePosition(a,r);this.patterns[t]={bin:a,position:i}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),a=r.w,i=r.h,o=this.atlasImage;for(var s in o.resize({width:a||1,height:i||1}),this.patterns){var u=this.patterns[s].bin,c=u.x+1,l=u.y+1,d=this.images[s].data,p=d.width,h=d.height;e.RGBAImage.copy(d,o,{x:0,y:0},{x:c,y:l},{width:p,height:h}),e.RGBAImage.copy(d,o,{x:0,y:h-1},{x:c,y:l-1},{width:p,height:1}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:c,y:l+h},{width:p,height:1}),e.RGBAImage.copy(d,o,{x:p-1,y:0},{x:c-1,y:l},{width:1,height:h}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:c+p,y:l},{width:1,height:h})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var a=this.images[r];d(a)&&this.updateImage(r,a)}}},n}(e.Evented),h=m,f=1e20;function m(e,t,n,r,a,i){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=a||"sans-serif",this.fontWeight=i||"normal",this.radius=n||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function v(e,t,n,r,a,i,o){for(var s=0;s<t;s++){for(var u=0;u<n;u++)r[u]=e[u*t+s];for(g(r,a,i,o,n),u=0;u<n;u++)e[u*t+s]=a[u]}for(u=0;u<n;u++){for(s=0;s<t;s++)r[s]=e[u*t+s];for(g(r,a,i,o,t),s=0;s<t;s++)e[u*t+s]=Math.sqrt(a[s])}}function g(e,t,n,r,a){n[0]=0,r[0]=-f,r[1]=+f;for(var i=1,o=0;i<a;i++){for(var s=(e[i]+i*i-(e[n[o]]+n[o]*n[o]))/(2*i-2*n[o]);s<=r[o];)o--,s=(e[i]+i*i-(e[n[o]]+n[o]*n[o]))/(2*i-2*n[o]);n[++o]=i,r[o]=s,r[o+1]=+f}for(i=0,o=0;i<a;i++){for(;r[o+1]<i;)o++;t[i]=(i-n[o])*(i-n[o])+e[n[o]]}}m.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var a=t.data[4*r+3]/255;this.gridOuter[r]=1===a?0:0===a?f:Math.pow(Math.max(0,.5-a),2),this.gridInner[r]=1===a?f:0===a?0:Math.pow(Math.max(0,a-.5),2)}for(v(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),v(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var i=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(i/this.radius+this.cutoff))))}return n};var A=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};A.prototype.setURL=function(e){this.url=e},A.prototype.getGlyphs=function(t,n){var r=this,a=[];for(var i in t)for(var o=0,s=t[i];o<s.length;o+=1){var u=s[o];a.push({stack:i,id:u})}e.asyncAll(a,function(e,t){var n=e.stack,a=e.id,i=r.entries[n];i||(i=r.entries[n]={glyphs:{},requests:{}});var o=i.glyphs[a];if(void 0===o)if(o=r._tinySDF(i,n,a))t(null,{stack:n,id:a,glyph:o});else{var s=Math.floor(a/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else{var u=i.requests[s];u||(u=i.requests[s]=[],A.loadGlyphRange(n,s,r.url,r.requestManager,function(e,t){if(t)for(var n in t)i.glyphs[+n]=t[+n];for(var r=0,a=u;r<a.length;r+=1)(0,a[r])(e,t);delete i.requests[s]})),u.push(function(e,r){e?t(e):r&&t(null,{stack:n,id:a,glyph:r[a]||null})})}}else t(null,{stack:n,id:a,glyph:o})},function(e,t){if(e)n(e);else if(t){for(var r={},a=0,i=t;a<i.length;a+=1){var o=i[a],s=o.stack,u=o.id,c=o.glyph;(r[s]||(r[s]={}))[u]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}n(null,r)}})},A.prototype._tinySDF=function(t,n,r){var a=this.localIdeographFontFamily;if(a&&(e.isChar["CJK Unified Ideographs"](r)||e.isChar["Hangul Syllables"](r))){var i=t.tinySDF;if(!i){var o="400";/bold/i.test(n)?o="900":/medium/i.test(n)?o="500":/light/i.test(n)&&(o="200"),i=t.tinySDF=new A.TinySDF(24,3,8,.25,a,o)}return{id:r,bitmap:new e.AlphaImage({width:30,height:30},i.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},A.loadGlyphRange=function(t,n,r,a,i){var o=256*n,s=o+255,u=a.transformRequest(a.normalizeGlyphsURL(r).replace("{fontstack}",t).replace("{range}",o+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(u,function(t,n){if(t)i(t);else if(n){for(var r={},a=0,o=e.parseGlyphPBF(n);a<o.length;a+=1){var s=o[a];r[s.id]=s}i(null,r)}})},A.TinySDF=h;var y=function(){this.specification=e.styleSpec.light.position};y.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},y.prototype.interpolate=function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}};var b=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new y,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),x=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(b),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(void 0===n&&(n={}),!this._validate(e.validateLight,t,n))for(var r in t){var a=t[r];e.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),a):this._transitionable.setValue(r,a)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),w=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};w.prototype.getDash=function(e,t){var n=e.join(",")+String(t);return this.positions[n]||(this.positions[n]=this.addDash(e,t)),this.positions[n]},w.prototype.addDash=function(t,n){var r=n?7:0,a=2*r+1;if(this.nextRow+a>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var i=0,o=0;o<t.length;o++)i+=t[o];for(var s=this.width/i,u=s/2,c=t.length%2==1,l=-r;l<=r;l++)for(var d=this.nextRow+r+l,p=this.width*d,h=c?-t[t.length-1]:0,f=t[0],m=1,v=0;v<this.width;v++){for(;f<v/s;)h=f,f+=t[m],c&&m===t.length-1&&(f+=t[0]),m++;var g=Math.abs(v-h*s),A=Math.abs(v-f*s),y=Math.min(g,A),b=m%2==1,x=void 0;if(n){var w=r?l/r*(u+1):0;if(b){var _=u-Math.abs(w);x=Math.sqrt(y*y+_*_)}else x=u-Math.sqrt(y*y+w*w)}else x=(b?1:-1)*y;this.data[3+4*(p+v)]=Math.max(0,Math.min(255,x+128))}var k={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:i};return this.nextRow+=a,this.dirty=!0,k},w.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))};var _=function t(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var a=this.workerPool.acquire(this.id),i=0;i<a.length;i++){var o=a[i],s=new t.Actor(o,r,this.id);s.name="Worker "+i,this.actors.push(s)}};function k(t,n,r){var a=function(a,i){if(a)return r(a);if(i){var o=e.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(e){return e.id})),t.url&&(o.tiles=n.canonicalizeTileset(o,t.url)),r(null,o)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url),e.ResourceType.Source),a):e.browser.frame(function(){return a(null,t)})}_.prototype.broadcast=function(t,n,r){r=r||function(){},e.asyncAll(this.actors,function(e,r){e.send(t,n,r)},r)},_.prototype.send=function(e,t,n,r){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(e,t,n),r},_.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=e.Actor;var O=function(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24};O.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},O.prototype.contains=function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),a=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),i=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<i&&t.y>=a&&t.y<o};var E=function(t){function n(n,r,a,i){if(t.call(this),this.id=n,this.dispatcher=a,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,e.extend(this,e.pick(r,["url","scheme","tileSize"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._requestManager,function(n,r){t._tileJSONRequest=null,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new O(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,null),a={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function i(e,r){return t.aborted?n(null):e&&404!==e.status?n(e):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}a.request.collectResourceTiming=this._collectResourceTiming,void 0===t.workerID||"expired"===t.state?t.workerID=this.dispatcher.send("loadTile",a,i.bind(this)):"loading"===t.state?t.reloadCallback=n:this.dispatcher.send("reloadTile",a,i.bind(this),t.workerID)},n.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),S=function(t){function n(n,r,a,i){t.call(this),this.id=n,this.dispatcher=a,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._requestManager,function(n,r){t._tileJSONRequest=null,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new O(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var r=this,a=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(a,e.ResourceType.Tile),function(a,i){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(a)t.state="errored",n(a);else if(i){r.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=r.map.painter.context,s=o.gl;t.texture=r.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new e.Texture(o,i,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),t.state="loaded",n(null)}})},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),C=function(t){function n(n,r,a,i){t.call(this,n,r,a,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({},r),this.encoding=r.encoding||"mapbox"}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,a){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var i=e.browser.getImageData(a),o={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:i,encoding:this.encoding};t.workerID&&"expired"!==t.state||(t.workerID=this.dispatcher.send("loadDEMTile",o,function(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,r=Math.pow(2,n.z),a=(n.x-1+r)%r,i=0===n.x?t.wrap-1:t.wrap,o=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,u={};return u[new e.OverscaledTileID(t.overscaledZ,i,n.z,a,n.y).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(u[new e.OverscaledTileID(t.overscaledZ,i,n.z,a,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new e.OverscaledTileID(t.overscaledZ,i,n.z,a,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),u},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:e.uid,source:this.id},void 0,e.workerID)},n}(S),T=function(t){function n(n,r,a,i){t.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=a,this.setEventedParent(i),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution);var o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*o,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:e.EXTENT,radius:(r.clusterRadius||50)*o,log:!1},clusterProperties:r.clusterProperties},r.workerOptions)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(n){if(n)t.fire(new e.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(r.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",r))}})},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(t){if(t)n.fire(new e.ErrorEvent(t));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event("data",r))}}),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t,this.workerID),this},n.prototype.getClusterChildren=function(e,t){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t,this.workerID),this},n.prototype.getClusterLeaves=function(e,t,n,r){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r,this.workerID),this},n.prototype._updateWorkerData=function(t){var n=this,r=e.extend({},this.workerOptions),a=this._data;"string"==typeof a?(r.request=this.map._requestManager.transformRequest(e.browser.resolveURL(a),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(a),this.workerID=this.dispatcher.send(this.type+".loadData",r,function(e,a){n._removed||a&&a.abandoned||(n._loaded=!0,a&&a.resourceTiming&&a.resourceTiming[n.id]&&(n._resourceTiming=a.resourceTiming[n.id].slice(0)),n.dispatcher.send(n.type+".coalesce",{source:r.source},null,n.workerID),t(e))},this.workerID)},n.prototype.loadTile=function(t,n){var r=this,a=void 0===t.workerID?"loadTile":"reloadTile",i={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(a,i,function(e,i){return t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(i,r.map.painter,"reloadTile"===a),n(null))},this.workerID)},n.prototype.abortTile=function(e){e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},n.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),I=function(t){function n(e,n,r,a){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(a),this.options=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(t,n){var r=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),function(a,i){a?r.fire(new e.ErrorEvent(a)):i&&(r.image=i,t&&(r.coordinates=t),n&&n(),r._finishLoading())})},n.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,function(){t.texture=null}),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var n=1/0,r=1/0,a=-1/0,i=-1/0,o=0,s=t;o<s.length;o+=1){var u=s[o];n=Math.min(n,u.x),r=Math.min(r,u.y),a=Math.max(a,u.x),i=Math.max(i,u.y)}var c=a-n,l=i-r,d=Math.max(c,l),p=Math.max(0,Math.floor(-Math.log(d)/Math.LN2)),h=Math.pow(2,p);return new e.CanonicalTileID(p,Math.floor((n+a)/2*h),Math.floor((r+i)/2*h))}(r),this.minzoom=this.maxzoom=this.tileID.z;var a=r.map(function(e){return n.tileID.getTilePoint(e)._round()});return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(a[0].x,a[0].y,0,0),this._boundsArray.emplaceBack(a[1].x,a[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(a[3].x,a[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(a[2].x,a[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var a=this.tiles[r];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented),j=function(t){function n(e,n,r,a){t.call(this,e,n,r,a),this.roundZoom=!0,this.type="video",this.options=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this,n=this.options;this.urls=[];for(var r=0,a=n.urls;r<a.length;r+=1){var i=a[r];this.urls.push(this.map._requestManager.transformRequest(i,e.ResourceType.Source).url)}e.getVideo(this.urls,function(n,r){n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.addEventListener("playing",function(){t.map.triggerRepaint()}),t.map&&t.video.play(),t._finishLoading())})},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var a=this.tiles[r];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(I),M=function(t){function n(n,r,a,i){t.call(this,n,r,a,i),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some(function(e){return!Array.isArray(e)||2!==e.length||e.some(function(e){return"number"!=typeof e})})||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var a in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var i=this.tiles[a];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(I),N={vector:E,raster:S,"raster-dem":C,geojson:T,video:j,image:I,canvas:M},D=function(t,n,r,a){var i=new N[n.type](t,n,r,a);if(i.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+i.id);return e.bindAll(["load","abort","unload","serialize","prepare"],i),i};function R(t,n){var r=e.identity([]);return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function P(e,t,n,r,a){var i=function(e,t,n){if(e)for(var r=0,a=e;r<a.length;r+=1){var i=t[a[r]];if(i&&i.source===n&&"fill-extrusion"===i.type)return!0}else for(var o in t){var s=t[o];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(r&&r.layers,t,e.id),o=a.maxPitchScaleFactor(),s=e.tilesIn(n,o,i);s.sort(L);for(var u=[],c=0,l=s;c<l.length;c+=1){var d=l[c];u.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(t,e._state,d.queryGeometry,d.cameraQueryGeometry,d.scale,r,a,o,R(e.transform,d.tileID))})}var p=function(e){for(var t={},n={},r=0,a=e;r<a.length;r+=1){var i=a[r],o=i.queryResults,s=i.wrappedTileID,u=n[s]=n[s]||{};for(var c in o)for(var l=o[c],d=u[c]=u[c]||{},p=t[c]=t[c]||[],h=0,f=l;h<f.length;h+=1){var m=f[h];d[m.featureIndex]||(d[m.featureIndex]=!0,p.push(m))}}return t}(u);for(var h in p)p[h].forEach(function(t){var n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r});return p}function L(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var F=function(e,t){this.max=e,this.onRemove=t,this.reset()};F.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var r=n[t];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},F.prototype.add=function(e,t,n){var r=this,a=e.wrapped().key;void 0===this.data[a]&&(this.data[a]=[]);var i={value:t,timeout:void 0};if(void 0!==n&&(i.timeout=setTimeout(function(){r.remove(e,i)},n)),this.data[a].push(i),this.order.push(a),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},F.prototype.has=function(e){return e.wrapped().key in this.data},F.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},F.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},F.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},F.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),a=this.data[n][r];return this.data[n].splice(r,1),a.timeout&&clearTimeout(a.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(a.value),this.order.splice(this.order.indexOf(n),1),this},F.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this};var B=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};B.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},B.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},B.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var z={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},U=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var a=e.gl;this.buffer=a.createBuffer(),e.bindVertexBuffer.set(this.buffer),a.bufferData(a.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};U.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},U.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},U.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],a=t.attributes[r.name];void 0!==a&&e.enableVertexAttribArray(a)}},U.prototype.setVertexAttribPointers=function(e,t,n){for(var r=0;r<this.attributes.length;r++){var a=this.attributes[r],i=t.attributes[a.name];void 0!==i&&e.vertexAttribPointer(i,a.components,e[z[a.type]],!1,this.itemSize,a.offset+this.itemSize*(n||0))}},U.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var V=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};V.prototype.get=function(){return this.current},V.prototype.set=function(e){},V.prototype.getDefault=function(){return this.default},V.prototype.setDefault=function(){this.set(this.default)};var W=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(V),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(V),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(V),q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(V),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(V),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(V),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(V),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(V),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(V),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(V),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(V),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),re=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(V),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(V),ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(V),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(V),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(V),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(V),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(V),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(V),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(V),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(V),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(V),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(V),ve=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(V),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(V),Ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),be=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t}(V),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(be),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(be),_e=function(e,t,n){this.context=e,this.width=t,this.height=n;var r=e.gl,a=this.framebuffer=r.createFramebuffer();this.colorAttachment=new xe(e,a),this.depthAttachment=new we(e,a)};_e.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t);var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n),e.deleteFramebuffer(this.framebuffer)};var ke=function(e,t,n){this.func=e,this.mask=t,this.range=n};ke.ReadOnly=!1,ke.ReadWrite=!0,ke.disabled=new ke(519,ke.ReadOnly,[0,1]);var Oe=function(e,t,n,r,a,i){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=a,this.pass=i};Oe.disabled=new Oe({func:519,mask:0},0,0,7680,7680,7680);var Ee=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};Ee.disabled=new Ee(Ee.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Ee.unblended=new Ee(Ee.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ee.alphaBlended=new Ee([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Se=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};Se.disabled=new Se(!1,1029,2305),Se.backCCW=new Se(!0,1029,2305);var Ce=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new W(this),this.clearDepth=new G(this),this.clearStencil=new H(this),this.colorMask=new q(this),this.depthMask=new K(this),this.stencilMask=new X(this),this.stencilFunc=new Q(this),this.stencilOp=new Y(this),this.stencilTest=new $(this),this.depthRange=new Z(this),this.depthTest=new J(this),this.depthFunc=new ee(this),this.blend=new te(this),this.blendFunc=new ne(this),this.blendColor=new re(this),this.blendEquation=new ae(this),this.cullFace=new ie(this),this.cullFaceSide=new oe(this),this.frontFace=new se(this),this.program=new ue(this),this.activeTexture=new ce(this),this.viewport=new le(this),this.bindFramebuffer=new de(this),this.bindRenderbuffer=new pe(this),this.bindTexture=new he(this),this.bindVertexBuffer=new fe(this),this.bindElementBuffer=new me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ve(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new Ae(this),this.pixelStoreUnpackFlipY=new ye(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear")};Ce.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ce.prototype.createIndexBuffer=function(e,t){return new B(this,e,t)},Ce.prototype.createVertexBuffer=function(e,t,n){return new U(this,e,t,n)},Ce.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,a=r.createRenderbuffer();return this.bindRenderbuffer.set(a),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),a},Ce.prototype.createFramebuffer=function(e,t){return new _e(this,e,t)},Ce.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,a=0;t&&(a|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(a|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(a)},Ce.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Ce.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Ce.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Ce.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ee.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Ce.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Te=function(t){function n(n,r,a){var i=this;t.call(this),this.id=n,this.dispatcher=a,this.on("data",function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))}),this.on("error",function(){i._sourceErrored=!0}),this._source=D(n,r,a,this),this._tiles={},this._cache=new F(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,function(){})},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,function(){})},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Ie)},n.prototype.getRenderableIds=function(t){var n=this,r=[];for(var a in this._tiles)this._isIdRenderable(+a,t)&&r.push(+a);return t?r.sort(function(t,r){var a=n._tiles[t].tileID,i=n._tiles[r].tileID,o=new e.Point(a.canonical.x,a.canonical.y)._rotate(n.transform.angle),s=new e.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle);return a.overscaledZ-i.overscaledZ||s.y-o.y||s.x-o.x}):r.sort(Ie)},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,r,a){if(a)return t.state="errored",void(404!==a.status?this._source.fire(new e.ErrorEvent(a,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var a=this.getTileByID(r);i(e,a),i(a,e)}}function i(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,a=Math.pow(2,e.tileID.canonical.z),i=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+a)?n+=a:1===Math.abs(n-a)&&(n-=a)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[i]&&(e.neighboringTiles[i].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},n.prototype._retainLoadedChildren=function(e,t,n,r){for(var a in this._tiles){var i=this._tiles[a];if(!(r[a]||!i.hasData()||i.tileID.overscaledZ<=t||i.tileID.overscaledZ>n)){for(var o=i.tileID;i&&i.tileID.overscaledZ>t+1;){var s=i.tileID.scaledTo(i.tileID.overscaledZ-1);(i=this._tiles[s.key])&&i.hasData()&&(o=s)}for(var u=o;u.overscaledZ>t;)if(e[(u=u.scaledTo(u.overscaledZ-1)).key]){r[o.key]=o;break}}}},n.prototype.findLoadedParent=function(e,t){for(var n=e.overscaledZ-1;n>=t;n--){var r=e.scaledTo(n);if(!r)return;var a=String(r.key),i=this._tiles[a];if(i&&i.hasData())return i;if(this._cache.has(r))return this._cache.get(r)}},n.prototype.updateCacheSize=function(e){var t=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),n=Math.floor(5*t),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},n.prototype.handleWrapJump=function(e){var t=(e-(void 0===this._prevLng?e:this._prevLng))/360,n=Math.round(t);if(this._prevLng=e,n){var r={};for(var a in this._tiles){var i=this._tiles[a];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+n),r[i.tileID.key]=i}for(var o in this._tiles=r,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var s in this._tiles){var u=this._tiles[s];this._setTileReloadTimer(s,u)}}},n.prototype.update=function(t){var r=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var a;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?a=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(a=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(a=a.filter(function(e){return r._source.hasTile(e)}))):a=[];var i=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),o=Math.max(i-n.maxOverzooming,this._source.minzoom),s=Math.max(i+n.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(a,i);if(je(this._source.type)){for(var c={},l={},d=0,p=Object.keys(u);d<p.length;d+=1){var h=p[d],f=u[h],m=this._tiles[h];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=e.browser.now())){var v=this.findLoadedParent(f,o);v&&(this._addTile(v.tileID),c[v.tileID.key]=v.tileID),l[h]=f}}for(var g in this._retainLoadedChildren(l,i,s,u),c)u[g]||(this._coveredTiles[g]=!0,u[g]=c[g])}for(var A in u)this._tiles[A].clearFadeHold();for(var y=0,b=e.keysDifference(this._tiles,u);y<b.length;y+=1){var x=b[y],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var r={},a={},i=Math.max(t-n.maxOverzooming,this._source.minzoom),o=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},u=0,c=e;u<c.length;u+=1){var l=c[u],d=this._addTile(l);r[l.key]=l,d.hasData()||t<this._source.maxzoom&&(s[l.key]=l)}this._retainLoadedChildren(s,t,o,r);for(var p=0,h=e;p<h.length;p+=1){var f=h[p],m=this._tiles[f.key];if(!m.hasData()){if(t+1>this._source.maxzoom){var v=f.children(this._source.maxzoom)[0],g=this.getTile(v);if(g&&g.hasData()){r[v.key]=v;continue}}else{var A=f.children(this._source.maxzoom);if(r[A[0].key]&&r[A[1].key]&&r[A[2].key]&&r[A[3].key])continue}for(var y=m.wasRequested(),b=f.overscaledZ-1;b>=i;--b){var x=f.scaledTo(b);if(a[x.key])break;if(a[x.key]=!0,!(m=this.getTile(x))&&y&&(m=this._addTile(x)),m&&(r[x.key]=x,y=m.wasRequested(),m.hasData()))break}}}return r},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=Boolean(n);return r||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout(function(){n._reloadTile(e,"expired"),delete n._timers[e]},r))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,r){var a=this,i=[],o=this.transform;if(!o)return i;for(var s=r?o.getCameraQueryGeometry(t):t,u=t.map(function(e){return o.pointCoordinate(e)}),c=s.map(function(e){return o.pointCoordinate(e)}),l=this.getIds(),d=1/0,p=1/0,h=-1/0,f=-1/0,m=0,v=c;m<v.length;m+=1){var g=v[m];d=Math.min(d,g.x),p=Math.min(p,g.y),h=Math.max(h,g.x),f=Math.max(f,g.y)}for(var A=function(t){var r=a._tiles[l[t]];if(!r.holdingForFade()){var s=r.tileID,m=Math.pow(2,o.zoom-r.tileID.overscaledZ),v=n*r.queryPadding*e.EXTENT/r.tileSize/m,g=[s.getTilePoint(new e.MercatorCoordinate(d,p)),s.getTilePoint(new e.MercatorCoordinate(h,f))];if(g[0].x-v<e.EXTENT&&g[0].y-v<e.EXTENT&&g[1].x+v>=0&&g[1].y+v>=0){var A=u.map(function(e){return s.getTilePoint(e)}),y=c.map(function(e){return s.getTilePoint(e)});i.push({tile:r,tileID:s,queryGeometry:A,cameraQueryGeometry:y,scale:m})}}},y=0;y<l.length;y++)A(y);return i},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map(function(e){return t._tiles[e].tileID}),r=0,a=n;r<a.length;r+=1){var i=a[r];i.posMatrix=this.transform.calculatePosMatrix(i.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(je(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){e=e||"_geojsonTileLayer",this._state.updateState(e,t,n)},n.prototype.removeFeatureState=function(e,t,n){e=e||"_geojsonTileLayer",this._state.removeFeatureState(e,t,n)},n.prototype.getFeatureState=function(e,t){return e=e||"_geojsonTileLayer",this._state.getState(e,t)},n}(e.Evented);function Ie(e,t){return e%32-t%32||t-e}function je(e){return"raster"===e||"image"===e||"video"===e}function Me(){return new e.window.Worker(Jr.workerUrl)}Te.maxOverzooming=10,Te.maxUnderzooming=3;var Ne=function(){this.active={}};Ne.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Ne.workerCount;)this.workers.push(new Me);return this.active[e]=!0,this.workers.slice()},Ne.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)};var De,Re=Math.floor(e.browser.hardwareConcurrency/2);function Pe(t,n){var r={};for(var a in t)"ref"!==a&&(r[a]=t[a]);return e.refProperties.forEach(function(e){e in n&&(r[e]=n[e])}),r}function Le(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Pe(e[r],t[e[r].ref]));return e}Ne.workerCount=Math.max(Math.min(Re,6),1);var Fe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Be(e,t,n){n.push({command:Fe.addSource,args:[e,t[e]]})}function ze(e,t,n){t.push({command:Fe.removeSource,args:[e]}),n[e]=!0}function Ue(e,t,n,r){ze(e,n,r),Be(e,t,n)}function Ve(t,n,r){var a;for(a in t[r])if(t[r].hasOwnProperty(a)&&"data"!==a&&!e.deepEqual(t[r][a],n[r][a]))return!1;for(a in n[r])if(n[r].hasOwnProperty(a)&&"data"!==a&&!e.deepEqual(t[r][a],n[r][a]))return!1;return!0}function We(t,n,r,a,i,o){var s;for(s in n=n||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:o,args:[a,s,n[s],i]}));for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:o,args:[a,s,n[s],i]}))}function Ge(e){return e.id}function He(e,t){return e[t.id]=t,e}var qe=function(e,t,n){var r=this.boxCells=[],a=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var i=0;i<this.xCellCount*this.yCellCount;i++)r.push([]),a.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};qe.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},qe.prototype.insert=function(e,t,n,r,a){this._forEachCell(t,n,r,a,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(a)},qe.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},qe.prototype._insertBoxCell=function(e,t,n,r,a,i){this.boxCells[a].push(i)},qe.prototype._insertCircleCell=function(e,t,n,r,a,i){this.circleCells[a].push(i)},qe.prototype._query=function(e,t,n,r,a,i){if(n<0||e>this.width||r<0||t>this.height)return!a&&[];var o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(a)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var c=this.circles[3*u],l=this.circles[3*u+1],d=this.circles[3*u+2];o.push({key:this.circleKeys[u],x1:c-d,y1:l-d,x2:c+d,y2:l+d})}return i?o.filter(i):o}var p={hitTest:a,seenUids:{box:{},circle:{}}};return this._forEachCell(e,t,n,r,this._queryCell,o,p,i),a?o.length>0:o},qe.prototype._queryCircle=function(e,t,n,r,a){var i=e-n,o=e+n,s=t-n,u=t+n;if(o<0||i>this.width||u<0||s>this.height)return!r&&[];var c=[],l={hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(i,s,o,u,this._queryCellCircle,c,l,a),r?c.length>0:c},qe.prototype.query=function(e,t,n,r,a){return this._query(e,t,n,r,!1,a)},qe.prototype.hitTest=function(e,t,n,r,a){return this._query(e,t,n,r,!0,a)},qe.prototype.hitTestCircle=function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)},qe.prototype._queryCell=function(e,t,n,r,a,i,o,s){var u=o.seenUids,c=this.boxCells[a];if(null!==c)for(var l=this.bboxes,d=0,p=c;d<p.length;d+=1){var h=p[d];if(!u.box[h]){u.box[h]=!0;var f=4*h;if(e<=l[f+2]&&t<=l[f+3]&&n>=l[f+0]&&r>=l[f+1]&&(!s||s(this.boxKeys[h]))){if(o.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[h],x1:l[f],y1:l[f+1],x2:l[f+2],y2:l[f+3]})}}}var m=this.circleCells[a];if(null!==m)for(var v=this.circles,g=0,A=m;g<A.length;g+=1){var y=A[g];if(!u.circle[y]){u.circle[y]=!0;var b=3*y;if(this._circleAndRectCollide(v[b],v[b+1],v[b+2],e,t,n,r)&&(!s||s(this.circleKeys[y]))){if(o.hitTest)return i.push(!0),!0;var x=v[b],w=v[b+1],_=v[b+2];i.push({key:this.circleKeys[y],x1:x-_,y1:w-_,x2:x+_,y2:w+_})}}}},qe.prototype._queryCellCircle=function(e,t,n,r,a,i,o,s){var u=o.circle,c=o.seenUids,l=this.boxCells[a];if(null!==l)for(var d=this.bboxes,p=0,h=l;p<h.length;p+=1){var f=h[p];if(!c.box[f]){c.box[f]=!0;var m=4*f;if(this._circleAndRectCollide(u.x,u.y,u.radius,d[m+0],d[m+1],d[m+2],d[m+3])&&(!s||s(this.boxKeys[f])))return i.push(!0),!0}}var v=this.circleCells[a];if(null!==v)for(var g=this.circles,A=0,y=v;A<y.length;A+=1){var b=y[A];if(!c.circle[b]){c.circle[b]=!0;var x=3*b;if(this._circlesCollide(g[x],g[x+1],g[x+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[b])))return i.push(!0),!0}}},qe.prototype._forEachCell=function(e,t,n,r,a,i,o,s){for(var u=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),l=this._convertToXCellCoord(n),d=this._convertToYCellCoord(r),p=u;p<=l;p++)for(var h=c;h<=d;h++){var f=this.xCellCount*h+p;if(a.call(this,e,t,n,r,f,i,o,s))return}},qe.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},qe.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},qe.prototype._circlesCollide=function(e,t,n,r,a,i){var o=r-e,s=a-t,u=n+i;return u*u>o*o+s*s},qe.prototype._circleAndRectCollide=function(e,t,n,r,a,i,o){var s=(i-r)/2,u=Math.abs(e-(r+s));if(u>s+n)return!1;var c=(o-a)/2,l=Math.abs(t-(a+c));if(l>c+n)return!1;if(u<=s||l<=c)return!0;var d=u-s,p=l-c;return d*d+p*p<=n*n};var Ke=e.properties.layout;function Xe(t,n,r,a,i){var o=e.create();return n?(e.scale(o,o,[1/i,1/i,1]),r||e.rotateZ(o,o,a.angle)):e.multiply(o,a.labelPlaneMatrix,t),o}function Qe(t,n,r,a,i){if(n){var o=e.clone(t);return e.scale(o,o,[i,i,1]),r||e.rotateZ(o,o,-a.angle),o}return a.glCoordMatrix}function Ye(t,n){var r=[t.x,t.y,0,1];ot(r,r,n);var a=r[3];return{point:new e.Point(r[0]/a,r[1]/a),signedDistanceFromCamera:a}}function $e(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function Ze(t,n,r,a,i,o,s,u){var c=a?t.textSizeData:t.iconSizeData,l=e.evaluateSizeForZoom(c,r.transform.zoom,Ke.properties[a?"text-size":"icon-size"]),d=[256/r.width*2+1,256/r.height*2+1],p=a?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();for(var h=t.lineVertexArray,f=a?t.text.placedSymbolArray:t.icon.placedSymbolArray,m=r.transform.width/r.transform.height,v=!1,g=0;g<f.length;g++){var A=f.get(g);if(A.hidden||A.writingMode===e.WritingMode.vertical&&!v)it(A.numGlyphs,p);else{v=!1;var y=[A.anchorX,A.anchorY,0,1];if(e.transformMat4(y,y,n),$e(y,d)){var b=.5+y[3]/r.transform.cameraToCenterDistance*.5,x=e.evaluateSizeForFeature(c,l,A),w=s?x*b:x/b,_=new e.Point(A.anchorX,A.anchorY),k=Ye(_,i).point,O={},E=tt(A,w,!1,u,n,i,o,t.glyphOffsetArray,h,p,k,_,O,m);v=E.useVertical,(E.notEnoughRoom||v||E.needsFlipping&&tt(A,w,!0,u,n,i,o,t.glyphOffsetArray,h,p,k,_,O,m).notEnoughRoom)&&it(A.numGlyphs,p)}else it(A.numGlyphs,p)}}a?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function Je(e,t,n,r,a,i,o,s,u,c,l,d){var p=s.glyphStartIndex+s.numGlyphs,h=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,m=t.getoffsetX(s.glyphStartIndex),v=t.getoffsetX(p-1),g=rt(e*m,n,r,a,i,o,s.segment,h,f,u,c,l,d);if(!g)return null;var A=rt(e*v,n,r,a,i,o,s.segment,h,f,u,c,l,d);return A?{first:g,last:A}:null}function et(t,n,r,a){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*a?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function tt(t,n,r,a,i,o,s,u,c,l,d,p,h,f){var m,v=n/24,g=t.lineOffsetX*v,A=t.lineOffsetY*v;if(t.numGlyphs>1){var y=t.glyphStartIndex+t.numGlyphs,b=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,w=Je(v,u,g,A,r,d,p,t,c,o,h,!1);if(!w)return{notEnoughRoom:!0};var _=Ye(w.first.point,s).point,k=Ye(w.last.point,s).point;if(a&&!r){var O=et(t.writingMode,_,k,f);if(O)return O}m=[w.first];for(var E=t.glyphStartIndex+1;E<y-1;E++)m.push(rt(v*u.getoffsetX(E),g,A,r,d,p,t.segment,b,x,c,o,h,!1));m.push(w.last)}else{if(a&&!r){var S=Ye(p,i).point,C=t.lineStartIndex+t.segment+1,T=new e.Point(c.getx(C),c.gety(C)),I=Ye(T,i),j=I.signedDistanceFromCamera>0?I.point:nt(p,T,S,1,i),M=et(t.writingMode,S,j,f);if(M)return M}var N=rt(v*u.getoffsetX(t.glyphStartIndex),g,A,r,d,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,o,h,!1);if(!N)return{notEnoughRoom:!0};m=[N]}for(var D=0,R=m;D<R.length;D+=1){var P=R[D];e.addDynamicAttributes(l,P.point,P.angle)}return{}}function nt(e,t,n,r,a){var i=Ye(e.add(e.sub(t)._unit()),a).point,o=n.sub(i);return n.add(o._mult(r/o.mag()))}function rt(t,n,r,a,i,o,s,u,c,l,d,p,h){var f=a?t-n:t+n,m=f>0?1:-1,v=0;a&&(m*=-1,v=Math.PI),m<0&&(v+=Math.PI);for(var g=m>0?u+s:u+s+1,A=g,y=i,b=i,x=0,w=0,_=Math.abs(f);x+w<=_;){if((g+=m)<u||g>=c)return null;if(b=y,void 0===(y=p[g])){var k=new e.Point(l.getx(g),l.gety(g)),O=Ye(k,d);if(O.signedDistanceFromCamera>0)y=p[g]=O.point;else{var E=g-m;y=nt(0===x?o:new e.Point(l.getx(E),l.gety(E)),k,b,_-x+1,d)}}x+=w,w=b.dist(y)}var S=(_-x)/w,C=y.sub(b),T=C.mult(S)._add(b);return T._add(C._unit()._perp()._mult(r*m)),{point:T,angle:v+Math.atan2(y.y-b.y,y.x-b.x),tileDistance:h?{prevTileDistance:g-m===A?0:l.gettileUnitDistanceFromAnchor(g-m),lastSegmentViewportDistance:_-x}:null}}var at=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function it(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(at,3*r)}}function ot(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e[3]=n[3]*r+n[7]*a+n[15],e}var st=function(e,t,n){void 0===t&&(t=new qe(e.width+200,e.height+200,25)),void 0===n&&(n=new qe(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function ut(e,t,n){e[t+4]=n?1:0}function ct(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}st.prototype.placeCollisionBox=function(e,t,n,r,a){var i=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),o=n*i.perspectiveRatio,s=e.x1*o+i.point.x,u=e.y1*o+i.point.y,c=e.x2*o+i.point.x,l=e.y2*o+i.point.y;return!this.isInsideGrid(s,u,c,l)||!t&&this.grid.hitTest(s,u,c,l,a)?{box:[],offscreen:!1}:{box:[s,u,c,l],offscreen:this.isOffscreen(s,u,c,l)}},st.prototype.approximateTileDistance=function(e,t,n,r,a){var i=a?1:r/this.pitchfactor,o=e.lastSegmentViewportDistance*n;return e.prevTileDistance+o+(i-1)*o*Math.abs(Math.sin(t))},st.prototype.placeCollisionCircles=function(t,n,r,a,i,o,s,u,c,l,d,p,h){var f=[],m=this.projectAnchor(c,i.anchorX,i.anchorY),v=u/24,g=i.lineOffsetX*u,A=i.lineOffsetY*u,y=new e.Point(i.anchorX,i.anchorY),b=Je(v,s,g,A,!1,Ye(y,l).point,y,i,o,l,{},!0),x=!1,w=!1,_=!0,k=m.perspectiveRatio*a,O=1/(a*r),E=0,S=0;b&&(E=this.approximateTileDistance(b.first.tileDistance,b.first.angle,O,m.cameraDistance,p),S=this.approximateTileDistance(b.last.tileDistance,b.last.angle,O,m.cameraDistance,p));for(var C=0;C<t.length;C+=5){var T=t[C],I=t[C+1],j=t[C+2],M=t[C+3];if(!b||M<-E||M>S)ut(t,C,!1);else{var N=this.projectPoint(c,T,I),D=j*k;if(f.length>0){var R=N.x-f[f.length-4],P=N.y-f[f.length-3];if(D*D*2>R*R+P*P&&C+8<t.length){var L=t[C+8];if(L>-E&&L<S){ut(t,C,!1);continue}}}var F=C/5;f.push(N.x,N.y,D,F),ut(t,C,!0);var B=N.x-D,z=N.y-D,U=N.x+D,V=N.y+D;if(_=_&&this.isOffscreen(B,z,U,V),w=w||this.isInsideGrid(B,z,U,V),!n&&this.grid.hitTestCircle(N.x,N.y,D,h)){if(!d)return{circles:[],offscreen:!1};x=!0}}}return{circles:x||!w?[]:f,offscreen:_}},st.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,a=1/0,i=-1/0,o=-1/0,s=0,u=t;s<u.length;s+=1){var c=u[s],l=new e.Point(c.x+100,c.y+100);r=Math.min(r,l.x),a=Math.min(a,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y),n.push(l)}for(var d={},p={},h=0,f=this.grid.query(r,a,i,o).concat(this.ignoredGrid.query(r,a,i,o));h<f.length;h+=1){var m=f[h],v=m.key;if(void 0===d[v.bucketInstanceId]&&(d[v.bucketInstanceId]={}),!d[v.bucketInstanceId][v.featureIndex]){var g=[new e.Point(m.x1,m.y1),new e.Point(m.x2,m.y1),new e.Point(m.x2,m.y2),new e.Point(m.x1,m.y2)];e.polygonIntersectsPolygon(n,g)&&(d[v.bucketInstanceId][v.featureIndex]=!0,void 0===p[v.bucketInstanceId]&&(p[v.bucketInstanceId]=[]),p[v.bucketInstanceId].push(v.featureIndex))}}return p},st.prototype.insertCollisionBox=function(e,t,n,r,a){var i={bucketInstanceId:n,featureIndex:r,collisionGroupID:a};(t?this.ignoredGrid:this.grid).insert(i,e[0],e[1],e[2],e[3])},st.prototype.insertCollisionCircles=function(e,t,n,r,a){for(var i=t?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:r,collisionGroupID:a},s=0;s<e.length;s+=4)i.insertCircle(o,e[s],e[s+1],e[s+2])},st.prototype.projectAnchor=function(e,t,n){var r=[t,n,0,1];return ot(r,r,e),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},st.prototype.projectPoint=function(t,n,r){var a=[n,r,0,1];return ot(a,a,t),new e.Point((a[0]/a[3]+1)/2*this.transform.width+100,(-a[1]/a[3]+1)/2*this.transform.height+100)},st.prototype.projectAndGetPerspectiveRatio=function(t,n,r){var a=[n,r,0,1];return ot(a,a,t),{point:new e.Point((a[0]/a[3]+1)/2*this.transform.width+100,(-a[1]/a[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/a[3]*.5}},st.prototype.isOffscreen=function(e,t,n,r){return n<100||e>=this.screenRightBoundary||r<100||t>this.screenBottomBoundary},st.prototype.isInsideGrid=function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary};var lt=function(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n};lt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var dt=function(e,t,n,r,a){this.text=new lt(e?e.text:null,t,n,a),this.icon=new lt(e?e.icon:null,t,r,a)};dt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var pt=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},ht=function(e,t,n,r,a){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=a},ft=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function mt(t,n,r,a,i){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*n,u=-(o.verticalAlign-.5)*r,c=e.evaluateRadialOffset(t,a);return new e.Point(s+c[0]*i,u+c[1]*i)}ft.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var vt=function(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new st(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new ft(n),this.prevPlacement=r,r&&(r.prevPlacement=void 0)};function gt(e,t,n,r,a){e.emplaceBack(t?1:0,n?1:0,r||0,a||0),e.emplaceBack(t?1:0,n?1:0,r||0,a||0),e.emplaceBack(t?1:0,n?1:0,r||0,a||0),e.emplaceBack(t?1:0,n?1:0,r||0,a||0)}vt.prototype.placeLayerTile=function(t,n,r,a){var i=n.getBucket(t),o=n.latestFeatureIndex;if(i&&o&&t.id===i.layerIds[0]){var s=n.collisionBoxArray,u=i.layers[0].layout,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),l=n.tileSize/e.EXTENT,d=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),p=Xe(d,"map"===u.get("text-pitch-alignment"),"map"===u.get("text-rotation-alignment"),this.transform,ct(n,1,this.transform.zoom)),h=Xe(d,"map"===u.get("icon-pitch-alignment"),"map"===u.get("icon-rotation-alignment"),this.transform,ct(n,1,this.transform.zoom));this.retainedQueryData[i.bucketInstanceId]=new ht(i.bucketInstanceId,o,i.sourceLayerIndex,i.index,n.tileID),this.placeLayerBucket(i,d,p,h,c,l,r,n.holdingForFade(),a,s)}},vt.prototype.attemptAnchorPlacement=function(t,n,r,a,i,o,s,u,c,l,d,p,h,f){var m,v=mt(t,r,a,i,o),g=this.collisionIndex.placeCollisionBox(function(t,n,r,a,i,o){var s=t.x1,u=t.x2,c=t.y1,l=t.y2,d=t.anchorPointX,p=t.anchorPointY,h=new e.Point(n,r);return a&&h._rotate(i?o:-o),{x1:s+h.x,y1:c+h.y,x2:u+h.x,y2:l+h.y,anchorPointX:d,anchorPointY:p}}(n,v.x,v.y,s,u,this.transform.angle),p,c,l,d.predicate);if(g.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(m=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={radialOffset:i,width:r,height:a,anchor:t,textBoxScale:o,prevAnchor:m},this.markUsedJustification(f,t,h),g},vt.prototype.placeLayerBucket=function(t,n,r,a,i,o,s,u,c,l){var d=t.layers[0].layout,p=e.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,e.properties.layout.properties["text-size"]),h=d.get("text-optional"),f=d.get("icon-optional"),m=d.get("text-allow-overlap"),v=d.get("icon-allow-overlap"),g=m&&(v||!t.hasIconData()||f),A=v&&(m||!t.hasTextData()||h),y=this.collisionGroups.get(t.sourceID),b="map"===d.get("text-rotation-alignment"),x="map"===d.get("text-pitch-alignment");!t.collisionArrays&&l&&t.deserializeCollisionBoxes(l);for(var w=0;w<t.symbolInstances.length;w++){var _=t.symbolInstances.get(w);if(!c[_.crossTileID]){if(u){this.placements[_.crossTileID]=new pt(!1,!1,!1);continue}var k=!1,O=!1,E=!0,S=null,C=null,T=null,I=0,j=0,M=t.collisionArrays[w];M.textFeatureIndex&&(I=M.textFeatureIndex);var N=M.textBox;if(N)if(d.get("text-variable-anchor")){var D=N.x2-N.x1,R=N.y2-N.y1,P=_.textBoxScale,L=d.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[_.crossTileID]){var F=this.prevPlacement.variableOffsets[_.crossTileID];L[0]!==F.anchor&&(L=L.filter(function(e){return e!==F.anchor})).unshift(F.anchor)}for(var B=0,z=L;B<z.length;B+=1){var U=z[B];if(S=this.attemptAnchorPlacement(U,N,D,R,_.radialTextOffset,P,b,x,o,n,y,m,_,t)){k=!0;break}}if(!this.variableOffsets[_.crossTileID]&&this.prevPlacement){var V=this.prevPlacement.variableOffsets[_.crossTileID];V&&(this.variableOffsets[_.crossTileID]=V,this.markUsedJustification(t,V.anchor,_))}}else k=(S=this.collisionIndex.placeCollisionBox(N,d.get("text-allow-overlap"),o,n,y.predicate)).box.length>0;E=S&&S.offscreen;var W=M.textCircles;if(W){var G=t.text.placedSymbolArray.get(_.centerJustifiedTextSymbolIndex),H=e.evaluateSizeForFeature(t.textSizeData,p,G);C=this.collisionIndex.placeCollisionCircles(W,d.get("text-allow-overlap"),i,o,G,t.lineVertexArray,t.glyphOffsetArray,H,n,r,s,x,y.predicate),k=d.get("text-allow-overlap")||C.circles.length>0,E=E&&C.offscreen}M.iconFeatureIndex&&(j=M.iconFeatureIndex),M.iconBox&&(O=(T=this.collisionIndex.placeCollisionBox(M.iconBox,d.get("icon-allow-overlap"),o,n,y.predicate)).box.length>0,E=E&&T.offscreen);var q=h||0===_.numHorizontalGlyphVertices&&0===_.numVerticalGlyphVertices,K=f||0===_.numIconVertices;q||K?K?q||(O=O&&k):k=O&&k:O=k=O&&k,k&&S&&this.collisionIndex.insertCollisionBox(S.box,d.get("text-ignore-placement"),t.bucketInstanceId,I,y.ID),O&&T&&this.collisionIndex.insertCollisionBox(T.box,d.get("icon-ignore-placement"),t.bucketInstanceId,j,y.ID),k&&C&&this.collisionIndex.insertCollisionCircles(C.circles,d.get("text-ignore-placement"),t.bucketInstanceId,I,y.ID),this.placements[_.crossTileID]=new pt(k||g,O||A,E||t.justReloaded),c[_.crossTileID]=!0}}t.justReloaded=!1},vt.prototype.markUsedJustification=function(t,n,r){var a={left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex},i=a[e.getAnchorJustification(n)];for(var o in a){var s=a[o];s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=i>=0&&s!==i?0:r.crossTileID)}},vt.prototype.commit=function(e){this.commitTime=e;var t=this.prevPlacement,n=!1,r=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,a=t?t.opacities:{},i=t?t.variableOffsets:{};for(var o in this.placements){var s=this.placements[o],u=a[o];u?(this.opacities[o]=new dt(u,r,s.text,s.icon),n=n||s.text!==u.text.placed||s.icon!==u.icon.placed):(this.opacities[o]=new dt(null,r,s.text,s.icon,s.skipFade),n=n||s.text||s.icon)}for(var c in a){var l=a[c];if(!this.opacities[c]){var d=new dt(l,r,!1,!1);d.isHidden()||(this.opacities[c]=d,n=n||l.text.placed||l.icon.placed)}}for(var p in i)this.variableOffsets[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.variableOffsets[p]=i[p]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},vt.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,a=t;r<a.length;r+=1){var i=a[r],o=i.getBucket(e);o&&i.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,n,i.collisionBoxArray)}},vt.prototype.updateBucketOpacities=function(t,n,r){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();var a=t.layers[0].layout,i=new dt(null,0,!1,!1,!0),o=a.get("text-allow-overlap"),s=a.get("icon-allow-overlap"),u=a.get("text-variable-anchor"),c="map"===a.get("text-rotation-alignment"),l="map"===a.get("text-pitch-alignment"),d=new dt(null,0,o&&(s||!t.hasIconData()||a.get("icon-optional")),s&&(o||!t.hasTextData()||a.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasCollisionBoxData()||t.hasCollisionCircleData())&&t.deserializeCollisionBoxes(r);for(var p=0;p<t.symbolInstances.length;p++){var h=t.symbolInstances.get(p),f=h.numHorizontalGlyphVertices,m=h.numVerticalGlyphVertices,v=h.crossTileID,g=n[v],A=this.opacities[v];g?A=i:A||(A=d,this.opacities[v]=A),n[v]=!0;var y=f>0||m>0,b=h.numIconVertices>0;if(y){for(var x=Ot(A.text),w=(f+m)/4,_=0;_<w;_++)t.text.opacityVertexArray.emplaceBack(x);var k=A.text.isHidden()?1:0;[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex,h.verticalPlacedTextSymbolIndex].forEach(function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=k)});var O=this.variableOffsets[h.crossTileID];O&&this.markUsedJustification(t,O.anchor,h)}if(b){for(var E=Ot(A.icon),S=0;S<h.numIconVertices/4;S++)t.icon.opacityVertexArray.emplaceBack(E);t.icon.placedSymbolArray.get(p).hidden=A.icon.isHidden()}if(t.hasCollisionBoxData()||t.hasCollisionCircleData()){var C=t.collisionArrays[p];if(C){if(C.textBox){var T=new e.Point(0,0),I=!0;if(u){var j=this.variableOffsets[v];j?(T=mt(j.anchor,j.width,j.height,j.radialOffset,j.textBoxScale),c&&T._rotate(l?this.transform.angle:-this.transform.angle)):I=!1}gt(t.collisionBox.collisionVertexArray,A.text.placed,!I,T.x,T.y)}C.iconBox&&gt(t.collisionBox.collisionVertexArray,A.icon.placed,!1);var M=C.textCircles;if(M&&t.hasCollisionCircleData())for(var N=0;N<M.length;N+=5){var D=g||0===M[N+4];gt(t.collisionCircle.collisionVertexArray,A.text.placed,D)}}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},vt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration},vt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},vt.prototype.stillRecent=function(e){return this.commitTime+this.fadeDuration>e},vt.prototype.setStale=function(){this.stale=!0};var At=Math.pow(2,25),yt=Math.pow(2,24),bt=Math.pow(2,17),xt=Math.pow(2,16),wt=Math.pow(2,9),_t=Math.pow(2,8),kt=Math.pow(2,1);function Ot(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*At+t*yt+n*bt+t*xt+n*wt+t*_t+n*kt+t}var Et=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Et.prototype.continuePlacement=function(e,t,n,r,a){for(;this._currentTileIndex<e.length;){var i=e[this._currentTileIndex];if(t.placeLayerTile(r,i,n,this._seenCrossTileIDs),this._currentTileIndex++,a())return!0}};var St=function(e,t,n,r,a,i,o){this.placement=new vt(e,a,i,o),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};St.prototype.isDone=function(){return this._done},St.prototype.continuePlacement=function(t,n,r){for(var a=this,i=e.browser.now(),o=function(){var t=e.browser.now()-i;return!a._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new Et),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},St.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Ct=512/e.EXTENT/2,Tt=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<t.length;r++){var a=t.get(r),i=a.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:a.crossTileID,coord:this.getScaledCoordinates(a,e)})}};Tt.prototype.getScaledCoordinates=function(t,n){var r=n.canonical.z-this.tileID.canonical.z,a=Ct/Math.pow(2,r);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*a),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*a)}},Tt.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),a=0;a<e.length;a++){var i=e.get(a);if(!i.crossTileID){var o=this.indexedSymbolInstances[i.key];if(o)for(var s=this.getScaledCoordinates(i,t),u=0,c=o;u<c.length;u+=1){var l=c[u];if(Math.abs(l.coord.x-s.x)<=r&&Math.abs(l.coord.y-s.y)<=r&&!n[l.crossTileID]){n[l.crossTileID]=!0,i.crossTileID=l.crossTileID;break}}}}};var It=function(){this.maxCrossTileID=0};It.prototype.generate=function(){return++this.maxCrossTileID};var jt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};jt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],a={};for(var i in r){var o=r[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),a[o.tileID.key]=o}this.indexes[n]=a}this.lng=e},jt.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var a=this.usedCrossTileIDs[e.overscaledZ];for(var i in this.indexes){var o=this.indexes[i];if(Number(i)>e.overscaledZ)for(var s in o){var u=o[s];u.tileID.isChildOf(e)&&u.findMatches(t.symbolInstances,e,a)}else{var c=o[e.scaledTo(Number(i)).key];c&&c.findMatches(t.symbolInstances,e,a)}}for(var l=0;l<t.symbolInstances.length;l++){var d=t.symbolInstances.get(l);d.crossTileID||(d.crossTileID=n.generate(),a[d.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Tt(e,t.symbolInstances,t.bucketInstanceId),!0},jt.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,a=t.indexedSymbolInstances[n];r<a.length;r+=1){var i=a[r];delete this.usedCrossTileIDs[e][i.crossTileID]}},jt.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var a in r)e[r[a].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[a]),delete r[a],t=!0)}return t};var Mt=function(){this.layerIndexes={},this.crossTileIDs=new It,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Mt.prototype.addLayer=function(e,t,n){var r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new jt);var a=!1,i={};r.handleWrapJump(n);for(var o=0,s=t;o<s.length;o+=1){var u=s[o],c=u.getBucket(e);c&&e.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,c,this.crossTileIDs)&&(a=!0),i[c.bucketInstanceId]=!0)}return r.removeStaleBuckets(i)&&(a=!0),a},Mt.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach(function(e){t[e]=!0}),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var Nt=function(t,n){return e.emitValidationErrors(t,n&&n.filter(function(e){return"source.canvas"!==e.identifier}))},Dt=e.pick(Fe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Rt=e.pick(Fe,["setCenter","setZoom","setBearing","setPitch"]),Pt=function(t){function n(r,a){var i=this;void 0===a&&(a={}),t.call(this),this.map=r,this.dispatcher=new _((De||(De=new Ne),De),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new A(r._requestManager,a.localIdeographFontFamily),this.lineAtlas=new w(256,512),this.crossTileSymbolIndex=new Mt,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var o=this;this._rtlTextPluginCallback=n.registerForPluginAvailability(function(e){for(var t in o.dispatcher.broadcast("loadRTLTextPlugin",e.pluginURL,e.completionCallback),o.sourceCaches)o.sourceCaches[t].reload()}),this.on("data",function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=i.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in i._layers){var a=i._layers[r];a.source===n.id&&i._validateLayer(a)}}}})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.loadURL=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var a="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var i=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,a)})},n.prototype.loadJSON=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame(function(){r._request=null,r._load(t,!1!==n.validate)})},n.prototype._load=function(t,n){var r=this;if(!n||!Nt(this,e.validateStyle(t))){for(var a in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(a,t.sources[a],{validate:!1});t.sprite?this._spriteRequest=function(t,n,r){var a,i,o,s=e.browser.devicePixelRatio>1?"@2x":"",u=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),function(e,t){u=null,o||(o=e,a=t,l())}),c=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),function(e,t){c=null,o||(o=e,i=t,l())});function l(){if(o)r(o);else if(a&&i){var t=e.browser.getImageData(i),n={};for(var s in a){var u=a[s],c=u.width,l=u.height,d=u.x,p=u.y,h=u.sdf,f=u.pixelRatio,m=new e.RGBAImage({width:c,height:l});e.RGBAImage.copy(t,m,{x:d,y:p},{x:0,y:0},{width:c,height:l}),n[s]={data:m,pixelRatio:f,sdf:h}}r(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),c&&(c.cancel(),c=null)}}}(t.sprite,this.map._requestManager,function(t,n){if(r._spriteRequest=null,t)r.fire(new e.ErrorEvent(t));else if(n)for(var a in n)r.imageManager.addImage(a,n[a]);r.imageManager.setLoaded(!0),r.fire(new e.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Le(this.stylesheet.layers);this._order=i.map(function(e){return e.id}),this._layers={};for(var o=0,s=i;o<s.length;o+=1){var u=s[o];(u=e.createStyleLayer(u)).setEventedParent(this,{layer:{id:u.id}}),this._layers[u.id]=u}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var a=n.getSource();("geojson"===a.type||a.vectorLayerIds&&-1===a.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+a.id+'" as specified by style layer "'+t.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var a=r[n],i=this._layers[a];"custom"!==i.type&&t.push(i.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),a=Object.keys(this._removedLayers);for(var i in(r.length||a.length)&&this._updateWorkerLayers(r,a),this._updatedSources){var o=this._updatedSources[i];"reload"===o?this._reloadSource(i):"clear"===o&&this._clearSource(i)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}for(var u in this.sourceCaches)this.sourceCaches[u].used=!1;for(var c=0,l=this._order;c<l.length;c+=1){var d=l[c],p=this._layers[d];p.recalculate(t),!p.isHidden(t.zoom)&&p.source&&(this.sourceCaches[p.source].used=!0)}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),Nt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Le(t.layers);var r=function(t,n){if(!t)return[{command:Fe.setStyle,args:[n]}];var r=[];try{if(!e.deepEqual(t.version,n.version))return[{command:Fe.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||r.push({command:Fe.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||r.push({command:Fe.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||r.push({command:Fe.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||r.push({command:Fe.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||r.push({command:Fe.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||r.push({command:Fe.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||r.push({command:Fe.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||r.push({command:Fe.setLight,args:[n.light]});var a={},i=[];!function(t,n,r,a){var i;for(i in n=n||{},t=t||{})t.hasOwnProperty(i)&&(n.hasOwnProperty(i)||ze(i,r,a));for(i in n)n.hasOwnProperty(i)&&(t.hasOwnProperty(i)?e.deepEqual(t[i],n[i])||("geojson"===t[i].type&&"geojson"===n[i].type&&Ve(t,n,i)?r.push({command:Fe.setGeoJSONSourceData,args:[i,n[i].data]}):Ue(i,n,r,a)):Be(i,n,r))}(t.sources,n.sources,i,a);var o=[];t.layers&&t.layers.forEach(function(e){a[e.source]?r.push({command:Fe.removeLayer,args:[e.id]}):o.push(e)}),r=r.concat(i),function(t,n,r){n=n||[];var a,i,o,s,u,c,l,d=(t=t||[]).map(Ge),p=n.map(Ge),h=t.reduce(He,{}),f=n.reduce(He,{}),m=d.slice(),v=Object.create(null);for(a=0,i=0;a<d.length;a++)o=d[a],f.hasOwnProperty(o)?i++:(r.push({command:Fe.removeLayer,args:[o]}),m.splice(m.indexOf(o,i),1));for(a=0,i=0;a<p.length;a++)o=p[p.length-1-a],m[m.length-1-a]!==o&&(h.hasOwnProperty(o)?(r.push({command:Fe.removeLayer,args:[o]}),m.splice(m.lastIndexOf(o,m.length-i),1)):i++,c=m[m.length-a],r.push({command:Fe.addLayer,args:[f[o],c]}),m.splice(m.length-a,0,o),v[o]=!0);for(a=0;a<p.length;a++)if(s=h[o=p[a]],u=f[o],!v[o]&&!e.deepEqual(s,u))if(e.deepEqual(s.source,u.source)&&e.deepEqual(s["source-layer"],u["source-layer"])&&e.deepEqual(s.type,u.type)){for(l in We(s.layout,u.layout,r,o,null,Fe.setLayoutProperty),We(s.paint,u.paint,r,o,null,Fe.setPaintProperty),e.deepEqual(s.filter,u.filter)||r.push({command:Fe.setFilter,args:[o,u.filter]}),e.deepEqual(s.minzoom,u.minzoom)&&e.deepEqual(s.maxzoom,u.maxzoom)||r.push({command:Fe.setLayerZoomRange,args:[o,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?We(s[l],u[l],r,o,l.slice(6),Fe.setPaintProperty):e.deepEqual(s[l],u[l])||r.push({command:Fe.setLayerProperty,args:[o,l,u[l]]}));for(l in u)u.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?We(s[l],u[l],r,o,l.slice(6),Fe.setPaintProperty):e.deepEqual(s[l],u[l])||r.push({command:Fe.setLayerProperty,args:[o,l,u[l]]}))}else r.push({command:Fe.removeLayer,args:[o]}),c=m[m.lastIndexOf(o)+1],r.push({command:Fe.addLayer,args:[u,c]})}(o,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:Fe.setStyle,args:[n]}]}return r}(this.serialize(),t).filter(function(e){return!(e.command in Rt)});if(0===r.length)return!1;var a=r.filter(function(e){return!(e.command in Dt)});if(a.length>0)throw new Error("Unimplemented: "+a.map(function(e){return e.command}).join(", ")+".");return r.forEach(function(e){"setTransition"!==e.command&&n[e.command].apply(n,e.args)}),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,n),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,r){var a=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0)||!this._validate(e.validateStyle.source,"sources."+t,n,null,r)){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var i=this.sourceCaches[t]=new Te(t,n,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:a.loaded(),source:i.serialize(),sourceId:t}}),i.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var a=t.id;if(this.getLayer(a))this.fire(new e.ErrorEvent(new Error('Layer with id "'+a+'" already exists on this map')));else{var i;if("custom"===t.type){if(Nt(this,e.validateCustomStyleLayer(t)))return;i=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(a,t.source),t=e.clone$1(t),t=e.extend(t,{source:a})),this._validate(e.validateStyle.layer,"layers."+a,t,{arrayIndex:-1},r))return;i=e.createStyleLayer(t),this._validateLayer(i),i.setEventedParent(this,{layer:{id:a}})}var o=n?this._order.indexOf(n):this._order.length;if(n&&-1===o)this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(o,0,a),this._layerOrderChanged=!0,this._layers[a]=i,this._removedLayers[a]&&i.source&&"custom"!==i.type){var s=this._removedLayers[a];delete this._removedLayers[a],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map)}}},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var a=n?this._order.indexOf(n):this._order.length;n&&-1===a?this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(a,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.setLayerZoomRange=function(t,n,r){this._checkLoaded();var a=this.getLayer(t);a?a.minzoom===n&&a.maxzoom===r||(null!=n&&(a.minzoom=n),null!=r&&(a.maxzoom=r),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var a=this.getLayer(t);if(a){if(!e.deepEqual(a.filter,n))return null==n?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(e.validateStyle.filter,"layers."+a.id+".filter",n,null,r)||(a.filter=e.clone$1(n),this._updateLayer(a)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,r,a){void 0===a&&(a={}),this._checkLoaded();var i=this.getLayer(t);i?e.deepEqual(i.getLayoutProperty(n),r)||(i.setLayoutProperty(n,r,a),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(t,n,r,a){void 0===a&&(a={}),this._checkLoaded();var i=this.getLayer(t);i?e.deepEqual(i.getPaintProperty(n),r)||(i.setPaintProperty(n,r,a)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var r=t.source,a=t.sourceLayer,i=this.sourceCaches[r],o=parseInt(t.id,10);if(void 0!==i){var s=i.getSource().type;"geojson"===s&&a?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||a?isNaN(o)||o<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):i.setFeatureState(a,o,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var r=t.source,a=this.sourceCaches[r];if(void 0!==a){var i=a.getSource().type,o="vector"===i?t.sourceLayer:void 0,s=parseInt(t.id,10);"vector"!==i||o?void 0!==t.id&&isNaN(s)||s<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be non-negative."))):n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):a.removeFeatureState(o,s,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,a=this.sourceCaches[n],i=parseInt(t.id,10);if(void 0!==a)if("vector"!==a.getSource().type||r){if(!(isNaN(i)||i<0))return a.getFeatureState(r,i);this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._serializeLayers(this._order)},function(e){return void 0!==e})},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},a=[],i=this._order.length-1;i>=0;i--){var o=this._order[i];if(n(o)){r[o]=i;for(var s=0,u=e;s<u.length;s+=1){var c=u[s][o];if(c)for(var l=0,d=c;l<d.length;l+=1){var p=d[l];a.push(p)}}}}a.sort(function(e,t){return t.intersectionZ-e.intersectionZ});for(var h=[],f=this._order.length-1;f>=0;f--){var m=this._order[f];if(n(m))for(var v=a.length-1;v>=0;v--){var g=a[v].feature;if(r[g.layer.id]<f)break;h.push(g),a.pop()}else for(var A=0,y=e;A<y.length;A+=1){var b=y[A][m];if(b)for(var x=0,w=b;x<w.length;x+=1){var _=w[x];h.push(_.feature)}}}return h},n.prototype.queryRenderedFeatures=function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter);var a={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var i=0,o=n.layers;i<o.length;i+=1){var s=o[i],u=this._layers[s];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];a[u.source]=!0}}var c=[];for(var l in this.sourceCaches)n.layers&&!a[l]||c.push(P(this.sourceCaches[l],this._layers,t,n,r));return this.placement&&c.push(function(e,t,n,r,a,i){for(var o={},s=a.queryRenderedSymbols(n),u=[],c=0,l=Object.keys(s).map(Number);c<l.length;c+=1){var d=l[c];u.push(i[d])}u.sort(L);for(var p=function(){var t=f[h],n=t.featureIndex.lookupSymbolFeatures(s[t.bucketInstanceId],t.bucketIndex,t.sourceLayerIndex,r.filter,r.layers,e);for(var a in n){var i=o[a]=o[a]||[],u=n[a];u.sort(function(e,n){var r=t.featureSortOrder;if(r){var a=r.indexOf(e.featureIndex);return r.indexOf(n.featureIndex)-a}return n.featureIndex-e.featureIndex});for(var c=0,l=u;c<l.length;c+=1){var d=l[c];i.push(d)}}},h=0,f=u;h<f.length;h+=1)p();var m=function(n){o[n].forEach(function(r){var a=r.feature,i=e[n],o=t[i.source].getFeatureState(a.layer["source-layer"],a.id);a.source=a.layer.source,a.layer["source-layer"]&&(a.sourceLayer=a.layer["source-layer"]),a.state=o})};for(var v in o)m(v);return o}(this._layers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],a={},i=0;i<n.length;i++){var o=n[i],s=o.tileID.canonical.key;a[s]||(a[s]=!0,o.querySourceFeatures(r,t))}return r}(r,n):[]},n.prototype.addSourceType=function(e,t,r){return n.getSourceType(e)?r(new Error('A source type called "'+e+'" already exists.')):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),a=!1;for(var i in t)if(!e.deepEqual(t[i],r[i])){a=!0;break}if(a){var o={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(o)}},n.prototype._validate=function(t,n,r,a,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Nt(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.styleSpec},a)))},n.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[t].clearTiles();this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,r,a){for(var i=!1,o=!1,s={},u=0,c=this._order;u<c.length;u+=1){var l=c[u],d=this._layers[l];if("symbol"===d.type){if(!s[d.source]){var p=this.sourceCaches[d.source];s[d.source]=p.getRenderableIds(!0).map(function(e){return p.getTileByID(e)}).sort(function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)})}var h=this.crossTileSymbolIndex.addLayer(d,s[d.source],t.center.lng);i=i||h}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var f=this._layerOrderChanged||0===r;if((f||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now()))&&(this.pauseablePlacement=new St(t,this._order,f,n,r,a,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),o=!0),i&&this.pauseablePlacement.placement.setStale()),o||i)for(var m=0,v=this._order;m<v.length;m+=1){var g=v[m],A=this._layers[g];"symbol"===A.type&&this.placement.updateLayerOpacities(A,s[A.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,r){return e.makeRequest(n,r)},n}(e.Evented);Pt.getSourceType=function(e){return N[e]},Pt.setSourceType=function(e,t){N[e]=t},Pt.registerForPluginAvailability=e.registerForPluginAvailability;var Lt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ft=ln("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Bt=ln("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),zt=ln("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ut=ln("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/DEVICE_PIXEL_RATIO/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Vt=ln("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Wt=ln("#pragma mapbox: define highp float weight\nuniform highp float u_intensity;varying vec2 v_extrude;\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;const highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Gt=ln("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ht=ln("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),qt=ln("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),Kt=ln("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xt=ln("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Qt=ln("#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_pos;void main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Yt=ln("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),$t=ln("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Zt=ln("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Jt=ln("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),en=ln("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;return (data.r+data.g*256.0+data.b*256.0*256.0)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),tn=ln("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),nn=ln("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),rn=ln("#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nuniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;void main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),an=ln("uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_gl_units_to_pixels;uniform mediump float u_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),on=ln("uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),sn=ln("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),un=ln("uniform sampler2D u_texture;\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;\n#pragma mapbox: define lowp float opacity\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),cn=ln("#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function ln(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r={};return{fragmentSource:e=e.replace(n,function(e,t,n,a,i){return r[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+a+" "+i+";\n#else\nuniform "+n+" "+a+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+a+" "+i+" = u_"+i+";\n#endif\n"}),vertexSource:t=t.replace(n,function(e,t,n,a,i){var o="float"===a?"vec2":"vec4",s=i.match(/color/)?"color":o;return r[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+a+" "+i+";\n#else\nuniform "+n+" "+a+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+a+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+s+"(a_"+i+", a_"+i+"_t);\n#else\n    "+n+" "+a+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+a+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+a+" "+i+" = a_"+i+";\n#else\n    "+n+" "+a+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+a+" "+i+" = unpack_mix_"+s+"(a_"+i+", a_"+i+"_t);\n#else\n    "+n+" "+a+" "+i+" = u_"+i+";\n#endif\n"})}}var dn=Object.freeze({prelude:Ft,background:Bt,backgroundPattern:zt,circle:Ut,clippingMask:Vt,heatmap:Wt,heatmapTexture:Gt,collisionBox:Ht,collisionCircle:qt,debug:Kt,fill:Xt,fillOutline:Qt,fillOutlinePattern:Yt,fillPattern:$t,fillExtrusion:Zt,fillExtrusionPattern:Jt,hillshadePrepare:en,hillshade:tn,line:nn,lineGradient:rn,linePattern:an,lineSDF:on,raster:sn,symbolIcon:un,symbolSDF:cn}),pn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};pn.prototype.bind=function(e,t,n,r,a,i,o,s){this.context=e;for(var u=this.boundPaintVertexBuffers.length!==r.length,c=0;!u&&c<r.length;c++)this.boundPaintVertexBuffers[c]!==r[c]&&(u=!0);var l=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||u||this.boundIndexBuffer!==a||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==o||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||l?this.freshBind(t,n,r,a,i,o,s):(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),a&&a.dynamicDraw&&a.bind(),s&&s.bind())},pn.prototype.freshBind=function(e,t,n,r,a,i,o){var s,u=e.numAttributes,c=this.context,l=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=a,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=o;else{s=c.currentNumAttributes||0;for(var d=u;d<s;d++)l.disableVertexAttribArray(d)}t.enableAttributes(l,e);for(var p=0,h=n;p<h.length;p+=1)h[p].enableAttributes(l,e);i&&i.enableAttributes(l,e),o&&o.enableAttributes(l,e),t.bind(),t.setVertexAttribPointers(l,e,a);for(var f=0,m=n;f<m.length;f+=1){var v=m[f];v.bind(),v.setVertexAttribPointers(l,e,a)}i&&(i.bind(),i.setVertexAttribPointers(l,e,a)),r&&r.bind(),o&&(o.bind(),o.setVertexAttribPointers(l,e,a)),c.currentNumAttributes=u},pn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var hn=function(t,n,r,a,i){var o=t.gl;this.program=o.createProgram();var s=r.defines().concat("#define DEVICE_PIXEL_RATIO "+e.browser.devicePixelRatio.toFixed(1));i&&s.push("#define OVERDRAW_INSPECTOR;");var u=s.concat(Ft.fragmentSource,n.fragmentSource).join("\n"),c=s.concat(Ft.vertexSource,n.vertexSource).join("\n"),l=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(l,u),o.compileShader(l),o.attachShader(this.program,l);var d=o.createShader(o.VERTEX_SHADER);o.shaderSource(d,c),o.compileShader(d),o.attachShader(this.program,d);for(var p=r.layoutAttributes||[],h=0;h<p.length;h++)o.bindAttribLocation(this.program,h,p[h].name);o.linkProgram(this.program),this.numAttributes=o.getProgramParameter(this.program,o.ACTIVE_ATTRIBUTES),this.attributes={};for(var f={},m=0;m<this.numAttributes;m++){var v=o.getActiveAttrib(this.program,m);v&&(this.attributes[v.name]=o.getAttribLocation(this.program,v.name))}for(var g=o.getProgramParameter(this.program,o.ACTIVE_UNIFORMS),A=0;A<g;A++){var y=o.getActiveUniform(this.program,A);y&&(f[y.name]=o.getUniformLocation(this.program,y.name))}this.fixedUniforms=a(t,f),this.binderUniforms=r.getUniforms(t,f)};function fn(t,n,r){var a=1/ct(r,1,n.transform.tileZoom),i=Math.pow(2,r.tileID.overscaledZ),o=r.tileSize*Math.pow(2,n.transform.tileZoom)/i,s=o*(r.tileID.canonical.x+r.tileID.wrap*i),u=o*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[e.browser.devicePixelRatio,a,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[s>>16,u>>16],u_pixel_coord_lower:[65535&s,65535&u]}}hn.prototype.draw=function(e,t,n,r,a,i,o,s,u,c,l,d,p,h,f,m){var v,g=e.gl;for(var A in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(a),e.setCullFace(i),this.fixedUniforms)this.fixedUniforms[A].set(o[A]);h&&h.setUniforms(e,this.binderUniforms,d,{zoom:p});for(var y=(v={},v[g.LINES]=2,v[g.TRIANGLES]=3,v[g.LINE_STRIP]=1,v)[t],b=0,x=l.get();b<x.length;b+=1){var w=x[b],_=w.vaos||(w.vaos={});(_[s]||(_[s]=new pn)).bind(e,this,u,h?h.getPaintVertexBuffers():[],c,w.vertexOffset,f,m),g.drawElements(t,w.primitiveLength*y,g.UNSIGNED_SHORT,w.primitiveOffset*y*2)}};var mn=function(t,n,r,a){var i=n.style.light,o=i.properties.get("position"),s=[o.x,o.y,o.z],u=e.create$1();"viewport"===i.properties.get("anchor")&&e.fromRotation(u,-n.transform.angle),e.transformMat3(s,s,u);var c=i.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:i.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:a}},vn=function(t,n,r,a,i,o,s){return e.extend(mn(t,n,r,a),fn(o,n,s),{u_height_factor:-Math.pow(2,i.overscaledZ)/s.tileSize/8})},gn=function(e){return{u_matrix:e}},An=function(t,n,r,a){return e.extend(gn(t),fn(r,n,a))},yn=function(e,t){return{u_matrix:e,u_world:t}},bn=function(t,n,r,a,i){return e.extend(An(t,n,r,a),{u_world:i})},xn=function(e,t,n,r){var a,i,o=e.transform;if("map"===r.paint.get("circle-pitch-alignment")){var s=ct(n,1,o.zoom);a=!0,i=[s,s]}else a=!1,i=o.pixelsToGLUnits;return{u_camera_to_center_distance:o.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_extrude_scale:i}},wn=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},_n=function(e,t,n){var r=ct(n,1,t.zoom),a=Math.pow(2,t.zoom-n.tileID.overscaledZ),i=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*a),t.pixelsToGLUnits[1]/(r*a)],u_overscale_factor:i}},kn=function(e,t){return{u_matrix:e,u_color:t}},On=function(e){return{u_matrix:e}},En=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:ct(t,1,n),u_intensity:r}},Sn=function(e,t,n){var r=n.paint.get("hillshade-shadow-color"),a=n.paint.get("hillshade-highlight-color"),i=n.paint.get("hillshade-accent-color"),o=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(o-=e.transform.angle);var s=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),s),u_image:0,u_latrange:Tn(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),o],u_shadow:r,u_highlight:a,u_accent:i}},Cn=function(t,n){var r=t.dem.stride,a=e.create();return e.ortho(a,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(a,a,[0,-e.EXTENT,0]),{u_matrix:a,u_image:1,u_dimension:[r,r],u_zoom:t.tileID.overscaledZ,u_maxzoom:n}};function Tn(t,n){var r=Math.pow(2,n.canonical.z),a=n.canonical.y;return[new e.MercatorCoordinate(0,a/r).toLngLat().lat,new e.MercatorCoordinate(0,(a+1)/r).toLngLat().lat]}var In=function(e,t,n){var r=e.transform;return{u_matrix:Rn(e,t,n),u_ratio:1/ct(t,1,r.zoom),u_gl_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},jn=function(t,n,r){return e.extend(In(t,n,r),{u_image:0})},Mn=function(t,n,r,a){var i=t.transform,o=Dn(n,i);return{u_matrix:Rn(t,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/ct(n,1,i.zoom),u_image:0,u_scale:[e.browser.devicePixelRatio,o,a.fromScale,a.toScale],u_fade:a.t,u_gl_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Nn=function(t,n,r,a,i){var o=t.transform,s=t.lineAtlas,u=Dn(n,o),c="round"===r.layout.get("line-cap"),l=s.getDash(a.from,c),d=s.getDash(a.to,c),p=l.width*i.fromScale,h=d.width*i.toScale;return e.extend(In(t,n,r),{u_patternscale_a:[u/p,-l.height/2],u_patternscale_b:[u/h,-d.height/2],u_sdfgamma:s.width/(256*Math.min(p,h)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:d.y,u_mix:i.t})};function Dn(e,t){return 1/ct(e,1,t.tileZoom)}function Rn(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Pn=function(e,t,n,r,a){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*a.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:a.paint.get("raster-brightness-min"),u_brightness_high:a.paint.get("raster-brightness-max"),u_saturation_factor:(o=a.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(i=a.paint.get("raster-contrast"),i>0?1/(1-i):1+i),u_spin_weights:Ln(a.paint.get("raster-hue-rotate"))};var i,o};function Ln(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var Fn=function(e,t,n,r,a,i,o,s,u,c){var l=a.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:l.cameraToCenterDistance,u_pitch:l.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:l.width/l.height,u_fade_change:a.options.fadeDuration?a.symbolFadeChange:1,u_matrix:i,u_label_plane_matrix:o,u_gl_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+r,u_texsize:c,u_texture:0}},Bn=function(t,n,r,a,i,o,s,u,c,l,d){var p=i.transform;return e.extend(Fn(t,n,r,a,i,o,s,u,c,l),{u_gamma_scale:a?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_is_halo:+d})},zn=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Un=function(t,n,r,a,i,o){return e.extend(function(e,t,n,r){var a=n.imageManager.getPattern(e.from),i=n.imageManager.getPattern(e.to),o=n.imageManager.getPixelSize(),s=o.width,u=o.height,c=Math.pow(2,r.tileID.overscaledZ),l=r.tileSize*Math.pow(2,n.transform.tileZoom)/c,d=l*(r.tileID.canonical.x+r.tileID.wrap*c),p=l*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:a.tl,u_pattern_br_a:a.br,u_pattern_tl_b:i.tl,u_pattern_br_b:i.br,u_texsize:[s,u],u_mix:t.t,u_pattern_size_a:a.displaySize,u_pattern_size_b:i.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ct(r,1,n.transform.tileZoom),u_pixel_coord_upper:[d>>16,p>>16],u_pixel_coord_lower:[65535&d,65535&p]}}(a,o,r,i),{u_matrix:t,u_opacity:n})},Vn={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:wn,collisionCircle:wn,debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_maxzoom:new e.Uniform1f(t,n.u_maxzoom)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,n.u_gl_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,n.u_gl_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_image:new e.Uniform1i(t,n.u_image),u_gl_units_to_pixels:new e.Uniform2f(t,n.u_gl_units_to_pixels),u_scale:new e.Uniform4f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,n.u_gl_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,n.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,n.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_is_halo:new e.Uniform1f(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}};function Wn(t,n){for(var r=t.sort(function(e,t){return e.tileID.isLessThan(t.tileID)?-1:t.tileID.isLessThan(e.tileID)?1:0}),a=0;a<r.length;a++){var i={},o=r[a],s=r.slice(a+1);Gn(o.tileID.wrapped(),o.tileID,s,new e.OverscaledTileID(0,o.tileID.wrap+1,0,0,0),i),o.setMask(i,n)}}function Gn(t,n,r,a,i){for(var o=0;o<r.length;o++){var s=r[o];if(a.isLessThan(s.tileID))break;if(n.key===s.tileID.key)return;if(s.tileID.isChildOf(n)){for(var u=n.children(1/0),c=0;c<u.length;c++)Gn(t,u[c],r.slice(o),a,i);return}}var l=n.overscaledZ-t.overscaledZ,d=new e.CanonicalTileID(l,n.canonical.x-(t.canonical.x<<l),n.canonical.y-(t.canonical.y<<l));i[d.key]=i[d.key]||d}function Hn(e,t,n,r,a){for(var i=e.context,o=i.gl,s=a?e.useProgram("collisionCircle"):e.useProgram("collisionBox"),u=0;u<r.length;u++){var c=r[u],l=t.getTile(c),d=l.getBucket(n);if(d){var p=a?d.collisionCircle:d.collisionBox;p&&s.draw(i,a?o.TRIANGLES:o.LINES,ke.disabled,Oe.disabled,e.colorModeForRenderPass(),Se.disabled,_n(c.posMatrix,e.transform,l),n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,null,e.transform.zoom,null,null,p.collisionVertexBuffer)}}}var qn=e.identity(new Float32Array(16)),Kn=e.properties.layout;function Xn(t,n,r,a,i,o){var s=e.getAnchorAlignment(t),u=-(s.horizontalAlign-.5)*n,c=-(s.verticalAlign-.5)*r,l=e.evaluateRadialOffset(t,a);return new e.Point((u/i+l[0])*o,(c/i+l[1])*o)}function Qn(t,n,r,a,i,o,s,u,c,l){var d=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray;p.clear();for(var h=0;h<d.length;h++){var f=d.get(h),m=!f.hidden&&f.crossTileID?a[f.crossTileID]:null;if(m){var v=new e.Point(f.anchorX,f.anchorY),g=Ye(v,r?u:s),A=.5+o.cameraToCenterDistance/g.signedDistanceFromCamera*.5,y=i.evaluateSizeForFeature(t.textSizeData,l,f)*A/e.ONE_EM;r&&(y*=t.tilePixelRatio/c);for(var b=m.width,x=m.height,w=m.radialOffset,_=m.textBoxScale,k=Xn(m.anchor,b,x,w,_,y),O=r?Ye(v.add(k),s).point:g.point.add(n?k.rotate(-o.angle):k),E=0;E<f.numGlyphs;E++)e.addDynamicAttributes(p,O,0)}else it(f.numGlyphs,p)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function Yn(t,n,r,a,i,o,s,u,c,l,d,p,h){for(var f,m,v=t.context,g=v.gl,A=t.transform,y="map"===u,b="map"===c,x=y&&"point"!==r.layout.get("symbol-placement"),w=y&&!b&&!x,_=void 0!==r.layout.get("symbol-sort-key").constantOr(1),k=t.depthModeForSublayer(0,ke.ReadOnly),O=r.layout.get("text-variable-anchor"),E=[],S=0,C=a;S<C.length;S+=1){var T=C[S],I=n.getTile(T),j=I.getBucket(r);if(j){var M=i?j.text:j.icon;if(M&&M.segments.get().length){var N=M.programConfigurations.get(r.id),D=i||j.sdfIcons,R=i?j.textSizeData:j.iconSizeData;f||(f=t.useProgram(D?"symbolSDF":"symbolIcon",N),m=e.evaluateSizeForZoom(R,A.zoom,Kn.properties[i?"text-size":"icon-size"])),v.activeTexture.set(g.TEXTURE0);var P=void 0,L=void 0,F=void 0;if(i)L=I.glyphAtlasTexture,F=g.LINEAR,P=I.glyphAtlasTexture.size;else{var B=1!==r.layout.get("icon-size").constantOr(0)||j.iconsNeedLinear,z=b||0!==A.pitch;L=I.imageAtlasTexture,F=D||t.options.rotating||t.options.zooming||B||z?g.LINEAR:g.NEAREST,P=I.imageAtlasTexture.size}var U=ct(I,1,t.transform.zoom),V=Xe(T.posMatrix,b,y,t.transform,U),W=Qe(T.posMatrix,b,y,t.transform,U);if(x)Ze(j,T.posMatrix,t,i,V,W,b,l);else if(i&&m&&O){var G=Math.pow(2,A.zoom-I.tileID.overscaledZ);Qn(j,y,b,h,e.symbolSize,A,V,T.posMatrix,G,m)}var H=t.translatePosMatrix(T.posMatrix,I,o,s),q=x||i&&O?qn:V,K=t.translatePosMatrix(W,I,o,s,!0),X=D&&0!==r.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:f,buffers:M,uniformValues:D?Bn(R.functionType,m,w,b,t,H,q,K,i,P,!0):Fn(R.functionType,m,w,b,t,H,q,K,i,P),atlasTexture:L,atlasInterpolation:F,isSDF:D,hasHalo:X};if(_)for(var Y=0,$=M.segments.get();Y<$.length;Y+=1){var Z=$[Y];E.push({segments:new e.SegmentVector([Z]),sortKey:Z.sortKey,state:Q})}else E.push({segments:M.segments,sortKey:0,state:Q})}}}_&&E.sort(function(e,t){return e.sortKey-t.sortKey});for(var J=0,ee=E;J<ee.length;J+=1){var te=ee[J],ne=te.state;if(ne.atlasTexture.bind(ne.atlasInterpolation,g.CLAMP_TO_EDGE),ne.isSDF){var re=ne.uniformValues;ne.hasHalo&&(re.u_is_halo=1,$n(ne.buffers,te.segments,r,t,ne.program,k,d,p,re)),re.u_is_halo=0}$n(ne.buffers,te.segments,r,t,ne.program,k,d,p,ne.uniformValues)}}function $n(e,t,n,r,a,i,o,s,u){var c=r.context,l=c.gl;a.draw(c,l.TRIANGLES,i,o,s,Se.disabled,u,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Zn(e,t,n,r,a,i,o){var s,u,c,l,d,p=e.context.gl,h=n.paint.get("fill-pattern"),f=h&&h.constantOr(1),m=n.getCrossfadeParameters();o?(u=f&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(u=f?"fillPattern":"fill",s=p.TRIANGLES);for(var v=0,g=r;v<g.length;v+=1){var A=g[v],y=t.getTile(A);if(!f||y.patternsLoaded()){var b=y.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),w=e.useProgram(u,x);f&&(e.context.activeTexture.set(p.TEXTURE0),y.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),x.updatePatternPaintBuffers(m));var _=h.constantOr(null);if(_&&y.imageAtlas){var k=y.imageAtlas.patternPositions[_.to],O=y.imageAtlas.patternPositions[_.from];k&&O&&x.setConstantPatternPositions(k,O)}var E=e.translatePosMatrix(A.posMatrix,y,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(o){l=b.indexBuffer2,d=b.segments2;var S=[p.drawingBufferWidth,p.drawingBufferHeight];c="fillOutlinePattern"===u&&f?bn(E,e,m,y,S):yn(E,S)}else l=b.indexBuffer,d=b.segments,c=f?An(E,e,m,y):gn(E);w.draw(e.context,s,a,e.stencilModeForClipping(A),i,Se.disabled,c,n.id,b.layoutVertexBuffer,l,d,n.paint,e.transform.zoom,x)}}}}function Jn(e,t,n,r,a,i,o){for(var s=e.context,u=s.gl,c=n.paint.get("fill-extrusion-pattern"),l=c.constantOr(1),d=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),h=0,f=r;h<f.length;h+=1){var m=f[h],v=t.getTile(m),g=v.getBucket(n);if(g){var A=g.programConfigurations.get(n.id),y=e.useProgram(l?"fillExtrusionPattern":"fillExtrusion",A);l&&(e.context.activeTexture.set(u.TEXTURE0),v.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),A.updatePatternPaintBuffers(d));var b=c.constantOr(null);if(b&&v.imageAtlas){var x=v.imageAtlas.patternPositions[b.to],w=v.imageAtlas.patternPositions[b.from];x&&w&&A.setConstantPatternPositions(x,w)}var _=e.translatePosMatrix(m.posMatrix,v,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),k=n.paint.get("fill-extrusion-vertical-gradient"),O=l?vn(_,e,k,p,m,d,v):mn(_,e,k,p);y.draw(s,s.gl.TRIANGLES,a,i,o,Se.backCCW,O,n.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,n.paint,e.transform.zoom,A)}}}function er(e,t,n,r,a,i){var o=e.context,s=o.gl,u=t.fbo;if(u){var c=e.useProgram("hillshade");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,u.colorAttachment.get());var l=Sn(e,t,n);t.maskedBoundsBuffer&&t.maskedIndexBuffer&&t.segments?c.draw(o,s.TRIANGLES,r,a,i,Se.disabled,l,n.id,t.maskedBoundsBuffer,t.maskedIndexBuffer,t.segments):c.draw(o,s.TRIANGLES,r,a,i,Se.disabled,l,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function tr(t,n,r,a,i,o,s){var u=t.context,c=u.gl;if(n.dem&&n.dem.data){var l=n.dem.dim,d=n.dem.stride,p=n.dem.getPixels();if(u.activeTexture.set(c.TEXTURE1),u.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(d),n.demTexture){var h=n.demTexture;h.update(p,{premultiply:!1}),h.bind(c.NEAREST,c.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(u,p,c.RGBA,{premultiply:!1}),n.demTexture.bind(c.NEAREST,c.CLAMP_TO_EDGE);u.activeTexture.set(c.TEXTURE0);var f=n.fbo;if(!f){var m=new e.Texture(u,{width:l,height:l,data:null},c.RGBA);m.bind(c.LINEAR,c.CLAMP_TO_EDGE),(f=n.fbo=u.createFramebuffer(l,l)).colorAttachment.set(m.texture)}u.bindFramebuffer.set(f.framebuffer),u.viewport.set([0,0,l,l]),t.useProgram("hillshadePrepare").draw(u,c.TRIANGLES,i,o,s,Se.disabled,Cn(n,a),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function nr(t,n,r,a,i){var o=a.paint.get("raster-fade-duration");if(o>0){var s=e.browser.now(),u=(s-t.timeAdded)/o,c=n?(s-n.timeAdded)/o:-1,l=r.getSource(),d=i.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),p=!n||Math.abs(n.tileID.overscaledZ-d)>Math.abs(t.tileID.overscaledZ-d),h=p&&t.refreshedUponExpiration?1:e.clamp(p?u:1-c,0,1);return t.refreshedUponExpiration&&u>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}function rr(t,n,r){var a=t.context,i=a.gl,o=r.posMatrix,s=t.useProgram("debug"),u=ke.disabled,c=Oe.disabled,l=t.colorModeForRenderPass(),d="$debug";s.draw(a,i.LINE_STRIP,u,c,l,Se.disabled,kn(o,e.Color.red),d,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);for(var p=n.getTileByID(r.key).latestRawTileData,h=p&&p.byteLength||0,f=Math.floor(h/1024),m=function(e,t,n,r){r=r||1;var a,i,o,s,u,c,l,d,p=[];for(a=0,i=e.length;a<i;a++)if(u=ar[e[a]]){for(d=null,o=0,s=u[1].length;o<s;o+=2)-1===u[1][o]&&-1===u[1][o+1]?d=null:(c=t+u[1][o]*r,l=200-u[1][o+1]*r,d&&p.push(d.x,d.y,c,l),d={x:c,y:l});t+=u[0]*r}return p}(r.toString()+" "+f+"kb",50,0,5),v=new e.StructArrayLayout2i4,g=new e.StructArrayLayout2ui4,A=0;A<m.length;A+=2)v.emplaceBack(m[A],m[A+1]),g.emplaceBack(A,A+1);for(var y=a.createVertexBuffer(v,Lt.members),b=a.createIndexBuffer(g),x=e.SegmentVector.simpleSegment(0,0,v.length/2,v.length/2),w=n.getTile(r).tileSize,_=e.EXTENT/(Math.pow(2,t.transform.zoom-r.overscaledZ)*w),k=[[-1,-1],[-1,1],[1,-1],[1,1]],O=0;O<k.length;O++){var E=k[O];s.draw(a,i.LINES,u,c,l,Se.disabled,kn(e.translate([],o,[_*E[0],_*E[1],0]),e.Color.white),d,y,b,x)}s.draw(a,i.LINES,u,c,l,Se.disabled,kn(o,e.Color.black),d,y,b,x)}var ar={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},ir={symbol:function(e,t,n,r,a){if("translucent"===e.renderPass){var i=Oe.disabled,o=e.colorModeForRenderPass();0!==n.paint.get("icon-opacity").constantOr(1)&&Yn(e,t,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),i,o,a),0!==n.paint.get("text-opacity").constantOr(1)&&Yn(e,t,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),i,o,a),t.map.showCollisionBoxes&&function(e,t,n,r){Hn(e,t,n,r,!1),Hn(e,t,n,r,!0)}(e,t,n,r)}},circle:function(e,t,n,r){if("translucent"===e.renderPass){var a=n.paint.get("circle-opacity"),i=n.paint.get("circle-stroke-width"),o=n.paint.get("circle-stroke-opacity");if(0!==a.constantOr(1)||0!==i.constantOr(1)&&0!==o.constantOr(1))for(var s=e.context,u=s.gl,c=e.depthModeForSublayer(0,ke.ReadOnly),l=Oe.disabled,d=e.colorModeForRenderPass(),p=0;p<r.length;p++){var h=r[p],f=t.getTile(h),m=f.getBucket(n);if(m){var v=m.programConfigurations.get(n.id);e.useProgram("circle",v).draw(s,u.TRIANGLES,c,l,d,Se.disabled,xn(e,h,f,n),n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,e.transform.zoom,v)}}}},heatmap:function(t,n,r,a){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var i=t.context,o=i.gl,s=t.depthModeForSublayer(0,ke.ReadOnly),u=Oe.disabled,c=new Ee([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var a=n.heatmapFbo;if(a)r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer);else{var i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),a=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),function e(t,n,r,a){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n.width/4,n.height/4,0,i.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),a.colorAttachment.set(r),t.extTextureHalfFloat&&i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,a.colorAttachment.setDirty(),e(t,n,r,a))}(e,t,i,a)}}(i,t,r),i.clear({color:e.Color.transparent});for(var l=0;l<a.length;l++){var d=a[l];if(!n.hasRenderableParent(d)){var p=n.getTile(d),h=p.getBucket(r);if(h){var f=h.programConfigurations.get(r.id),m=t.useProgram("heatmap",f),v=t.transform.zoom;m.draw(i,o.TRIANGLES,s,u,c,Se.disabled,En(d.posMatrix,p,v,r.paint.get("heatmap-intensity")),r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,r.paint,t.transform.zoom,f)}}}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,a=r.gl,i=n.heatmapFbo;if(i){r.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,i.colorAttachment.get()),r.activeTexture.set(a.TEXTURE1);var o=n.colorRampTexture;o||(o=n.colorRampTexture=new e.Texture(r,n.colorRamp,a.RGBA)),o.bind(a.LINEAR,a.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,a.TRIANGLES,ke.disabled,Oe.disabled,t.colorModeForRenderPass(),Se.disabled,function(t,n,r,a){var i=e.create();e.ortho(i,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:i,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:r,u_color_ramp:a,u_opacity:n.paint.get("heatmap-opacity")}}(t,n,0,1),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,a){if("translucent"===t.renderPass){var i=r.paint.get("line-opacity"),o=r.paint.get("line-width");if(0!==i.constantOr(1)&&0!==o.constantOr(1)){var s=t.depthModeForSublayer(0,ke.ReadOnly),u=t.colorModeForRenderPass(),c=r.paint.get("line-dasharray"),l=r.paint.get("line-pattern"),d=l.constantOr(1),p=r.paint.get("line-gradient"),h=r.getCrossfadeParameters(),f=c?"lineSDF":d?"linePattern":p?"lineGradient":"line",m=t.context,v=m.gl,g=!0;if(p){m.activeTexture.set(v.TEXTURE0);var A=r.gradientTexture;if(!r.gradient)return;A||(A=r.gradientTexture=new e.Texture(m,r.gradient,v.RGBA)),A.bind(v.LINEAR,v.CLAMP_TO_EDGE)}for(var y=0,b=a;y<b.length;y+=1){var x=b[y],w=n.getTile(x);if(!d||w.patternsLoaded()){var _=w.getBucket(r);if(_){var k=_.programConfigurations.get(r.id),O=t.context.program.get(),E=t.useProgram(f,k),S=g||E.program!==O,C=l.constantOr(null);if(C&&w.imageAtlas){var T=w.imageAtlas.patternPositions[C.to],I=w.imageAtlas.patternPositions[C.from];T&&I&&k.setConstantPatternPositions(T,I)}var j=c?Nn(t,w,r,c,h):d?Mn(t,w,r,h):p?jn(t,w,r):In(t,w,r);c&&(S||t.lineAtlas.dirty)?(m.activeTexture.set(v.TEXTURE0),t.lineAtlas.bind(m)):d&&(m.activeTexture.set(v.TEXTURE0),w.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),k.updatePatternPaintBuffers(h)),E.draw(m,v.TRIANGLES,s,t.stencilModeForClipping(x),u,Se.disabled,j,r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,r.paint,t.transform.zoom,k),g=!1}}}}}},fill:function(t,n,r,a){var i=r.paint.get("fill-color"),o=r.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===i.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){var l=t.depthModeForSublayer(1,"opaque"===t.renderPass?ke.ReadWrite:ke.ReadOnly);Zn(t,n,r,a,l,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var d=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,ke.ReadOnly);Zn(t,n,r,a,d,s,!0)}}},"fill-extrusion":function(e,t,n,r){var a=n.paint.get("fill-extrusion-opacity");if(0!==a&&"translucent"===e.renderPass){var i=new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D);if(1!==a||n.paint.get("fill-extrusion-pattern").constantOr(1))Jn(e,t,n,r,i,Oe.disabled,Ee.disabled),Jn(e,t,n,r,i,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var o=e.colorModeForRenderPass();Jn(e,t,n,r,i,Oe.disabled,o)}}},hillshade:function(e,t,n,r){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var a=e.context,i=t.getSource().maxzoom,o=e.depthModeForSublayer(0,ke.ReadOnly),s=Oe.disabled,u=e.colorModeForRenderPass(),c=0,l=r;c<l.length;c+=1){var d=l[c],p=t.getTile(d);p.needsHillshadePrepare&&"offscreen"===e.renderPass?tr(e,p,n,i,o,s,u):"translucent"===e.renderPass&&er(e,p,n,o,s,u)}a.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,r){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity"))for(var a=e.context,i=a.gl,o=t.getSource(),s=e.useProgram("raster"),u=Oe.disabled,c=e.colorModeForRenderPass(),l=r.length&&r[0].overscaledZ,d=!e.options.moving,p=0,h=r;p<h.length;p+=1){var f=h[p],m=e.depthModeForSublayer(f.overscaledZ-l,1===n.paint.get("raster-opacity")?ke.ReadWrite:ke.ReadOnly,i.LESS),v=t.getTile(f),g=e.transform.calculatePosMatrix(f.toUnwrapped(),d);v.registerFadeDuration(n.paint.get("raster-fade-duration"));var A=t.findLoadedParent(f,0),y=nr(v,A,t,n,e.transform),b=void 0,x=void 0,w="nearest"===n.paint.get("raster-resampling")?i.NEAREST:i.LINEAR;a.activeTexture.set(i.TEXTURE0),v.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(i.TEXTURE1),A?(A.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),b=Math.pow(2,A.tileID.overscaledZ-v.tileID.overscaledZ),x=[v.tileID.canonical.x*b%1,v.tileID.canonical.y*b%1]):v.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST);var _=Pn(g,x||[0,0],b||1,y,n);o instanceof I?s.draw(a,i.TRIANGLES,m,u,c,Se.disabled,_,n.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):v.maskedBoundsBuffer&&v.maskedIndexBuffer&&v.segments?s.draw(a,i.TRIANGLES,m,u,c,Se.disabled,_,n.id,v.maskedBoundsBuffer,v.maskedIndexBuffer,v.segments,n.paint,e.transform.zoom):s.draw(a,i.TRIANGLES,m,u,c,Se.disabled,_,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){var r=n.paint.get("background-color"),a=n.paint.get("background-opacity");if(0!==a){var i=e.context,o=i.gl,s=e.transform,u=s.tileSize,c=n.paint.get("background-pattern");if(!e.isPatternMissing(c)){var l=c||1!==r.a||1!==a?"translucent":"opaque";if(e.renderPass===l){var d=Oe.disabled,p=e.depthModeForSublayer(0,"opaque"===l?ke.ReadWrite:ke.ReadOnly),h=e.colorModeForRenderPass(),f=e.useProgram(c?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:u});c&&(i.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));for(var v=n.getCrossfadeParameters(),g=0,A=m;g<A.length;g+=1){var y=A[g],b=e.transform.calculatePosMatrix(y.toUnwrapped()),x=c?Un(b,a,e,c,{tileID:y,tileSize:u},v):zn(b,a,r);f.draw(i,o.TRIANGLES,p,d,h,Se.disabled,x,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,n){for(var r=0;r<n.length;r++)rr(e,t,n[r])},custom:function(e,t,n){var r=e.context,a=n.implementation;if("offscreen"===e.renderPass){var i=a.prerender;i&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),i.call(a,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(Oe.disabled);var o="3d"===a.renderingMode?new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,ke.ReadOnly);r.setDepthMode(o),a.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}},or=function(t,n){this.context=new Ce(t),this.transform=n,this._tileTextures={},this.setup(),this.numSublayers=Te.maxUnderzooming+Te.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new e.ProgramConfiguration,this.crossTileSymbolIndex=new Mt};function sr(e,t){if(e.y>t.y){var n=e;e=t,t=n}return{x0:e.x,y0:e.y,x1:t.x,y1:t.y,dx:t.x-e.x,dy:t.y-e.y}}function ur(e,t,n,r,a){var i=Math.max(n,Math.floor(t.y0)),o=Math.min(r,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var u=e.dx/e.dy,c=t.dx/t.dy,l=e.dx>0,d=t.dx<0,p=i;p<o;p++){var h=u*Math.max(0,Math.min(e.dy,p+l-e.y0))+e.x0,f=c*Math.max(0,Math.min(t.dy,p+d-t.y0))+t.x0;a(Math.floor(f),Math.ceil(h),p)}}function cr(e,t,n,r,a,i){var o,s=sr(e,t),u=sr(t,n),c=sr(n,e);s.dy>u.dy&&(o=s,s=u,u=o),s.dy>c.dy&&(o=s,s=c,c=o),u.dy>c.dy&&(o=u,u=c,c=o),s.dy&&ur(c,s,r,a,i),u.dy&&ur(c,u,r,a,i)}or.prototype.resize=function(t,n){var r=this.context.gl;if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var a=0,i=this.style._order;a<i.length;a+=1){var o=i[a];this.style._layers[o].resize()}this.depthRbo&&(r.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},or.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,Lt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,Lt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var a=new e.StructArrayLayout4i8;a.emplaceBack(0,0,0,0),a.emplaceBack(e.EXTENT,0,e.EXTENT,0),a.emplaceBack(0,e.EXTENT,0,e.EXTENT),a.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(a,e.rasterBoundsAttributes.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,Lt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);var u=this.context.gl;this.stencilClearMode=new Oe({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},or.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,ke.disabled,this.stencilClearMode,Ee.disabled,Se.disabled,On(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},or.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Ee.disabled),n.setDepthMode(ke.disabled);var a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var i=0,o=t;i<o.length;i+=1){var s=o[i],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;a.draw(n,r.TRIANGLES,ke.disabled,new Oe({func:r.ALWAYS,mask:0},u,255,r.KEEP,r.KEEP,r.REPLACE),Ee.disabled,Se.disabled,On(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},or.prototype.stencilModeFor3D=function(){this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Oe({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},or.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Oe({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},or.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ee([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ee.unblended:Ee.alphaBlended},or.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return ke.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new ke(n||this.context.gl.LEQUAL,t,[r,r])},or.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},or.prototype.render=function(t,n){this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var r=this.style._order,a=this.style.sourceCaches;for(var i in a){var o=a[i];o.used&&o.prepare(this.context)}var s={},u={},c={};for(var l in a){var d=a[l];s[l]=d.getVisibleCoordinates(),u[l]=s[l].slice().reverse(),c[l]=d.getVisibleCoordinates(!0).reverse()}for(var p in a){var h=a[p],f=h.getSource();if("raster"===f.type||"raster-dem"===f.type){for(var m=[],v=0,g=s[p];v<g.length;v+=1){var A=g[v];m.push(h.getTile(A))}Wn(m,this.context)}}this.opaquePassCutoff=1/0;for(var y=0;y<r.length;y++){var b=r[y];if(this.style._layers[b].is3D()){this.opaquePassCutoff=y;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var x=0,w=r;x<w.length;x+=1){var _=w[x],k=this.style._layers[_];if(k.hasOffscreenPass()&&!k.isHidden(this.transform.zoom)){var O=u[k.source];("custom"===k.type||O.length)&&this.renderLayer(this,a[k.source],k,O)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var E=this.style._layers[r[this.currentLayer]],S=a[E.source],C=s[E.source];this._renderTileClippingMasks(E,C),this.renderLayer(this,S,E,C)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var T=this.style._layers[r[this.currentLayer]],I=a[T.source],j=("symbol"===T.type?c:u)[T.source];this._renderTileClippingMasks(T,s[T.source]),this.renderLayer(this,I,T,j)}if(this.options.showTileBoundaries)for(var M in a){ir.debug(this,a[M],s[M]);break}this.setCustomLayerDefaults()},or.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},or.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,ir[n.type](e,t,n,r,this.style.placement.variableOffsets))},or.prototype.translatePosMatrix=function(t,n,r,a,i){if(!r[0]&&!r[1])return t;var o=i?"map"===a?this.transform.angle:0:"viewport"===a?-this.transform.angle:0;if(o){var s=Math.sin(o),u=Math.cos(o);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var c=[i?r[0]:ct(n,r[0],this.transform.zoom),i?r[1]:ct(n,r[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,c),l},or.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},or.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},or.prototype.isPatternMissing=function(e){if(!e)return!1;var t=this.imageManager.getPattern(e.from),n=this.imageManager.getPattern(e.to);return!t||!n},or.prototype.useProgram=function(e,t){void 0===t&&(t=this.emptyProgramConfiguration),this.cache=this.cache||{};var n=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new hn(this.context,dn[e],t,Vn[e],this._showOverdrawInspector)),this.cache[n]},or.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},or.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)};var lr=function(t,n,r){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===r||r,this._minZoom=t||0,this._maxZoom=n||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},dr={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};lr.prototype.clone=function(){var e=new lr(this._minZoom,this._maxZoom,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._calcMatrices(),e},dr.minZoom.get=function(){return this._minZoom},dr.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},dr.maxZoom.get=function(){return this._maxZoom},dr.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},dr.renderWorldCopies.get=function(){return this._renderWorldCopies},dr.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},dr.worldSize.get=function(){return this.tileSize*this.scale},dr.centerPoint.get=function(){return this.size._div(2)},dr.size.get=function(){return new e.Point(this.width,this.height)},dr.bearing.get=function(){return-this.angle/Math.PI*180},dr.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},dr.pitch.get=function(){return this._pitch/Math.PI*180},dr.pitch.set=function(t){var n=e.clamp(t,0,60)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},dr.fov.get=function(){return this._fov/Math.PI*180},dr.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},dr.zoom.get=function(){return this._zoom},dr.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},dr.center.get=function(){return this._center},dr.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},lr.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},lr.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.Point(0,0)),a=this.pointCoordinate(new e.Point(this.width,0)),i=this.pointCoordinate(new e.Point(this.width,this.height)),o=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(r.x,a.x,i.x,o.x)),u=Math.floor(Math.max(r.x,a.x,i.x,o.x)),c=s-1;c<=u+1;c++)0!==c&&n.push(new e.UnwrappedTileID(c,t));return n},lr.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var a=e.MercatorCoordinate.fromLngLat(this.center),i=Math.pow(2,n),o=new e.Point(i*a.x-.5,i*a.y-.5);return function(t,n,r,a){void 0===a&&(a=!0);var i=1<<t,o={};function s(n,s,u){var c,l,d,p;if(u>=0&&u<=i)for(c=n;c<s;c++)l=Math.floor(c/i),d=(c%i+i)%i,0!==l&&!0!==a||(p=new e.OverscaledTileID(r,l,t,d,u),o[p.key]=p)}var u=n.map(function(t){return new e.Point(t.x,t.y)._mult(i)});return cr(u[0],u[1],u[2],0,i,s),cr(u[2],u[3],u[0],0,i,s),Object.keys(o).map(function(e){return o[e]})}(n,[this.pointCoordinate(new e.Point(0,0)),this.pointCoordinate(new e.Point(this.width,0)),this.pointCoordinate(new e.Point(this.width,this.height)),this.pointCoordinate(new e.Point(0,this.height))],t.reparseOverscaled?r:n,this._renderWorldCopies).sort(function(e,t){return o.dist(e.canonical)-o.dist(t.canonical)})},lr.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},dr.unmodified.get=function(){return this._unmodified},lr.prototype.zoomScale=function(e){return Math.pow(2,e)},lr.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},lr.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},lr.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},dr.point.get=function(){return this.project(this.center)},lr.prototype.setLocationAtPoint=function(t,n){var r=this.pointCoordinate(n),a=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(t),o=new e.MercatorCoordinate(i.x-(r.x-a.x),i.y-(r.y-a.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},lr.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},lr.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},lr.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},lr.prototype.coordinateLocation=function(e){return e.toLngLat()},lr.prototype.pointCoordinate=function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);var a=n[3],i=r[3],o=n[0]/a,s=r[0]/i,u=n[1]/a,c=r[1]/i,l=n[2]/a,d=r[2]/i,p=l===d?0:(0-l)/(d-l);return new e.MercatorCoordinate(e.number(o,s,p)/this.worldSize,e.number(u,c,p)/this.worldSize)},lr.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},lr.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},lr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},lr.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},lr.prototype.calculatePosMatrix=function(t,n){void 0===n&&(n=!1);var r=t.key,a=n?this._alignedPosMatrixCache:this._posMatrixCache;if(a[r])return a[r];var i=t.canonical,o=this.worldSize/this.zoomScale(i.z),s=i.x+Math.pow(2,i.z)*t.wrap,u=e.identity(new Float64Array(16));return e.translate(u,u,[s*o,i.y*o,0]),e.scale(u,u,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),a[r]=new Float32Array(u),a[r]},lr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},lr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,a,i=-90,o=90,s=-180,u=180,c=this.size,l=this._unmodified;if(this.latRange){var d=this.latRange;i=e.mercatorYfromLat(d[1])*this.worldSize,t=(o=e.mercatorYfromLat(d[0])*this.worldSize)-i<c.y?c.y/(o-i):0}if(this.lngRange){var p=this.lngRange;s=e.mercatorXfromLng(p[0])*this.worldSize,n=(u=e.mercatorXfromLng(p[1])*this.worldSize)-s<c.x?c.x/(u-s):0}var h=this.point,f=Math.max(n||0,t||0);if(f)return this.center=this.unproject(new e.Point(n?(u+s)/2:h.x,t?(o+i)/2:h.y)),this.zoom+=this.scaleZoom(f),this._unmodified=l,void(this._constraining=!1);if(this.latRange){var m=h.y,v=c.y/2;m-v<i&&(a=i+v),m+v>o&&(a=o-v)}if(this.lngRange){var g=h.x,A=c.x/2;g-A<s&&(r=s+A),g+A>u&&(r=u-A)}void 0===r&&void 0===a||(this.center=this.unproject(new e.Point(void 0!==r?r:h.x,void 0!==a?a:h.y))),this._unmodified=l,this._constraining=!1}},lr.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,n=Math.PI/2+this._pitch,r=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-n-t),a=this.point,i=a.x,o=a.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),u=new Float64Array(16);e.perspective(u,this._fov,this.width/this.height,1,s),e.scale(u,u,[1,-1,1]),e.translate(u,u,[0,0,-this.cameraToCenterDistance]),e.rotateX(u,u,this._pitch),e.rotateZ(u,u,this.angle),e.translate(u,u,[-i,-o,0]),this.mercatorMatrix=e.scale([],u,[this.worldSize,this.worldSize,this.worldSize]),e.scale(u,u,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=u;var c=this.width%2/2,l=this.height%2/2,d=Math.cos(this.angle),p=Math.sin(this.angle),h=i-Math.round(i)+d*c+p*l,f=o-Math.round(o)+d*l+p*c,m=new Float64Array(u);if(e.translate(m,m,[h>.5?h-1:h,f>.5?f-1:f,0]),this.alignedProjMatrix=m,u=e.create(),e.scale(u,u,[this.width/2,-this.height/2,1]),e.translate(u,u,[1,-1,0]),this.labelPlaneMatrix=u,u=e.create(),e.scale(u,u,[1,-1,1]),e.translate(u,u,[-1,-1,0]),e.scale(u,u,[2/this.width,2/this.height,1]),this.glCoordMatrix=u,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(u=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=u,this._posMatrixCache={},this._alignedPosMatrixCache={}}},lr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},lr.prototype.getCameraPoint=function(){var t=this._pitch,n=Math.tan(t)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,n))},lr.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];for(var r=n.x,a=n.y,i=n.x,o=n.y,s=0,u=t;s<u.length;s+=1){var c=u[s];r=Math.min(r,c.x),a=Math.min(a,c.y),i=Math.max(i,c.x),o=Math.max(o,c.y)}return[new e.Point(r,a),new e.Point(i,a),new e.Point(i,o),new e.Point(r,o),new e.Point(r,a)]},Object.defineProperties(lr.prototype,dr);var pr=function(){var t,n,r,a;e.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(t=this._updateHashUnthrottled.bind(this),n=!1,r=0,a=function(){r=0,n&&(t(),r=setTimeout(a,300),n=!1)},function(){return n=!0,r||a(),r})};pr.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},pr.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},pr.prototype.getHashString=function(e){var t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,r),i=Math.round(t.lng*a)/a,o=Math.round(t.lat*a)/a,s=this._map.getBearing(),u=this._map.getPitch(),c="";return c+=e?"#/"+i+"/"+o+"/"+n:"#"+n+"/"+o+"/"+i,(s||u)&&(c+="/"+Math.round(10*s)/10),u&&(c+="/"+Math.round(u)),c},pr.prototype._onHashChange=function(){var t=e.window.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},pr.prototype._updateHashUnthrottled=function(){var t=this.getHashString();try{e.window.history.replaceState(e.window.history.state,"",t)}catch(e){}};var hr=function(t){function r(r,a,i,o){void 0===o&&(o={});var s=n.mousePos(a.getCanvasContainer(),i),u=a.unproject(s);t.call(this,r,e.extend({point:s,lngLat:u,originalEvent:i},o)),this._defaultPrevented=!1,this.target=a}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var a={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},a.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,a),r}(e.Event),fr=function(t){function r(r,a,i){var o=n.touchPos(a.getCanvasContainer(),i),s=o.map(function(e){return a.unproject(e)}),u=o.reduce(function(e,t,n,r){return e.add(t.div(r.length))},new e.Point(0,0)),c=a.unproject(u);t.call(this,r,{points:o,point:u,lngLats:s,lngLat:c,originalEvent:i}),this._defaultPrevented=!1}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var a={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},a.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,a),r}(e.Event),mr=function(e){function t(t,n,r){e.call(this,t,{originalEvent:r}),this._defaultPrevented=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),vr=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,e.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};vr.prototype.isEnabled=function(){return!!this._enabled},vr.prototype.isActive=function(){return!!this._active},vr.prototype.isZooming=function(){return!!this._zooming},vr.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},vr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vr.prototype.onWheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.browser.now(),a=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":a>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(a*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this.isActive()||this._start(t)),t.preventDefault()}},vr.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(e)},vr.prototype._start=function(t){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._zooming=!0,this._map.fire(new e.Event("movestart",{originalEvent:t})),this._map.fire(new e.Event("zoomstart",{originalEvent:t})),this._finishTimeout&&clearTimeout(this._finishTimeout);var r=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},vr.prototype._onScrollFrame=function(){var t=this;if(this._frameId=null,this.isActive()){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,a=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==a&&(a=1/a);var i="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(i*a))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o="number"==typeof this._targetZoom?this._targetZoom:n.zoom,s=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&s&&u){var l=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),d=u(l);n.zoom=e.number(s,o,d),l<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):c=!0}else n.zoom=o,c=!0;n.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new e.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new e.Event("zoom",{originalEvent:this._lastWheelEvent})),c&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._zooming=!1,t._map.fire(new e.Event("zoomend",{originalEvent:t._lastWheelEvent})),t._map.fire(new e.Event("moveend",{originalEvent:t._lastWheelEvent})),delete t._targetZoom},200))}},vr.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,a=(e.browser.now()-r.start)/r.duration,i=r.easing(a+.01)-r.easing(a),o=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=e.bezier(o,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n};var gr=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=n.clickTolerance||1,e.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};gr.prototype.isEnabled=function(){return!!this._enabled},gr.prototype.isActive=function(){return!!this._active},gr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},gr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},gr.prototype.onMouseDown=function(t){this.isEnabled()&&t.shiftKey&&0===t.button&&(e.window.document.addEventListener("mousemove",this._onMouseMove,!1),e.window.document.addEventListener("keydown",this._onKeyDown,!1),e.window.document.addEventListener("mouseup",this._onMouseUp,!1),n.disableDrag(),this._startPos=this._lastPos=n.mousePos(this._el,t),this._active=!0)},gr.prototype._onMouseMove=function(e){var t=n.mousePos(this._el,e);if(!(this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=t,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var a=Math.min(r.x,t.x),i=Math.max(r.x,t.x),o=Math.min(r.y,t.y),s=Math.max(r.y,t.y);n.setTransform(this._box,"translate("+a+"px,"+o+"px)"),this._box.style.width=i-a+"px",this._box.style.height=s-o+"px"}},gr.prototype._onMouseUp=function(t){if(0===t.button){var r=this._startPos,a=n.mousePos(this._el,t);this._finish(),n.suppressClick(),r.x===a.x&&r.y===a.y?this._fireEvent("boxzoomcancel",t):this._map.fitScreenCoordinates(r,a,this._map.getBearing(),{linear:!0}).fire(new e.Event("boxzoomend",{originalEvent:t}))}},gr.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},gr.prototype._finish=function(){this._active=!1,e.window.document.removeEventListener("mousemove",this._onMouseMove,!1),e.window.document.removeEventListener("keydown",this._onKeyDown,!1),e.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},gr.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};var Ar=e.bezier(0,0,.25,1),yr=function(t,n){this._map=t,this._el=n.element||t.getCanvasContainer(),this._state="disabled",this._button=n.button||"right",this._bearingSnap=n.bearingSnap||0,this._pitchWithRotate=!1!==n.pitchWithRotate,e.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};yr.prototype.isEnabled=function(){return"disabled"!==this._state},yr.prototype.isActive=function(){return"active"===this._state},yr.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},yr.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},yr.prototype.onMouseDown=function(t){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=n.mouseButton(t),this._eventButton!==(t.ctrlKey?0:2))return}else{if(t.ctrlKey||0!==n.mouseButton(t))return;this._eventButton=0}n.disableDrag(),e.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.addEventListener("mouseup",this._onMouseUp),e.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[e.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=n.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},yr.prototype._onMouseMove=function(e){var t=n.mousePos(this._el,e);this._lastPos.equals(t)||(this._lastMoveEvent=e,this._lastPos=t,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},yr.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var n=this._map.transform,r=this._startPos,a=this._lastPos,i=.8*(r.x-a.x),o=-.5*(r.y-a.y),s=n.bearing-i,u=n.pitch-o,c=this._inertia,l=c[c.length-1];this._drainInertiaBuffer(),c.push([e.browser.now(),this._map._normalizeBearing(s,l[1])]),n.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),n.pitch=u),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._startPos=this._lastPos}},yr.prototype._onMouseUp=function(e){if(n.mouseButton(e)===this._eventButton)switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(e);break;case"pending":this._state="enabled",this._unbind()}},yr.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",e),this._pitchWithRotate&&this._fireEvent("pitchend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},yr.prototype._unbind=function(){e.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.removeEventListener("mouseup",this._onMouseUp),e.window.removeEventListener("blur",this._onBlur),n.enableDrag()},yr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},yr.prototype._inertialRotate=function(e){var t=this;this._fireEvent("rotateend",e),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),a=this._inertia,i=function(){Math.abs(r)<t._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:e}):t._fireEvent("moveend",e),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(a.length<2)i();else{var o=a[0],s=a[a.length-1],u=a[a.length-2],c=n._normalizeBearing(r,u[1]),l=s[1]-o[1],d=l<0?-1:1,p=(s[0]-o[0])/1e3;if(0!==l&&0!==p){var h=Math.abs(l*(.25/p));h>180&&(h=180);var f=h/180;c+=d*h*(f/2),Math.abs(n._normalizeBearing(c,0))<this._bearingSnap&&(c=n._normalizeBearing(0,c)),n.rotateTo(c,{duration:1e3*f,easing:Ar,noMoveStart:!0},{originalEvent:e})}else i()}},yr.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},yr.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,n=e.browser.now();t.length>0&&n-t[0][0]>160;)t.shift()};var br=e.bezier(0,0,.3,1),xr=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._state="disabled",this._clickTolerance=n.clickTolerance||1,e.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};xr.prototype.isEnabled=function(){return"disabled"!==this._state},xr.prototype.isActive=function(){return"active"===this._state},xr.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},xr.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},xr.prototype.onMouseDown=function(t){"enabled"===this._state&&(t.ctrlKey||0!==n.mouseButton(t)||(n.addEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),n.addEventListener(e.window.document,"mouseup",this._onMouseUp),this._start(t)))},xr.prototype.onTouchStart=function(t){"enabled"===this._state&&(t.touches.length>1||(n.addEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.addEventListener(e.window.document,"touchend",this._onTouchEnd),this._start(t)))},xr.prototype._start=function(t){e.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=n.mousePos(this._el,t),this._inertia=[[e.browser.now(),this._startPos]]},xr.prototype._onMove=function(t){t.preventDefault();var r=n.mousePos(this._el,t);this._lastPos.equals(r)||"pending"===this._state&&r.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=r,this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},xr.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var t=this._map.transform;t.setLocationAtPoint(t.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",e),this._fireEvent("move",e),this._startPos=this._lastPos,delete this._lastMoveEvent}},xr.prototype._onMouseUp=function(e){if(0===n.mouseButton(e))switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},xr.prototype._onTouchEnd=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},xr.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},xr.prototype._unbind=function(){n.removeEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.removeEventListener(e.window.document,"touchend",this._onTouchEnd),n.removeEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),n.removeEventListener(e.window.document,"mouseup",this._onMouseUp),n.removeEventListener(e.window,"blur",this._onBlur)},xr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},xr.prototype._inertialPan=function(e){this._fireEvent("dragend",e),this._drainInertiaBuffer();var t=this._inertia;if(t.length<2)this._fireEvent("moveend",e);else{var n=t[t.length-1],r=t[0],a=n[1].sub(r[1]),i=(n[0]-r[0])/1e3;if(0===i||n[1].equals(r[1]))this._fireEvent("moveend",e);else{var o=a.mult(.3/i),s=o.mag();s>1400&&(s=1400,o._unit()._mult(s));var u=s/750,c=o.mult(-u/2);this._map.panBy(c,{duration:1e3*u,easing:br,noMoveStart:!0},{originalEvent:e})}}},xr.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},xr.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,n=e.browser.now();t.length>0&&n-t[0][0]>160;)t.shift()};var wr=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onKeyDown"],this)};function _r(e){return e*(2-e)}wr.prototype.isEnabled=function(){return!!this._enabled},wr.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},wr.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},wr.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,n=0,r=0,a=0,i=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),i=-1);break;case 40:e.shiftKey?r=-1:(i=1,e.preventDefault());break;default:return}var o=this._map,s=o.getZoom(),u={duration:300,delayEndEvents:500,easing:_r,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:o.getBearing()+15*n,pitch:o.getPitch()+10*r,offset:[100*-a,100*-i],center:o.getCenter()};o.easeTo(u,{originalEvent:e})}};var kr=function(t){this._map=t,e.bindAll(["_onDblClick","_onZoomEnd"],this)};kr.prototype.isEnabled=function(){return!!this._enabled},kr.prototype.isActive=function(){return!!this._active},kr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},kr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},kr.prototype.onTouchStart=function(e){var t=this;this.isEnabled()&&(e.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(e)):this._tapped=setTimeout(function(){t._tapped=null},300)))},kr.prototype.onDblClick=function(e){this.isEnabled()&&(e.originalEvent.preventDefault(),this._zoom(e))},kr.prototype._zoom=function(e){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},kr.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Or=e.bezier(0,0,.15,1),Er=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Er.prototype.isEnabled=function(){return!!this._enabled},Er.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)},Er.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Er.prototype.disableRotation=function(){this._rotationDisabled=!0},Er.prototype.enableRotation=function(){this._rotationDisabled=!1},Er.prototype.onStart=function(t){if(this.isEnabled()&&2===t.touches.length){var r=n.mousePos(this._el,t.touches[0]),a=n.mousePos(this._el,t.touches[1]),i=r.add(a).div(2);this._startVec=r.sub(a),this._startAround=this._map.transform.pointLocation(i),this._gestureIntent=void 0,this._inertia=[],n.addEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),n.addEventListener(e.window.document,"touchend",this._onEnd)}},Er.prototype._getTouchEventData=function(e){var t=n.mousePos(this._el,e.touches[0]),r=n.mousePos(this._el,e.touches[1]),a=t.sub(r);return{vec:a,center:t.add(r).div(2),scale:a.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*a.angleWith(this._startVec)/Math.PI}},Er.prototype._onMove=function(t){if(2===t.touches.length){var n=this._getTouchEventData(t),r=n.vec,a=n.scale,i=n.bearing;if(!this._gestureIntent){var o=this._rotationDisabled&&1!==a||Math.abs(1-a)>.15;Math.abs(i)>10?this._gestureIntent="rotate":o&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new e.Event(this._gestureIntent+"start",{originalEvent:t})),this._map.fire(new e.Event("movestart",{originalEvent:t})),this._startVec=r)}this._lastTouchEvent=t,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),t.preventDefault()}},Er.prototype._onTouchFrame=function(){this._frameId=null;var t=this._gestureIntent;if(t){var n=this._map.transform;this._startScale||(this._startScale=n.scale,this._startBearing=n.bearing);var r=this._getTouchEventData(this._lastTouchEvent),a=r.center,i=r.bearing,o=r.scale,s=n.pointLocation(a),u=n.locationPoint(s);"rotate"===t&&(n.bearing=this._startBearing+i),n.zoom=n.scaleZoom(this._startScale*o),n.setLocationAtPoint(this._startAround,u),this._map.fire(new e.Event(t,{originalEvent:this._lastTouchEvent})),this._map.fire(new e.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),o,a])}},Er.prototype._onEnd=function(t){n.removeEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),n.removeEventListener(e.window.document,"touchend",this._onEnd);var r=this._gestureIntent,a=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,r){this._map.fire(new e.Event(r+"end",{originalEvent:t})),this._drainInertiaBuffer();var i=this._inertia,o=this._map;if(i.length<2)o.snapToNorth({},{originalEvent:t});else{var s=i[i.length-1],u=i[0],c=o.transform.scaleZoom(a*s[1]),l=o.transform.scaleZoom(a*u[1]),d=c-l,p=(s[0]-u[0])/1e3,h=s[2];if(0!==p&&c!==l){var f=.15*d/p;Math.abs(f)>2.5&&(f=f>0?2.5:-2.5);var m=1e3*Math.abs(f/(12*.15)),v=c+f*m/2e3;v<0&&(v=0),o.easeTo({zoom:v,duration:m,easing:Or,around:this._aroundCenter?o.getCenter():o.unproject(h),noMoveStart:!0},{originalEvent:t})}else o.snapToNorth({},{originalEvent:t})}}},Er.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,n=e.browser.now();t.length>2&&n-t[0][0]>160;)t.shift()};var Sr={scrollZoom:vr,boxZoom:gr,dragRotate:yr,dragPan:xr,keyboard:wr,doubleClickZoom:kr,touchZoomRotate:Er},Cr=function(t){function n(n,r){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,r){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)},n.prototype.panTo=function(t,n,r){return this.easeTo(e.extend({center:t},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.rotateTo=function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){return t=e.LngLatBounds.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,n)},n.prototype._cameraForBoxAndBearing=function(t,n,r,a){if("number"==typeof(a=e.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding){var i=a.padding;a.padding={top:i,bottom:i,right:i,left:i}}if(e.deepEqual(Object.keys(a.padding).sort(function(e,t){return e<t?-1:e>t?1:0}),["bottom","left","right","top"])){var o=this.transform,s=o.project(e.LngLat.convert(t)),u=o.project(e.LngLat.convert(n)),c=s.rotate(-r*Math.PI/180),l=u.rotate(-r*Math.PI/180),d=new e.Point(Math.max(c.x,l.x),Math.max(c.y,l.y)),p=new e.Point(Math.min(c.x,l.x),Math.min(c.y,l.y)),h=d.sub(p),f=(o.width-a.padding.left-a.padding.right)/h.x,m=(o.height-a.padding.top-a.padding.bottom)/h.y;if(!(m<0||f<0)){var v=Math.min(o.scaleZoom(o.scale*Math.min(f,m)),a.maxZoom),g=e.Point.convert(a.offset),A=(a.padding.left-a.padding.right)/2,y=(a.padding.top-a.padding.bottom)/2,b=new e.Point(g.x+A,g.y+y).mult(o.scale/o.zoomScale(v));return{center:o.unproject(s.add(u).div(2).sub(b)),zoom:v,bearing:r}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else e.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,r,a,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),r,a),a,i)},n.prototype._fitInternal=function(t,n,r){return t?(n=e.extend(t,n)).linear?this.easeTo(n,r):this.flyTo(n,r):this},n.prototype.jumpTo=function(t,n){this.stop();var r=this.transform,a=!1,i=!1,o=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(a=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(i=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(o=!0,r.pitch=+t.pitch),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),a&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),i&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),o&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))},n.prototype.easeTo=function(t,n){var r=this;this.stop(),!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate&&(t.duration=0);var a=this.transform,i=this.getZoom(),o=this.getBearing(),s=this.getPitch(),u="zoom"in t?+t.zoom:i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,l="pitch"in t?+t.pitch:s,d=a.centerPoint.add(e.Point.convert(t.offset)),p=a.pointLocation(d),h=e.LngLat.convert(t.center||p);this._normalizeCenter(h);var f,m,v=a.project(p),g=a.project(h).sub(v),A=a.zoomScale(u-i);return t.around&&(f=e.LngLat.convert(t.around),m=a.locationPoint(f)),this._zooming=u!==i,this._rotating=o!==c,this._pitching=l!==s,this._prepareEase(n,t.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(t){if(r._zooming&&(a.zoom=e.number(i,u,t)),r._rotating&&(a.bearing=e.number(o,c,t)),r._pitching&&(a.pitch=e.number(s,l,t)),f)a.setLocationAtPoint(f,m);else{var p=a.zoomScale(a.zoom-i),h=u>i?Math.min(2,A):Math.max(.5,A),y=Math.pow(h,1-t),b=a.unproject(v.add(g.mult(t*y)).mult(p));a.setLocationAtPoint(a.renderWorldCopies?b.wrap():b,d)}r._fireMoveEvents(n)},function(){t.delayEndEvents?r._easeEndTimeoutID=setTimeout(function(){return r._afterEase(n)},t.delayEndEvents):r._afterEase(n)},t),this},n.prototype._prepareEase=function(t,n){this._moving=!0,n||this.fire(new e.Event("movestart",t)),this._zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&this.fire(new e.Event("pitchstart",t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},n.prototype._afterEase=function(t){var n=this._zooming,r=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,n&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))},n.prototype.flyTo=function(t,n){var r=this;this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,i=this.getZoom(),o=this.getBearing(),s=this.getPitch(),u="zoom"in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,l="pitch"in t?+t.pitch:s,d=a.zoomScale(u-i),p=a.centerPoint.add(e.Point.convert(t.offset)),h=a.pointLocation(p),f=e.LngLat.convert(t.center||h);this._normalizeCenter(f);var m=a.project(h),v=a.project(f).sub(m),g=t.curve,A=Math.max(a.width,a.height),y=A/d,b=v.mag();if("minZoom"in t){var x=e.clamp(Math.min(t.minZoom,i,u),a.minZoom,a.maxZoom),w=A/a.zoomScale(x-i);g=Math.sqrt(w/b*2)}var _=g*g;function k(e){var t=(y*y-A*A+(e?-1:1)*_*_*b*b)/(2*(e?y:A)*_*b);return Math.log(Math.sqrt(t*t+1)-t)}function O(e){return(Math.exp(e)-Math.exp(-e))/2}function E(e){return(Math.exp(e)+Math.exp(-e))/2}var S=k(0),C=function(e){return E(S)/E(S+g*e)},T=function(e){return A*((E(S)*(O(t=S+g*e)/E(t))-O(S))/_)/b;var t},I=(k(1)-S)/g;if(Math.abs(b)<1e-6||!isFinite(I)){if(Math.abs(A-y)<1e-6)return this.easeTo(t,n);var j=y<A?-1:1;I=Math.abs(Math.log(y/A))/g,T=function(){return 0},C=function(e){return Math.exp(j*g*e)}}if("duration"in t)t.duration=+t.duration;else{var M="screenSpeed"in t?+t.screenSpeed/g:+t.speed;t.duration=1e3*I/M}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=o!==c,this._pitching=l!==s,this._prepareEase(n,!1),this._ease(function(t){var d=t*I,h=1/C(d);a.zoom=1===t?u:i+a.scaleZoom(h),r._rotating&&(a.bearing=e.number(o,c,t)),r._pitching&&(a.pitch=e.number(s,l,t));var g=1===t?f:a.unproject(m.add(v.mult(T(d))).mult(h));a.setLocationAtPoint(a.renderWorldCopies?g.wrap():g,p),r._fireMoveEvents(n)},function(){return r._afterEase(n)},t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var e=this._onEaseEnd;delete this._onEaseEnd,e.call(this)}return this},n.prototype._ease=function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),Tr=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Tr.prototype.getDefaultPosition=function(){return"bottom-right"},Tr.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Tr.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Tr.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:e.config.ACCESS_TOKEN}];if(t){var r=n.reduce(function(e,t,r){return t.value&&(e+=t.key+"="+t.value+(r<n.length-1?"&":"")),e},"?");t.href=e.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener"}},Tr.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},Tr.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(function(e){return"string"!=typeof e?"":e})):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var a=n[r];if(a.used){var i=a.getSource();i.attribution&&e.indexOf(i.attribution)<0&&e.push(i.attribution)}}e.sort(function(e,t){return e.length-t.length}),(e=e.filter(function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0})).length?(this._innerContainer.innerHTML=e.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},Tr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Ir=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};Ir.prototype.onAdd=function(e){this._map=e,this._container=n.create("div","mapboxgl-ctrl");var t=n.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener",t.href="https://www.mapbox.com/",t.setAttribute("aria-label","Mapbox logo"),t.setAttribute("rel","noopener"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ir.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ir.prototype.getDefaultPosition=function(){return"bottom-left"},Ir.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Ir.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},Ir.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var jr=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};jr.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},jr.prototype.remove=function(e){for(var t=this._currentlyRunning,n=0,r=t?this._queue.concat(t):this._queue;n<r.length;n+=1){var a=r[n];if(a.id===e)return void(a.cancelled=!0)}},jr.prototype.run=function(){var e=this._currentlyRunning=this._queue;this._queue=[];for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!r.cancelled&&(r.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},jr.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Mr=e.window.HTMLImageElement,Nr=e.window.HTMLElement,Dr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Rr=function(r){function a(t){var a=this;if(null!=(t=e.extend({},Dr,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var i=new lr(t.minZoom,t.maxZoom,t.renderWorldCopies);if(r.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new jr,this._controls=[],this._mapId=e.uniqueId(),this._requestManager=new e.RequestManager(t.transformRequest),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Nr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return a._update(!1)}),this.on("moveend",function(){return a._update(!1)}),this.on("zoom",function(){return a._update(!0)}),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1)),function(e,t){var r=e.getCanvasContainer(),a=null,i=!1,o=null;for(var s in Sr)e[s]=new Sr[s](e,t),t.interactive&&t[s]&&e[s].enable(t[s]);n.addEventListener(r,"mouseout",function(t){e.fire(new hr("mouseout",e,t))}),n.addEventListener(r,"mousedown",function(a){i=!0,o=n.mousePos(r,a);var s=new hr("mousedown",e,a);e.fire(s),s.defaultPrevented||(t.interactive&&!e.doubleClickZoom.isActive()&&e.stop(),e.boxZoom.onMouseDown(a),e.boxZoom.isActive()||e.dragPan.isActive()||e.dragRotate.onMouseDown(a),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onMouseDown(a))}),n.addEventListener(r,"mouseup",function(t){var n=e.dragRotate.isActive();a&&!n&&e.fire(new hr("contextmenu",e,a)),a=null,i=!1,e.fire(new hr("mouseup",e,t))}),n.addEventListener(r,"mousemove",function(t){if(!e.dragPan.isActive()&&!e.dragRotate.isActive()){for(var n=t.target;n&&n!==r;)n=n.parentNode;n===r&&e.fire(new hr("mousemove",e,t))}}),n.addEventListener(r,"mouseover",function(t){for(var n=t.target;n&&n!==r;)n=n.parentNode;n===r&&e.fire(new hr("mouseover",e,t))}),n.addEventListener(r,"touchstart",function(n){var r=new fr("touchstart",e,n);e.fire(r),r.defaultPrevented||(t.interactive&&e.stop(),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onTouchStart(n),e.touchZoomRotate.onStart(n),e.doubleClickZoom.onTouchStart(r))},{passive:!1}),n.addEventListener(r,"touchmove",function(t){e.fire(new fr("touchmove",e,t))},{passive:!1}),n.addEventListener(r,"touchend",function(t){e.fire(new fr("touchend",e,t))}),n.addEventListener(r,"touchcancel",function(t){e.fire(new fr("touchcancel",e,t))}),n.addEventListener(r,"click",function(a){var i=n.mousePos(r,a);(i.equals(o)||i.dist(o)<t.clickTolerance)&&e.fire(new hr("click",e,a))}),n.addEventListener(r,"dblclick",function(t){var n=new hr("dblclick",e,t);e.fire(n),n.defaultPrevented||e.doubleClickZoom.onDblClick(n)}),n.addEventListener(r,"contextmenu",function(t){var n=e.dragRotate.isActive();i||n?i&&(a=t):e.fire(new hr("contextmenu",e,t)),(e.dragRotate.isEnabled()||e.listens("contextmenu"))&&t.preventDefault()}),n.addEventListener(r,"wheel",function(n){t.interactive&&e.stop();var r=new mr("wheel",e,n);e.fire(r),r.defaultPrevented||e.scrollZoom.onWheel(n)},{passive:!1})}(this,t),this._hash=t.hash&&(new pr).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new Tr({customAttribution:t.customAttribution})),this.addControl(new Ir,t.logoPosition),this.on("style.load",function(){a.transform.unmodified&&a.jumpTo(a.style.stylesheet)}),this.on("data",function(t){a._update("style"===t.dataType),a.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",function(t){a.fire(new e.Event(t.dataType+"dataloading",t))})}r&&(a.__proto__=r),a.prototype=Object.create(r&&r.prototype),a.prototype.constructor=a;var i={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return a.prototype._getMapId=function(){return this._mapId},a.prototype.addControl=function(t,n){if(void 0===n&&t.getDefaultPosition&&(n=t.getDefaultPosition()),void 0===n&&(n="top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var a=this._controlPositions[n];return-1!==n.indexOf("bottom")?a.insertBefore(r,a.firstChild):a.appendChild(r),this},a.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},a.prototype.resize=function(t){var n=this._containerDimensions(),r=n[0],a=n[1];return this._resizeCanvas(r,a),this.transform.resize(r,a),this.painter.resize(r,a),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)).fire(new e.Event("resize",t)).fire(new e.Event("moveend",t)),this},a.prototype.getBounds=function(){return this.transform.getBounds()},a.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},a.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},a.prototype.setMinZoom=function(e){if((e=null==e?0:e)>=0&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},a.prototype.getMinZoom=function(){return this.transform.minZoom},a.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},a.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},a.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},a.prototype.getMaxZoom=function(){return this.transform.maxZoom},a.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},a.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},a.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},a.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},a.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},a.prototype.on=function(e,t,n){var a=this;if(void 0===n)return r.prototype.on.call(this,e,t);var i=function(){var r;if("mouseenter"===e||"mouseover"===e){var i=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){var o=a.getLayer(t)?a.queryRenderedFeatures(r.point,{layers:[t]}):[];o.length?i||(i=!0,n.call(a,new hr(e,a,r.originalEvent,{features:o}))):i=!1},mouseout:function(){i=!1}}}}if("mouseleave"===e||"mouseout"===e){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){(a.getLayer(t)?a.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?o=!0:o&&(o=!1,n.call(a,new hr(e,a,r.originalEvent)))},mouseout:function(t){o&&(o=!1,n.call(a,new hr(e,a,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:(r={},r[e]=function(e){var r=a.getLayer(t)?a.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(a,e),delete e.features)},r)}}();for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(o,i.delegates[o]);return this},a.prototype.off=function(e,t,n){if(void 0===n)return r.prototype.off.call(this,e,t);if(this._delegatedListeners&&this._delegatedListeners[e])for(var a=this._delegatedListeners[e],i=0;i<a.length;i++){var o=a[i];if(o.layer===t&&o.listener===n){for(var s in o.delegates)this.off(s,o.delegates[s]);return a.splice(i,1),this}}return this},a.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];var r;if(void 0!==n||void 0===t||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])r=[e.Point.convert(t)];else{var a=e.Point.convert(t[0]),i=e.Point.convert(t[1]);r=[a,new e.Point(i.x,a.y),i,new e.Point(a.x,i.y),a]}return this.style.queryRenderedFeatures(r,n,this.transform)},a.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},a.prototype.setStyle=function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:Dr.localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},a.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Pt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},a.prototype._diffStyle=function(t,n){var r=this;if("string"==typeof t){var a=this._requestManager.normalizeStyleURL(t),i=this._requestManager.transformRequest(a,e.ResourceType.Style);e.getJSON(i,function(t,a){t?r.fire(new e.ErrorEvent(t)):a&&r._updateDiff(a,n)})}else"object"==typeof t&&this._updateDiff(t,n)},a.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(t,n)}},a.prototype.getStyle=function(){if(this.style)return this.style.serialize()},a.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},a.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0)},a.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},a.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var a=n[r];if("loaded"!==a.state&&"errored"!==a.state)return!1}}return!0},a.prototype.addSourceType=function(e,t,n){return this.style.addSourceType(e,t,n)},a.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},a.prototype.getSource=function(e){return this.style.getSource(e)},a.prototype.addImage=function(t,n,r){void 0===r&&(r={});var a=r.pixelRatio;void 0===a&&(a=1);var i=r.sdf;if(void 0===i&&(i=!1),n instanceof Mr){var o=e.browser.getImageData(n),s=o.width,u=o.height,c=o.data;this.style.addImage(t,{data:new e.RGBAImage({width:s,height:u},c),pixelRatio:a,sdf:i,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var l=n.width,d=n.height,p=n.data,h=n;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:d},new Uint8Array(p)),pixelRatio:a,sdf:i,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t)}},a.prototype.updateImage=function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var a=n instanceof Mr?e.browser.getImageData(n):n,i=a.width,o=a.height,s=a.data;if(void 0===i||void 0===o)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(i!==r.data.width||o!==r.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var u=!(n instanceof Mr);r.data.replace(s,u),this.style.updateImage(t,r)},a.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},a.prototype.removeImage=function(e){this.style.removeImage(e)},a.prototype.loadImage=function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)},a.prototype.listImages=function(){return this.style.listImages()},a.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0)},a.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},a.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},a.prototype.getLayer=function(e){return this.style.getLayer(e)},a.prototype.setFilter=function(e,t,n){return void 0===n&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},a.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},a.prototype.getFilter=function(e){return this.style.getFilter(e)},a.prototype.setPaintProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(e,t,n,r),this._update(!0)},a.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},a.prototype.setLayoutProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(e,t,n,r),this._update(!0)},a.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},a.prototype.setLight=function(e,t){return void 0===t&&(t={}),this.style.setLight(e,t),this._update(!0)},a.prototype.getLight=function(){return this.style.getLight()},a.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},a.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},a.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},a.prototype.getContainer=function(){return this._container},a.prototype.getCanvasContainer=function(){return this._canvasContainer},a.prototype.getCanvas=function(){return this._canvas},a.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},a.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},a.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=n.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var a=this._controlContainer=n.create("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){i[e]=n.create("div","mapboxgl-ctrl-"+e,a)})},a.prototype._resizeCanvas=function(t,n){var r=e.window.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*n,this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"},a.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new or(r,this.transform),e.webpSupported.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},a.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},a.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},a.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},a.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},a.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},a.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},a.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var n=this.transform.zoom,r=e.browser.now();this.style.zoomHistory.update(n,r);var a=new e.EvaluationParameters(n,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=a.crossFadingFactor();1===i&&i===this._crossFadingFactor||(t=!0,this._crossFadingFactor=i),this.style.update(a)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),this},a.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Pr(this._canvasContainer),Pr(this._controlContainer),Pr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new e.Event("remove"))},a.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame(function(){t._frame=null,t._render()}))},a.prototype._onWindowOnline=function(){this._update()},a.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},i.showTileBoundaries.get=function(){return!!this._showTileBoundaries},i.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},i.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},i.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},i.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},i.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},i.repaint.get=function(){return!!this._repaint},i.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},i.vertices.get=function(){return!!this._vertices},i.vertices.set=function(e){this._vertices=e,this._update()},Object.defineProperties(a.prototype,i),a}(Cr);function Pr(e){e.parentNode&&e.parentNode.removeChild(e)}var Lr={showCompass:!0,showZoom:!0},Fr=function(t){var r=this;this.options=e.extend({},Lr,t),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this.options.showZoom&&(e.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",function(){return r._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",function(){return r._map.zoomOut()})),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",function(){return r._map.resetNorth()}),this._compassArrow=n.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function Br(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var a=new e.LngLat(t.lng-360,t.lat),i=new e.LngLat(t.lng+360,t.lat),o=r.locationPoint(t).distSqr(n);r.locationPoint(a).distSqr(n)<o?t=a:r.locationPoint(i).distSqr(n)<o&&(t=i)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}Fr.prototype._updateZoomButtons=function(){var e=this._map.getZoom();this._zoomInButton.classList.toggle("mapboxgl-ctrl-icon-disabled",e===this._map.getMaxZoom()),this._zoomOutButton.classList.toggle("mapboxgl-ctrl-icon-disabled",e===this._map.getMinZoom())},Fr.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},Fr.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new yr(e,{button:"left",element:this._compass}),n.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Fr.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),n.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Fr.prototype._createButton=function(e,t,r){var a=n.create("button",e,this._container);return a.type="button",a.title=t,a.setAttribute("aria-label",t),a.addEventListener("click",r),a};var zr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ur(e,t,n){var r=e.classList;for(var a in zr)r.remove("mapboxgl-"+n+"-anchor-"+a);r.add("mapboxgl-"+n+"-anchor-"+t)}var Vr,Wr=function(t){function r(r,a){if(t.call(this),(r instanceof e.window.HTMLElement||a)&&(r=e.extend({element:r},a)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._draggable=r&&r.draggable||!1,this._state="inactive",r&&r.element)this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div");var i=n.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var o=n.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var c=0,l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];c<l.length;c+=1){var d=l[c],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",d.rx),p.setAttributeNS(null,"ry",d.ry),u.appendChild(p)}var h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var f=n.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(f);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var v=n.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(v);var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var A=n.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"transform","translate(8.0, 8.0)");var y=n.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#000000"),y.setAttributeNS(null,"opacity","0.25"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),A.appendChild(y),A.appendChild(b),s.appendChild(u),s.appendChild(h),s.appendChild(m),s.appendChild(g),s.appendChild(A),i.appendChild(s),this._element.appendChild(i),this._offset=e.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(e){e.preventDefault()}),Ur(this._element,this._anchor,"marker"),this._popup=null}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},r.prototype._update=function(e){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Br(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,zr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r}(e.Evented),Gr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Hr=function(t){function r(n){t.call(this),this.options=e.extend({},Gr,n),e.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.onAdd=function(t){var r;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Vr?r(Vr):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(function(e){Vr="denied"!==e.state,r(Vr)}):(Vr=!!e.window.navigator.geolocation,r(Vr)),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),n.remove(this._container),this._map=void 0},r.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()},r.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,a=this._map.getBearing(),i=e.extend({bearing:a},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),i,{geolocateSource:!0})},r.prototype._updateMarker=function(e){e?this._userLocationDotMarker.setLngLat([e.coords.longitude,e.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},r.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;!1!==t?(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=n.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Wr(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==r._watchState||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new e.Event("trackuserlocationend")))})):e.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),qr={maxWidth:100,unit:"metric"},Kr=function(t){this.options=e.extend({},qr,t),e.bindAll(["_onMove","setUnit"],this)};function Xr(e,t,n){var r,a,i,o,s,u,c=n&&n.maxWidth||100,l=e._container.clientHeight/2,d=(r=e.unproject([0,l]),a=e.unproject([c,l]),i=Math.PI/180,o=r.lat*i,s=a.lat*i,u=Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos((a.lng-r.lng)*i),6371e3*Math.acos(Math.min(u,1)));if(n&&"imperial"===n.unit){var p=3.2808*d;p>5280?Qr(t,c,p/5280,"mi"):Qr(t,c,p,"ft")}else n&&"nautical"===n.unit?Qr(t,c,d/1852,"nm"):Qr(t,c,d,"m")}function Qr(e,t,n,r){var a,i,o,s=(a=n,(i=Math.pow(10,(""+Math.floor(a)).length-1))*(o=(o=a/i)>=10?10:o>=5?5:o>=3?3:o>=2?2:o>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(o))),u=s/n;"m"===r&&s>=1e3&&(s/=1e3,r="km"),e.style.width=t*u+"px",e.innerHTML=s+r}Kr.prototype.getDefaultPosition=function(){return"bottom-left"},Kr.prototype._onMove=function(){Xr(this._map,this._container,this.options)},Kr.prototype.onAdd=function(e){return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Kr.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Kr.prototype.setUnit=function(e){this.options.unit=e,Xr(this._map,this._container,this.options)};var Yr=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Yr.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Yr.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Yr.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Yr.prototype._setupUI=function(){(this._fullscreenButton=n.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Yr.prototype._updateTitle=function(){var e=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Yr.prototype._isFullscreen=function(){return this._fullscreen},Yr.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Yr.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var $r={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Zr=function(t){function r(n){t.call(this),this.options=e.extend(Object.create($r),n),e.bindAll(["_update","_onClickClose","remove"],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this.fire(new e.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),delete this._map),this.fire(new e.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._update(),this},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var n,r=e.window.document.createDocumentFragment(),a=e.window.document.createElement("body");for(a.innerHTML=t;n=a.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container.style.maxWidth},r.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},r.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},r.prototype._createContent=function(){this._content&&n.remove(this._content),this._content=n.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},r.prototype._update=function(){var t=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(e){return t._container.classList.add(e)})),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&(this._lngLat=Br(this._lngLat,this._pos,this._map.transform));var r=this._pos=this._map.project(this._lngLat),a=this.options.anchor,i=function t(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new e.Point(0,0),top:new e.Point(0,n),"top-left":new e.Point(r,r),"top-right":new e.Point(-r,r),bottom:new e.Point(0,-n),"bottom-left":new e.Point(r,-r),"bottom-right":new e.Point(-r,-r),left:new e.Point(n,0),right:new e.Point(-n,0)}}if(n instanceof e.Point||Array.isArray(n)){var a=e.Point.convert(n);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:e.Point.convert(n.center||[0,0]),top:e.Point.convert(n.top||[0,0]),"top-left":e.Point.convert(n["top-left"]||[0,0]),"top-right":e.Point.convert(n["top-right"]||[0,0]),bottom:e.Point.convert(n.bottom||[0,0]),"bottom-left":e.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(n["bottom-right"]||[0,0]),left:e.Point.convert(n.left||[0,0]),right:e.Point.convert(n.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!a){var o,s=this._container.offsetWidth,u=this._container.offsetHeight;o=r.y+i.bottom.y<u?["top"]:r.y>this._map.transform.height-u?["bottom"]:[],r.x<s/2?o.push("left"):r.x>this._map.transform.width-s/2&&o.push("right"),a=0===o.length?"bottom":o.join("-")}var c=r.add(i[a]).round();n.setTransform(this._container,zr[a]+" translate("+c.x+"px,"+c.y+"px)"),Ur(this._container,a,"popup")}},r.prototype._onClickClose=function(){this.remove()},r}(e.Evented),Jr={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,Map:Rr,NavigationControl:Fr,GeolocateControl:Hr,AttributionControl:Tr,ScaleControl:Kr,FullscreenControl:Yr,Popup:Zr,Marker:Wr,Style:Pt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Ne.workerCount},set workerCount(e){Ne.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},workerUrl:""};return Jr}),n}()},function(e,t,n){"use strict";var r=n(55);function a(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&a(e),s=t&&a(t),u=o||s;if(e&&a(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c=void 0;if(r.length){var l=r[r.length-1];c="."===l||".."===l||""===l}else c=!1;for(var d=0,p=r.length;p>=0;p--){var h=r[p];"."===h?i(r,p):".."===h?(i(r,p),d++):d&&(i(r,p),d--)}if(!u)for(;d--;d)r.unshift("..");!u||""===r[0]||r[0]&&a(r[0])||r.unshift("");var f=r.join("/");return c&&"/"!==f.substr(-1)&&(f+="/"),f},s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var r="undefined"===typeof t?"undefined":s(t);if(r!==("undefined"===typeof n?"undefined":s(n)))return!1;if("object"===r){var a=t.valueOf(),i=n.valueOf();if(a!==t||i!==n)return e(a,i);var o=Object.keys(t),u=Object.keys(n);return o.length===u.length&&o.every(function(r){return e(t[r],n[r])})}return!1},c=n(26);function l(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function m(e,t,n,a){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=Object(r.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),a?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=o(i.pathname,a.pathname)):i.pathname=a.pathname:i.pathname||(i.pathname="/"),i}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var i="function"===typeof e?e(t,n):e;"string"===typeof i?"function"===typeof r?r(i,a):a(!0):a(!1!==i)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}n.d(t,"a",function(){return _}),n.d(t,"b",function(){return C}),n.d(t,"d",function(){return I}),n.d(t,"c",function(){return m}),n.d(t,"f",function(){return v}),n.d(t,"e",function(){return f});var A=!("undefined"===typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var b="popstate",x="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),A||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),a=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,s=void 0!==o&&o,u=i.getUserConfirmation,d=void 0===u?y:u,v=i.keyLength,_=void 0===v?6:v,k=e.basename?h(l(e.basename)):"";function O(e){var t=e||{},n=t.key,r=t.state,a=window.location,i=a.pathname+a.search+a.hash;return k&&(i=p(i,k)),m(i,r,n)}function E(){return Math.random().toString(36).substr(2,_)}var S=g();function C(e){Object(r.a)(z,e),z.length=t.length,S.notifyListeners(z.location,z.action)}function T(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||M(O(e.state))}function I(){M(O(w()))}var j=!1;function M(e){if(j)j=!1,C();else{S.confirmTransitionTo(e,"POP",d,function(t){t?C({action:"POP",location:e}):function(e){var t=z.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(j=!0,P(a))}(e)})}}var N=O(w()),D=[N.key];function R(e){return k+f(e)}function P(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?(window.addEventListener(b,T),a&&window.addEventListener(x,I)):0===L&&(window.removeEventListener(b,T),a&&window.removeEventListener(x,I))}var B=!1;var z={length:t.length,action:"POP",location:N,createHref:R,push:function(e,r){var a=m(e,r,E(),z.location);S.confirmTransitionTo(a,"PUSH",d,function(e){if(e){var r=R(a),i=a.key,o=a.state;if(n)if(t.pushState({key:i,state:o},null,r),s)window.location.href=r;else{var u=D.indexOf(z.location.key),c=D.slice(0,-1===u?0:u+1);c.push(a.key),D=c,C({action:"PUSH",location:a})}else window.location.href=r}})},replace:function(e,r){var a=m(e,r,E(),z.location);S.confirmTransitionTo(a,"REPLACE",d,function(e){if(e){var r=R(a),i=a.key,o=a.state;if(n)if(t.replaceState({key:i,state:o},null,r),s)window.location.replace(r);else{var u=D.indexOf(z.location.key);-1!==u&&(D[u]=a.key),C({action:"REPLACE",location:a})}else window.location.replace(r)}})},go:P,goBack:function(){P(-1)},goForward:function(){P(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=S.appendListener(e);return F(1),function(){F(-1),t()}}};return z}var k="hashchange",O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:l},slash:{encodePath:l,decodePath:l}};function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function S(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function C(e){void 0===e&&(e={}),A||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),a=n.getUserConfirmation,i=void 0===a?y:a,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?h(l(e.basename)):"",d=O[s],b=d.encodePath,x=d.decodePath;function w(){var e=x(E());return u&&(e=p(e,u)),m(e)}var _=g();function C(e){Object(r.a)(z,e),z.length=t.length,_.notifyListeners(z.location,z.action)}var T=!1,I=null;function j(){var e=E(),t=b(e);if(e!==t)S(t);else{var n=w(),r=z.location;if(!T&&v(r,n))return;if(I===f(n))return;I=null,function(e){if(T)T=!1,C();else{_.confirmTransitionTo(e,"POP",i,function(t){t?C({action:"POP",location:e}):function(e){var t=z.location,n=R.lastIndexOf(f(t));-1===n&&(n=0);var r=R.lastIndexOf(f(e));-1===r&&(r=0);var a=n-r;a&&(T=!0,P(a))}(e)})}}(n)}}var M=E(),N=b(M);M!==N&&S(N);var D=w(),R=[f(D)];function P(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?window.addEventListener(k,j):0===L&&window.removeEventListener(k,j)}var B=!1;var z={length:t.length,action:"POP",location:D,createHref:function(e){return"#"+b(u+f(e))},push:function(e,t){var n=m(e,void 0,void 0,z.location);_.confirmTransitionTo(n,"PUSH",i,function(e){if(e){var t=f(n),r=b(u+t);if(E()!==r){I=t,function(e){window.location.hash=e}(r);var a=R.lastIndexOf(f(z.location)),i=R.slice(0,-1===a?0:a+1);i.push(t),R=i,C({action:"PUSH",location:n})}else C()}})},replace:function(e,t){var n=m(e,void 0,void 0,z.location);_.confirmTransitionTo(n,"REPLACE",i,function(e){if(e){var t=f(n),r=b(u+t);E()!==r&&(I=t,S(r));var a=R.indexOf(f(z.location));-1!==a&&(R[a]=t),C({action:"REPLACE",location:n})}})},go:P,goBack:function(){P(-1)},goForward:function(){P(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=_.appendListener(e);return F(1),function(){F(-1),t()}}};return z}function T(e,t,n){return Math.min(Math.max(e,t),n)}function I(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,a=t.initialEntries,i=void 0===a?["/"]:a,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,c=void 0===u?6:u,l=g();function d(e){Object(r.a)(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function p(){return Math.random().toString(36).substr(2,c)}var h=T(s,0,i.length-1),v=i.map(function(e){return m(e,void 0,"string"===typeof e?p():e.key||p())}),A=f;function y(e){var t=T(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,function(e){e?d({action:"POP",location:r,index:t}):d()})}var b={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:A,push:function(e,t){var r=m(e,t,p(),b.location);l.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=m(e,t,p(),b.location);l.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(b.entries[b.index]=r,d({action:"REPLACE",location:r}))})},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}},,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({log_:function(e){var t={x:Object(i.a)(e,"x","log","float32")};return r.a.runKernel(a.Gb,t)}})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(46),a=n(32);function i(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,s=null==o?0:Object(r.a)(o),u=null==n.weekStartsOn?s:Object(r.a)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=Object(a.a)(e),l=c.getUTCDay(),d=(l<u?7:0)+l-u;return c.setUTCDate(c.getUTCDate()-d),c.setUTCHours(0,0,0,0),c}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var r=n(42);function a(){var e;Object(r.b)().getBool("IS_TEST")||Object(r.b)().getBool("PROD")||(e=console).warn.apply(e,arguments)}function i(){var e;Object(r.b)().getBool("IS_TEST")||Object(r.b)().getBool("PROD")||(e=console).log.apply(e,arguments)}},function(e,t,n){"use strict";var r,a;n.d(t,"a",function(){return r}),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(r||(r={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(a||(a={}))},function(e,t,n){"use strict";var r=n(25);function a(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,i=0,o=!1;for(;r<a;){var s=n(t,e[i=r+(a-r>>>1)]);s>0?r=i+1:(a=i,o=!s)}return o?r:-r-1}(e,t,n||i)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function i(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,a){return c(e,t,n,r,a,0)}function s(e,t,n,r,a,i){return c(e,t,n,r,a,0,!1,i,!0)}function u(e,t,n,r,a,i){return c(e,t,n,r,a,i,!0)}function c(e,t,n,i,o,s){for(var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],h=arguments.length>8&&void 0!==arguments[8]&&arguments[8],f=[],m=0;m<t.length;m++)t[m]>o&&f.push({score:t[m],boxIndex:m,suppressBeginIndex:0});f.sort(p);for(var v=s>0?-.5/s:0,g=[],A=[];g.length<n&&f.length>0;){var y=f.pop(),b=y.score,x=y.boxIndex,w=y.suppressBeginIndex;if(b<o)break;for(var _=!1,k=g.length-1;k>=w;--k){var O=l(e,x,g[k]);if(O>=i){_=!0;break}if(y.score=y.score*d(i,v,O),y.score<=o)break}y.suppressBeginIndex=g.length,_||(y.score===b?(g.push(x),A.push(y.score)):y.score>o&&a(f,y,p))}var E=g.length,S=n-E;c&&S>0&&(g.push.apply(g,Object(r.a)(new Array(S).fill(0))),A.push.apply(A,Object(r.a)(new Array(S).fill(0))));var C={selectedIndices:g};return u&&(C.selectedScores=A),h&&(C.validOutputs=E),C}function l(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),h=(s-i)*(u-o),f=(d-c)*(p-l);if(h<=0||f<=0)return 0;var m=Math.max(i,c),v=Math.max(o,l),g=Math.min(s,d),A=Math.min(u,p),y=Math.max(g-m,0)*Math.max(A-v,0);return y/(h+f-y)}function d(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function p(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(10),a=n(4),i=n(20);function o(e,t,n){Object(i.d)(e);var o={shape:e,value:t,dtype:n=n||Object(i.s)(t)};return r.a.runKernel(a.ib,{},o)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(10),a=n(20),i=n(100);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Object(a.d)(e),"complex64"===t){var n=o(e,"float32"),s=o(e,"float32");return Object(i.a)(n,s)}var u=Object(a.F)(Object(a.O)(e),t);return r.a.makeTensor(u,e,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({relu_:function(e){var t={x:Object(i.a)(e,"x","relu")};return r.a.runKernel(a.tc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Object(i.a)(e,"x","step")},o={alpha:t};return r.a.runKernel(a.ad,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","unstack","string_or_numeric");o.c(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")});var s={value:n},u={axis:t};return r.a.runKernel(a.pd,s,u)}})},function(e,t,n){"use strict";var r=n(10),a=n(4),i=n(3),o=n(20),s=n(19);var u=n(8);n.d(t,"a",function(){return c});var c=Object(u.b)({batchNorm_:function(e,t,n,u,c,l){null==l&&(l=.001);var d,p,h=Object(i.a)(e,"x","batchNorm"),f=Object(i.a)(t,"mean","batchNorm"),m=Object(i.a)(n,"variance","batchNorm");null!=c&&(d=Object(i.a)(c,"scale","batchNorm")),null!=u&&(p=Object(i.a)(u,"offset","batchNorm")),o.c(f.rank===m.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),o.c(null==p||f.rank===p.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),o.c(null==d||f.rank===d.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var v={x:function(e){return 0===e.rank||1===e.rank?Object(s.a)(e,[1,1,1,e.size]):2===e.rank?Object(s.a)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Object(s.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(h),scale:d,offset:p,mean:f,variance:m},g={varianceEpsilon:l},A=r.a.runKernel(a.nb,v,g);return Object(s.a)(A,h.shape)}})},function(e,t,n){"use strict";var r=n(304),a=Object(r.a)();t.a=a},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function i(e,t,r){var i={};return r.isMergeableObject(e)&&a(e).forEach(function(t){i[t]=n(e[t],r)}),a(t).forEach(function(a){r.isMergeableObject(t[a])&&e[a]?i[a]=function(e,t){if(!t.customMerge)return o;var n=t.customMerge(e);return"function"===typeof n?n:o}(a,r)(e[a],t[a],r):i[a]=n(t[a],r)}),i}function o(t,a,o){(o=o||{}).arrayMerge=o.arrayMerge||r,o.isMergeableObject=o.isMergeableObject||e;var s=Array.isArray(a),u=Array.isArray(t),c=s===u;return c?s?o.arrayMerge(t,a,o):i(t,a,o):n(a,o)}return o.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return o(e,n,t)},{})},o}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3),a=n(96);function i(e,t,n){var i=Object(r.c)(e,n);return Object(a.a)(e,t,i,n)}},function(e,t,n){"use strict";var r=n(1),a=n.n(r).a.createContext({});t.a=a},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(32);function a(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(r.a)(e),n=t.getUTCDay(),a=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}},function(e,t,n){var r=n(705),a=n(706),i=n(707),o=n(708),s=n(709),u=n(710),c=n(711);c.alea=r,c.xor128=a,c.xorwow=i,c.xorshift7=o,c.xor4096=s,c.tychei=u,e.exports=c},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s});var r=["D","DD"],a=["YY","YYYY"];function i(e){return-1!==r.indexOf(e)}function o(e){return-1!==a.indexOf(e)}function s(e){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if("YY"===e)throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if("D"===e)throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if("DD"===e)throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}},,function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var a in r)n.call(r,a)&&(e[a]=r[a])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(35),c=n(8);var l=Object(c.b)({less_:function(e,t){var n=Object(s.a)(e,"a","less","string_or_numeric"),c=Object(s.a)(t,"b","less","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.Db,p)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","mean")},s={axis:t,keepDims:n};return r.a.runKernel(a.Tb,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(35),c=n(28),l=n(8);var d=Object(l.b)({minimum_:function(e,t){var n=Object(s.a)(e,"a","minimum"),l=Object(s.a)(t,"b","minimum"),d=Object(o.makeTypesMatch)(n,l),p=Object(r.a)(d,2);n=p[0],l=p[1],"bool"===n.dtype&&(n=Object(c.a)(n,"int32"),l=Object(c.a)(l,"int32")),Object(u.assertAndGetBroadcastShape)(n.shape,l.shape);var h={a:n,b:l};return a.a.runKernel(i.Vb,h)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({real_:function(e){var t={input:Object(i.a)(e,"input","real")};return r.a.runKernel(a.qc,t)}})},function(e,t,n){"use strict";var r=n(1),a=n.n(r).a.createContext();t.a=a},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,i,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},,function(e,t,n){"use strict";var r=!0;t.a=function(e,t){if(!r){if(e)return;var n="Warning: "+t;"undefined"!==typeof console&&console.warn(n);try{throw Error(n)}catch(a){}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"d",function(){return x}),n.d(t,"b",function(){return y}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return m});var r=n(7),a=n.n(r),i=n(16),o=n(5),s=n(11),u=n(20),c=n(80),l="://",d=function(){function e(){Object(o.a)(this,e),this.managers={}}return Object(s.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){Object(u.c)(null!=t,function(){return"scheme must not be undefined or null."}),t.endsWith(l)&&(t=t.slice(0,t.indexOf(l))),Object(u.c)(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();Object(u.c)(null==r.managers[t],function(){return"A model store manager is already registered for scheme '".concat(t,"'.")}),r.managers[t]=n}},{key:"getManager",value:function(t){var n=e.getInstance().managers[t];if(null==n)throw new Error("Cannot find model manager for scheme '".concat(t,"'"));return n}},{key:"getSchemes",value:function(){return Object.keys(e.getInstance().managers)}}]),e}();function p(e){if(-1===e.indexOf(l))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(d.getSchemes().join(",")));return{scheme:e.split(l)[0],path:e.split(l)[1]}}function h(e,t){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(a.a.mark(function e(t,n){var r,i,o,s,l,h,f,m,v,g,A=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=A.length>2&&void 0!==A[2]&&A[2],Object(u.c)(t!==n,function(){return"Old path and new path are the same: '".concat(t,"'")}),i=c.a.getLoadHandlers(t),Object(u.c)(i.length>0,function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")}),Object(u.c)(i.length<2,function(){return"Copying failed because more than one (".concat(i.length,") ")+"load handlers for source URL ".concat(t,".")}),o=i[0],s=c.a.getSaveHandlers(n),Object(u.c)(s.length>0,function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")}),Object(u.c)(s.length<2,function(){return"Copying failed because more than one (".concat(i.length,") ")+"save handlers for destination URL ".concat(n,".")}),l=s[0],h=p(t).scheme,f=p(t).path,m=h===p(t).scheme,e.next=15,o.load();case 15:if(v=e.sent,!r||!m){e.next=19;break}return e.next=19,d.getManager(h).removeModel(f);case 19:return e.next=21,l.save(v);case 21:if(g=e.sent,!r||m){e.next=25;break}return e.next=25,d.getManager(h).removeModel(f);case 25:return e.abrupt("return",g.modelArtifactsInfo);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(a.a.mark(function e(){var t,n,r,i,o,s,u,c,p,h;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d.getSchemes(),n={},r=!0,i=!1,o=void 0,e.prev=5,s=t[Symbol.iterator]();case 7:if(r=(u=s.next()).done){e.next=16;break}return c=u.value,e.next=11,d.getManager(c).listModels();case 11:for(h in p=e.sent)n[c+l+h]=p[h];case 13:r=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),i=!0,o=e.t0;case 22:e.prev=22,e.prev=23,r||null==s.return||s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",n);case 31:case"end":return e.stop()}},e,null,[[5,18,22,30],[23,,25,29]])}))).apply(this,arguments)}function g(e){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(t),r=d.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e,t){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",h(t,n,!1));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e,t){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",h(t,n,!0));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n(25),a=n(20);function i(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(i+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(i+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != ".concat(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(i+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(e[s+a],")"))}function o(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}i(n,t,e)}function s(e,t,n){for(var i=t.shape.length,o=i>1?t.shape[i-1]:1,s=n.length,u=1,c=o;c<s;++c)u*=n[c];var l=o<1?1:o;return{sliceRank:o,numUpdates:Object(a.O)(t.shape)/l,sliceSize:u,strides:[].concat(Object(r.a)(Object(a.k)(n.slice(0,o))),[1]),outputSize:Object(a.O)(n)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(35),c=n(28),l=n(8);var d=Object(l.b)({maximum_:function(e,t){var n=Object(s.a)(e,"a","maximum"),l=Object(s.a)(t,"b","maximum"),d=Object(o.makeTypesMatch)(n,l),p=Object(r.a)(d,2);n=p[0],l=p[1],"bool"===n.dtype&&(n=Object(c.a)(n,"int32"),l=Object(c.a)(l,"int32")),Object(u.assertAndGetBroadcastShape)(n.shape,l.shape);var h={a:n,b:l};return a.a.runKernel(i.Sb,h)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(7),a=n.n(r),i=n(16),o=n(5),s=n(18),u=n(12),c=n(11),l=n(17),d=n(10),p=n(49),h=n(31),f=n(21),m=n(37),v=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this))).learningRate=e,n.setLearningRate(e),n}return Object(l.a)(t,e),Object(c.a)(t,null,[{key:"className",get:function(){return"SGD"}}]),Object(c.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=d.a.registeredVariables[n];Object(p.h)(function(){var e=Object(h.a)(Object(f.a)(t.c,a),i);i.assign(e)})}}),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Object(p.d)(Object(m.a)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),t}(n(105).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({batchToSpaceND_:function(e,t,n){var s=Object(i.a)(e,"x","batchToSpaceND"),u=t.reduce(function(e,t){return e*t});o.c(s.rank>=1+t.length,function(){return"input rank is ".concat(s.rank," but should be > than blockShape.length ").concat(t.length)}),o.c(n.length===t.length,function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)}),o.c(s.shape[0]%u===0,function(){return"input tensor batch is ".concat(s.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(u)});var c={x:s},l={blockShape:t,crops:n};return r.a.runKernel(a.t,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(43),u=n(8),c=n(19);var l=Object(u.b)({depthwiseConv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],p=arguments.length>6?arguments[6]:void 0,h=Object(i.a)(e,"x","depthwiseConv2d","float32"),f=Object(i.a)(t,"filter","depthwiseConv2d","float32"),m=h,v=!1;3===h.rank&&(v=!0,m=Object(c.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),o.c(4===m.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")}),o.c(4===f.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(f.rank,".")});var g="NHWC"===l?m.shape[3]:m.shape[1];o.c(g===f.shape[2],function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(g,") must match the inChannels dimension in ")+"filter ".concat(f.shape[2],".")}),s.a("depthwiseConv2d",u,p);var A={x:m,filter:f},y={strides:n,pad:u,dataFormat:l,dilations:d,dimRoundingMode:p},b=r.a.runKernel(a.R,A,y);return v?Object(c.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(35),c=n(8);var l=Object(c.b)({equal_:function(e,t){var n=Object(s.a)(e,"a","equal","string_or_numeric"),c=Object(s.a)(t,"b","equal","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.cb,p)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(3),a=n(20),i=n(82),o=n(74),s=n(124),u=n(183),c=n(8),l=n(101),d=n(19),p=n(37),h=n(70),f=n(48),m=n(36);var v=Object(c.b)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],v=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===t.rank)return Object(i.a)(t);if(1!==t.rank&&null===r)return e(Object(d.a)(t,[-1]),n,r);if(1===t.rank||"number"===typeof r||Array.isArray(r)&&1===r.length){if(1===n)return Object(m.a)(Object(i.a)(t),r);if(n===1/0)return Object(s.a)(Object(i.a)(t),r);if(n===-1/0)return Object(u.a)(Object(i.a)(t),r);if("euclidean"===n||2===n)return Object(h.a)(Object(m.a)(Object(l.a)(Object(i.a)(t),Object(p.a)(2,"int32")),r));throw new Error("Error in norm: invalid ord value: ".concat(n))}if(Array.isArray(r)&&2===r.length){if(1===n)return Object(s.a)(Object(m.a)(Object(i.a)(t),r[0]),r[1]-1);if(n===1/0)return Object(s.a)(Object(m.a)(Object(i.a)(t),r[1]),r[0]);if(n===-1/0)return Object(u.a)(Object(m.a)(Object(i.a)(t),r[1]),r[0]);if("fro"===n||"euclidean"===n)return Object(h.a)(Object(m.a)(Object(f.a)(t),r));throw new Error("Error in norm: invalid ord value: ".concat(n))}throw new Error("Error in norm: invalid axis: ".concat(r))}(e=Object(r.a)(e,"x","norm"),t,n),g=v.shape;if(c){var A=Object(a.I)(n,e.shape);g=o.e(v.shape,A)}return Object(d.a)(v,g)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s={x:Object(i.a)(e,"x","gather"),indices:Object(i.a)(t,"indices","gather","int32")},u={axis:n,batchDims:o};return r.a.runKernel(a.rb,s,u)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({imag_:function(e){var t={input:Object(i.a)(e,"input","imag")};return r.a.runKernel(a.wb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({logicalNot_:function(e){var t={x:Object(i.a)(e,"x","logicalNot","bool")};return r.a.runKernel(a.Kb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({spaceToBatchND_:function(e,t,n){var s=Object(i.a)(e,"x","spaceToBatchND");o.c(s.rank>=1+t.length,function(){return"input rank ".concat(s.rank," should be > than [blockShape] ").concat(t.length)}),o.c(n.length===t.length,function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)}),o.c(s.shape.reduce(function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e},!0),function(){return"input spatial dimensions ".concat(s.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())});var u={x:s},c={blockShape:t,paddings:n};return r.a.runKernel(a.Pc,u,c)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(3),a=n(20),i=n(8),o=n(19);var s=Object(i.b)({squeeze_:function(e,t){var n=Object(r.a)(e,"x","squeeze","string_or_numeric");return Object(o.a)(n,Object(a.Q)(n.shape,t).newShape)}})},function(e,t,n){"use strict";(function(e){var r=n(27),a=n(56),i=n(317);function o(e){return r.a.isPlainObject(e)||r.a.isArray(e)}function s(e){return r.a.endsWith(e,"[]")?e.slice(0,-2):e}function u(e,t,n){return e?e.concat(t).map(function(e,t){return e=s(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}var c=r.a.toFlatObject(r.a,{},null,function(e){return/^is[A-Z]/.test(e)});t.a=function(t,n,l){if(!r.a.isObject(t))throw new TypeError("target must be an object");n=n||new(i.a||FormData);var d=(l=r.a.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!r.a.isUndefined(t[e])})).metaTokens,p=l.visitor||g,h=l.dots,f=l.indexes,m=(l.Blob||"undefined"!==typeof Blob&&Blob)&&r.a.isSpecCompliantForm(n);if(!r.a.isFunction(p))throw new TypeError("visitor must be a function");function v(t){if(null===t)return"";if(r.a.isDate(t))return t.toISOString();if(!m&&r.a.isBlob(t))throw new a.a("Blob is not supported. Use a Buffer instead.");return r.a.isArrayBuffer(t)||r.a.isTypedArray(t)?m&&"function"===typeof Blob?new Blob([t]):e.from(t):t}function g(e,t,a){var i=e;if(e&&!a&&"object"===typeof e)if(r.a.endsWith(t,"{}"))t=d?t:t.slice(0,-2),e=JSON.stringify(e);else if(r.a.isArray(e)&&function(e){return r.a.isArray(e)&&!e.some(o)}(e)||(r.a.isFileList(e)||r.a.endsWith(t,"[]"))&&(i=r.a.toArray(e)))return t=s(t),i.forEach(function(e,a){!r.a.isUndefined(e)&&null!==e&&n.append(!0===f?u([t],a,h):null===f?t:t+"[]",v(e))}),!1;return!!o(e)||(n.append(u(a,t,h),v(e)),!1)}var A=[],y=Object.assign(c,{defaultVisitor:g,convertValue:v,isVisitable:o});if(!r.a.isObject(t))throw new TypeError("data must be an object");return function e(t,a){if(!r.a.isUndefined(t)){if(-1!==A.indexOf(t))throw Error("Circular reference detected in "+a.join("."));A.push(t),r.a.forEach(t,function(t,i){!0===(!(r.a.isUndefined(t)||null===t)&&p.call(n,t,r.a.isString(i)?i.trim():i,a,y))&&e(t,a?a.concat(i):[i])}),A.pop()}}(t),n}}).call(this,n(256).Buffer)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(122),u=n(8),c=n(19);var l=Object(u.b)({broadcastTo_:function(e,t){var n=Object(i.a)(e,"broadcastTo","x"),u=n.shape;if(Object(o.d)(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var l=n.shape.slice();l.length<t.length;)l.unshift(1);n=Object(c.a)(n,l)}for(var d=n.shape,p=Array.from(t),h=t.length-1;h>=0;h--)if(d[h]===t[h])p[h]=1;else if(1!==n.shape[h])throw new Error("broadcastTo(): [".concat(u,"] cannot be broadcast to [").concat(t,"]."));if(0===p.map(function(e,t){return e>1?t:-1}).filter(function(e){return e>=0}).length)return Object(s.a)(n);var f={x:n},m={reps:p};return r.a.runKernel(a.kd,f,m)}})},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(376),o=n.n(i),s=n(23),u=n.n(s),c=n(495),l=n.n(c),d=1073741823;var p=a.a.createContext||function(e,t){var n,a,i="__create-react-context-"+l()()+"__",s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(t.props.value),t}o()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,a=e.value;((i=r)===(o=a)?0!==i||1/i===1/o:i!==i&&o!==o)?n=0:(n="function"===typeof t?t(r,a):d,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,o},r.render=function(){return this.props.children},n}(r.Component);s.childContextTypes=((n={})[i]=u.a.object.isRequired,n);var c=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}o()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?d:t},r.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?d:e},r.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},r.getValue=function(){return this.context[i]?this.context[i].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return c.contextTypes=((a={})[i]=u.a.object,a),{Provider:s,Consumer:c}},h=n(98),f=n(128),m=n(26),v=n(377),g=n.n(v),A=n(55),y=(n(245),n(239));n(85);n.d(t,"a",function(){return E}),n.d(t,"b",function(){return x}),n.d(t,"c",function(){return M}),n.d(t,"e",function(){return O}),n.d(t,"d",function(){return b});var b=function(e){var t=p();return t.displayName=e,t}("Router"),x=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(h.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(b.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(a.a.Component);a.a.Component;a.a.Component;var w={},_=1e4,k=0;function O(e,t){void 0===t&&(t={}),"string"===typeof t&&(t={path:t});var n=t,r=n.path,a=n.exact,i=void 0!==a&&a,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(t,n){if(!n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=w[n]||(w[n]={});if(r[e])return r[e];var a=[],i={regexp:g()(e,a,t),keys:a};return k<_&&(r[e]=i,k++),i}(n,{end:i,strict:s,sensitive:c}),a=r.regexp,o=r.keys,u=a.exec(e);if(!u)return null;var l=u[0],d=u.slice(1),p=e===l;return i&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:o.reduce(function(e,t,n){return e[t.name]=d[n],e},{})}},null)}var E=function(e){function t(){return e.apply(this,arguments)||this}return Object(h.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(b.Consumer,null,function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?O(n.pathname,e.props):t.match,i=Object(A.a)({},t,{location:n,match:r}),o=e.props,s=o.children,u=o.component,c=o.render;(Array.isArray(s)&&0===s.length&&(s=null),"function"===typeof s)&&(void 0===(s=s(i))&&(s=null));return a.a.createElement(b.Provider,{value:i},s&&!function(e){return 0===a.a.Children.count(e)}(s)?s:i.match?u?a.a.createElement(u,i):c?c(i):null:null)})},t}(a.a.Component);function S(e){return"/"===e.charAt(0)?e:"/"+e}function C(e,t){if(!e)return t;var n=S(e);return 0!==t.pathname.indexOf(n)?t:Object(A.a)({},t,{pathname:t.pathname.substr(n.length)})}function T(e){return"string"===typeof e?e:Object(f.e)(e)}function I(e){return function(){Object(m.a)(!1)}}function j(){}a.a.Component;var M=function(e){function t(){return e.apply(this,arguments)||this}return Object(h.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(b.Consumer,null,function(t){t||Object(m.a)(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?O(i.pathname,Object(A.a)({},e.props,{path:o})):t.match}}),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null})},t}(a.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=["template","script","style"];function a(e,t,n,a){var i=[t,n];[].forEach.call(e.children,function(e){-1===i.indexOf(e)&&function(e){return 1===e.nodeType&&-1===r.indexOf(e.tagName.toLowerCase())}(e)&&a(e)})}function i(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function o(e,t,n,r){a(e,t,n,function(e){return i(e,r)})}},,,function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r={};function a(e){return r[e]}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={x:Object(i.a)(e,"x","cumprod")},u={axis:t,exclusive:n,reverse:o};return r.a.runKernel(a.N,s,u)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","min")},s={axis:t,keepDims:n};return r.a.runKernel(a.Ub,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(20),o=n(8);var s=Object(o.b)({ifft_:function(e){Object(i.c)("complex64"===e.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")});var t={input:e};return r.a.runKernel(a.ub,t)}})},function(e,t,n){"use strict";t.a={black:"#000",white:"#fff"}},function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function i(e){return e.startAdornment}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i})},function(e,t,n){"use strict";(function(e,r){var a;function i(){if(null==a){var t;if("undefined"!==typeof window)t=window;else if("undefined"!==typeof e)t=e;else if("undefined"!==typeof r)t=r;else{if("undefined"===typeof self)throw new Error("Could not find a global object");t=self}a=t}return a}function o(e,t){var n=function(){var e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o})}).call(this,n(91),n(197))},function(e,t,n){"use strict";var r=n(1),a=n.n(r);t.a=a.a.createContext(null)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;t.a=a},function(e,t,n){"use strict";var r=n(225),a=n(226),i=n(1),o=n.n(i),s=n(52),u=n.n(s),c=!1,l=n(188),d="unmounted",p="exited",h="entering",f="entered",m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=p,r.appearStatus=h):a=f:a=t.unmountOnExit||t.mountOnEnter?d:p,r.state={status:a},r.nextCallback=null,r}Object(a.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==f&&(t=h):n!==h&&n!==f||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=u.a.findDOMNode(this);t===h?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:d})},n.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context?this.context.isMounting:t,i=this.getTimeouts(),o=a?i.appear:i.enter;!t&&!r||c?this.safeSetState({status:f},function(){n.props.onEntered(e)}):(this.props.onEnter(e,a),this.safeSetState({status:h},function(){n.props.onEntering(e,a),n.onTransitionEnd(e,o,function(){n.safeSetState({status:f},function(){n.props.onEntered(e,a)})})}))},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!c?(this.props.onExit(e),this.safeSetState({status:"exiting"},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:p},function(){t.props.onExited(e)})})})):this.safeSetState({status:p},function(){t.props.onExited(e)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,a=Object(r.a)(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"===typeof n)return o.a.createElement(l.a.Provider,{value:null},n(e,a));var i=o.a.Children.only(n);return o.a.createElement(l.a.Provider,{value:null},o.a.cloneElement(i,a))},t}(o.a.Component);function v(){}m.contextType=l.a,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;t.a=m},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(30),p={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},h=u.a.forwardRef(function(e,t){var n=e.align,r=void 0===n?"inherit":n,i=e.classes,s=e.className,l=e.color,h=void 0===l?"initial":l,f=e.component,m=e.display,v=void 0===m?"initial":m,g=e.gutterBottom,A=void 0!==g&&g,y=e.noWrap,b=void 0!==y&&y,x=e.paragraph,w=void 0!==x&&x,_=(e.theme,e.variant),k=void 0===_?"body1":_,O=e.variantMapping,E=void 0===O?p:O,S=o()(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","theme","variant","variantMapping"]),C=f||(w?"p":E[k]||p[k])||"span";return u.a.createElement(C,a()({className:Object(c.a)(i.root,s,"inherit"!==k&&i[k],"initial"!==h&&i["color".concat(Object(d.a)(h))],b&&i.noWrap,A&&i.gutterBottom,w&&i.paragraph,"inherit"!==r&&i["align".concat(Object(d.a)(r))],"initial"!==v&&i["display".concat(Object(d.a)(v))]),ref:t},S))});t.a=Object(l.a)(function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},{name:"MuiTypography",withTheme:!0})(h)},function(e,t,n){"use strict";n.r(t);var r=n(394);n.d(t,"default",function(){return r.a})},function(e,t,n){"use strict";n.r(t);var r=n(309);n.d(t,"default",function(){return r.a})},function(e,t,n){var r=n(257),a=n(150),i=n(577),o=n(579),s=n(409),u=function(e,t,n){var c,l,d,p=e&u.F,h=e&u.G,f=e&u.S,m=e&u.P,v=e&u.B,g=e&u.W,A=h?a:a[t]||(a[t]={}),y=A.prototype,b=h?r:f?r[t]:(r[t]||{}).prototype;for(c in h&&(n=t),n)(l=!p&&b&&void 0!==b[c])&&s(A,c)||(d=l?b[c]:n[c],A[c]=h&&"function"!=typeof b[c]?n[c]:v&&l?i(d,r):g&&b[c]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((A.virtual||(A.virtual={}))[c]=d,e&u.R&&y&&!y[c]&&o(y,c,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){e.exports=!n(259)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(68);e.exports={isOfMetaType:function(e){return function(t){var n=t.featureTarget;return!!n&&(!!n.properties&&n.properties.meta===e)}},isShiftMousedown:function(e){return!!e.originalEvent&&(!!e.originalEvent.shiftKey&&0===e.originalEvent.button)},isActiveFeature:function(e){return!!e.featureTarget&&(!!e.featureTarget.properties&&(e.featureTarget.properties.active===r.activeStates.ACTIVE&&e.featureTarget.properties.meta===r.meta.FEATURE))},isInactiveFeature:function(e){return!!e.featureTarget&&(!!e.featureTarget.properties&&(e.featureTarget.properties.active===r.activeStates.INACTIVE&&e.featureTarget.properties.meta===r.meta.FEATURE))},noTarget:function(e){return void 0===e.featureTarget},isFeature:function(e){return!!e.featureTarget&&(!!e.featureTarget.properties&&e.featureTarget.properties.meta===r.meta.FEATURE)},isVertex:function(e){var t=e.featureTarget;return!!t&&(!!t.properties&&t.properties.meta===r.meta.VERTEX)},isShiftDown:function(e){return!!e.originalEvent&&!0===e.originalEvent.shiftKey},isEscapeKey:function(e){return 27===e.keyCode},isEnterKey:function(e){return 13===e.keyCode},true:function(){return!0}}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,d=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";n.r(t),n.d(t,"assertParamsValid",function(){return s}),n.d(t,"maskToAxes",function(){return u}),n.d(t,"computeOutShape",function(){return c}),n.d(t,"stridesWithElidedDims",function(){return l}),n.d(t,"getNormalizedAxes",function(){return h}),n.d(t,"startIndicesWithElidedDims",function(){return f}),n.d(t,"stopIndicesWithElidedDims",function(){return m}),n.d(t,"stridesForAxis",function(){return v}),n.d(t,"startForAxis",function(){return g}),n.d(t,"stopForAxis",function(){return A}),n.d(t,"isSliceContinous",function(){return y}),n.d(t,"computeFlatOffset",function(){return b}),n.d(t,"parseSliceParams",function(){return x}),n.d(t,"sliceInfo",function(){return w});var r=n(25),a=n(20),i=-2,o=-1;function s(e,t,n){var r=e.shape.length;a.c(r===t.length,function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")}),a.c(r===n.length,function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")});for(var i=function(i){a.c(t[i]+n[i]<=e.shape[i],function(){return"Error in slice".concat(r,"D: begin[").concat(i,"] + size[").concat(i,"] ")+"(".concat(t[i]+n[i],") would overflow input.shape[").concat(i,"] (").concat(e.shape[i],")")})},o=0;o<r;++o)i(o)}function u(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function c(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function l(e,t,n,a){for(var i=Object(r.a)(e),o=i.length;o<a.length;o++)i.push(1);for(var s=0;s<n;s++)0===s?i[t]=1:(i.splice(t,0,1),i.pop());return i}function d(e,t,n){return n<=e?n:n-(t-1)}function p(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function h(e,t,n,r,a,i,o,s,u){var c=e.length,d=new Array(c),p=new Array(c),h=new Array(c);if(t.length&&n>0){var y=t[0],b=n+1;d=f(o,y,b,r,e),p=m(s,y,b,a,e),h=l(i,y,b,e)}else for(var x=0;x<c;x++)d[x]=g(o,r,i,e,x,u),p[x]=A(s,a,i,e,x,u),h[x]=v(i,x,u);return{begin:d,end:p,strides:h}}function f(e,t,n,a,i){for(var o=Object(r.a)(i),s=p(n,t),u=0;u<o.length;u++)if(s.indexOf(u)>-1)o[u]=0;else{var c=d(t,n,u),l=a[c];e&1<<c&&(l=0),o[u]=l}return o}function m(e,t,n,i,o){for(var s=Object(r.a)(o),u=p(n,t),c=0;c<s.length;c++)if(u.indexOf(c)>-1)s[c]=Number.MAX_SAFE_INTEGER;else{var l=d(t,n,c),h=i[l];e&1<<l&&(h=Number.MAX_SAFE_INTEGER),s[c]=h}for(var f=0;f<s.length;f++){var m=o[f];s[f]<0&&(s[f]+=m),s[f]=a.j(0,s[f],o[f])}return s}function v(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function g(e,t,n,r,i,o){var s=t[i],u=n[i]||1;(e&1<<i||o&1<<i||null==s)&&(s=u>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var c=r[i];return s<0&&(s+=c),s=a.j(0,s,c-1)}function A(e,t,n,r,i,o){var s=t[i],u=n[i]||1;(e&1<<i||o&1<<i||null==s)&&(s=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var c=r[i];return s<0&&(s+=c),s=u>0?a.j(0,s,c):a.j(-1,s,c-1)}function y(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function b(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function x(e,t,n){var i,o,s=e.shape.length;return(i="number"===typeof t?[t].concat(Object(r.a)(new Array(s-1).fill(0))):t.length<s?t.concat(new Array(s-t.length).fill(0)):t.slice()).forEach(function(e){a.c(-1!==e,function(){return"slice() does not support negative begin indexing."})}),o=(o=null==n?new Array(s).fill(-1):"number"===typeof n?[n].concat(Object(r.a)(new Array(s-1).fill(-1))):n.length<s?n.concat(new Array(s-n.length).fill(-1)):n).map(function(t,n){return t>=0?t:(a.c(-1===t,function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")}),e.shape[n]-i[n])}),[i,o]}function w(e,t,n,r,a,s,u,c,l){var d;if(null==r?(d=new Array(t.length)).fill(1):d=r,null!=u&&0!==(u&u-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var p=!1,h={dims:d.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:d.slice(),beginMask:a,endMask:s,ellipsisMask:u,newAxisMask:c,shrinkAxisMask:l},f=0;f<h.dims;f++)p&&0!==(1<<f&c)&&h.numAddAxisAfterEllipsis++,1<<f&u&&(p=!0);p||(h.ellipsisMask|=1<<h.dims,h.dims++);var m={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(i),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(o),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(h,m);for(var v=!0,g=!0,A=!0,y=[],b=[],x=0;x<e.length;++x){if(0===m.strides[x])throw Error("strides[".concat(x,"] must be non-zero"));var w=!!(m.shrinkAxisMask&1<<x),k=e[x];if(-1!==k){var O=[m.beginMask&1<<x,m.endMask&1<<x],E=[m.strides[x]>0?0:-1,m.strides[x]>0?k:k-1];if(w&&m.strides[x]<=0)throw Error("only stride 1 allowed on non-range indexing.");A=A&&1===m.strides[x];var S=!!(m.beginMask&1<<x&&m.endMask&1<<x);if(m.beginValid&&m.endValid){if(w){var C=m.begin[x]<0?k+m.begin[x]:m.begin[x];if(m.begin[x]=C,m.end[x]=m.begin[x]+1,C<0||C>=k)throw Error("slice index ".concat(m.begin[x]," of dimension ").concat(x," out of bounds."))}else m.begin[x]=_(m.begin[x],0,m.strides[x],k,O,E),m.end[x]=_(m.end[x],1,m.strides[x],k,O,E);var T=1===m.strides[x]&&0===m.begin[x]&&m.end[x]===k;v=v&&T,g=g&&(0===x&&1===m.strides[x]||T)}else v=v&&1===m.strides[x]&&S,g=g&&(0===x&&1===m.strides[x]||S);var I=void 0,j=!1;if(m.beginValid&&m.endValid?(I=m.end[x]-m.begin[x],j=!0):w?(I=1,j=!0):S&&k>=0&&(I=m.strides[x]<0?-k:k,j=!0),j){var M=void 0;M=0===I||I<0!==m.strides[x]<0?0:Math.trunc(I/m.strides[x])+(I%m.strides[x]!==0?1:0),y.push(M)}else y.push(-1)}else y.push(w?1:-1)}for(var N=0;N<m.finalShapeGatherIndices.length;++N){var D=m.finalShapeGatherIndices[N];D>=0?b.push(y[D]):D===i&&b.push(1)}return{finalShapeSparse:b.filter(function(e,t){return m.finalShapeGatherIndices[t]!==i}),finalShape:b,isIdentity:v,sliceDim0:g,isSimpleSlice:A,begin:m.begin,end:m.end,strides:m.strides}}function _(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];var o=e<0?r+e:e;return o<i[0]?i[0]:o>i[1]?i[1]:o}},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(7),a=n.n(r),i=n(25),o=n(16),s=n(5),u=n(18),c=n(12),l=n(11),d=n(17),p=n(10),h=n(49),f=n(31),m=n(34),v=n(21),g=n(70),A=n(48),y=n(41),b=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(s.a)(this,t),(r=Object(u.a)(this,Object(c.a)(t).call(this))).learningRate=e,r.rho=n,r.epsilon=a,r.accumulatedGrads=[],r.accumulatedUpdates=[],null==a&&(r.epsilon=p.a.backend.epsilon()),r}return Object(d.a)(t,e),Object(l.a)(t,null,[{key:"className",get:function(){return"Adadelta"}}]),Object(l.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var a=p.a.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:Object(h.h)(function(){return Object(y.a)(a).variable(!1)})}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:Object(h.h)(function(){return Object(y.a)(a).variable(!1)})});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;Object(h.h)(function(){var e=Object(f.a)(Object(v.a)(o,t.rho),Object(v.a)(Object(A.a)(i),1-t.rho)),n=Object(v.a)(Object(m.a)(Object(g.a)(Object(f.a)(s,t.epsilon)),Object(g.a)(Object(f.a)(o,t.epsilon))),i),r=Object(f.a)(Object(v.a)(s,t.rho),Object(v.a)(Object(A.a)(n),1-t.rho));o.assign(e),s.assign(r);var u=Object(f.a)(Object(v.a)(n,-t.learningRate),a);a.assign(u)})}}),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(Object(h.b)(this.accumulatedGrads.map(function(e){return e.variable})),Object(h.b)(this.accumulatedUpdates.map(function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(o.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(i.a)(this.accumulatedGrads),Object(i.a)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.t1=t.map(function(e){return{name:e.originalName,tensor:e.variable}}),e.abrupt("return",[e.t0].concat(e.t1));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(o.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedUpdates=t.slice(n,2*n).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),t}(n(105).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(8);var c=Object(u.b)({floorDiv_:function(e,t){var n=Object(s.a)(e,"a","floorDiv"),u=Object(s.a)(t,"b","floorDiv"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.lb,d)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"Serializable",function(){return u}),n.d(t,"SerializationMap",function(){return c}),n.d(t,"registerClass",function(){return l}),n.d(t,"getRegisteredName",function(){return d});var r=n(5),a=n(11),i=n(20),o=new Map,s=new Map,u=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),c=function(){function e(){Object(r.a)(this,e),this.classNameMap={}}return Object(a.a)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function l(e,t,n){Object(i.c)(null!=e.className,function(){return"Class being registered does not have the static className property defined."}),Object(i.c)("string"===typeof e.className,function(){return"className is required to be a string, but got type "+typeof e.className}),Object(i.c)(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);var r=t+">"+n;return c.register(e),o.set(r,e),s.set(e,r),e}function d(e){return s.has(e)?s.get(e):e.className}},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(7),a=n.n(r),i=n(16),o=n(5),s=n(18),u=n(12),c=n(11),l=n(17),d=n(10),p=n(49),h=n(31),f=n(34),m=n(136),v=n(21),g=n(70),A=n(48),y=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this))).learningRate=e,n.initialAccumulatorValue=r,n.accumulatedGrads=[],n}return Object(l.a)(t,e),Object(c.a)(t,null,[{key:"className",get:function(){return"Adagrad"}}]),Object(c.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var a=d.a.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:Object(p.h)(function(){return Object(m.a)(a.shape,t.initialAccumulatorValue).variable(!1)})}}var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable;Object(p.h)(function(){var e=Object(h.a)(o,Object(A.a)(i));o.assign(e);var n=Object(h.a)(Object(v.a)(Object(f.a)(i,Object(g.a)(Object(h.a)(e,d.a.backend.epsilon()))),-t.learningRate),a);a.assign(n)})}}),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&Object(p.b)(this.accumulatedGrads.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.t1=this.accumulatedGrads.map(function(e){return{name:e.originalName,tensor:e.variable}}),e.abrupt("return",[e.t0].concat(e.t1));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),t}(n(105).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(7),a=n.n(r),i=n(25),o=n(16),s=n(5),u=n(18),c=n(12),l=n(11),d=n(17),p=n(10),h=n(49),f=n(31),m=n(34),v=n(21),g=n(101),A=n(37),y=n(70),b=n(48),x=n(33),w=n(41),_=function(e){function t(e,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this))).learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],Object(h.h)(function(){a.accBeta1=Object(A.a)(n).variable(),a.accBeta2=Object(A.a)(r).variable()}),null==i&&(a.epsilon=p.a.backend.epsilon()),a}return Object(d.a)(t,e),Object(l.a)(t,null,[{key:"className",get:function(){return"Adam"}}]),Object(l.a)(t,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);Object(h.h)(function(){var r=Object(x.a)(1,t.accBeta1),a=Object(x.a)(1,t.accBeta2);n.forEach(function(n,i){var o=p.a.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Object(h.h)(function(){return Object(w.a)(o).variable(!1)})}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:"".concat(n,"/v"),variable:Object(h.h)(function(){return Object(w.a)(o).variable(!1)})});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedSecondMoment[i].variable,l=Object(f.a)(Object(v.a)(u,t.beta1),Object(v.a)(s,1-t.beta1)),d=Object(f.a)(Object(v.a)(c,t.beta2),Object(v.a)(Object(b.a)(s),1-t.beta2)),g=Object(m.a)(l,r),A=Object(m.a)(d,a);u.assign(l),c.assign(d);var x=Object(f.a)(Object(v.a)(Object(m.a)(g,Object(f.a)(Object(y.a)(A),t.epsilon)),-t.learningRate),o);o.assign(x)}}),t.accBeta1.assign(Object(v.a)(t.accBeta1,t.beta1)),t.accBeta2.assign(Object(v.a)(t.accBeta2,t.beta2))}),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Object(h.b)(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&Object(h.b)(this.accumulatedSecondMoment.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){var e=Object(o.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(i.a)(this.accumulatedFirstMoment),Object(i.a)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.t1=t.map(function(e){return{name:e.originalName,tensor:e.variable}}),e.abrupt("return",[e.t0].concat(e.t1));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,Object(h.h)(function(){r.accBeta1.assign(Object(g.a)(r.beta1,r.iterations_+1)),r.accBeta2.assign(Object(g.a)(r.beta2,r.iterations_+1))}),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedSecondMoment=t.slice(n,2*n).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),t}(n(105).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(7),a=n.n(r),i=n(16),o=n(5),s=n(18),u=n(12),c=n(11),l=n(17),d=n(10),p=n(49),h=n(82),f=n(31),m=n(34),v=n(163),g=n(21),A=n(37),y=n(33),b=n(41),x=function(e){function t(e,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this))).learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=i,a.decay=c,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],Object(p.h)(function(){a.iteration=Object(A.a)(0).variable(),a.accBeta1=Object(A.a)(n).variable()}),null==i&&(a.epsilon=d.a.backend.epsilon()),a}return Object(l.a)(t,e),Object(c.a)(t,null,[{key:"className",get:function(){return"Adamax"}}]),Object(c.a)(t,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);Object(p.h)(function(){var r=Object(y.a)(1,t.accBeta1),a=Object(m.a)(-t.learningRate,Object(f.a)(Object(g.a)(t.iteration,t.decay),1));n.forEach(function(n,i){var o=d.a.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Object(b.a)(o).variable(!1)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:"".concat(n,"/v"),variable:Object(b.a)(o).variable(!1)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedWeightedInfNorm[i].variable,l=Object(f.a)(Object(g.a)(u,t.beta1),Object(g.a)(s,1-t.beta1)),p=Object(g.a)(c,t.beta2),A=Object(h.a)(s),y=Object(v.a)(p,A);u.assign(l),c.assign(y);var x=Object(f.a)(Object(g.a)(Object(m.a)(a,r),Object(m.a)(l,Object(f.a)(y,t.epsilon))),o);o.assign(x)}}),t.iteration.assign(Object(f.a)(t.iteration,1)),t.accBeta1.assign(Object(g.a)(t.accBeta1,t.beta1))}),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Object(p.b)(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&Object(p.b)(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),t}(n(105).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(7),a=n.n(r),i=n(16),o=n(5),s=n(18),u=n(12),c=n(11),l=n(17),d=n(10),p=n(49),h=n(31),f=n(21),m=n(37),v=n(41),g=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).learningRate=e,r.momentum=n,r.useNesterov=a,r.accumulations=[],r.m=Object(m.a)(r.momentum),r}return Object(l.a)(t,e),Object(c.a)(t,null,[{key:"className",get:function(){return"Momentum"}}]),Object(c.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var a=d.a.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:Object(p.h)(function(){return Object(v.a)(a).variable(!1)})}}var i=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&Object(p.h)(function(){var e,n=Object(h.a)(Object(f.a)(t.m,i),o);e=t.useNesterov?Object(h.a)(Object(f.a)(t.c,Object(h.a)(o,Object(f.a)(n,t.m))),a):Object(h.a)(Object(f.a)(t.c,n),a),i.assign(n),a.assign(e)})}),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&Object(p.b)(this.accumulations.map(function(e){return e.variable}))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.t1=this.accumulations.map(function(e){return{name:e.originalName,tensor:e.variable}}),e.abrupt("return",[e.t0].concat(e.t1));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),t}(n(164).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(7),a=n.n(r),i=n(25),o=n(16),s=n(5),u=n(18),c=n(12),l=n(11),d=n(17),p=n(10),h=n(49),f=n(31),m=n(34),v=n(21),g=n(70),A=n(48),y=n(33),b=n(41),x=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this))).learningRate=e,n.decay=r,n.momentum=a,n.epsilon=i,n.accumulatedMeanSquares=[],n.accumulatedMoments=[],n.accumulatedMeanGrads=[],n.centered=o,null==i&&(n.epsilon=p.a.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return n}return Object(d.a)(t,e),Object(l.a)(t,null,[{key:"className",get:function(){return"RMSProp"}}]),Object(l.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var a=p.a.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:Object(h.h)(function(){return Object(b.a)(a).variable(!1)})}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:Object(h.h)(function(){return Object(b.a)(a).variable(!1)})}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:Object(h.h)(function(){return Object(b.a)(a).variable(!1)})});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;Object(h.h)(function(){var e=Object(f.a)(Object(v.a)(o,t.decay),Object(v.a)(Object(A.a)(i),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=Object(f.a)(Object(v.a)(n,t.decay),Object(v.a)(i,1-t.decay)),c=Object(m.a)(Object(v.a)(i,t.learningRate),Object(g.a)(Object(y.a)(e,Object(f.a)(Object(A.a)(u),t.epsilon)))),l=Object(f.a)(Object(v.a)(s,t.momentum),c);o.assign(e),n.assign(u),s.assign(l);var d=Object(y.a)(a,l);a.assign(d)}else{var p=Object(f.a)(Object(v.a)(o,t.decay),Object(v.a)(Object(A.a)(i),1-t.decay)),h=Object(f.a)(Object(v.a)(s,t.momentum),Object(m.a)(Object(v.a)(i,t.learningRate),Object(g.a)(Object(f.a)(p,t.epsilon))));o.assign(p),s.assign(h);var b=Object(y.a)(a,h);a.assign(b)}})}}),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&Object(h.b)(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&Object(h.b)(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&Object(h.b)(this.accumulatedMoments.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){var e=Object(o.a)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(i.a)(this.accumulatedMeanSquares),Object(i.a)(this.accumulatedMoments)),this.centered&&t.push.apply(t,Object(i.a)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.t1=t.map(function(e){return{name:e.originalName,tensor:e.variable}}),e.abrupt("return",[e.t0].concat(e.t1));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(o.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,!1,this.accumulatedMeanSquares=t.slice(0,n).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedMoments=t.slice(n,2*n).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),t}(n(105).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(28),u=n(43),c=n(8),l=n(19);var d=Object(c.b)({avgPool_:function(e,t,n,c,d){var p=Object(i.a)(e,"x","avgPool","float32");o.c(u.i(n,1),function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")});var h=p,f=!1;3===p.rank&&(f=!0,h=Object(l.a)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.c(4===h.rank,function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(h.rank,".")}),u.a("avgPool",c,d);var m={x:h},v={filterSize:t,strides:n,pad:c,dimRoundingMode:d},g=r.a.runKernel(a.o,m,v);return g=Object(s.a)(g,p.dtype),f?Object(l.a)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({cos_:function(e){var t={x:Object(i.a)(e,"x","cos","float32")};return r.a.runKernel(a.K,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={x:Object(i.a)(e,"x","cumsum")},u={axis:t,exclusive:n,reverse:o};return r.a.runKernel(a.O,s,u)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({elu_:function(e){var t={x:Object(i.a)(e,"x","elu","float32")};return r.a.runKernel(a.ab,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({floor_:function(e){var t={x:Object(i.a)(e,"x","floor","float32")};return r.a.runKernel(a.kb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n={x:Object(i.a)(e,"x","leakyRelu")},o={alpha:t};return r.a.runKernel(a.Cb,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(3),a=n(20),i=n(31),o=n(74),s=n(77),u=n(130),c=n(124),l=n(8),d=n(19),p=n(33),h=n(36);var f=Object(l.b)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=Object(r.a)(e,"x","logSumExp"),f=Object(a.I)(t,l.shape),m=Object(c.a)(l,f,!0),v=Object(p.a)(l,m),g=Object(s.a)(v),A=Object(h.a)(g,f),y=Object(u.a)(A),b=Object(i.a)(Object(d.a)(m,y.shape),y);if(n){var x=Object(o.e)(b.shape,f);return Object(d.a)(b,x)}return b}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(35),s=n(8);var u=Object(s.b)({logicalOr_:function(e,t){var n=Object(i.a)(e,"a","logicalOr","bool"),s=Object(i.a)(t,"b","logicalOr","bool");Object(o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.a.runKernel(a.Lb,u)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(43),u=n(8),c=n(19);var l=Object(u.b)({maxPool_:function(e,t,n,u,l){var d=Object(i.a)(e,"x","maxPool"),p=d,h=!1;3===d.rank&&(h=!0,p=Object(c.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.c(4===p.rank,function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(p.rank,".")}),o.c(s.i(n,1),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}),s.a("maxPool",u,l);var f={x:p},m={filterSize:t,strides:n,pad:u,dimRoundingMode:l},v=r.a.runKernel(a.Nb,f,m);return h?Object(c.a)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(35),c=n(8);var l=Object(c.b)({notEqual_:function(e,t){var n=Object(s.a)(e,"a","notEqual","string_or_numeric"),c=Object(s.a)(t,"b","notEqual","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.ec,p)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({prelu_:function(e,t){var n={x:Object(i.a)(e,"x","prelu"),alpha:Object(i.a)(t,"alpha","prelu")};return r.a.runKernel(a.kc,n)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({relu6_:function(e){var t={x:Object(i.a)(e,"x","relu6")};return r.a.runKernel(a.uc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(20),o=n(8);var s=Object(o.b)({fft_:function(e){Object(i.c)("complex64"===e.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")});var t={input:e};return r.a.runKernel(a.hb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(20),a=n(100),i=n(62),o=n(170),s=n(8),u=n(156),c=n(19),l=n(51),d=n(113),p=n(137),h=n(41),f=n(220);var m=Object(s.b)({rfft_:function(e,t){Object(r.c)("float32"===e.dtype,function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)});var n,s=e.shape[e.shape.length-1],m=e.size/s;if(null!=t&&t<s){var v=e.shape.map(function(e){return 0}),g=e.shape.map(function(e){return e});g[e.shape.length-1]=t,n=Object(l.a)(e,v,g),s=t}else if(null!=t&&t>s){var A=e.shape.map(function(e){return e});A[e.shape.length-1]=t-s,n=Object(i.a)([e,Object(p.a)(A)],e.shape.length-1),s=t}else n=e;var y=Object(h.a)(n),b=Object(c.a)(Object(a.a)(n,y),[m,s]),x=Object(f.a)(b),w=Math.floor(s/2)+1,_=Object(u.a)(x),k=Object(o.a)(x),O=Object(d.a)(_,[w,s-w],_.shape.length-1),E=Object(d.a)(k,[w,s-w],k.shape.length-1),S=n.shape.slice();return S[n.shape.length-1]=w,Object(c.a)(Object(a.a)(O[0],E[0]),S)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(35),c=n(8);var l=Object(c.b)({squaredDifference_:function(e,t){var n=Object(s.a)(e,"a","squaredDifference"),c=Object(s.a)(t,"b","squaredDifference"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.Yc,p,{})}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({unsortedSegmentSum_:function(e,t,n){var s=Object(i.a)(e,"x","unsortedSegmentSum"),u=Object(i.a)(t,"segmentIds","unsortedSegmentSum","int32");Object(o.c)(Object(o.w)(n),function(){return"numSegments must be of dtype int"});var c={x:s,segmentIds:u},l={numSegments:n};return r.a.runKernel(a.qd,c,l)}})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";t.a={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},function(e,t,n){"use strict";t.a={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"}},function(e,t,n){"use strict";t.a={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},function(e,t,n){"use strict";t.a={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(1),a=n.n(r),i=n(52),o=n.n(i),s=!0,u=!1,c=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function d(){s=!0}function p(){s=!1}function h(){"hidden"===this.visibilityState&&u&&(s=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return s||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function m(){u=!0,window.clearTimeout(c),c=window.setTimeout(function(){u=!1,window.clearTimeout(c)},100)}function v(){return{isFocusVisible:f,onBlurVisible:m,ref:a.a.useCallback(function(e){var t,n=o.a.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",d,!0),t.addEventListener("mousedown",p,!0),t.addEventListener("pointerdown",p,!0),t.addEventListener("touchstart",p,!0),t.addEventListener("visibilitychange",h,!0))},[])}}},function(e,t,n){(function(n){var r,a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var e,t=document,n=window,r=Array.prototype,a=r.slice,i=r.filter,o=r.push,s=function(){},u=function(e){return"function"===typeof e&&e.call},c=function(e){return"string"===typeof e},l=/^#[\w-]*$/,d=/^\.[\w-]*$/,p=/<.+>/,h=/^\w+$/;function f(e,n){n=n||t;var r=d.test(e)?n.getElementsByClassName(e.slice(1)):h.test(e)?n.getElementsByTagName(e):n.querySelectorAll(e);return r}function m(n){if(!e){var r=(e=t.implementation.createHTMLDocument(null)).createElement("base");r.href=t.location.href,e.head.appendChild(r)}return e.body.innerHTML=n,e.body.childNodes}function v(e){"loading"!==t.readyState?e():t.addEventListener("DOMContentLoaded",e)}function g(e,r){if(!e)return this;if(e.cash&&e!==n)return e;var a,i=e,o=0;if(c(e))i=l.test(e)?t.getElementById(e.slice(1)):p.test(e)?m(e):f(e,r);else if(u(e))return v(e),this;if(!i)return this;if(i.nodeType||i===n)this[0]=i,this.length=1;else for(a=this.length=i.length;o<a;o++)this[o]=i[o];return this}function A(e,t){return new g(e,t)}var y=A.fn=A.prototype=g.prototype={cash:!0,length:0,push:o,splice:r.splice,map:r.map,init:g};function b(e,t){for(var n=e.length,r=0;r<n&&!1!==t.call(e[r],e[r],r,e);r++);}function x(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function w(e){return c(e)?x:e.cash?function(t){return e.is(t)}:function(e,t){return e===t}}function _(e){return A(a.call(e).filter(function(e,t,n){return n.indexOf(e)===t}))}Object.defineProperty(y,"constructor",{value:A}),A.parseHTML=m,A.noop=s,A.isFunction=u,A.isString=c,A.extend=y.extend=function(e){e=e||{};var t=a.call(arguments),n=t.length,r=1;for(1===t.length&&(e=this,r=0);r<n;r++)if(t[r])for(var i in t[r])t[r].hasOwnProperty(i)&&(e[i]=t[r][i]);return e},A.extend({merge:function(e,t){for(var n=+t.length,r=e.length,a=0;a<n;r++,a++)e[r]=t[a];return e.length=r,e},each:b,matches:x,unique:_,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}});var k=A.uid="_cash"+Date.now();function O(e){return e[k]=e[k]||{}}function E(e,t,n){return O(e)[t]=n}function S(e,t){var n=O(e);return void 0===n[t]&&(n[t]=e.dataset?e.dataset[t]:A(e).attr("data-"+t)),n[t]}y.extend({data:function(e,t){if(c(e))return void 0===t?S(this[0],e):this.each(function(n){return E(n,e,t)});for(var n in e)this.data(n,e[n]);return this},removeData:function(e){return this.each(function(t){return function(e,t){var n=O(e);n?delete n[t]:e.dataset?delete e.dataset[t]:A(e).removeAttr("data-"+name)}(t,e)})}});var C=/\S+/g;function T(e){return c(e)&&e.match(C)}function I(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function j(e,t,n){e.classList?e.classList.add(t):n.indexOf(" "+t+" ")&&(e.className+=" "+t)}function M(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}y.extend({addClass:function(e){var t=T(e);return t?this.each(function(e){var n=" "+e.className+" ";b(t,function(t){j(e,t,n)})}):this},attr:function(e,t){if(e){if(c(e))return void 0===t?this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0:this.each(function(n){n.setAttribute?n.setAttribute(e,t):n[e]=t});for(var n in e)this.attr(n,e[n]);return this}},hasClass:function(e){var t=!1,n=T(e);return n&&n.length&&this.each(function(e){return!(t=I(e,n[0]))}),t},prop:function(e,t){if(c(e))return void 0===t?this[0][e]:this.each(function(n){n[e]=t});for(var n in e)this.prop(n,e[n]);return this},removeAttr:function(e){return this.each(function(t){t.removeAttribute?t.removeAttribute(e):delete t[e]})},removeClass:function(e){if(!arguments.length)return this.attr("class","");var t=T(e);return t?this.each(function(e){b(t,function(t){M(e,t)})}):this},removeProp:function(e){return this.each(function(t){delete t[e]})},toggleClass:function(e,t){if(void 0!==t)return this[t?"addClass":"removeClass"](e);var n=T(e);return n?this.each(function(e){var t=" "+e.className+" ";b(n,function(n){I(e,n)?M(e,n):j(e,n,t)})}):this}}),y.extend({add:function(e,t){return _(A.merge(this,A(e,t)))},each:function(e){return b(this,e),this},eq:function(e){return A(this.get(e))},filter:function(e){if(!e)return this;var t=u(e)?e:w(e);return A(i.call(this,function(n){return t(n,e)}))},first:function(){return this.eq(0)},get:function(e){return void 0===e?a.call(this):e<0?this[e+this.length]:this[e]},index:function(e){var t=e?A(e)[0]:this[0],n=e?this:A(t).parent().children();return a.call(n).indexOf(t)},last:function(){return this.eq(-1)}});var N=function(){var e=/(?:^\w|[A-Z]|\b\w)/g,t=/[\s-_]+/g;return function(n){return n.replace(e,function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()}).replace(t,"")}}(),D=function(){var e={},t=document,n=t.createElement("div"),r=n.style;return function(t){if(t=N(t),e[t])return e[t];var n=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+["webkit","moz","ms","o"].join(n+" ")+n).split(" ");return b(a,function(n){if(n in r)return e[n]=t=e[t]=n,!1}),e[t]}}();function R(e,t){return parseInt(n.getComputedStyle(e[0],null)[t],10)||0}function P(e,t,n){var r,a=S(e,"_cashEvents"),i=a&&a[t];i&&(n?(e.removeEventListener(t,n),(r=i.indexOf(n))>=0&&i.splice(r,1)):(b(i,function(n){e.removeEventListener(t,n)}),i=[]))}function L(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function F(e){var t=e.type;if(!t)return null;switch(t.toLowerCase()){case"select-one":return function(e){var t=e.selectedIndex;return t>=0?e.options[t].value:null}(e);case"select-multiple":return function(e){var t=[];return b(e.options,function(e){e.selected&&t.push(e.value)}),t.length?t:null}(e);case"radio":case"checkbox":return e.checked?e.value:null;default:return e.value?e.value:null}}function B(e,t,n){var r=c(t);r||!t.length?b(e,r?function(e){return e.insertAdjacentHTML(n?"afterbegin":"beforeend",t)}:function(e,r){return function(e,t,n){if(n){var r=e.childNodes[0];e.insertBefore(t,r)}else e.appendChild(t)}(e,0===r?t:t.cloneNode(!0),n)}):b(t,function(t){return B(e,t,n)})}A.prefixedProp=D,A.camelCase=N,y.extend({css:function(e,t){if(c(e))return e=D(e),arguments.length>1?this.each(function(n){return n.style[e]=t}):n.getComputedStyle(this[0])[e];for(var r in e)this.css(r,e[r]);return this}}),b(["Width","Height"],function(e){var t=e.toLowerCase();y[t]=function(){return this[0].getBoundingClientRect()[t]},y["inner"+e]=function(){return this[0]["client"+e]},y["outer"+e]=function(t){return this[0]["offset"+e]+(t?R(this,"margin"+("Width"===e?"Left":"Top"))+R(this,"margin"+("Width"===e?"Right":"Bottom")):0)}}),y.extend({off:function(e,t){return this.each(function(n){return P(n,e,t)})},on:function(e,t,n,r){var a;if(!c(e)){for(var i in e)this.on(i,t,e[i]);return this}return u(t)&&(n=t,t=null),"ready"===e?(v(n),this):(t&&(a=n,n=function(e){for(var n=e.target;!x(n,t);){if(n===this||null===n)return n=!1;n=n.parentNode}n&&a.call(n,e)}),this.each(function(t){var a=n;r&&(a=function(){n.apply(this,arguments),P(t,e,a)}),function(e,t,n){var r=S(e,"_cashEvents")||E(e,"_cashEvents",{});r[t]=r[t]||[],r[t].push(n),e.addEventListener(t,n)}(t,e,a)}))},one:function(e,t,n){return this.on(e,t,n,!0)},ready:v,trigger:function(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(e,!0,!1),n=this.extend(n,t),this.each(function(e){return e.dispatchEvent(n)})}}}),y.extend({serialize:function(){var e="";return b(this[0].elements||this,function(t){if(!t.disabled&&"FIELDSET"!==t.tagName){var n=t.name;switch(t.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var r=F(t);null!==r&&b(r,function(t){e+=L(n,t)});break;default:var a=F(t);null!==a&&(e+=L(n,a))}}}),e.substr(1)},val:function(e){return void 0===e?F(this[0]):this.each(function(t){return t.value=e})}}),y.extend({after:function(e){return A(e).insertAfter(this),this},append:function(e){return B(this,e),this},appendTo:function(e){return B(A(e),this),this},before:function(e){return A(e).insertBefore(this),this},clone:function(){return A(this.map(function(e){return e.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(e){if(void 0===e)return this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each(function(e){return e.innerHTML=t})},insertAfter:function(e){var t=this;return A(e).each(function(e,n){var r=e.parentNode,a=e.nextSibling;t.each(function(e){r.insertBefore(0===n?e:e.cloneNode(!0),a)})}),this},insertBefore:function(e){var t=this;return A(e).each(function(e,n){var r=e.parentNode;t.each(function(t){r.insertBefore(0===n?t:t.cloneNode(!0),e)})}),this},prepend:function(e){return B(this,e,!0),this},prependTo:function(e){return B(A(e),this,!0),this},remove:function(){return this.each(function(e){if(e.parentNode)return e.parentNode.removeChild(e)})},text:function(e){return void 0===e?this[0].textContent:this.each(function(t){return t.textContent=e})}});var z=t.documentElement;return y.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+n.pageYOffset-z.clientTop,left:e.left+n.pageXOffset-z.clientLeft}},offsetParent:function(){return A(this[0].offsetParent)}}),y.extend({children:function(e){var t=[];return this.each(function(e){o.apply(t,e.children)}),t=_(t),e?t.filter(function(t){return x(t,e)}):t},closest:function(e){return!e||this.length<1?A():this.is(e)?this.filter(e):this.parent().closest(e)},is:function(e){if(!e)return!1;var t=!1,n=w(e);return this.each(function(r){return!(t=n(r,e))}),t},find:function(e){if(!e||e.nodeType)return A(e&&this.has(e).length?e:null);var t=[];return this.each(function(n){o.apply(t,f(e,n))}),_(t)},has:function(e){var t=c(e)?function(t){return 0!==f(e,t).length}:function(t){return t.contains(e)};return this.filter(t)},next:function(){return A(this[0].nextElementSibling)},not:function(e){if(!e)return this;var t=w(e);return this.filter(function(n){return!t(n,e)})},parent:function(){var e=[];return this.each(function(t){t&&t.parentNode&&e.push(t.parentNode)}),_(e)},parents:function(e){var n,r=[];return this.each(function(a){for(n=a;n&&n.parentNode&&n!==t.body.parentNode;)n=n.parentNode,(!e||e&&x(n,e))&&r.push(n)}),_(r)},prev:function(){return A(this[0].previousElementSibling)},siblings:function(e){var t=this.parent().children(e),n=this[0];return t.filter(function(e){return e!==n})}}),A}();var c=function(){function e(t,n,r){u(this,e),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var a=t.getInstance(n);a&&a.destroy(),this.el=n,this.$el=cash(n)}return i(e,null,[{key:"init",value:function(e,t,n){var r=null;if(t instanceof Element)r=new e(t,n);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var a=[],i=0;i<t.length;i++)a.push(new e(t[i],n));r=a}return r}}]),e}();!function(e){e.Package?M={}:e.M={},M.jQueryLoaded=!!e.jQuery}(window),void 0===(r=function(){return M}.apply(t,[]))||(e.exports=r),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;document.addEventListener("keydown",function(e){M.keyDown=!0,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!0)},!0),document.addEventListener("keyup",function(e){M.keyDown=!1,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!1)},!0),document.addEventListener("focus",function(e){M.keyDown&&document.body.classList.add("keyboard-focused")},!0),document.addEventListener("blur",function(e){document.body.classList.remove("keyboard-focused")},!0),M.initializeJqueryWrapper=function(e,t,n){jQuery.fn[t]=function(r){if(e.prototype[r]){var a=Array.prototype.slice.call(arguments,1);if("get"===r.slice(0,3)){var i=this.first()[0][n];return i[r].apply(i,a)}return this.each(function(){var e=this[n];e[r].apply(e,a)})}if("object"===typeof r||!r)return e.init(this,arguments[0]),this;jQuery.error("Method "+r+" does not exist on jQuery."+t)}},M.AutoInit=function(e){var t=e||document.body,n={Autocomplete:t.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:t.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:t.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:t.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:t.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:t.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:t.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:t.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:t.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:t.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:t.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:t.querySelectorAll("select:not(.no-autoinit)"),Sidenav:t.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:t.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:t.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:t.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:t.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:t.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var r in n){M[r].init(n[r])}},M.objectSelectorString=function(e){return((e.prop("tagName")||"")+(e.attr("id")||"")+(e.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),M.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(e){var t=$(e),n=t.add(t.parents()),r=!1;return n.each(function(){if("fixed"===$(this).css("position"))return r=!0,!1}),r},M.checkWithinContainer=function(e,t,n){var r={top:!1,right:!1,bottom:!1,left:!1},a=e.getBoundingClientRect(),i=e===document.body?Math.max(a.bottom,window.innerHeight):a.bottom,o=e.scrollLeft,s=e.scrollTop,u=t.left-o,c=t.top-s;return(u<a.left+n||u<n)&&(r.left=!0),(u+t.width>a.right-n||u+t.width>window.innerWidth-n)&&(r.right=!0),(c<a.top+n||c<n)&&(r.top=!0),(c+t.height>i-n||c+t.height>window.innerHeight-n)&&(r.bottom=!0),r},M.checkPossibleAlignments=function(e,t,n,r){var a={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},i="visible"===getComputedStyle(t).overflow,o=t.getBoundingClientRect(),s=Math.min(o.height,window.innerHeight),u=Math.min(o.width,window.innerWidth),c=e.getBoundingClientRect(),l=t.scrollLeft,d=t.scrollTop,p=n.left-l,h=n.top-d,f=n.top+c.height-d;return a.spaceOnRight=i?window.innerWidth-(c.left+n.width):u-(p+n.width),a.spaceOnRight<0&&(a.left=!1),a.spaceOnLeft=i?c.right-n.width:p-n.width+c.width,a.spaceOnLeft<0&&(a.right=!1),a.spaceOnBottom=i?window.innerHeight-(c.top+n.height+r):s-(h+n.height+r),a.spaceOnBottom<0&&(a.top=!1),a.spaceOnTop=i?c.bottom-(n.height+r):f-(n.height-r),a.spaceOnTop<0&&(a.bottom=!1),a},M.getOverflowParent=function(e){return null==e?null:e===document.body||"visible"!==getComputedStyle(e).overflow?e:M.getOverflowParent(e.parentElement)},M.getIdFromTrigger=function(e){var t=e.getAttribute("data-target");return t||(t=(t=e.getAttribute("href"))?t.slice(1):""),t},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var l=Date.now||function(){return(new Date).getTime()};M.throttle=function(e,t,n){var r=void 0,a=void 0,i=void 0,o=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:l(),o=null,i=e.apply(r,a),r=a=null};return function(){var c=l();s||!1!==n.leading||(s=c);var d=t-(c-s);return r=this,a=arguments,d<=0?(clearTimeout(o),o=null,s=c,i=e.apply(r,a),r=a=null):o||!1===n.trailing||(o=setTimeout(u,d)),i}};var d={scope:{}};d.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},d.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof n&&null!=n?n:e},d.global=d.getGlobal(this),d.SYMBOL_PREFIX="jscomp_symbol_",d.initSymbol=function(){d.initSymbol=function(){},d.global.Symbol||(d.global.Symbol=d.Symbol)},d.symbolCounter_=0,d.Symbol=function(e){return d.SYMBOL_PREFIX+(e||"")+d.symbolCounter_++},d.initSymbolIterator=function(){d.initSymbol();var e=d.global.Symbol.iterator;e||(e=d.global.Symbol.iterator=d.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&d.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return d.arrayIterator(this)}}),d.initSymbolIterator=function(){}},d.arrayIterator=function(e){var t=0;return d.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},d.iteratorPrototype=function(e){return d.initSymbolIterator(),(e={next:e})[d.global.Symbol.iterator]=function(){return this},e},d.array=d.array||{},d.iteratorFromArray=function(e,t){d.initSymbolIterator(),e instanceof String&&(e+="");var n=0,r={next:function(){if(n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},d.polyfill=function(e,t,n,r){if(t){for(n=d.global,e=e.split("."),r=0;r<e.length-1;r++){var a=e[r];a in n||(n[a]={}),n=n[a]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&d.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},d.polyfill("Array.prototype.keys",function(e){return e||function(){return d.iteratorFromArray(this,function(e){return e})}},"es6-impl","es3");var p=this;M.anime=function(){function e(e){if(!I.col(e))try{return document.querySelectorAll(e)}catch(t){}}function t(e,t){for(var n=e.length,r=2<=arguments.length?arguments[1]:void 0,a=[],i=0;i<n;i++)if(i in e){var o=e[i];t.call(r,o,i,e)&&a.push(o)}return a}function n(e){return e.reduce(function(e,t){return e.concat(I.arr(t)?n(t):t)},[])}function r(t){return I.arr(t)?t:(I.str(t)&&(t=e(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function a(e,t){return e.some(function(e){return e===t})}function i(e){var t,n={};for(t in e)n[t]=e[t];return n}function o(e,t){var n,r=i(e);for(n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function s(e,t){var n,r=i(e);for(n in t)r[n]=I.und(e[n])?t[n]:e[n];return r}function u(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function c(e,t){return I.fnc(e)?e(t.target,t.id,t.total):e}function l(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function d(e,t){return I.dom(e)&&a(T,t)?"transform":I.dom(e)&&(e.getAttribute(t)||I.svg(e)&&e[t])?"attribute":I.dom(e)&&"transform"!==t&&l(e,t)?"css":null!=e[t]?"object":void 0}function h(e,n){switch(d(e,n)){case"transform":return function(e,n){var r=function(e){return-1<e.indexOf("translate")||"perspective"===e?"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?"deg":void 0}(n),r=-1<n.indexOf("scale")?1:0+r;if(!(e=e.style.transform))return r;for(var a=[],i=[],o=[],s=/(\w+)\((.+?)\)/g;a=s.exec(e);)i.push(a[1]),o.push(a[2]);return(e=t(o,function(e,t){return i[t]===n})).length?e[0]:r}(e,n);case"css":return l(e,n);case"attribute":return e.getAttribute(n)}return e[n]||0}function f(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=u(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],"")),n[0][0]){case"+":return t+e+r;case"-":return t-e+r;case"*":return t*e+r}}function m(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function v(e){e=e.points;for(var t,n=0,r=0;r<e.numberOfItems;r++){var a=e.getItem(r);0<r&&(n+=m(t,a)),t=a}return n}function g(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return m({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return v(e);case"polygon":var t=e.points;return v(e)+m(t.getItem(t.numberOfItems-1),t.getItem(0))}}function A(e,t){function n(n){return n=void 0===n?0:n,e.el.getPointAtLength(1<=t+n?t+n:0)}var r=n(),a=n(-1),i=n(1);switch(e.property){case"x":return r.x;case"y":return r.y;case"angle":return 180*Math.atan2(i.y-a.y,i.x-a.x)/Math.PI}}function y(e,t){var n,r=/-?\d*\.?\d+/g;if(n=I.pth(e)?e.totalLength:e,I.col(n))if(I.rgb(n)){var a=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=a?"rgba("+a[1]+",1)":n}else n=I.hex(n)?function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);e=parseInt(t[1],16);var n=parseInt(t[2],16),t=parseInt(t[3],16);return"rgba("+e+","+n+","+t+",1)"}(n):I.hsl(n)?function(e){function t(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(n[1])/360;var r=parseInt(n[2])/100,a=parseInt(n[3])/100,n=n[4]||1;if(0==r)a=r=e=a;else{var i=.5>a?a*(1+r):a+r-a*r,o=2*a-i,a=t(o,i,e+1/3),r=t(o,i,e);e=t(o,i,e-1/3)}return"rgba("+255*a+","+255*r+","+255*e+","+n+")"}(n):void 0;else a=(a=u(n))?n.substr(0,n.length-a.length):n,n=t&&!/\s/g.test(n)?a+t:a;return{original:n+="",numbers:n.match(r)?n.match(r).map(Number):[0],strings:I.str(e)||t?n.split(r):[]}}function b(e){return t(e=e?n(I.arr(e)?e.map(r):r(e)):[],function(e,t,n){return n.indexOf(e)===t})}function x(e,t){var n=i(t);if(I.arr(e)){var a=e.length;2!==a||I.obj(e[0])?I.fnc(t.duration)||(n.duration=t.duration/a):e={value:e}}return r(e).map(function(e,n){return n=n?0:t.delay,e=I.obj(e)&&!I.pth(e)?e:{value:e},I.und(e.delay)&&(e.delay=n),e}).map(function(e){return s(e,n)})}function w(e,t){var n;return e.tweens.map(function(r){var a=(r=function(e,t){var n,r={};for(n in e){var a=c(e[n],t);I.arr(a)&&1===(a=a.map(function(e){return c(e,t)})).length&&(a=a[0]),r[n]=a}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(r,t)).value,i=h(t.target,e.name),o=n?n.to.original:i,o=I.arr(a)?a[0]:o,s=f(I.arr(a)?a[1]:a,o),i=u(s)||u(o)||u(i);return r.from=y(o,i),r.to=y(s,i),r.start=n?n.end:e.offset,r.end=r.start+r.delay+r.duration,r.easing=function(e){return I.arr(e)?j.apply(this,e):M[e]}(r.easing),r.elasticity=(1e3-Math.min(Math.max(r.elasticity,1),999))/1e3,r.isPath=I.pth(a),r.isColor=I.col(r.from.original),r.isColor&&(r.round=1),n=r})}function _(e,t,n,r){var a="delay"===e;return t.length?(a?Math.min:Math.max).apply(Math,t.map(function(t){return t[e]})):a?r.delay:n.offset+r.delay+r.duration}function k(e){var r,a=o(S,e),i=o(C,e),u=function(e){var t=b(e);return t.map(function(e,n){return{target:e,id:n,total:t.length}})}(e.targets),c=[],l=s(a,i);for(r in e)l.hasOwnProperty(r)||"targets"===r||c.push({name:r,offset:l.offset,tweens:x(e[r],i)});return e=function(e,r){return t(n(e.map(function(e){return r.map(function(t){var n=d(e.target,t.name);if(n){var r=w(t,e);t={type:n,property:t.name,animatable:e,tweens:r,duration:r[r.length-1].end,delay:r[0].delay}}else t=void 0;return t})})),function(e){return!I.und(e)})}(u,c),s(a,{children:[],animatables:u,animations:e,duration:_("duration",e,a,i),delay:_("delay",e,a,i)})}function O(e){function n(){return window.Promise&&new Promise(function(e){return p=e})}function r(e){return f.reversed?f.duration-e:e}function a(e){for(var n=0,r={},a=f.animations,i=a.length;n<i;){var o=a[n],s=o.animatable,u=o.tweens,c=u.length-1,d=u[c];c&&(d=t(u,function(t){return e<t.end})[0]||d);for(var u=Math.min(Math.max(e-d.start-d.delay,0),d.duration)/d.duration,p=isNaN(u)?1:d.easing(u,d.elasticity),u=d.to.strings,h=d.round,c=[],m=void 0,m=d.to.numbers.length,v=0;v<m;v++){var g=void 0,g=d.to.numbers[v],y=d.from.numbers[v],g=d.isPath?A(d.value,p*g):y+p*(g-y);h&&(d.isColor&&2<v||(g=Math.round(g*h)/h)),c.push(g)}if(d=u.length)for(m=u[0],p=0;p<d;p++)h=u[p+1],v=c[p],isNaN(v)||(m=h?m+(v+h):m+(v+" "));else m=c[0];N[o.type](s.target,o.property,m,r,s.id),o.currentValue=m,n++}if(n=Object.keys(r).length)for(a=0;a<n;a++)E||(E=l(document.body,"transform")?"transform":"-webkit-transform"),f.animatables[a].target.style[E]=r[a].join(" ");f.currentTime=e,f.progress=e/f.duration*100}function i(e){f[e]&&f[e](f)}function o(){f.remaining&&!0!==f.remaining&&f.remaining--}function s(e){var t=f.duration,s=f.offset,l=s+f.delay,m=f.currentTime,v=f.reversed,g=r(e);if(f.children.length){var A=f.children,y=A.length;if(g>=f.currentTime)for(var b=0;b<y;b++)A[b].seek(g);else for(;y--;)A[y].seek(g)}(g>=l||!t)&&(f.began||(f.began=!0,i("begin")),i("run")),g>s&&g<t?a(g):(g<=s&&0!==m&&(a(0),v&&o()),(g>=t&&m!==t||!t)&&(a(t),v||o())),i("update"),e>=t&&(f.remaining?(c=u,"alternate"===f.direction&&(f.reversed=!f.reversed)):(f.pause(),f.completed||(f.completed=!0,i("complete"),"Promise"in window&&(p(),h=n()))),d=0)}e=void 0===e?{}:e;var u,c,d=0,p=null,h=n(),f=k(e);return f.reset=function(){var e=f.direction,t=f.loop;for(f.currentTime=0,f.progress=0,f.paused=!0,f.began=!1,f.completed=!1,f.reversed="reverse"===e,f.remaining="alternate"===e&&1===t?2:t,a(0),e=f.children.length;e--;)f.children[e].reset()},f.tick=function(e){u=e,c||(c=u),s((d+u-c)*O.speed)},f.seek=function(e){s(r(e))},f.pause=function(){var e=D.indexOf(f);-1<e&&D.splice(e,1),f.paused=!0},f.play=function(){f.paused&&(f.paused=!1,c=0,d=r(f.currentTime),D.push(f),R||P())},f.reverse=function(){f.reversed=!f.reversed,c=0,d=r(f.currentTime)},f.restart=function(){f.pause(),f.reset(),f.play()},f.finished=h,f.reset(),f.autoplay&&f.play(),f}var E,S={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},C={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},T="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),I={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return I.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||I.svg(e)},str:function(e){return"string"===typeof e},fnc:function(e){return"function"===typeof e},und:function(e){return"undefined"===typeof e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return I.hex(e)||I.rgb(e)||I.hsl(e)}},j=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(t,n,r,a){if(0<=t&&1>=t&&0<=r&&1>=r){var i=new Float32Array(11);if(t!==n||r!==a)for(var o=0;11>o;++o)i[o]=e(.1*o,t,r);return function(o){if(t===n&&r===a)return o;if(0===o)return 0;if(1===o)return 1;for(var s=0,u=1;10!==u&&i[u]<=o;++u)s+=.1;var u=s+(o-i[--u])/(i[u+1]-i[u])*.1,c=3*(1-3*r+3*t)*u*u+2*(3*r-6*t)*u+3*t;if(.001<=c){for(s=0;4>s&&0!==(c=3*(1-3*r+3*t)*u*u+2*(3*r-6*t)*u+3*t);++s)var l=e(u,t,r)-o,u=u-l/c;o=u}else if(0===c)o=u;else{var u=s,s=s+.1,d=0;do{0<(c=e(l=u+(s-u)/2,t,r)-o)?s=l:u=l}while(1e-7<Math.abs(c)&&10>++d);o=l}return e(o,n,a)}}}}(),M=function(){function e(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var t,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),r={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],e],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,n){return 1-e(1-t,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,n){return.5>t?e(2*t,n)/2:1-e(-2*t+2,n)/2}]},a={linear:j(.25,.25,.75,.75)},i={};for(t in r)i.type=t,r[i.type].forEach(function(e){return function(t,r){a["ease"+e.type+n[r]]=I.fnc(t)?t:j.apply(p,t)}}(i)),i={type:i.type};return a}(),N={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,a){r[a]||(r[a]=[]),r[a].push(t+"("+n+")")}},D=[],R=0,P=function(){function e(){R=requestAnimationFrame(t)}function t(t){var n=D.length;if(n){for(var r=0;r<n;)D[r]&&D[r].tick(t),r++;e()}else cancelAnimationFrame(R),R=0}return e}();return O.version="2.2.0",O.speed=1,O.running=D,O.remove=function(e){e=b(e);for(var t=D.length;t--;)for(var n=D[t],r=n.animations,i=r.length;i--;)a(e,r[i].animatable.target)&&(r.splice(i,1),r.length||n.pause())},O.getValue=h,O.path=function(t,n){var r=I.str(t)?e(t)[0]:t,a=n||100;return function(e){return{el:r,property:e,totalLength:g(r)*(a/100)}}},O.setDashoffset=function(e){var t=g(e);return e.setAttribute("stroke-dasharray",t),t},O.bezier=j,O.easings=M,O.timeline=function(e){var t=O(e);return t.pause(),t.duration=0,t.add=function(n){return t.children.forEach(function(e){e.began=!0,e.completed=!0}),r(n).forEach(function(n){var r=s(n,o(C,e||{}));r.targets=r.targets||e.targets,n=t.duration;var a=r.offset;r.autoplay=!1,r.direction=t.direction,r.offset=I.und(a)?n:f(a,n),t.began=!0,t.completed=!0,t.seek(r.offset),(r=O(r)).began=!0,r.completed=!0,r.duration>n&&(t.duration=r.duration),t.children.push(r)}),t.seek(0),t.reset(),t.autoplay&&t.restart(),t},t},O.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},O}(),function(e,t){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));r.el.M_Collapsible=r,r.options=e.extend({},l.defaults,n),r.$headers=r.$el.children("li").children(".collapsible-header"),r.$headers.attr("tabindex",0),r._setupEventHandlers();var a=r.$el.children("li.active").children(".collapsible-body");return r.options.accordion?a.first().css("display","block"):a.css("display","block"),r}return s(l,c),i(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(t){t.addEventListener("keydown",e._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){var e=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(t){t.removeEventListener("keydown",e._handleCollapsibleKeydownBound)})}},{key:"_handleCollapsibleClick",value:function(t){var n=e(t.target).closest(".collapsible-header");if(t.target&&n.length){var r=n.closest(".collapsible");if(r[0]===this.el){var a=n.closest("li"),i=r.children("li"),o=a[0].classList.contains("active"),s=i.index(a);o?this.close(s):this.open(s)}}}},{key:"_handleCollapsibleKeydown",value:function(e){13===e.keyCode&&this._handleCollapsibleClickBound(e)}},{key:"_animateIn",value:function(e){var n=this,r=this.$el.children("li").eq(e);if(r.length){var a=r.children(".collapsible-body");t.remove(a[0]),a.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var i=a.css("padding-top"),o=a.css("padding-bottom"),s=a[0].scrollHeight;a.css({paddingTop:0,paddingBottom:0}),t({targets:a[0],height:s,paddingTop:i,paddingBottom:o,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(e){a.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,r[0])}})}}},{key:"_animateOut",value:function(e){var n=this,r=this.$el.children("li").eq(e);if(r.length){var a=r.children(".collapsible-body");t.remove(a[0]),a.css("overflow","hidden"),t({targets:a[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){a.css({height:"",overflow:"",padding:"",display:""}),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,r[0])}})}}},{key:"open",value:function(t){var n=this,r=this.$el.children("li").eq(t);if(r.length&&!r[0].classList.contains("active")){if("function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,r[0]),this.options.accordion){var a=this.$el.children("li");this.$el.children("li.active").each(function(t){var r=a.index(e(t));n.close(r)})}r[0].classList.add("active"),this._animateIn(t)}}},{key:"close",value:function(e){var t=this.$el.children("li").eq(e);t.length&&t[0].classList.contains("active")&&("function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,t[0]),t[0].classList.remove("active"),this._animateOut(e))}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Collapsible}},{key:"defaults",get:function(){return n}}]),l}();M.Collapsible=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"collapsible","M_Collapsible")}(cash,M.anime),function(e,t){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return r.el.M_Dropdown=r,l._dropdowns.push(r),r.id=M.getIdFromTrigger(t),r.dropdownEl=document.getElementById(r.id),r.$dropdownEl=e(r.dropdownEl),r.options=e.extend({},l.defaults,n),r.isOpen=!1,r.isScrollable=!1,r.isTouchMoving=!1,r.focusedIndex=-1,r.filterQuery=[],r.options.container?e(r.options.container).append(r.dropdownEl):r.$el.after(r.dropdownEl),r._makeDropdownFocusable(),r._resetFilterQueryBound=r._resetFilterQuery.bind(r),r._handleDocumentClickBound=r._handleDocumentClick.bind(r),r._handleDocumentTouchmoveBound=r._handleDocumentTouchmove.bind(r),r._handleDropdownClickBound=r._handleDropdownClick.bind(r),r._handleDropdownKeydownBound=r._handleDropdownKeydown.bind(r),r._handleTriggerKeydownBound=r._handleTriggerKeydown.bind(r),r._setupEventHandlers(),r}return s(l,c),i(l,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),l._dropdowns.splice(l._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(e){e.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(t){var n=t.toElement||t.relatedTarget,r=!!e(n).closest(".dropdown-content").length,a=!1,i=e(n).closest(".dropdown-trigger");i.length&&i[0].M_Dropdown&&i[0].M_Dropdown.isOpen&&(a=!0),a||r||this.close()}},{key:"_handleDocumentClick",value:function(t){var n=this,r=e(t.target);this.options.closeOnClick&&r.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout(function(){n.close()},0):!r.closest(".dropdown-trigger").length&&r.closest(".dropdown-content").length||setTimeout(function(){n.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(e){e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ENTER||this.isOpen||(e.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(t){e(t.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(t){if("function"===typeof this.options.onItemClick){var n=e(t.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(t){if(t.which===M.keys.TAB)t.preventDefault(),this.close();else if(t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||!this.isOpen)if(t.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],r=e(n).find("a, button").first();r.length?r[0].click():n&&n.click()}else t.which===M.keys.ESC&&this.isOpen&&(t.preventDefault(),this.close());else{t.preventDefault();var a=t.which===M.keys.ARROW_DOWN?1:-1,i=this.focusedIndex,o=!1;do{if(i+=a,this.dropdownEl.children[i]&&-1!==this.dropdownEl.children[i].tabIndex){o=!0;break}}while(i<this.dropdownEl.children.length&&i>=0);o&&(this.focusedIndex=i,this._focusFocusedItem())}var s=String.fromCharCode(t.which).toLowerCase();if(s&&-1===[9,13,27,38,40].indexOf(t.which)){this.filterQuery.push(s);var u=this.filterQuery.join(""),c=e(this.dropdownEl).find("li").filter(function(t){return 0===e(t).text().toLowerCase().indexOf(u)})[0];c&&(this.focusedIndex=e(c).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,e(this.dropdownEl).children().each(function(e){e.getAttribute("tabindex")||e.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var e=this.el.getBoundingClientRect(),t=this.dropdownEl.getBoundingClientRect(),n=t.height,r=t.width,a=e.left-t.left,i=e.top-t.top,o={left:a,top:i,height:n,width:r},s=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,u=M.checkPossibleAlignments(this.el,s,o,this.options.coverTrigger?0:e.height),c="top",l=this.options.alignment;if(i+=this.options.coverTrigger?0:e.height,this.isScrollable=!1,u.top||(u.bottom?c="bottom":(this.isScrollable=!0,u.spaceOnTop>u.spaceOnBottom?(c="bottom",n+=u.spaceOnTop,i-=u.spaceOnTop):n+=u.spaceOnBottom)),!u[l]){var d="left"===l?"right":"left";u[d]?l=d:u.spaceOnLeft>u.spaceOnRight?(l="right",r+=u.spaceOnLeft,a-=u.spaceOnLeft):(l="left",r+=u.spaceOnRight)}return"bottom"===c&&(i=i-t.height+(this.options.coverTrigger?e.height:0)),"right"===l&&(a=a-t.width+e.width),{x:a,y:i,verticalAlignment:c,horizontalAlignment:l,height:n,width:r}}},{key:"_animateIn",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(t){e.options.autoFocus&&e.dropdownEl.focus(),"function"===typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOut",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(t){e._resetDropdownStyles(),"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_placeDropdown",value:function(){var e=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=e+"px";var t=this._getDropdownPosition();this.dropdownEl.style.left=t.x+"px",this.dropdownEl.style.top=t.y+"px",this.dropdownEl.style.height=t.height+"px",this.dropdownEl.style.width=t.width+"px",this.dropdownEl.style.transformOrigin=("left"===t.horizontalAlignment?"0":"100%")+" "+("top"===t.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Dropdown}},{key:"defaults",get:function(){return n}}]),l}();r._dropdowns=[],M.Dropdown=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"dropdown","M_Dropdown")}(cash,M.anime),function(e,t){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return r.el.M_Modal=r,r.options=e.extend({},l.defaults,n),r.isOpen=!1,r.id=r.$el.attr("id"),r._openingTrigger=void 0,r.$overlay=e('<div class="modal-overlay"></div>'),r.el.tabIndex=0,r._nthModalOpened=0,l._count++,r._setupEventHandlers(),r}return s(l,c),i(l,[{key:"destroy",value:function(){l._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===l._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===l._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".modal-trigger");if(n.length){var r=M.getIdFromTrigger(n[0]),a=document.getElementById(r).M_Modal;a&&a.open(n),t.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(t){e(t.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(e){this.el.contains(e.target)||this._nthModalOpened!==l._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;e.extend(this.el.style,{display:"block",opacity:0}),e.extend(this.$overlay[0].style,{display:"block",opacity:0}),t({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var r={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(e.extend(r,{bottom:0,opacity:1}),t(r)):(e.extend(r,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),t(r))}},{key:"_animateOut",value:function(){var n=this;t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var r={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?(e.extend(r,{bottom:"-100%",opacity:0}),t(r)):(e.extend(r,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),t(r))}},{key:"open",value:function(e){if(!this.isOpen)return this.isOpen=!0,l._modalsOpen++,this._nthModalOpened=l._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*l._modalsOpen,this.el.style.zIndex=1e3+2*l._modalsOpen+1,this._openingTrigger=e?e[0]:void 0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,l._modalsOpen--,this._nthModalOpened=0,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===l._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Modal}},{key:"defaults",get:function(){return n}}]),l}();r._modalsOpen=0,r._count=0,M.Modal=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"modal","M_Modal")}(cash,M.anime),function(e,t){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return r.el.M_Materialbox=r,r.options=e.extend({},l.defaults,n),r.overlayActive=!1,r.doneAnimating=!0,r.placeholder=e("<div></div>").addClass("material-placeholder"),r.originalWidth=0,r.originalHeight=0,r.originInlineStyles=r.$el.attr("style"),r.caption=r.el.getAttribute("data-caption")||"",r.$el.before(r.placeholder),r.placeholder.append(r.$el),r._setupEventHandlers(),r}return s(l,c),i(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,e(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(e){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(e){27===e.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=e();for(var t=this.placeholder[0].parentNode;null!==t&&!e(t).is(document);){var n=e(t);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),t=t.parentNode}}},{key:"_animateImageIn",value:function(){var e=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){e.doneAnimating=!0,"function"===typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),t(n)}},{key:"_animateImageOut",value:function(){var e=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.placeholder.css({height:"",width:"",position:"",top:"",left:""}),e.attrWidth&&e.$el.attr("width",e.attrWidth),e.attrHeight&&e.$el.attr("height",e.attrHeight),e.$el.removeAttr("style"),e.originInlineStyles&&e.$el.attr("style",e.originInlineStyles),e.$el.removeClass("active"),e.doneAnimating=!0,e.ancestorsChanged.length&&e.ancestorsChanged.css("overflow",""),"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}};t(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=e('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){n.doneAnimating&&n.close()}),this.$el.before(this.$overlay);var r=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*r.left+"px",top:-1*r.top+"px"}),t.remove(this.el),t.remove(this.$overlay[0]),t({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&t.remove(this.$photoCaption[0]),this.$photoCaption=e('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),e("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),t({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var a=0,i=this.originalWidth/this.windowWidth,o=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,i>o?(a=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*a):(a=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*a,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var e=this;this._updateVars(),this.doneAnimating=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),t.remove(this.el),t.remove(this.$overlay[0]),""!==this.caption&&t.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.overlayActive=!1,e.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&t({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.$photoCaption.remove()}})}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Materialbox}},{key:"defaults",get:function(){return n}}]),l}();M.Materialbox=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"materialbox","M_Materialbox")}(cash,M.anime),function(e){"use strict";var t={responsiveThreshold:0},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return a.el.M_Parallax=a,a.options=e.extend({},r.defaults,n),a._enabled=window.innerWidth>a.options.responsiveThreshold,a.$img=a.$el.find("img").first(),a.$img.each(function(){this.complete&&e(this).trigger("load")}),a._updateParallax(),a._setupEventHandlers(),a._setupStyles(),r._parallaxes.push(a),a}return s(r,c),i(r,[{key:"destroy",value:function(){r._parallaxes.splice(r._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===r._parallaxes.length&&(r._handleScrollThrottled=M.throttle(r._handleScroll,5),window.addEventListener("scroll",r._handleScrollThrottled),r._handleWindowResizeThrottled=M.throttle(r._handleWindowResize,5),window.addEventListener("resize",r._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===r._parallaxes.length&&(window.removeEventListener("scroll",r._handleScrollThrottled),window.removeEventListener("resize",r._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var e=this.$el.height()>0?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight-e,n=this.$el.offset().top+e,r=this.$el.offset().top,a=M.getDocumentScrollTop(),i=window.innerHeight,o=t*((a+i-r)/(e+i));this._enabled?n>a&&r<a+i&&(this.$img[0].style.transform="translate3D(-50%, "+o+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Parallax}},{key:"_handleScroll",value:function(){for(var e=0;e<r._parallaxes.length;e++){var t=r._parallaxes[e];t._updateParallax.call(t)}}},{key:"_handleWindowResize",value:function(){for(var e=0;e<r._parallaxes.length;e++){var t=r._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),r}();n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(e,t){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return r.el.M_Tabs=r,r.options=e.extend({},l.defaults,n),r.$tabLinks=r.$el.children("li.tab").children("a"),r.index=0,r._setupActiveTabLink(),r.options.swipeable?r._setupSwipeableTabs():r._setupNormalTabs(),r._setTabsAndTabWidth(),r._createIndicator(),r._setupEventHandlers(),r}return s(l,c),i(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(t){var n=this,r=e(t.target).closest("li.tab"),a=e(t.target).closest("a");if(a.length&&a.parent().hasClass("tab"))if(r.hasClass("disabled"))t.preventDefault();else if(!a.attr("target")){this.$activeTabLink.removeClass("active");var i=this.$content;this.$activeTabLink=a,this.$content=e(M.escapeHash(a[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var o=this.index;this.index=Math.max(this.$tabLinks.index(a),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){"function"===typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"===typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),i.length&&!i.is(this.$content)&&(i[0].style.display="none",i.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(o),t.preventDefault()}}},{key:"_createIndicator",value:function(){var e=this,t=document.createElement("li");t.classList.add("indicator"),this.el.appendChild(t),this._indicator=t,setTimeout(function(){e._indicator.style.left=e._calcLeftPos(e.$activeTabLink)+"px",e._indicator.style.right=e._calcRightPos(e.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=e(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=e(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var t=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=e();this.$tabLinks.each(function(t){var r=e(M.escapeHash(t.hash));r.addClass("carousel-item"),n=n.add(r)});var r=e('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(r),r.append(n),n[0].style.display="";var a=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(r[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var r=t.index;t.index=e(n).index(),t.$activeTabLink.removeClass("active"),t.$activeTabLink=t.$tabLinks.eq(t.index),t.$activeTabLink.addClass("active"),t._animateIndicator(r),"function"===typeof t.options.onShow&&t.options.onShow.call(t,t.$content[0])}}),this._tabsCarousel.set(a)}},{key:"_teardownSwipeableTabs",value:function(){var e=this._tabsCarousel.$el;this._tabsCarousel.destroy(),e.after(e.children()),e.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(e){return Math.ceil(this.tabsWidth-e.position().left-e[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(e){return Math.floor(e.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(e){var n=0,r=0;this.index-e>=0?n=90:r=90;var a={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:r},duration:this.options.duration,easing:"easeOutQuad"};t.remove(this._indicator),t(a)}},{key:"select",value:function(e){var t=this.$tabLinks.filter('[href="#'+e+'"]');t.length&&t.trigger("click")}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tabs}},{key:"defaults",get:function(){return n}}]),l}();M.Tabs=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"tabs","M_Tabs")}(cash,M.anime),function(e,t){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return r.el.M_Tooltip=r,r.options=e.extend({},l.defaults,n),r.isOpen=!1,r.isHovered=!1,r.isFocused=!1,r._appendTooltipEl(),r._setupEventHandlers(),r}return s(l,c),i(l,[{key:"destroy",value:function(){e(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var e=document.createElement("div");e.classList.add("material-tooltip"),this.tooltipEl=e;var t=document.createElement("div");t.classList.add("tooltip-content"),t.innerHTML=this.options.html,e.appendChild(t),document.body.appendChild(e)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(t){this.isOpen||(t=void 0===t||void 0,this.isOpen=!0,this.options=e.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(t))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var e=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){e.isHovered||e.isFocused||e._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(e){var t=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){(t.isHovered||t.isFocused||e)&&t._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var t,n=this.el,r=this.tooltipEl,a=n.offsetHeight,i=n.offsetWidth,o=r.offsetHeight,s=r.offsetWidth,u=this.options.margin,c=void 0,l=void 0;this.xMovement=0,this.yMovement=0,c=n.getBoundingClientRect().top+M.getDocumentScrollTop(),l=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(c+=-o-u,l+=i/2-s/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(c+=a/2-o/2,l+=i+u,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(c+=a/2-o/2,l+=-s-u,this.xMovement=-this.options.transitionMovement):(c+=a+u,l+=i/2-s/2,this.yMovement=this.options.transitionMovement),t=this._repositionWithinScreen(l,c,s,o),e(r).css({top:t.y+"px",left:t.x+"px"})}},{key:"_repositionWithinScreen",value:function(e,t,n,r){var a=M.getDocumentScrollLeft(),i=M.getDocumentScrollTop(),o=e-a,s=t-i,u={left:o,top:s,width:n,height:r},c=this.options.margin+this.options.transitionMovement,l=M.checkWithinContainer(document.body,u,c);return l.left?o=c:l.right&&(o-=o+n-window.innerWidth),l.top?s=c:l.bottom&&(s-=s+r-window.innerHeight),{x:o+a,y:s+i}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var e={},t=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return t&&(e.html=t),n&&(e.position=n),e}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tooltip}},{key:"defaults",get:function(){return n}}]),l}();M.Tooltip=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"tooltip","M_Tooltip")}(cash,M.anime),function(e){"use strict";var t=t||{},n=document.querySelectorAll.bind(document);function r(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}var a={duration:750,show:function(e,t){if(2===e.button)return!1;var n=t||this,i=document.createElement("div");i.className="waves-ripple",n.appendChild(i);var o=function(e){var t,n,r={top:0,left:0},a=e&&e.ownerDocument;return t=a.documentElement,"undefined"!==typeof e.getBoundingClientRect&&(r=e.getBoundingClientRect()),n=function(e){return null!==(t=e)&&t===t.window?e:9===e.nodeType&&e.defaultView;var t}(a),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}}(n),s=e.pageY-o.top,u=e.pageX-o.left,c="scale("+n.clientWidth/100*10+")";"touches"in e&&(s=e.touches[0].pageY-o.top,u=e.touches[0].pageX-o.left),i.setAttribute("data-hold",Date.now()),i.setAttribute("data-scale",c),i.setAttribute("data-x",u),i.setAttribute("data-y",s);var l={top:s+"px",left:u+"px"};i.className=i.className+" waves-notransition",i.setAttribute("style",r(l)),i.className=i.className.replace("waves-notransition",""),l["-webkit-transform"]=c,l["-moz-transform"]=c,l["-ms-transform"]=c,l["-o-transform"]=c,l.transform=c,l.opacity="1",l["-webkit-transition-duration"]=a.duration+"ms",l["-moz-transition-duration"]=a.duration+"ms",l["-o-transition-duration"]=a.duration+"ms",l["transition-duration"]=a.duration+"ms",l["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",i.setAttribute("style",r(l))},hide:function(e){i.touchup(e);var t=this,n=(t.clientWidth,null),o=t.getElementsByClassName("waves-ripple");if(!(o.length>0))return!1;var s=(n=o[o.length-1]).getAttribute("data-x"),u=n.getAttribute("data-y"),c=n.getAttribute("data-scale"),l=350-(Date.now()-Number(n.getAttribute("data-hold")));l<0&&(l=0),setTimeout(function(){var i={top:u+"px",left:s+"px",opacity:"0","-webkit-transition-duration":a.duration+"ms","-moz-transition-duration":a.duration+"ms","-o-transition-duration":a.duration+"ms","transition-duration":a.duration+"ms","-webkit-transform":c,"-moz-transform":c,"-ms-transform":c,"-o-transform":c,transform:c};n.setAttribute("style",r(i)),setTimeout(function(){try{t.removeChild(n)}catch(e){return!1}},a.duration)},l)},wrapInput:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("input"===n.tagName.toLowerCase()){var r=n.parentNode;if("i"===r.tagName.toLowerCase()&&-1!==r.className.indexOf("waves-effect"))continue;var a=document.createElement("i");a.className=n.className+" waves-input-wrapper";var i=n.getAttribute("style");i||(i=""),a.setAttribute("style",i),n.className="waves-button-input",n.removeAttribute("style"),r.replaceChild(a,n),a.appendChild(n)}}}},i={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?i.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout(function(){i.touches>0&&(i.touches-=1)},500):"mousedown"===e.type&&i.touches>0&&(t=!1),t},touchup:function(e){i.allowEvent(e)}};function o(t){var n=function(e){if(!1===i.allowEvent(e))return null;for(var t=null,n=e.target||e.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){t=n;break}n=n.parentNode}return t}(t);null!==n&&(a.show(t,n),"ontouchstart"in e&&(n.addEventListener("touchend",a.hide,!1),n.addEventListener("touchcancel",a.hide,!1)),n.addEventListener("mouseup",a.hide,!1),n.addEventListener("mouseleave",a.hide,!1),n.addEventListener("dragend",a.hide,!1))}t.displayEffect=function(t){"duration"in(t=t||{})&&(a.duration=t.duration),a.wrapInput(n(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",o,!1),document.body.addEventListener("mousedown",o,!1)},t.attach=function(t){"input"===t.tagName.toLowerCase()&&(a.wrapInput([t]),t=t.parentNode),"ontouchstart"in e&&t.addEventListener("touchstart",o,!1),t.addEventListener("mousedown",o,!1)},e.Waves=t,document.addEventListener("DOMContentLoaded",function(){t.displayEffect()},!1)}(window),function(e,t){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},r=function(){function r(t){u(this,r),this.options=e.extend({},r.defaults,t),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===r._toasts.length&&r._createContainer(),r._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this.$el=e(n),this._animateIn(),this._setTimer()}return i(r,[{key:"_createToast",value:function(){var t=document.createElement("div");return t.classList.add("toast"),this.options.classes.length&&e(t).addClass(this.options.classes),("object"===typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"===typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"===typeof this.message.nodeName)?t.appendChild(this.message):this.message.jquery?e(t).append(this.message[0]):t.innerHTML=this.message,r._container.appendChild(t),t}},{key:"_animateIn",value:function(){t({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var e=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){e.panning||(e.timeRemaining-=20),e.timeRemaining<=0&&e.dismiss()},20))}},{key:"dismiss",value:function(){var e=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),t({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"===typeof e.options.completeCallback&&e.options.completeCallback(),e.$el.remove(),r._toasts.splice(r._toasts.indexOf(e),1),0===r._toasts.length&&r._removeContainer()}})}}],[{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Toast}},{key:"_createContainer",value:function(){var e=document.createElement("div");e.setAttribute("id","toast-container"),e.addEventListener("touchstart",r._onDragStart),e.addEventListener("touchmove",r._onDragMove),e.addEventListener("touchend",r._onDragEnd),e.addEventListener("mousedown",r._onDragStart),document.addEventListener("mousemove",r._onDragMove),document.addEventListener("mouseup",r._onDragEnd),document.body.appendChild(e),r._container=e}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",r._onDragMove),document.removeEventListener("mouseup",r._onDragEnd),e(r._container).remove(),r._container=null}},{key:"_onDragStart",value:function(t){if(t.target&&e(t.target).closest(".toast").length){var n=e(t.target).closest(".toast")[0].M_Toast;n.panning=!0,r._draggedToast=n,n.el.classList.add("panning"),n.el.style.transition="",n.startingXPos=r._xPos(t),n.time=Date.now(),n.xPos=r._xPos(t)}}},{key:"_onDragMove",value:function(e){if(r._draggedToast){e.preventDefault();var t=r._draggedToast;t.deltaX=Math.abs(t.xPos-r._xPos(e)),t.xPos=r._xPos(e),t.velocityX=t.deltaX/(Date.now()-t.time),t.time=Date.now();var n=t.xPos-t.startingXPos,a=t.el.offsetWidth*t.options.activationPercent;t.el.style.transform="translateX("+n+"px)",t.el.style.opacity=1-Math.abs(n/a)}}},{key:"_onDragEnd",value:function(){if(r._draggedToast){var e=r._draggedToast;e.panning=!1,e.el.classList.remove("panning");var t=e.xPos-e.startingXPos,n=e.el.offsetWidth*e.options.activationPercent;Math.abs(t)>n||e.velocityX>1?(e.wasSwiped=!0,e.dismiss()):(e.el.style.transition="transform .2s, opacity .2s",e.el.style.transform="",e.el.style.opacity=""),r._draggedToast=null}}},{key:"_xPos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"dismissAll",value:function(){for(var e in r._toasts)r._toasts[e].dismiss()}},{key:"defaults",get:function(){return n}}]),r}();r._toasts=[],r._container=null,r._draggedToast=null,M.Toast=r,M.toast=function(e){return new r(e)}}(cash,M.anime),function(e,t){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return r.el.M_Sidenav=r,r.id=r.$el.attr("id"),r.options=e.extend({},l.defaults,n),r.isOpen=!1,r.isFixed=r.el.classList.contains("sidenav-fixed"),r.isDragged=!1,r.lastWindowWidth=window.innerWidth,r.lastWindowHeight=window.innerHeight,r._createOverlay(),r._createDragTarget(),r._setupEventHandlers(),r._setupClasses(),r._setupFixed(),l._sidenavs.push(r),r}return s(l,c),i(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var e=l._sidenavs.indexOf(this);e>=0&&l._sidenavs.splice(e,1)}},{key:"_createOverlay",value:function(){var e=document.createElement("div");this._closeBound=this.close.bind(this),e.classList.add("sidenav-overlay"),e.addEventListener("click",this._closeBound),document.body.appendChild(e),this._overlay=e}},{key:"_setupEventHandlers",value:function(){0===l._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===l._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".sidenav-trigger");if(t.target&&n.length){var r=M.getIdFromTrigger(n[0]),a=document.getElementById(r).M_Sidenav;a&&a.open(n),t.preventDefault()}}},{key:"_startDrag",value:function(e){var n=e.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,t.remove(this.el),t.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(e){var t=e.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-t),this._xPos=t,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(e){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge===n&&(t=0);var r=t,a="translateX(-100%)";"right"===this.options.edge&&(a="translateX(100%)",r=-r),this.percentOpen=Math.min(1,t/this._width),this.el.style.transform=a+" translateX("+r+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(e){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge!==n&&(t=0);var r=-t;"right"===this.options.edge&&(r=-r),this.percentOpen=Math.min(1,1-t/this._width),this.el.style.transform="translateX("+r+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(t){e(t.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var e=document.createElement("div");e.classList.add("drag-target"),document.body.appendChild(e),this.dragTarget=e}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(t.remove(this.el),t({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var e="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+e+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var e=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"===typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:e(this._overlay).css({display:"block"}),t.remove(this._overlay),t({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var e=this,n="left"===this.options.edge?-1:1,r=0;this.isDragged&&(r="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*r+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;t.remove(this._overlay),t({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e(n._overlay).css("display","none")}})}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Sidenav}},{key:"defaults",get:function(){return n}}]),l}();r._sidenavs=[],M.Sidenav=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"sidenav","M_Sidenav")}(cash,M.anime),function(e,t){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return r.el.M_ScrollSpy=r,r.options=e.extend({},l.defaults,n),l._elements.push(r),l._count++,l._increment++,r.tickId=-1,r.id=l._increment,r._setupEventHandlers(),r._handleWindowScroll(),r}return s(l,c),i(l,[{key:"destroy",value:function(){l._elements.splice(l._elements.indexOf(this),1),l._elementsInView.splice(l._elementsInView.indexOf(this),1),l._visibleElements.splice(l._visibleElements.indexOf(this.$el),1),l._count--,this._removeEventHandlers(),e(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var e=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=e.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===l._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===l._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var r=e(n.target),a=l._elements.length-1;a>=0;a--){var i=l._elements[a];if(r.is('a[href="#'+i.$el.attr("id")+'"]')){n.preventDefault();var o=i.$el.offset().top+1;t({targets:[document.documentElement,document.body],scrollTop:o-i.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){l._ticks++;for(var e=M.getDocumentScrollTop(),t=M.getDocumentScrollLeft(),n=t+window.innerWidth,r=e+window.innerHeight,a=l._findElements(e,n,r,t),i=0;i<a.length;i++){var o=a[i];o.tickId<0&&o._enter(),o.tickId=l._ticks}for(var s=0;s<l._elementsInView.length;s++){var u=l._elementsInView[s],c=u.tickId;c>=0&&c!==l._ticks&&(u._exit(),u.tickId=-1)}l._elementsInView=a}},{key:"_enter",value:function(){l._visibleElements=l._visibleElements.filter(function(e){return 0!=e.height()}),l._visibleElements[0]?(e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements[0][0].M_ScrollSpy&&this.id<l._visibleElements[0][0].M_ScrollSpy.id?l._visibleElements.unshift(this.$el):l._visibleElements.push(this.$el)):l._visibleElements.push(this.$el),e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var t=this;l._visibleElements=l._visibleElements.filter(function(e){return 0!=e.height()}),l._visibleElements[0]&&(e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements=l._visibleElements.filter(function(e){return e.attr("id")!=t.$el.attr("id")}),l._visibleElements[0]&&e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_ScrollSpy}},{key:"_findElements",value:function(e,t,n,r){for(var a=[],i=0;i<l._elements.length;i++){var o=l._elements[i],s=e+o.options.scrollOffset||200;if(o.$el.height()>0){var u=o.$el.offset().top,c=o.$el.offset().left,d=c+o.$el.width(),p=u+o.$el.height();!(c>t||d<r||u>n||p<s)&&a.push(o)}}return a}},{key:"defaults",get:function(){return n}}]),l}();r._elements=[],r._elementsInView=[],r._visibleElements=[],r._count=0,r._increment=0,r._ticks=0,M.ScrollSpy=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(e){"use strict";var t={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(e,t,n){return e.indexOf(n)-t.indexOf(n)}},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return a.el.M_Autocomplete=a,a.options=e.extend({},r.defaults,n),a.isOpen=!1,a.count=0,a.activeIndex=-1,a.oldVal,a.$inputField=a.$el.closest(".input-field"),a.$active=e(),a._mousedown=!1,a._setupDropdown(),a._setupEventHandlers(),a}return s(r,c),i(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var t=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),e(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){t.selectOption(e(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(e){"keyup"===e.type&&(r._keydown=!1),this.count=0;var t=this.el.value.toLowerCase();13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&(this.oldVal===t||!M.tabPressed&&"focus"===e.type||this.open(),this.oldVal=t)}},{key:"_handleInputKeydown",value:function(t){r._keydown=!0;var n=t.keyCode,a=void 0,i=e(this.container).children("li").length;n===M.keys.ENTER&&this.activeIndex>=0?(a=e(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(a),t.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(t.preventDefault(),n===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<i-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=e(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(e){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(e){this._mousedown=!1}},{key:"_highlight",value:function(e,t){var n=t.find("img"),r=t.text().toLowerCase().indexOf(""+e.toLowerCase()),a=r+e.length-1,i=t.text().slice(0,r),o=t.text().slice(r,a+1),s=t.text().slice(a+1);t.html("<span>"+i+"<span class='highlight'>"+o+"</span>"+s+"</span>"),n.length&&t.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){e(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(e){var t=e.text().trim();this.el.value=t,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"===typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,t)}},{key:"_renderDropdown",value:function(t,n){var r=this;this._resetAutocomplete();var a=[];for(var i in t)if(t.hasOwnProperty(i)&&-1!==i.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var o={data:t[i],key:i};a.push(o),this.count++}if(this.options.sortFunction){a.sort(function(e,t){return r.options.sortFunction(e.key.toLowerCase(),t.key.toLowerCase(),n.toLowerCase())})}for(var s=0;s<a.length;s++){var u=a[s],c=e("<li></li>");u.data?c.append('<img src="'+u.data+'" class="right circle"><span>'+u.key+"</span>"):c.append("<span>"+u.key+"</span>"),e(this.container).append(c),this._highlight(n,c)}}},{key:"open",value:function(){var e=this.el.value.toLowerCase();this._resetAutocomplete(),e.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,e)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(e){var t=this.el.value.toLowerCase();this.options.data=e,this.isOpen&&this._renderDropdown(e,t)}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Autocomplete}},{key:"defaults",get:function(){return t}}]),r}();n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(e){M.updateTextFields=function(){e("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each(function(t,n){var r=e(this);t.value.length>0||e(t).is(":focus")||t.autofocus||null!==r.attr("placeholder")?r.siblings("label").addClass("active"):t.validity?r.siblings("label").toggleClass("active",!0===t.validity.badInput):r.siblings("label").removeClass("active")})},M.validate_field=function(e){var t=null!==e.attr("data-length"),n=parseInt(e.attr("data-length")),r=e[0].value.length;0!==r||!1!==e[0].validity.badInput||e.is(":required")?e.hasClass("validate")&&(e.is(":valid")&&t&&r<=n||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))):e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=e(t)),t.length){var n=e(".hiddendiv").first();n.length||(n=e('<div class="hiddendiv common"></div>'),e("body").append(n));var r=t.css("font-family"),a=t.css("font-size"),i=t.css("line-height"),o=t.css("padding-top"),s=t.css("padding-right"),u=t.css("padding-bottom"),c=t.css("padding-left");a&&n.css("font-size",a),r&&n.css("font-family",r),i&&n.css("line-height",i),o&&n.css("padding-top",o),s&&n.css("padding-right",s),u&&n.css("padding-bottom",u),c&&n.css("padding-left",c),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(t[0].value+"\n");var l=n.html().replace(/\n/g,"<br>");n.html(l),t[0].offsetWidth>0&&t[0].offsetHeight>0?n.css("width",t.width()+"px"):n.css("width",window.innerWidth/2+"px"),t.data("original-height")<=n.innerHeight()?t.css("height",n.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},e(document).ready(function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";e(document).on("change",t,function(){0===this.value.length&&null===e(this).attr("placeholder")||e(this).siblings("label").addClass("active"),M.validate_field(e(this))}),e(document).ready(function(){M.updateTextFields()}),e(document).on("reset",function(n){var r=e(n.target);r.is("form")&&(r.find(t).removeClass("valid").removeClass("invalid"),r.find(t).each(function(t){this.value.length&&e(this).siblings("label").removeClass("active")}),setTimeout(function(){r.find("select").each(function(){this.M_FormSelect&&e(this).trigger("change")})},0))}),document.addEventListener("focus",function(n){e(n.target).is(t)&&e(n.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(n){var r=e(n.target);if(r.is(t)){var a=".prefix";0===r[0].value.length&&!0!==r[0].validity.badInput&&null===r.attr("placeholder")&&(a+=", label"),r.siblings(a).removeClass("active"),M.validate_field(r)}},!0);e(document).on("keyup","input[type=radio], input[type=checkbox]",function(t){if(t.which===M.keys.TAB)return e(this).addClass("tabbed"),void e(this).one("blur",function(t){e(this).removeClass("tabbed")})});e(".materialize-textarea").each(function(){var t=e(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)}),e(document).on("keyup",".materialize-textarea",function(){M.textareaAutoResize(e(this))}),e(document).on("keydown",".materialize-textarea",function(){M.textareaAutoResize(e(this))}),e(document).on("change",'.file-field input[type="file"]',function(){for(var t=e(this).closest(".file-field").find("input.file-path"),n=e(this)[0].files,r=[],a=0;a<n.length;a++)r.push(n[a].name);t[0].value=r.join(", "),t.trigger("change")})})}(cash),function(e,t){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},r=function(r){function l(n,r){u(this,l);var a=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,r));return a.el.M_Slider=a,a.options=e.extend({},l.defaults,r),a.$slider=a.$el.find(".slides"),a.$slides=a.$slider.children("li"),a.activeIndex=a.$slides.filter(function(t){return e(t).hasClass("active")}).first().index(),-1!=a.activeIndex&&(a.$active=a.$slides.eq(a.activeIndex)),a._setSliderHeight(),a.$slides.find(".caption").each(function(e){a._animateCaptionIn(e,0)}),a.$slides.find("img").each(function(t){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";e(t).attr("src")!==n&&(e(t).css("background-image",'url("'+e(t).attr("src")+'")'),e(t).attr("src",n))}),a._setupIndicators(),a.$active?a.$active.css("display","block"):(a.$slides.first().addClass("active"),t({targets:a.$slides.first()[0],opacity:1,duration:a.options.duration,easing:"easeOutQuad"}),a.activeIndex=0,a.$active=a.$slides.eq(a.activeIndex),a.options.indicators&&a.$indicators.eq(a.activeIndex).addClass("active")),a.$active.find("img").each(function(e){t({targets:a.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:a.options.duration,easing:"easeOutQuad"})}),a._setupEventHandlers(),a.start(),a}return s(l,c),i(l,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(t){t.addEventListener("click",e._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var e=this;this.options.indicators&&this.$indicators.each(function(t){t.removeEventListener("click",e._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(t){var n=e(t.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var e=this.$slider.find(".active").index();this.$slides.length===e+1?e=0:e+=1,this.set(e)}},{key:"_animateCaptionIn",value:function(n,r){var a={targets:n,opacity:0,duration:r,easing:"easeOutQuad"};e(n).hasClass("center-align")?a.translateY=-100:e(n).hasClass("right-align")?a.translateX=100:e(n).hasClass("left-align")&&(a.translateX=-100),t(a)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var t=this;this.options.indicators&&(this.$indicators=e('<ul class="indicators"></ul>'),this.$slides.each(function(n,r){var a=e('<li class="indicator-item"></li>');t.$indicators.append(a[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(e){var n=this;if(e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.activeIndex!=e){this.$active=this.$slides.eq(this.activeIndex);var r=this.$active.find(".caption");this.$active.removeClass("active"),t({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each(function(e){t({targets:e,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(r[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(e).addClass("active")),t({targets:this.$slides.eq(e)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),t({targets:this.$slides.eq(e).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(e).addClass("active"),this.activeIndex=e,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var e=this.activeIndex+1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}},{key:"prev",value:function(){var e=this.activeIndex-1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Slider}},{key:"defaults",get:function(){return n}}]),l}();M.Slider=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"slider","M_Slider")}(cash,M.anime),function(e,t){e(document).on("click",".card",function(n){if(e(this).children(".card-reveal").length){var r=e(n.target).closest(".card");void 0===r.data("initialOverflow")&&r.data("initialOverflow",void 0===r.css("overflow")?"":r.css("overflow"));var a=e(this).find(".card-reveal");e(n.target).is(e(".card-reveal .card-title"))||e(n.target).is(e(".card-reveal .card-title i"))?t({targets:a[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var n=t.animatables[0].target;e(n).css({display:"none"}),r.css("overflow",r.data("initialOverflow"))}}):(e(n.target).is(e(".card .activator"))||e(n.target).is(e(".card .activator i")))&&(r.css("overflow","hidden"),a.css({display:"block"}),t({targets:a[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(e){"use strict";var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return a.el.M_Chips=a,a.options=e.extend({},r.defaults,n),a.$el.addClass("chips input-field"),a.chipsData=[],a.$chips=e(),a._setupInput(),a.hasAutocomplete=Object.keys(a.options.autocompleteOptions).length>0,a.$input.attr("id")||a.$input.attr("id",M.guid()),a.options.data.length&&(a.chipsData=a.options.data,a._renderChips(a.chipsData)),a.hasAutocomplete&&a._setupAutocomplete(),a._setPlaceholder(),a._setupLabel(),a._setupEventHandlers(),a}return s(r,c),i(r,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",r._handleChipsKeydown),document.addEventListener("keyup",r._handleChipsKeyup),this.el.addEventListener("blur",r._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",r._handleChipsKeydown),document.removeEventListener("keyup",r._handleChipsKeyup),this.el.removeEventListener("blur",r._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(t){var n=e(t.target).closest(".chip"),r=e(t.target).is(".close");if(n.length){var a=n.index();r?(this.deleteChip(a),this.$input[0].focus()):this.selectChip(a)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(e){if(r._keydown=!0,13===e.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;e.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==e.keyCode&&37!==e.keyCode||""!==this.$input[0].value||!this.chipsData.length||(e.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(t){if(t.tag){var n=document.createElement("div"),r=document.createElement("i");if(n.classList.add("chip"),n.textContent=t.tag,n.setAttribute("tabindex",0),e(r).addClass("material-icons close"),r.textContent="close",t.image){var a=document.createElement("img");a.setAttribute("src",t.image),n.insertBefore(a,n.firstChild)}return n.appendChild(r),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var e=0;e<this.chipsData.length;e++){var t=this._renderChip(this.chipsData[e]);this.$el.append(t),this.$chips.add(t)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var e=this;this.options.autocompleteOptions.onAutocomplete=function(t){e.addChip({tag:t}),e.$input[0].value="",e.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=e("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?e(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&e(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(e){if(e.hasOwnProperty("tag")&&""!==e.tag){for(var t=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===e.tag){t=!0;break}return!t}return!1}},{key:"addChip",value:function(t){if(this._isValid(t)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(t);this.$chips.add(n),this.chipsData.push(t),e(this.$input).before(n),this._setPlaceholder(),"function"===typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(t){var n=this.$chips.eq(t);this.$chips.eq(t).remove(),this.$chips=this.$chips.filter(function(t){return e(t).index()>=0}),this.chipsData.splice(t,1),this._setPlaceholder(),"function"===typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(e){var t=this.$chips.eq(e);this._selectedChip=t,t[0].focus(),"function"===typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,t[0])}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Chips}},{key:"_handleChipsKeydown",value:function(t){r._keydown=!0;var n=e(t.target).closest(".chips"),a=t.target&&n.length;if(!e(t.target).is("input, textarea")&&a){var i=n[0].M_Chips;if(8===t.keyCode||46===t.keyCode){t.preventDefault();var o=i.chipsData.length;if(i._selectedChip){var s=i._selectedChip.index();i.deleteChip(s),i._selectedChip=null,o=Math.max(s-1,0)}i.chipsData.length&&i.selectChip(o)}else if(37===t.keyCode){if(i._selectedChip){var u=i._selectedChip.index()-1;if(u<0)return;i.selectChip(u)}}else if(39===t.keyCode&&i._selectedChip){var c=i._selectedChip.index()+1;c>=i.chipsData.length?i.$input[0].focus():i.selectChip(c)}}}},{key:"_handleChipsKeyup",value:function(e){r._keydown=!1}},{key:"_handleChipsBlur",value:function(t){r._keydown||(e(t.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return t}}]),r}();n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),e(document).ready(function(){e(document.body).on("click",".chip .close",function(){var t=e(this).closest(".chips");t.length&&t[0].M_Chips||e(this).closest(".chip").remove()})})}(cash),function(e){"use strict";var t={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return a.el.M_Pushpin=a,a.options=e.extend({},r.defaults,n),a.originalOffset=a.el.offsetTop,r._pushpins.push(a),a._setupEventHandlers(),a._updatePosition(),a}return s(r,c),i(r,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var e=r._pushpins.indexOf(this);r._pushpins.splice(e,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",r._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",r._updateElements)}},{key:"_updatePosition",value:function(){var e=M.getDocumentScrollTop()+this.options.offset;this.options.top<=e&&this.options.bottom>=e&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),e<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),e>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Pushpin}},{key:"_updateElements",value:function(){for(var e in r._pushpins){r._pushpins[e]._updatePosition()}}},{key:"defaults",get:function(){return t}}]),r}();n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(e,t){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};e.fn.reverse=[].reverse;var r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return r.el.M_FloatingActionButton=r,r.options=e.extend({},l.defaults,n),r.isOpen=!1,r.$anchor=r.$el.children("a").first(),r.$menu=r.$el.children("ul").first(),r.$floatingBtns=r.$el.find("ul .btn-floating"),r.$floatingBtnsReverse=r.$el.find("ul .btn-floating").reverse(),r.offsetY=0,r.offsetX=0,r.$el.addClass("direction-"+r.options.direction),"top"===r.options.direction?r.offsetY=40:"right"===r.options.direction?r.offsetX=-40:"bottom"===r.options.direction?r.offsetY=-40:r.offsetX=40,r._setupEventHandlers(),r}return s(l,c),i(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var e=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each(function(r){t({targets:r,opacity:1,scale:[.4,1],translateY:[e.offsetY,0],translateX:[e.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40})}},{key:"_animateOutFAB",value:function(){var e=this;this.$floatingBtnsReverse.each(function(n){t.remove(n),t({targets:n,opacity:0,scale:.4,translateY:e.offsetY,translateX:e.offsetX,duration:175,easing:"easeOutQuad",complete:function(){e.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var t,n=this,r=window.innerWidth,a=window.innerHeight,i=this.el.getBoundingClientRect(),o=e('<div class="fab-backdrop"></div>'),s=this.$anchor.css("background-color");this.$anchor.append(o),this.offsetX=i.left-r/2+i.width/2,this.offsetY=a-i.bottom,t=r/o[0].clientWidth,this.btnBottom=i.bottom,this.btnLeft=i.left,this.btnWidth=i.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),o.css({"background-color":s}),setTimeout(function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){n.$el.css({overflow:"hidden","background-color":s}),o.css({transform:"scale("+t+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var e=this,t=window.innerWidth,n=window.innerHeight,r=this.$el.find(".fab-backdrop"),a=this.$anchor.css("background-color");this.offsetX=this.btnLeft-t/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),r.css({transform:"scale(0)","background-color":a}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){r.remove(),e.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-e.offsetX+"px,0,0)"}),e.$anchor.css({overflow:"",transform:"translate3d(0,"+e.offsetY+"px,0)"}),setTimeout(function(){e.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),e.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),l}();M.FloatingActionButton=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(e){"use strict";var t={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"\u2039",nextMonth:"\u203a",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));a.el.M_Datepicker=a,a.options=e.extend({},r.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"===typeof n.i18n&&(a.options.i18n=e.extend({},r.defaults.i18n,n.i18n)),a.options.minDate&&a.options.minDate.setHours(0,0,0,0),a.options.maxDate&&a.options.maxDate.setHours(0,0,0,0),a.id=M.guid(),a._setupVariables(),a._insertHTMLIntoDOM(),a._setupModal(),a._setupEventHandlers(),a.options.defaultDate||(a.options.defaultDate=new Date(Date.parse(a.el.value)));var i=a.options.defaultDate;return r._isDate(i)?a.options.setDefaultDate?(a.setDate(i,!0),a.setInputValue()):a.gotoDate(i):a.gotoDate(new Date),a.isOpen=!1,a}return s(r,c),i(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var e=this.calendarEl.querySelector(".orig-select-year");e&&M.FormSelect.getInstance(e).destroy();var t=this.calendarEl.querySelector(".orig-select-month");t&&M.FormSelect.getInstance(t).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(e(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){e.isOpen=!1}})}},{key:"toString",value:function(e){var t=this;return e=e||this.options.format,r._isDate(this.date)?e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map(function(e){return t.formats[e]?t.formats[e]():e}).join(""):""}},{key:"setDate",value:function(e,t){if(!e)return this.date=null,this._renderDateDisplay(),this.draw();if("string"===typeof e&&(e=new Date(Date.parse(e))),r._isDate(e)){var n=this.options.minDate,a=this.options.maxDate;r._isDate(n)&&e<n?e=n:r._isDate(a)&&e>a&&(e=a),this.date=new Date(e.getTime()),this._renderDateDisplay(),r._setToStartOfDay(this.date),this.gotoDate(this.date),t||"function"!==typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var e=r._isDate(this.date)?this.date:new Date,t=this.options.i18n,n=t.weekdaysShort[e.getDay()],a=t.monthsShort[e.getMonth()],i=e.getDate();this.yearTextEl.innerHTML=e.getFullYear(),this.dateTextEl.innerHTML=n+", "+a+" "+i}},{key:"gotoDate",value:function(e){var t=!0;if(r._isDate(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),a=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();a.setMonth(a.getMonth()+1),a.setDate(a.getDate()-1),t=i<n.getTime()||a.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(e,t,n){var a=this.options,i=new Date,o=r._getDaysInMonth(e,t),s=new Date(e,t,1).getDay(),u=[],c=[];r._setToStartOfDay(i),a.firstDay>0&&(s-=a.firstDay)<0&&(s+=7);for(var l=0===t?11:t-1,d=11===t?0:t+1,p=0===t?e-1:e,h=11===t?e+1:e,f=r._getDaysInMonth(p,l),m=o+s,v=m;v>7;)v-=7;m+=7-v;for(var g=!1,A=0,y=0;A<m;A++){var b=new Date(e,t,A-s+1),x=!!r._isDate(this.date)&&r._compareDates(b,this.date),w=r._compareDates(b,i),_=-1!==a.events.indexOf(b.toDateString()),k=A<s||A>=o+s,O=A-s+1,E=t,S=e,C=a.startRange&&r._compareDates(a.startRange,b),T=a.endRange&&r._compareDates(a.endRange,b),I=a.startRange&&a.endRange&&a.startRange<b&&b<a.endRange;k&&(A<s?(O=f+O,E=l,S=p):(O-=o,E=d,S=h));var j={day:O,month:E,year:S,hasEvent:_,isSelected:x,isToday:w,isDisabled:a.minDate&&b<a.minDate||a.maxDate&&b>a.maxDate||a.disableWeekends&&r._isWeekend(b)||a.disableDayFn&&a.disableDayFn(b),isEmpty:k,isStartRange:C,isEndRange:T,isInRange:I,showDaysInNextAndPreviousMonths:a.showDaysInNextAndPreviousMonths};c.push(this.renderDay(j)),7===++y&&(u.push(this.renderRow(c,a.isRTL,g)),c=[],y=0,g=!1)}return this.renderTable(a,u,n)}},{key:"renderDay",value:function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+e.year+'" data-month="'+e.month+'" data-day="'+e.day+'">'+e.day+"</button></td>"}},{key:"renderRow",value:function(e,t,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"}},{key:"renderTable",value:function(e,t,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(e)+this.renderBody(t)+"</table></div>"}},{key:"renderHead",value:function(e){var t=void 0,n=[];for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+this.renderDayName(e,t)+'">'+this.renderDayName(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(e){return"<tbody>"+e.join("")+"</tbody>"}},{key:"renderTitle",value:function(t,n,r,a,i,o){var s,u,c=void 0,l=void 0,d=void 0,p=this.options,h=r===p.minYear,f=r===p.maxYear,m='<div id="'+o+'" class="datepicker-controls" role="heading" aria-live="assertive">',v=!0,g=!0;for(d=[],c=0;c<12;c++)d.push('<option value="'+(r===i?c-n:12+c-n)+'"'+(c===a?' selected="selected"':"")+(h&&c<p.minMonth||f&&c>p.maxMonth?'disabled="disabled"':"")+">"+p.i18n.months[c]+"</option>");for(s='<select class="datepicker-select orig-select-month" tabindex="-1">'+d.join("")+"</select>",e.isArray(p.yearRange)?(c=p.yearRange[0],l=p.yearRange[1]+1):(c=r-p.yearRange,l=1+r+p.yearRange),d=[];c<l&&c<=p.maxYear;c++)c>=p.minYear&&d.push('<option value="'+c+'" '+(c===r?'selected="selected"':"")+">"+c+"</option>");u='<select class="datepicker-select orig-select-year" tabindex="-1">'+d.join("")+"</select>";m+='<button class="month-prev'+(v?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',m+='<div class="selects-container">',p.showMonthAfterYear?m+=u+s:m+=s+u,m+="</div>",h&&(0===a||p.minMonth>=a)&&(v=!1),f&&(11===a||p.maxMonth<=a)&&(g=!1);return(m+='<button class="month-next'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(e){if(this.isOpen||e){var t,n=this.options,r=n.minYear,a=n.maxYear,i=n.minMonth,o=n.maxMonth,s="";this._y<=r&&(this._y=r,!isNaN(i)&&this._m<i&&(this._m=i)),this._y>=a&&(this._y=a,!isNaN(o)&&this._m>o&&(this._m=o)),t="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<1;u++)this._renderDateDisplay(),s+=this.renderTitle(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,t)+this.render(this.calendars[u].year,this.calendars[u].month,t);this.destroySelects(),this.calendarEl.innerHTML=s;var c=this.calendarEl.querySelector(".orig-select-year"),l=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(c,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(l,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),c.addEventListener("change",this._handleYearChange.bind(this)),l.addEventListener("change",this._handleMonthChange.bind(this)),"function"===typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var t=this;this.$modalEl=e(r._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return t.date.getDate()},dd:function(){var e=t.date.getDate();return(e<10?"0":"")+e},ddd:function(){return t.options.i18n.weekdaysShort[t.date.getDay()]},dddd:function(){return t.options.i18n.weekdays[t.date.getDay()]},m:function(){return t.date.getMonth()+1},mm:function(){var e=t.date.getMonth()+1;return(e<10?"0":"")+e},mmm:function(){return t.options.i18n.monthsShort[t.date.getMonth()]},mmmm:function(){return t.options.i18n.months[t.date.getMonth()]},yy:function(){return(""+t.date.getFullYear()).slice(2)},yyyy:function(){return t.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(t){if(this.isOpen){var n=e(t.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(t.target.getAttribute("data-year"),t.target.getAttribute("data-month"),t.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(e){this.gotoMonth(e.target.value)}},{key:"_handleYearChange",value:function(e){this.gotoYear(e.target.value)}},{key:"gotoMonth",value:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())}},{key:"gotoYear",value:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(e){var t=void 0;e.firedBy!==this&&(t=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),r._isDate(t)&&this.setDate(t))}},{key:"renderDayName",value:function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysAbbrev[t]:e.i18n.weekdays[t]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"===typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"===typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"_isDate",value:function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())}},{key:"_isWeekend",value:function(e){var t=e.getDay();return 0===t||6===t}},{key:"_setToStartOfDay",value:function(e){r._isDate(e)&&e.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(e,t){return[31,r._isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}},{key:"_isLeapYear",value:function(e){return e%4===0&&e%100!==0||e%400===0}},{key:"_compareDates",value:function(e,t){return e.getTime()===t.getTime()}},{key:"_setToStartOfDay",value:function(e){r._isDate(e)&&e.setHours(0,0,0,0)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Datepicker}},{key:"defaults",get:function(){return t}}]),r}();n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(e){"use strict";var t={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return a.el.M_Timepicker=a,a.options=e.extend({},r.defaults,n),a.id=M.guid(),a._insertHTMLIntoDOM(),a._setupModal(),a._setupVariables(),a._setupEventHandlers(),a._clockSetup(),a._pickerSetup(),a}return s(r,c),i(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),e(this.spanHours).on("click",this.showView.bind(this,"hours")),e(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(e){e.preventDefault();var t=this.plate.getBoundingClientRect(),n=t.left,a=t.top;this.x0=n+this.options.dialRadius,this.y0=a+this.options.dialRadius,this.moved=!1;var i=r._Pos(e);this.dx=i.x-this.x0,this.dy=i.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(e){e.preventDefault();var t=r._Pos(e),n=t.x-this.x0,a=t.y-this.y0;this.moved=!0,this.setHand(n,a,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(t){var n=this;t.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var a=r._Pos(t),i=a.x-this.x0,o=a.y-this.y0;this.moved&&i===this.dx&&o===this.dy&&this.setHand(i,o),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(e(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){n.done()},this.options.duration/2)),"function"===typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=e(r._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var t=document.querySelector(this.options.container);this.options.container&&t?this.$modalEl.appendTo(t):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e),e.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var t=e('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&t.css({visibility:""});var n=e('<div class="confirmation-btns"></div>');e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=e('<div class="am-btn">AM</div>'),this.$pmBtn=e('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var e=this.options.dialRadius,t=this.options.tickRadius,n=2*e,a=r._createSVGEl("svg");a.setAttribute("class","timepicker-svg"),a.setAttribute("width",n),a.setAttribute("height",n);var i=r._createSVGEl("g");i.setAttribute("transform","translate("+e+","+e+")");var o=r._createSVGEl("circle");o.setAttribute("class","timepicker-canvas-bearing"),o.setAttribute("cx",0),o.setAttribute("cy",0),o.setAttribute("r",4);var s=r._createSVGEl("line");s.setAttribute("x1",0),s.setAttribute("y1",0);var u=r._createSVGEl("circle");u.setAttribute("class","timepicker-canvas-bg"),u.setAttribute("r",t),i.appendChild(s),i.appendChild(u),i.appendChild(o),a.appendChild(i),this._canvas.appendChild(a),this.hand=s,this.bg=u,this.bearing=o,this.g=i}},{key:"_buildHoursView",value:function(){var t=e('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var r=t.clone(),a=n/6*Math.PI,i=this.options.outerRadius;r.css({left:this.options.dialRadius+Math.sin(a)*i-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(a)*i-this.options.tickRadius+"px"}),r.html(0===n?"00":n),this.hoursView.appendChild(r[0])}else for(var o=0;o<24;o+=1){var s=t.clone(),u=o/6*Math.PI,c=o>0&&o<13?this.options.innerRadius:this.options.outerRadius;s.css({left:this.options.dialRadius+Math.sin(u)*c-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(u)*c-this.options.tickRadius+"px"}),s.html(0===o?"00":o),this.hoursView.appendChild(s[0])}}},{key:"_buildMinutesView",value:function(){for(var t=e('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var a=t.clone(),i=n/30*Math.PI;a.css({left:this.options.dialRadius+Math.sin(i)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(i)*this.options.outerRadius-this.options.tickRadius+"px"}),a.html(r._addLeadingZero(n)),this.minutesView.appendChild(a[0])}}},{key:"_handleAmPmClick",value:function(t){var n=e(t.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var e=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&"undefined"!==typeof e[1]&&(e[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",e[1]=e[1].replace("AM","").replace("PM","")),"now"===e[0]){var t=new Date(+new Date+this.options.fromNow);e=[t.getHours(),t.getMinutes()],this.options.twelveHour&&(this.amOrPm=e[0]>=12&&e[0]<24?"PM":"AM")}this.hours=+e[0]||0,this.minutes=+e[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=r._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(t,n){"minutes"===t&&e(this.hoursView).css("visibility");var r="hours"===t,a=r?this.hoursView:this.minutesView,i=r?this.minutesView:this.hoursView;this.currentView=t,e(this.spanHours).toggleClass("text-primary",r),e(this.spanMinutes).toggleClass("text-primary",!r),i.classList.add("timepicker-dial-out"),e(a).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){e(i).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(t){var n=this.currentView,r=this[n],a="hours"===n,i=r*(Math.PI/(a?6:30)),o=a&&r>0&&r<13?this.options.innerRadius:this.options.outerRadius,s=Math.sin(i)*o,u=-Math.cos(i)*o,c=this;t?(e(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){e(c.canvas).removeClass("timepicker-canvas-out"),c.setHand(s,u)},t)):this.setHand(s,u)}},{key:"setHand",value:function(e,t,n){var a=this,i=Math.atan2(e,-t),o="hours"===this.currentView,s=Math.PI/(o||n?6:30),u=Math.sqrt(e*e+t*t),c=o&&u<(this.options.outerRadius+this.options.innerRadius)/2,l=c?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(l=this.options.outerRadius),i<0&&(i=2*Math.PI+i);var d=Math.round(i/s);i=d*s,this.options.twelveHour?o?0===d&&(d=12):(n&&(d*=5),60===d&&(d=0)):o?(12===d&&(d=0),d=c?0===d?12:d:0===d?0:d+12):(n&&(d*=5),60===d&&(d=0)),this[this.currentView]!==d&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){a.vibrateTimer=null},100))),this[this.currentView]=d,o?this.spanHours.innerHTML=d:this.spanMinutes.innerHTML=r._addLeadingZero(d);var p=Math.sin(i)*(l-this.options.tickRadius),h=-Math.cos(i)*(l-this.options.tickRadius),f=Math.sin(i)*l,m=-Math.cos(i)*l;this.hand.setAttribute("x2",p),this.hand.setAttribute("y2",h),this.bg.setAttribute("cx",f),this.bg.setAttribute("cy",m)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(e,t){var n=this.el.value,a=t?"":r._addLeadingZero(this.hours)+":"+r._addLeadingZero(this.minutes);this.time=a,!t&&this.options.twelveHour&&(a=a+" "+this.amOrPm),this.el.value=a,a!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"_addLeadingZero",value:function(e){return(e<10?"0":"")+e}},{key:"_createSVGEl",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},{key:"_Pos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:{x:e.clientX,y:e.clientY}}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Timepicker}},{key:"defaults",get:function(){return t}}]),r}();n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(e){"use strict";var t={},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return a.el.M_CharacterCounter=a,a.options=e.extend({},r.defaults,n),a.isInvalid=!1,a.isValidLength=!1,a._setupCounter(),a._setupEventHandlers(),a}return s(r,c),i(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),e(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){e(this.counterEl).remove()}},{key:"updateCounter",value:function(){var t=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=t;var r=n;t&&(r+="/"+t,this._validateInput()),e(this.counterEl).html(r)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_CharacterCounter}},{key:"defaults",get:function(){return t}}]),r}();M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(e){"use strict";var t={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return a.el.M_Carousel=a,a.options=e.extend({},r.defaults,n),a.hasMultipleSlides=a.$el.find(".carousel-item").length>1,a.showIndicators=a.options.indicators&&a.hasMultipleSlides,a.noWrap=a.options.noWrap||!a.hasMultipleSlides,a.pressed=!1,a.dragged=!1,a.offset=a.target=0,a.images=[],a.itemWidth=a.$el.find(".carousel-item").first().innerWidth(),a.itemHeight=a.$el.find(".carousel-item").first().innerHeight(),a.dim=2*a.itemWidth+a.options.padding||1,a._autoScrollBound=a._autoScroll.bind(a),a._trackBound=a._track.bind(a),a.options.fullWidth&&(a.options.dist=0,a._setCarouselHeight(),a.showIndicators&&a.$el.find(".carousel-fixed-item").addClass("with-indicators")),a.$indicators=e('<ul class="indicators"></ul>'),a.$el.find(".carousel-item").each(function(t,n){if(a.images.push(t),a.showIndicators){var r=e('<li class="indicator-item"></li>');0===n&&r[0].classList.add("active"),a.$indicators.append(r)}}),a.showIndicators&&a.$el.append(a.$indicators),a.count=a.images.length,a.options.numVisible=Math.min(a.count,a.options.numVisible),a.xform="transform",["webkit","Moz","O","ms"].every(function(e){var t=e+"Transform";return"undefined"===typeof document.body.style[t]||(a.xform=t,!1)}),a._setupEventHandlers(),a._scroll(a.offset),a}return s(r,c),i(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),"undefined"!==typeof window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(t,n){t.addEventListener("click",e._handleIndicatorClickBound)}));var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var e=this;"undefined"!==typeof window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(t,n){t.removeEventListener("click",e._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(t){"mousedown"===t.type&&e(t.target).is("img")&&t.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(t),this.referenceY=this._ypos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(e){var t=void 0,n=void 0,r=void 0;if(this.pressed)if(t=this._xpos(e),n=this._ypos(e),r=this.reference-t,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(r>2||r<-2)&&(this.dragged=!0,this.reference=t,this._scroll(this.offset+r));else{if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(e){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(t){if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;if(!this.options.fullWidth){var n=e(t.target).closest(".carousel-item").index();0!==this._wrap(this.center)-n&&(t.preventDefault(),t.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(t){t.stopPropagation();var n=e(t.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(e){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(e){var t=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),r=n.find("img").first();if(r.length)if(r[0].complete){var a=r.height();if(a>0)this.$el.css("height",a+"px");else{var i=r[0].naturalWidth,o=r[0].naturalHeight,s=this.$el.width()/i*o;this.$el.css("height",s+"px")}}else r.one("load",function(e,n){t.$el.css("height",e.offsetHeight+"px")});else if(!e){var u=n.height();this.$el.css("height",u+"px")}}},{key:"_xpos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"_ypos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}},{key:"_wrap",value:function(e){return e>=this.count?e%this.count:e<0?this._wrap(this.count+e%this.count):e}},{key:"_track",value:function(){var e,t,n,r;t=(e=Date.now())-this.timestamp,this.timestamp=e,n=this.offset-this.frame,this.frame=this.offset,r=1e3*n/(1+t),this.velocity=.8*r+.2*this.velocity}},{key:"_autoScroll",value:function(){var e=void 0,t=void 0;this.amplitude&&(e=Date.now()-this.timestamp,(t=this.amplitude*Math.exp(-e/this.options.duration))>2||t<-2?(this._scroll(this.target-t),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(t){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){n.$el.removeClass("scrolling")},this.options.duration);var r,a,i,o,s=void 0,u=void 0,c=void 0,l=void 0,d=void 0,p=void 0,h=this.center,f=1/this.options.numVisible;if(this.offset="number"===typeof t?t:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),o=-(i=(a=this.offset-this.center*this.dim)<0?1:-1)*a*2/this.dim,r=this.count>>1,this.options.fullWidth?(c="translateX(0)",p=1):(c="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",c+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",p=1-f*o),this.showIndicators){var m=this.center%this.count,v=this.$indicators.find(".indicator-item.active");v.index()!==m&&(v.removeClass("active"),this.$indicators.find(".indicator-item").eq(m)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)],e(u).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),u.classList.add("active"));var g=c+" translateX("+-a/2+"px) translateX("+i*this.options.shift*o*s+"px) translateZ("+this.options.dist*o+"px)";this._updateItemStyle(u,p,0,g)}for(s=1;s<=r;++s){if(this.options.fullWidth?(l=this.options.dist,d=s===r&&a<0?1-o:1):(l=this.options.dist*(2*s+o*i),d=1-f*(2*s+o*i)),!this.noWrap||this.center+s<this.count){u=this.images[this._wrap(this.center+s)];var A=c+" translateX("+(this.options.shift+(this.dim*s-a)/2)+"px) translateZ("+l+"px)";this._updateItemStyle(u,d,-s,A)}if(this.options.fullWidth?(l=this.options.dist,d=s===r&&a>0?1-o:1):(l=this.options.dist*(2*s-o*i),d=1-f*(2*s-o*i)),!this.noWrap||this.center-s>=0){u=this.images[this._wrap(this.center-s)];var y=c+" translateX("+(-this.options.shift+(-this.dim*s-a)/2)+"px) translateZ("+l+"px)";this._updateItemStyle(u,d,-s,y)}}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)];var b=c+" translateX("+-a/2+"px) translateX("+i*this.options.shift*o+"px) translateZ("+this.options.dist*o+"px)";this._updateItemStyle(u,p,0,b)}var x=this.$el.find(".carousel-item").eq(this._wrap(this.center));h!==this.center&&"function"===typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,x[0],this.dragged),"function"===typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,x[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(e,t,n,r){e.style[this.xform]=r,e.style.zIndex=n,e.style.opacity=t,e.style.visibility="visible"}},{key:"_cycleTo",value:function(e,t){var n=this.center%this.count-e;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):n>0&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):n>0&&(this.target-=this.dim*n),"function"===typeof t&&(this.oneTimeCallback=t),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center+e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"prev",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center-e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"set",value:function(e,t){if((void 0===e||isNaN(e))&&(e=0),e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e,t)}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Carousel}},{key:"defaults",get:function(){return t}}]),r}();M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(e){"use strict";var t={onOpen:void 0,onClose:void 0},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return a.el.M_TapTarget=a,a.options=e.extend({},r.defaults,n),a.isOpen=!1,a.$origin=e("#"+a.$el.attr("data-target")),a._setup(),a._calculatePositioning(),a._setupEventHandlers(),a}return s(r,c),i(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(e){this.open()}},{key:"_handleOriginClick",value:function(e){this.close()}},{key:"_handleResize",value:function(e){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(".tap-target-wrapper").length||(this.close(),t.preventDefault(),t.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=e(this.wrapper).find(".tap-target-wave")[0],this.originEl=e(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],e(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(e(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var t="fixed"===this.$origin.css("position");if(!t)for(var n=this.$origin.parents(),r=0;r<n.length&&!(t="fixed"==e(n[r]).css("position"));r++);var a=this.$origin.outerWidth(),i=this.$origin.outerHeight(),o=t?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,s=t?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,u=window.innerWidth,c=window.innerHeight,l=u/2,d=c/2,p=s<=l,h=s>l,f=o<=d,m=o>d,v=s>=.25*u&&s<=.75*u,g=this.$el.outerWidth(),A=this.$el.outerHeight(),y=o+i/2-A/2,b=s+a/2-g/2,x=t?"fixed":"absolute",w=v?g:g/2+a,_=A/2,k=f?A/2:0,O=p&&!v?g/2-a:0,E=a,S=m?"bottom":"top",C=2*a,T=C,I=A/2-T/2,j=g/2-C/2,N={};N.top=f?y+"px":"",N.right=h?u-b-g+"px":"",N.bottom=m?c-y-A+"px":"",N.left=p?b+"px":"",N.position=x,e(this.wrapper).css(N),e(this.contentEl).css({width:w+"px",height:_+"px",top:k+"px",right:"0px",bottom:"0px",left:O+"px",padding:E+"px",verticalAlign:S}),e(this.waveEl).css({top:I+"px",left:j+"px",width:C+"px",height:T+"px"})}},{key:"open",value:function(){this.isOpen||("function"===typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"===typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_TapTarget}},{key:"defaults",get:function(){return t}}]),r}();M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(e){"use strict";var t={classes:"",dropdownOptions:{}},n=function(n){function r(t,n){u(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return a.$el.hasClass("browser-default")?o(a):(a.el.M_FormSelect=a,a.options=e.extend({},r.defaults,n),a.isMultiple=a.$el.prop("multiple"),a.el.tabIndex=-1,a._keysSelected={},a._valueDict={},a._setupDropdown(),a._setupEventHandlers(),a)}return s(r,c),i(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),e(this.dropdownOptions).find("li:not(.optgroup)").each(function(e){e.addEventListener("click",t._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var t=this;e(this.dropdownOptions).find("li:not(.optgroup)").each(function(e){e.removeEventListener("click",t._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(e){this._setValueToInput()}},{key:"_handleOptionClick",value:function(t){t.preventDefault();var n=e(t.target).closest("li")[0],r=n.id;if(!e(n).hasClass("disabled")&&!e(n).hasClass("optgroup")&&r.length){var a=!0;if(this.isMultiple){var i=e(this.dropdownOptions).find("li.disabled.selected");i.length&&(i.removeClass("selected"),i.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(i[0].id)),a=this._toggleEntryFromArray(r)}else e(this.dropdownOptions).find("li").removeClass("selected"),e(n).toggleClass("selected",a);e(this._valueDict[r].el).prop("selected")!==a&&(e(this._valueDict[r].el).prop("selected",a),this.$el.trigger("change"))}t.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var t=this;this.wrapper=document.createElement("div"),e(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(e(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),e(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(n){if(e(n).is("option")){var r=void 0;r=t.isMultiple?t._appendOptionWithIcon(t.$el,n,"multiple"):t._appendOptionWithIcon(t.$el,n),t._addOptionToValueDict(n,r)}else if(e(n).is("optgroup")){var a=e(n).children("option");e(t.dropdownOptions).append(e('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),a.each(function(e){var n=t._appendOptionWithIcon(t.$el,e,"optgroup-option");t._addOptionToValueDict(e,n)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),e(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&e(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=e('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var r=e.extend({},this.options.dropdownOptions);r.onOpenEnd=function(n){var r=e(t.dropdownOptions).find(".selected").first();if(r.length&&(M.keyDown=!0,t.dropdown.focusedIndex=r.index(),t.dropdown._focusFocusedItem(),M.keyDown=!1,t.dropdown.isScrollable)){var a=r[0].getBoundingClientRect().top-t.dropdownOptions.getBoundingClientRect().top;a-=t.dropdownOptions.clientHeight/2,t.dropdownOptions.scrollTop=a}},this.isMultiple&&(r.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,r)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(e,t){var n=Object.keys(this._valueDict).length,r=this.dropdownOptions.id+n,a={};t.id=r,a.el=e,a.optionEl=t,this._valueDict[r]=a}},{key:"_removeDropdown",value:function(){e(this.wrapper).find(".caret").remove(),e(this.input).remove(),e(this.dropdownOptions).remove(),e(this.wrapper).before(this.$el),e(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(t,n,r){var a=n.disabled?"disabled ":"",i="optgroup-option"===r?"optgroup-option ":"",o=this.isMultiple?'<label><input type="checkbox"'+a+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,s=e("<li></li>"),u=e("<span></span>");u.html(o),s.addClass(a+" "+i),s.append(u);var c=n.getAttribute("data-icon");if(c){var l=e('<img alt="" src="'+c+'">');s.prepend(l)}return e(this.dropdownOptions).append(s[0]),s[0]}},{key:"_toggleEntryFromArray",value:function(t){var n=!this._keysSelected.hasOwnProperty(t),r=e(this._valueDict[t].optionEl);return n?this._keysSelected[t]=!0:delete this._keysSelected[t],r.toggleClass("selected",n),r.find('input[type="checkbox"]').prop("checked",n),r.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var t=[];if(this.$el.find("option").each(function(n){if(e(n).prop("selected")){var r=e(n).text();t.push(r)}}),!t.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&t.push(n.text())}this.input.value=t.join(", ")}},{key:"_setSelectedStates",value:function(){for(var t in this._keysSelected={},this._valueDict){var n=this._valueDict[t],r=e(n.el).prop("selected");e(n.optionEl).find('input[type="checkbox"]').prop("checked",r),r?(this._activateOption(e(this.dropdownOptions),e(n.optionEl)),this._keysSelected[t]=!0):e(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(t,n){n&&(this.isMultiple||t.find("li.selected").removeClass("selected"),e(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var e=[];for(var t in this._keysSelected)e.push(this._valueDict[t].el.value);return e}}],[{key:"init",value:function(e,t){return a(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FormSelect}},{key:"defaults",get:function(){return t}}]),r}();M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(e,t){"use strict";var n={},r=function(r){function l(t,n){u(this,l);var r=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return r.el.M_Range=r,r.options=e.extend({},l.defaults,n),r._mousedown=!1,r._setupThumb(),r._setupEventHandlers(),r}return s(l,c),i(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){e(this.value).html(this.$el.val()),e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(t){if(e(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),e(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==t.type){var n=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px"),e(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";e(this.thumb).hasClass("active")&&(t.remove(this.thumb),t({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),e(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),e(this.thumb).addClass("thumb"),e(this.value).addClass("value"),e(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){e(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(e(this.thumb).parent().css("padding-left"))+"px";t.remove(this.thumb),t({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var e=this.$el.width()-15,t=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(t-n)*e}}],[{key:"init",value:function(e,t){return a(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Range}},{key:"defaults",get:function(){return n}}]),l}();M.Range=r,M.jQueryLoaded&&M.initializeJqueryWrapper(r,"range","M_Range"),r.init(e("input[type=range]"))}(cash,M.anime)}).call(this,n(91))},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(45),o=n.n(i),s=n(15),u=n.n(s),c=n(1),l=n.n(c),d=n(14),p=n(94),h=n(22),f=n(726),m=l.a.forwardRef(function(e,t){var n=e.autoFocus,r=e.checked,i=e.checkedIcon,s=e.classes,c=e.className,p=e.defaultChecked,h=e.disabled,m=e.icon,v=e.id,g=e.inputProps,A=e.inputRef,y=e.muiFormControl,b=e.name,x=e.onBlur,w=e.onChange,_=e.onFocus,k=e.readOnly,O=e.required,E=e.tabIndex,S=e.type,C=e.value,T=u()(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","muiFormControl","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),I=l.a.useRef(null!=r).current,j=l.a.useState(Boolean(p)),M=o()(j,2),N=M[0],D=M[1],R=h;y&&"undefined"===typeof R&&(R=y.disabled);var P=I?r:N,L="checkbox"===S||"radio"===S;return l.a.createElement(f.a,a()({component:"span",className:Object(d.a)(s.root,c,P&&s.checked,R&&s.disabled),disabled:R,tabIndex:null,role:void 0,onFocus:function(e){_&&_(e),y&&y.onFocus&&y.onFocus(e)},onBlur:function(e){x&&x(e),y&&y.onBlur&&y.onBlur(e)},ref:t},T),P?i:m,l.a.createElement("input",a()({autoFocus:n,checked:r,defaultChecked:p,className:s.input,disabled:R,id:L&&v,name:b,onChange:function(e){var t=e.target.checked;I||D(t),w&&w(e,t)},readOnly:k,ref:A,required:O,tabIndex:E,type:S,value:C},g)))});t.a=Object(h.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}},{name:"PrivateSwitchBase"})(Object(p.a)(m))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(46),a=n(32),i=n(132);function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),o=n.getUTCFullYear(),s=t||{},u=s.locale,c=u&&u.options&&u.options.firstWeekContainsDate,l=null==c?1:Object(r.a)(c),d=null==s.firstWeekContainsDate?l:Object(r.a)(s.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(o+1,0,d),p.setUTCHours(0,0,0,0);var h=Object(i.a)(p,t),f=new Date(0);f.setUTCFullYear(o,0,d),f.setUTCHours(0,0,0,0);var m=Object(i.a)(f,t);return n.getTime()>=h.getTime()?o+1:n.getTime()>=m.getTime()?o:o-1}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),a=n(4),i=n(20),o=n(43),s=n(8),u=n(19);var c=Object(s.b)({conv2DBackpropInput_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=arguments.length>6?arguments[6]:void 0;i.c(e.length===t.rank,function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")});var p=e,h=t,f=!1;3===t.rank&&(f=!0,h=Object(u.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),p=[1,e[0],e[1],e[2]]),i.c(4===p.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(p.length,".")}),i.c(4===h.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(h.rank)}),i.c(4===n.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)});var m="NHWC"===l?p[3]:p[1],v="NHWC"===l?h.shape[3]:h.shape[1];i.c(m===n.shape[2],function(){return"Error in conv2dDerInput: depth of input (".concat(m,") must ")+"match input depth for filter ".concat(n.shape[2],".")}),i.c(v===n.shape[3],function(){return"Error in conv2dDerInput: depth of output (".concat(v,") must ")+"match output depth for filter ".concat(n.shape[3],".")}),o.a("conv2dDerInput",c,d);var g={dy:h,filter:n},A={strides:s,pad:c,dataFormat:l,dimRoundingMode:d,inputShape:p},y=r.a.runKernel(a.G,g,A);return f?Object(u.a)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}})},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});n(7),n(16);var r=n(10),a=(n(3),n(24),n(20),.001),i=.1;function o(){return 32===r.a.backend.floatPrecision()?a:i}function s(e,t,n){if(null==n&&(n=o()),!u(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t));"undefined"!==typeof expect&&expect().nothing()}function u(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),a=n(4),i=n(20),o=n(43),s=n(8),u=n(19);var c=Object(s.b)({conv2DBackpropFilter_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=arguments.length>6?arguments[6]:void 0,p=e;3===e.rank&&(p=Object(u.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var h=t;3===h.rank&&(h=Object(u.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),i.c(4===p.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(p.shape,".")}),i.c(4===h.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(h.shape,".")}),i.c(4===n.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")});var f="NHWC"===l?p.shape[3]:p.shape[1],m="NHWC"===l?h.shape[3]:h.shape[1];i.c(f===n[2],function(){return"Error in conv2dDerFilter: depth of input ".concat(f,") must ")+"match input depth in filter (".concat(n[2],".")}),i.c(m===n[3],function(){return"Error in conv2dDerFilter: depth of dy (".concat(m,") must ")+"match output depth for filter (".concat(n[3],").")}),o.a("conv2dDerFilter",c,d);var v={x:p,dy:h},g={strides:s,pad:c,dataFormat:l,dimRoundingMode:d,filterShape:n};return r.a.runKernel(a.F,v,g)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(9),a=n.n(r),i=n(1),o=n.n(i),s=n(85),u=n.n(s);function c(e){var t=o.a.forwardRef(function(t,n){return o.a.createElement(e,a()({},t,{innerRef:n}))});return u()(t,e)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"inputLayer",function(){return pl}),n.d(r,"elu",function(){return hl}),n.d(r,"reLU",function(){return fl}),n.d(r,"leakyReLU",function(){return ml}),n.d(r,"prelu",function(){return vl}),n.d(r,"softmax",function(){return gl}),n.d(r,"thresholdedReLU",function(){return Al}),n.d(r,"conv1d",function(){return yl}),n.d(r,"conv2d",function(){return bl}),n.d(r,"conv2dTranspose",function(){return xl}),n.d(r,"conv3d",function(){return wl}),n.d(r,"conv3dTranspose",function(){return _l}),n.d(r,"separableConv2d",function(){return kl}),n.d(r,"cropping2D",function(){return Ol}),n.d(r,"upSampling2d",function(){return El}),n.d(r,"depthwiseConv2d",function(){return Sl}),n.d(r,"activation",function(){return Cl}),n.d(r,"dense",function(){return Tl}),n.d(r,"dropout",function(){return Il}),n.d(r,"spatialDropout1d",function(){return jl}),n.d(r,"flatten",function(){return Ml}),n.d(r,"repeatVector",function(){return Nl}),n.d(r,"reshape",function(){return Dl}),n.d(r,"permute",function(){return Rl}),n.d(r,"embedding",function(){return Pl}),n.d(r,"add",function(){return Ll}),n.d(r,"average",function(){return Fl}),n.d(r,"concatenate",function(){return Bl}),n.d(r,"maximum",function(){return zl}),n.d(r,"minimum",function(){return Ul}),n.d(r,"multiply",function(){return Vl}),n.d(r,"dot",function(){return Wl}),n.d(r,"batchNormalization",function(){return Gl}),n.d(r,"layerNormalization",function(){return Hl}),n.d(r,"zeroPadding2d",function(){return ql}),n.d(r,"averagePooling1d",function(){return Kl}),n.d(r,"avgPool1d",function(){return Xl}),n.d(r,"avgPooling1d",function(){return Ql}),n.d(r,"averagePooling2d",function(){return Yl}),n.d(r,"avgPool2d",function(){return $l}),n.d(r,"avgPooling2d",function(){return Zl}),n.d(r,"averagePooling3d",function(){return Jl}),n.d(r,"avgPool3d",function(){return ed}),n.d(r,"avgPooling3d",function(){return td}),n.d(r,"globalAveragePooling1d",function(){return nd}),n.d(r,"globalAveragePooling2d",function(){return rd}),n.d(r,"globalMaxPooling1d",function(){return ad}),n.d(r,"globalMaxPooling2d",function(){return id}),n.d(r,"maxPooling1d",function(){return od}),n.d(r,"maxPooling2d",function(){return sd}),n.d(r,"maxPooling3d",function(){return ud}),n.d(r,"gru",function(){return cd}),n.d(r,"gruCell",function(){return ld}),n.d(r,"lstm",function(){return dd}),n.d(r,"lstmCell",function(){return pd}),n.d(r,"simpleRNN",function(){return hd}),n.d(r,"simpleRNNCell",function(){return fd}),n.d(r,"convLstm2d",function(){return md}),n.d(r,"convLstm2dCell",function(){return vd}),n.d(r,"rnn",function(){return gd}),n.d(r,"stackedRNNCells",function(){return Ad}),n.d(r,"bidirectional",function(){return yd}),n.d(r,"timeDistributed",function(){return bd}),n.d(r,"globalMaxPool1d",function(){return xd}),n.d(r,"globalMaxPool2d",function(){return wd}),n.d(r,"maxPool1d",function(){return _d}),n.d(r,"maxPool2d",function(){return kd}),n.d(r,"Layer",function(){return to}),n.d(r,"RNN",function(){return Ku}),n.d(r,"RNNCell",function(){return Xu}),n.d(r,"input",function(){return qs}),n.d(r,"gaussianNoise",function(){return Od}),n.d(r,"gaussianDropout",function(){return Ed}),n.d(r,"alphaDropout",function(){return Sd}),n.d(r,"masking",function(){return Cd}),n.d(r,"rescaling",function(){return Td}),n.d(r,"centerCrop",function(){return Id}),n.d(r,"resizing",function(){return jd}),n.d(r,"categoryEncoding",function(){return Md}),n.d(r,"randomWidth",function(){return Nd});var a={};n.r(a),n.d(a,"abs",function(){return Dd.b}),n.d(a,"acos",function(){return Dd.c}),n.d(a,"acosh",function(){return Dd.d}),n.d(a,"add",function(){return Dd.e}),n.d(a,"addN",function(){return Dd.f}),n.d(a,"all",function(){return Dd.g}),n.d(a,"any",function(){return Dd.h}),n.d(a,"argMax",function(){return Dd.i}),n.d(a,"argMin",function(){return Dd.j}),n.d(a,"asin",function(){return Dd.k}),n.d(a,"asinh",function(){return Dd.l}),n.d(a,"atan",function(){return Dd.m}),n.d(a,"atan2",function(){return Dd.n}),n.d(a,"atanh",function(){return Dd.o}),n.d(a,"avgPool",function(){return Dd.p}),n.d(a,"avgPool3d",function(){return Dd.q}),n.d(a,"basicLSTMCell",function(){return Dd.r}),n.d(a,"batchToSpaceND",function(){return Dd.w}),n.d(a,"batchNorm",function(){return Dd.s}),n.d(a,"batchNorm2d",function(){return Dd.t}),n.d(a,"batchNorm3d",function(){return Dd.u}),n.d(a,"batchNorm4d",function(){return Dd.v}),n.d(a,"bincount",function(){return Dd.x}),n.d(a,"bitwiseAnd",function(){return Dd.y}),n.d(a,"broadcastArgs",function(){return Dd.A}),n.d(a,"broadcastTo",function(){return Dd.B}),n.d(a,"buffer",function(){return Dd.C}),n.d(a,"cast",function(){return Dd.D}),n.d(a,"ceil",function(){return Dd.E}),n.d(a,"clipByValue",function(){return Dd.F}),n.d(a,"clone",function(){return Dd.G}),n.d(a,"complex",function(){return Dd.H}),n.d(a,"concat",function(){return Dd.I}),n.d(a,"concat1d",function(){return Dd.J}),n.d(a,"concat2d",function(){return Dd.K}),n.d(a,"concat3d",function(){return Dd.L}),n.d(a,"concat4d",function(){return Dd.M}),n.d(a,"conv1d",function(){return Dd.N}),n.d(a,"conv2d",function(){return Dd.O}),n.d(a,"conv2dTranspose",function(){return Dd.P}),n.d(a,"conv3d",function(){return Dd.Q}),n.d(a,"conv3dTranspose",function(){return Dd.R}),n.d(a,"cos",function(){return Dd.S}),n.d(a,"cosh",function(){return Dd.T}),n.d(a,"cumprod",function(){return Dd.V}),n.d(a,"cumsum",function(){return Dd.W}),n.d(a,"denseBincount",function(){return Dd.X}),n.d(a,"depthToSpace",function(){return Dd.Y}),n.d(a,"depthwiseConv2d",function(){return Dd.Z}),n.d(a,"diag",function(){return Dd.ab}),n.d(a,"dilation2d",function(){return Dd.bb}),n.d(a,"div",function(){return Dd.cb}),n.d(a,"divNoNan",function(){return Dd.db}),n.d(a,"dot",function(){return Dd.eb}),n.d(a,"einsum",function(){return Dd.gb}),n.d(a,"elu",function(){return Dd.hb}),n.d(a,"ensureShape",function(){return Dd.jb}),n.d(a,"equal",function(){return Dd.kb}),n.d(a,"erf",function(){return Dd.lb}),n.d(a,"euclideanNorm",function(){return Dd.mb}),n.d(a,"exp",function(){return Dd.nb}),n.d(a,"expandDims",function(){return Dd.ob}),n.d(a,"expm1",function(){return Dd.pb}),n.d(a,"eye",function(){return Dd.qb}),n.d(a,"fill",function(){return Dd.sb}),n.d(a,"floor",function(){return Dd.tb}),n.d(a,"floorDiv",function(){return Dd.ub}),n.d(a,"gather",function(){return Dd.wb}),n.d(a,"greater",function(){return Dd.yb}),n.d(a,"greaterEqual",function(){return Dd.zb}),n.d(a,"imag",function(){return Dd.Bb}),n.d(a,"isFinite",function(){return Dd.Fb}),n.d(a,"isInf",function(){return Dd.Gb}),n.d(a,"isNaN",function(){return Dd.Hb}),n.d(a,"leakyRelu",function(){return Dd.Ib}),n.d(a,"less",function(){return Dd.Jb}),n.d(a,"lessEqual",function(){return Dd.Kb}),n.d(a,"linspace",function(){return Dd.Mb}),n.d(a,"localResponseNormalization",function(){return Dd.Nb}),n.d(a,"log",function(){return Dd.Ob}),n.d(a,"log1p",function(){return Dd.Pb}),n.d(a,"logSigmoid",function(){return Dd.Qb}),n.d(a,"logSoftmax",function(){return Dd.Rb}),n.d(a,"logSumExp",function(){return Dd.Sb}),n.d(a,"logicalAnd",function(){return Dd.Tb}),n.d(a,"logicalNot",function(){return Dd.Ub}),n.d(a,"logicalOr",function(){return Dd.Vb}),n.d(a,"logicalXor",function(){return Dd.Wb}),n.d(a,"lowerBound",function(){return Dd.Yb}),n.d(a,"matMul",function(){return Dd.Zb}),n.d(a,"max",function(){return Dd.ac}),n.d(a,"maxPool",function(){return Dd.bc}),n.d(a,"maxPool3d",function(){return Dd.cc}),n.d(a,"maxPoolWithArgmax",function(){return Dd.dc}),n.d(a,"maximum",function(){return Dd.ec}),n.d(a,"mean",function(){return Dd.fc}),n.d(a,"meshgrid",function(){return Dd.gc}),n.d(a,"min",function(){return Dd.hc}),n.d(a,"minimum",function(){return Dd.ic}),n.d(a,"mirrorPad",function(){return Dd.jc}),n.d(a,"mod",function(){return Dd.kc}),n.d(a,"moments",function(){return Dd.lc}),n.d(a,"mul",function(){return Dd.nc}),n.d(a,"multiRNNCell",function(){return Dd.oc}),n.d(a,"multinomial",function(){return Dd.pc}),n.d(a,"neg",function(){return Dd.qc}),n.d(a,"notEqual",function(){return Dd.sc}),n.d(a,"oneHot",function(){return Dd.tc}),n.d(a,"ones",function(){return Dd.uc}),n.d(a,"onesLike",function(){return Dd.vc}),n.d(a,"outerProduct",function(){return Dd.xc}),n.d(a,"pad",function(){return Dd.yc}),n.d(a,"pad1d",function(){return Dd.zc}),n.d(a,"pad2d",function(){return Dd.Ac}),n.d(a,"pad3d",function(){return Dd.Bc}),n.d(a,"pad4d",function(){return Dd.Cc}),n.d(a,"pool",function(){return Dd.Dc}),n.d(a,"pow",function(){return Dd.Ec}),n.d(a,"prelu",function(){return Dd.Fc}),n.d(a,"print",function(){return Dd.Gc}),n.d(a,"prod",function(){return Dd.Hc}),n.d(a,"raggedGather",function(){return Dd.Ic}),n.d(a,"raggedRange",function(){return Dd.Jc}),n.d(a,"raggedTensorToTensor",function(){return Dd.Kc}),n.d(a,"rand",function(){return Dd.Lc}),n.d(a,"randomGamma",function(){return Dd.Mc}),n.d(a,"randomNormal",function(){return Dd.Nc}),n.d(a,"randomStandardNormal",function(){return Dd.Oc}),n.d(a,"randomUniform",function(){return Dd.Pc}),n.d(a,"randomUniformInt",function(){return Dd.Qc}),n.d(a,"range",function(){return Dd.Rc}),n.d(a,"real",function(){return Dd.Sc}),n.d(a,"reciprocal",function(){return Dd.Tc}),n.d(a,"relu",function(){return Dd.Uc}),n.d(a,"relu6",function(){return Dd.Vc}),n.d(a,"reshape",function(){return Dd.Wc}),n.d(a,"reverse",function(){return Dd.Xc}),n.d(a,"reverse1d",function(){return Dd.Yc}),n.d(a,"reverse2d",function(){return Dd.Zc}),n.d(a,"reverse3d",function(){return Dd.ad}),n.d(a,"reverse4d",function(){return Dd.bd}),n.d(a,"round",function(){return Dd.dd}),n.d(a,"rsqrt",function(){return Dd.ed}),n.d(a,"scalar",function(){return Dd.fd}),n.d(a,"selu",function(){return Dd.id}),n.d(a,"separableConv2d",function(){return Dd.jd}),n.d(a,"setdiff1dAsync",function(){return Dd.kd}),n.d(a,"sigmoid",function(){return Dd.ld}),n.d(a,"sign",function(){return Dd.md}),n.d(a,"sin",function(){return Dd.od}),n.d(a,"sinh",function(){return Dd.pd}),n.d(a,"slice",function(){return Dd.qd}),n.d(a,"slice1d",function(){return Dd.rd}),n.d(a,"slice2d",function(){return Dd.sd}),n.d(a,"slice3d",function(){return Dd.td}),n.d(a,"slice4d",function(){return Dd.ud}),n.d(a,"softmax",function(){return Dd.vd}),n.d(a,"softplus",function(){return Dd.wd}),n.d(a,"spaceToBatchND",function(){return Dd.xd}),n.d(a,"fft",function(){return Dd.rb}),n.d(a,"ifft",function(){return Dd.Ab}),n.d(a,"irfft",function(){return Dd.Eb}),n.d(a,"rfft",function(){return Dd.cd}),n.d(a,"split",function(){return Dd.Bd}),n.d(a,"sqrt",function(){return Dd.Cd}),n.d(a,"square",function(){return Dd.Dd}),n.d(a,"squaredDifference",function(){return Dd.Ed}),n.d(a,"squeeze",function(){return Dd.Fd}),n.d(a,"stack",function(){return Dd.Gd}),n.d(a,"step",function(){return Dd.Hd}),n.d(a,"stridedSlice",function(){return Dd.Id}),n.d(a,"sub",function(){return Dd.Kd}),n.d(a,"sum",function(){return Dd.Ld}),n.d(a,"tan",function(){return Dd.Md}),n.d(a,"tanh",function(){return Dd.Nd}),n.d(a,"tensor",function(){return Dd.Od}),n.d(a,"tensor1d",function(){return Dd.Pd}),n.d(a,"tensor2d",function(){return Dd.Qd}),n.d(a,"tensor3d",function(){return Dd.Rd}),n.d(a,"tensor4d",function(){return Dd.Sd}),n.d(a,"tensor5d",function(){return Dd.Td}),n.d(a,"tensor6d",function(){return Dd.Ud}),n.d(a,"tensorScatterUpdate",function(){return Dd.Vd}),n.d(a,"tile",function(){return Dd.Wd}),n.d(a,"topk",function(){return Dd.Xd}),n.d(a,"truncatedNormal",function(){return Dd.Zd}),n.d(a,"unique",function(){return Dd.ae}),n.d(a,"unsortedSegmentSum",function(){return Dd.be}),n.d(a,"unstack",function(){return Dd.ce}),n.d(a,"upperBound",function(){return Dd.de}),n.d(a,"variable",function(){return Dd.ee}),n.d(a,"where",function(){return Dd.fe}),n.d(a,"whereAsync",function(){return Dd.ge}),n.d(a,"zeros",function(){return Dd.he}),n.d(a,"zerosLike",function(){return Dd.ie}),n.d(a,"op",function(){return Dd.wc}),n.d(a,"OP_SCOPE_SUFFIX",function(){return Dd.a}),n.d(a,"image",function(){return Dd.Cb}),n.d(a,"linalg",function(){return Dd.Lb}),n.d(a,"losses",function(){return Dd.Xb}),n.d(a,"spectral",function(){return Dd.Ad}),n.d(a,"fused",function(){return Dd.vb}),n.d(a,"signal",function(){return Dd.nd}),n.d(a,"sparse",function(){return Dd.yd}),n.d(a,"string",function(){return Dd.Jd}),n.d(a,"booleanMaskAsync",function(){return Dd.z}),n.d(a,"transpose",function(){return Dd.Yd}),n.d(a,"norm",function(){return Dd.rc}),n.d(a,"movingAverage",function(){return Dd.mc}),n.d(a,"scatterND",function(){return Dd.gd}),n.d(a,"searchSorted",function(){return Dd.hd}),n.d(a,"sparseToDense",function(){return Dd.zd}),n.d(a,"gatherND",function(){return Dd.xb}),n.d(a,"dropout",function(){return Dd.fb}),n.d(a,"enclosingPowerOfTwo",function(){return Dd.ib}),n.d(a,"cosineWindow",function(){return Dd.U}),n.d(a,"inTopKAsync",function(){return Dd.Db});var i=n(0),o=n(6),s=n(4),u=n(28),c=n(21),l=n(139),d={kernelName:s.a,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(e,Object(l.a)(Object(u.a)(n,"float32"),-1))}}}},p=n(34),h=n(54),f=n(37),m=n(70),v=n(48),g=n(33),A={kernelName:s.b,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){var t=Object(v.a)(Object(u.a)(n,"float32")),r=Object(m.a)(Object(g.a)(Object(f.a)(1),t));return Object(h.a)(Object(p.a)(e,r))}}}},y={kernelName:s.c,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){var t=Object(m.a)(Object(g.a)(Object(v.a)(Object(u.a)(n,"float32")),1));return Object(p.a)(e,t)}}}},b=n(35),x=n(19),w=n(36),_={kernelName:s.d,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1],i=b.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=e,n=b.getReductionAxes(r.shape,i);return n.length>0&&(t=Object(w.a)(t,n)),Object(x.a)(t,r.shape)},b:function(){var t=e,n=b.getReductionAxes(a.shape,i);return n.length>0&&(t=Object(w.a)(t,n)),Object(x.a)(t,a.shape)}}}},k={kernelName:s.e,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach(function(t,r){n[r]=function(){return e.clone()}}),n}},O=n(41),E={kernelName:s.h,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(O.a)(n)}}}},S={kernelName:s.i,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(O.a)(n)}}}},C={kernelName:s.j,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(p.a)(e,Object(m.a)(Object(g.a)(Object(f.a)(1),Object(v.a)(Object(u.a)(n,"float32")))))}}}},T=n(31),I={kernelName:s.k,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){var t=Object(m.a)(Object(T.a)(Object(f.a)(1),Object(v.a)(Object(u.a)(n,"float32"))));return Object(p.a)(e,t)}}}},j={kernelName:s.m,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(b.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=Object(T.a)(Object(v.a)(r),Object(v.a)(a)),n=Object(c.a)(e,Object(p.a)(a,t)),o=Object(b.getReductionAxes)(r.shape,i);return o.length>0&&(n=Object(w.a)(n,o)),Object(x.a)(n,r.shape)},b:function(){var t=Object(T.a)(Object(v.a)(r),Object(v.a)(a)),n=Object(h.a)(Object(c.a)(e,Object(p.a)(r,t))),o=Object(b.getReductionAxes)(a.shape,i);return o.length>0&&(n=Object(w.a)(n,o)),Object(x.a)(n,a.shape)}}}},M={kernelName:s.l,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(p.a)(e,Object(T.a)(Object(v.a)(Object(u.a)(n,"float32")),1))}}}},N={kernelName:s.n,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(p.a)(e,Object(g.a)(Object(f.a)(1),Object(v.a)(Object(u.a)(n,"float32"))))}}}},D=n(10),R=n(3),P=n(20),L=n(43),F=n(8);var B=Object(F.b)({avgPool3dGrad_:function(e,t,n,r,a,i){var o=Object(R.a)(e,"dy","avgPool3dGrad"),u=Object(R.a)(t,"input","avgPool3dGrad"),c=o,l=u,d=!1;4===u.rank&&(d=!0,c=Object(x.a)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),l=Object(x.a)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),P.c(5===c.rank,function(){return"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(c.rank,".")}),P.c(5===l.rank,function(){return"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(l.rank,".")}),Object(L.a)("avgPool3dGrad",a,i);var p={dy:c,input:l},h={filterSize:n,strides:r,pad:a,dimRoundingMode:i},f=D.a.runKernel(s.q,p,h);return d?Object(x.a)(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}}),z={kernelName:s.p,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.filterSize,i=n.strides,s=n.pad,u=n.dimRoundingMode;return{x:function(){return B(e,r,a,i,s,u)}}}};var U=Object(F.b)({avgPoolGrad_:function(e,t,n,r,a){var i=Object(R.a)(e,"dy","avgPoolGrad"),o=Object(R.a)(t,"input","avgPoolGrad");P.c(o.rank===i.rank,function(){return"Rank of input (".concat(o.rank,") does not match rank of dy (").concat(i.rank,")")});var u=o,c=i,l=!1;3===o.rank&&(l=!0,u=Object(x.a)(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=Object(x.a)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),P.c(4===c.rank,function(){return"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(c.rank,".")}),P.c(4===u.rank,function(){return"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(u.rank,".")});var d={dy:c,input:u},p={filterSize:n,strides:r,pad:a},h=D.a.runKernel(s.r,d,p);return l?Object(x.a)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),V={kernelName:s.o,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.filterSize,i=n.strides,s=n.pad;return{x:function(){return U(e,r,a,i,s)}}}},W=n(50),G={kernelName:s.s,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=Object(o.a)(t,2),a=r[0],i=r[1],s=n.transposeA,u=n.transposeB;return s||u?!s&&u?{a:function(){return Object(W.a)(e,i,!1,!1)},b:function(){return Object(W.a)(e,a,!0,!1)}}:s&&!u?{a:function(){return Object(W.a)(i,e,!1,!0)},b:function(){return Object(W.a)(a,e,!1,!1)}}:{a:function(){return Object(W.a)(i,e,!0,!0)},b:function(){return Object(W.a)(e,a,!0,!0)}}:{a:function(){return Object(W.a)(e,i,!1,!0)},b:function(){return Object(W.a)(a,e,!0,!1)}}}},H=n(172),q={kernelName:s.t,gradFunc:function(e,t,n){var r=n.blockShape,a=n.crops;return{x:function(){return Object(H.a)(e,r,a)}}}},K={kernelName:s.x,gradFunc:function(e,t,n){for(var r=n,a=r.inputShape,i=r.shape,o=Array.from(i),s=a.length-1;s>=0;s--)if(a[s]===i[s])o[s]=1;else if(1!==a[s])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(i,"]."));for(var u=[],c=0;c<o.length;c++)o[c]>1&&u.push(c);return{x:function(){return Object(w.a)(e,u,!0)}}}},X={kernelName:s.y,gradFunc:function(e){return{x:function(){return e.clone()}}}},Q={kernelName:s.z,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},Y=n(120),$=n(106),Z=n(112),J=n(63),ee={kernelName:s.A,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.clipValueMin,i=n.clipValueMax;return{x:function(){return Object(J.a)(Object(Z.a)(Object(Y.a)(r,a),Object($.a)(r,i)),e,Object(O.a)(e))}}}},te={kernelName:s.C,inputsToSave:["x"],gradFunc:d.gradFunc},ne=n(113),re={kernelName:s.D,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map(function(e){return e.shape}),a=n.axis,i=Object(P.I)(a,t[0].shape)[0],o=r.map(function(e){return e[i]});return Object(ne.a)(e,o,i).map(function(e){return function(){return e}})}},ae=n(237),ie=n(235),oe={kernelName:s.E,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=Object(o.a)(t,2),a=r[0],i=r[1],s=n.dilations,u=n.strides,c=n.pad,l=n.dataFormat;return P.c(L.k(s),function(){return"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(s,"'")}),{x:function(){return Object(ie.a)(a.shape,e,i,u,c,l)},filter:function(){return Object(ae.a)(a,e,i.shape,u,c,l)}}}},se=n(119),ue={kernelName:s.G,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=Object(o.a)(t,2),a=r[0],i=r[1],s=n.strides,u=n.pad,c=n.dataFormat,l=n.dimRoundingMode;return{dy:function(){return Object(se.a)(e,i,s,u,c,1,l)},filter:function(){return Object(ae.a)(e,a,i.shape,s,u,c,l)}}}};var ce=Object(F.b)({conv3DBackpropFilter_:function(e,t,n,r,a){var i=e;4===e.rank&&(i=Object(x.a)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var o=t;4===o.rank&&(o=Object(x.a)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),P.c(5===i.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(i.shape,".")}),P.c(5===o.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(o.shape,".")}),P.c(5===n.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")}),P.c(i.shape[4]===n[3],function(){return"Error in conv3dDerFilter: depth of input ".concat(i.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")}),P.c(o.shape[4]===n[4],function(){return"Error in conv3dDerFilter: depth of dy (".concat(o.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")});var u={x:i,dy:o},c={strides:r,pad:a,filterShape:n};return D.a.runKernel(s.I,u,c)}}),le=n(331),de={kernelName:s.H,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad;P.c(Object(L.k)(r),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")});var s=Object(o.a)(t,2),u=s[0],c=s[1];return{x:function(){return Object(le.a)(u.shape,e,c,a,i)},filter:function(){return ce(u,e,c.shape,a,i)}}}},pe=n(297),he={kernelName:s.K,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(Object(h.a)(Object(pe.a)(Object(u.a)(n,"float32"))),e)}}}},fe=n(298),me={kernelName:s.L,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(Object(fe.a)(Object(u.a)(n,"float32")),e)}}}},ve=n(74),ge=n(210),Ae=n(89),ye={kernelName:s.O,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.axis,i=n.exclusive,s=n.reverse;return{x:function(){var t=Object(ve.f)([a],r.rank),n=Object(ge.a)(e,a,i,!s);return null!=t&&(n=Object(Ae.a)(n,t)),n}}}},be=n(336),xe=n(335),we={kernelName:s.R,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad,s=n.dimRoundingMode,u=null==r?[1,1]:r;P.c(L.k(u),function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(u,"'")});var c=Object(o.a)(t,2),l=c[0],d=c[1];return P.c(4===l.rank,function(){return"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,".")}),P.c(4===d.rank,function(){return"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(d.rank,".")}),P.c(l.shape[3]===d.shape[2],function(){return"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(d.shape[2],".")}),P.c(L.i(a,u),function(){return"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(a," and dilations ")+"'".concat(u,"'.")}),L.a("depthwiseConv2d",i,s),{x:function(){return Object(xe.a)(l.shape,e,d,a,i,u,s)},filter:function(){return Object(be.a)(l,e,d.shape,a,i,u,s)}}}},_e={kernelName:s.V,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=Object(o.a)(t,2),a=r[0],i=r[1],u={x:a,filter:i,dy:e},c={x:a,filter:i,dy:e};return{x:function(){return D.a.runKernel(s.X,u,n)},filter:function(){return D.a.runKernel(s.W,c,n)}}}},ke={kernelName:s.ab,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:Object(o.a)(t,1)[0]};return{x:function(){return D.a.runKernel(s.bb,n)}}}},Oe=n(77),Ee={kernelName:s.db,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0],r=Object(c.a)(Object(Oe.a)(Object(h.a)(Object(v.a)(n))),2/Math.sqrt(Math.PI));return{x:function(){return Object(c.a)(e,r)}}}},Se={kernelName:s.eb,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(e,n)}}}},Ce={kernelName:s.fb,inputsToSave:["input"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{input:function(){return Object(x.a)(e,n.shape)}}}},Te={kernelName:s.gb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(e,Object(Oe.a)(n))}}}},Ie={kernelName:s.kb,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},je={kernelName:s.lb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(b.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=Object(p.a)(e,Object(u.a)(a,"float32")),n=Object(b.getReductionAxes)(r.shape,i);return n.length>0?Object(x.a)(Object(w.a)(t,n),r.shape):t},b:function(){var t=Object(c.a)(e,Object(u.a)(r,"float32")),n=Object(b.getReductionAxes)(a.shape,i);n.length>0&&(t=Object(x.a)(Object(w.a)(t,n),a.shape));var o=Object(v.a)(a);return Object(h.a)(Object(p.a)(t,Object(u.a)(o,"float32")))}}}},Me=n(294),Ne=n(125),De={kernelName:s.nb,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,a=Object(o.a)(t,4),i=a[0],s=a[1],u=a[2],l=a[3],d=null==l?Object(f.a)(1):l,p=Object(b.getReductionAxes)(s.shape,i.shape),h=[];if(1===s.rank){for(var m=0;m<i.shape.length-1;++m)h.push(i.shape[m]);h.push(1)}var v=Object(g.a)(i,s),A=Object(c.a)(e,d),y=Object(Me.a)(Object(T.a)(u,Object(f.a)(r))),_=Object(c.a)(Object(c.a)(Object(c.a)(y,y),y),Object(f.a)(-.5));return{x:function(){return 1===s.rank?Object(x.a)(Object(c.a)(Object(c.a)(e,Object(Ne.a)(Object(x.a)(y,[1,1,1,s.shape[0]]),h)),d),i.shape):Object(x.a)(Object(c.a)(Object(c.a)(e,y),d),i.shape)},mean:function(){var e=Object(c.a)(Object(c.a)(y,Object(f.a)(-1)),A);return 1===s.rank&&(e=Object(w.a)(e,p)),Object(x.a)(e,s.shape)},variance:function(){var e=Object(c.a)(Object(c.a)(_,v),A);return 1===s.rank&&(e=Object(w.a)(e,p)),Object(x.a)(e,s.shape)},scale:function(){var t=Object(c.a)(v,y),n=Object(c.a)(e,t);return 1===s.rank&&(n=Object(w.a)(n,p)),Object(x.a)(n,s.shape)},offset:function(){var t=e;return 1===s.rank&&(t=Object(w.a)(t,p)),Object(x.a)(t,s.shape)}}}},Re=n(223),Pe={kernelName:s.rb,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=Object(o.a)(t,2),a=r[0],i=r[1],s=n.axis,u=Object(P.I)(s,a.shape)[0];return{x:function(){var t=a.shape,n=i.size,r=t.slice(0,u),o=r.length,c=t.slice(s,t.length).slice(1),l=c.length,d=Le(0,o),p=Le(o+1,o+1+l),h=Fe([r,[n],c]),f=Object(x.a)(e,h),m=Object(x.a)(i,[n]),v=Fe([[o],d,p]),g=Object(Ae.a)(f,v),A=Object(Re.a)(g,m,a.shape[u]),y=Object(ve.h)(v);return A=Object(Ae.a)(A,y)},indices:function(){return i}}}};function Le(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Fe(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Be={kernelName:s.tb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1];return{a:function(){return Object(O.a)(r)},b:function(){return Object(O.a)(a)}}}},ze={kernelName:s.vb,gradFunc:function(e){return{x:function(){return Object(u.a)(e,"float32")}}}},Ue={kernelName:s.xb,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},Ve={kernelName:s.yb,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},We={kernelName:s.zb,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},Ge=n(81),He={kernelName:s.Cb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.alpha,i=Object(Ge.a)(r,0);return{x:function(){return Object(J.a)(i,e,Object(c.a)(e,a))}}}},qe={kernelName:s.Hb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(p.a)(e,Object(T.a)(n,1))}}}},Ke={kernelName:s.Gb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(p.a)(e,Object(u.a)(n,"float32"))}}}},Xe={kernelName:s.Ib,inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.axis;return{logits:function(){var t=Object(Oe.a)(r);return Object(g.a)(e,Object(c.a)(Object(w.a)(e,a,!0),t))}}}};var Qe=Object(F.b)({localResponseNormalizationBackprop_:function(e,t,n){var r={x:e,y:t,dy:n},a={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return D.a.runKernel(s.Bb,r,a)}}),Ye={kernelName:s.Ab,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(o.a)(t,2),a=r[0],i=r[1],s=n.depthRadius,u=n.bias,c=n.alpha,l=n.beta;return{x:function(){return Qe(a,i,e,s,u,c,l)}}}},$e=n(167);function Ze(e,t,n,r){return t.rank<n.rank&&(t=Object(x.a)(t,ve.e(t.shape,r))),e.rank<n.rank&&(e=Object(x.a)(e,ve.e(e.shape,r))),{x:function(){return Object(c.a)(e,Object(u.a)(Object($e.a)(n,t),e.dtype))}}}var Je={kernelName:s.Mb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,a=t[0],i=Ze(e,t[1],a,P.I(r,a.shape));return{x:function(){return i.x()}}}},et=n(153),tt={kernelName:s.Sb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1];return{a:function(){return Object(c.a)(e,Object(u.a)(Object(Y.a)(r,a),"float32"))},b:function(){return Object(c.a)(e,Object(u.a)(Object(et.a)(r,a),"float32"))}}}};var nt=Object(F.b)({maxPool3dGrad_:function(e,t,n,r,a,i,o){var u=Object(R.a)(e,"dy","maxPool3dGrad"),c=Object(R.a)(t,"input","maxPool3dGrad"),l=Object(R.a)(n,"output","maxPool3dGrad"),d=u,p=c,h=l,f=!1;4===c.rank&&(f=!0,d=Object(x.a)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),p=Object(x.a)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),h=Object(x.a)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),P.c(5===d.rank,function(){return"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(d.rank,".")}),P.c(5===p.rank,function(){return"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(p.rank,".")}),P.c(5===h.rank,function(){return"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,".")}),Object(L.a)("maxPool3dGrad",i,o);var m={dy:d,input:p,output:h},v={filterSize:r,strides:a,pad:i,dimRoundingMode:o},g=D.a.runKernel(s.Pb,m,v);return f?Object(x.a)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),rt={kernelName:s.Ob,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(o.a)(t,2),a=r[0],i=r[1],s=n.filterSize,u=n.strides,c=n.pad,l=n.dimRoundingMode;return{x:function(){return nt(e,a,i,s,u,c,l)}}}};var at=Object(F.b)({maxPoolGrad_:function(e,t,n,r,a,i,o){var u=Object(R.a)(e,"dy","maxPoolGrad"),c=Object(R.a)(t,"input","maxPoolGrad"),l=Object(R.a)(n,"output","maxPoolGrad");P.c(c.rank===u.rank,function(){return"Rank of input (".concat(c.rank,") does not match rank of dy ")+"(".concat(u.rank,")")}),P.c(4===u.rank,function(){return"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(u.rank,".")}),P.c(4===c.rank,function(){return"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(c.rank,".")}),L.a("maxPoolGrad",i,o);var d={dy:u,input:c,output:l},p={filterSize:r,strides:a,pad:i,dimRoundingMode:o};return D.a.runKernel(s.Qb,d,p)}}),it={kernelName:s.Nb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(o.a)(t,2),a=r[0],i=r[1],s=n.filterSize,u=n.strides,c=n.pad;return{x:function(){return at(e,a,i,s,u,c)}}}},ot=n(102),st={kernelName:s.Tb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.axis,i=P.I(a,r.shape),s=Object(ve.d)(r.shape,i)[1],u=P.O(s);return{x:function(){var t=r.shape.slice();i.forEach(function(e){t[e]=1});var n=Object(x.a)(e,t);return Object(p.a)(Object(c.a)(n,Object(ot.a)(r.shape,"float32")),u)}}}},ut={kernelName:s.Ub,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,a=Object(o.a)(t,2),i=a[0],s=Ze(e,a[1],i,P.I(r,i.shape));return{x:function(){return s.x()}}}},ct={kernelName:s.Vb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1];return{a:function(){return Object(c.a)(e,Object(u.a)(Object($.a)(r,a),"float32"))},b:function(){return Object(c.a)(e,Object(u.a)(Object(Ge.a)(r,a),"float32"))}}}},lt=n(51),dt={kernelName:s.Wb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map(function(e){return e[0]});return{x:function(){return Object(lt.a)(e,a,r.shape)}}}},pt=n(212),ht={kernelName:s.Xb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(b.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=Object(b.getReductionAxes)(r.shape,i);return t.length>0?Object(x.a)(Object(w.a)(e,t),r.shape):e},b:function(){var t=Object(c.a)(e,Object(h.a)(Object(pt.a)(Object(p.a)(r,a)))),n=Object(b.getReductionAxes)(a.shape,i);return n.length>0?Object(x.a)(Object(w.a)(t,n),a.shape):t}}}},ft={kernelName:s.Zb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(b.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=Object(c.a)(e,Object(u.a)(a,"float32")),n=Object(b.getReductionAxes)(r.shape,i);return n.length>0?Object(x.a)(Object(w.a)(t,n),r.shape):t},b:function(){var t=Object(c.a)(e,Object(u.a)(r,"float32")),n=Object(b.getReductionAxes)(a.shape,i);return n.length>0?Object(x.a)(Object(w.a)(t,n),a.shape):t}}}},mt={kernelName:s.ac,gradFunc:function(e){return{x:function(){return Object(h.a)(e)}}}},vt=n(137),gt={kernelName:s.fc,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return Object(vt.a)(n.shape,"float32")}}}},At={kernelName:s.gc,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},yt=n(140),bt={kernelName:s.hc,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return Object(yt.a)(e,r).map(function(e){return function(){return e}})}},xt={kernelName:s.ic,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map(function(e){return e[0]});return{x:function(){return Object(lt.a)(e,a,r.shape)}}}},wt=n(130),_t=n(101),kt={kernelName:s.jc,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=Object(o.a)(t,3),r=n[0],a=n[1],i=n[2],s=r,l=a,d=b.assertAndGetBroadcastShape(s.shape,l.shape);return{a:function(){var t=Object(u.a)(l,"float32"),n=Object(c.a)(e,Object(c.a)(t,Object(_t.a)(s,Object(g.a)(t,Object(f.a)(1))))),r=b.getReductionAxes(s.shape,d);return r.length>0&&(n=Object(w.a)(n,r)),Object(x.a)(n,s.shape)},b:function(){var t=Object(Ge.a)(s,0),n=Object(J.a)(t,Object(wt.a)(s),Object(O.a)(s)),r=Object(c.a)(e,Object(c.a)(i,n)),a=b.getReductionAxes(l.shape,d);return a.length>0&&(r=Object(w.a)(r,a)),Object(x.a)(r,l.shape)}}}},Ot={kernelName:s.kc,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(Ge.a)(r,0);return{x:function(){return Object(J.a)(i,e,Object(c.a)(e,a))},alpha:function(){var t=Object(J.a)(i,Object(O.a)(e),Object(c.a)(e,r)),n=Object(b.getReductionAxes)(a.shape,e.shape);return n.length>0&&(t=Object(w.a)(t,n)),Object(x.a)(t,a.shape)}}}},Et=n(249),St=n(182);function Ct(e,t,n){var r=e.shape.length,a=r-n.length,i=Et.Ed.getAxesPermutation(n,r),o=e;null!=i&&(o=Object(Ae.a)(e,i));var s=o.shape.slice(),u=s.splice(r-n.length,n.length).reduce(function(e,t){return e*t},1);s.push(u);var l=function(e,t,n){var r=e.shape.slice();r[n]=1;var a=Object(x.a)(t,r),i=Object(St.a)(e,n,!0,!1),o=Object(St.a)(e,n,!0,!0),s=Object(c.a)(i,o);return Object(c.a)(a,s)}(o.reshape(s),t,a);if(l=l.reshape(o.shape),null!=i){var d=Et.Ed.getUndoAxesPermutation(i);l=Object(Ae.a)(l,d)}return l}var Tt={kernelName:s.lc,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.axis,i=[];return i=void 0===a||null===a?r.shape.map(function(e,t){return t}):"number"===typeof a?[a]:a,{x:function(){return Ct(r,e,i)}}}},It={kernelName:s.rc,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1],i=b.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=Object(p.a)(e,Object(u.a)(a,"float32")),n=b.getReductionAxes(r.shape,i);return n.length>0?Object(x.a)(Object(w.a)(t,n),r.shape):t},b:function(){var t=Object(c.a)(e,Object(u.a)(r,"float32")),n=b.getReductionAxes(a.shape,i);n.length>0&&(t=Object(x.a)(Object(w.a)(t,n),a.shape));var o=Object(v.a)(a);return Object(h.a)(Object(p.a)(t,Object(u.a)(o,"float32")))}}}},jt={kernelName:s.sc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(p.a)(e,Object(h.a)(Object(v.a)(n)))}}}},Mt={kernelName:s.uc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0],r=Object(c.a)(Object($.a)(n,6),Object(l.a)(n));return{x:function(){return Object(c.a)(e,Object(u.a)(r,"float32"))}}}},Nt={kernelName:s.tc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(e,Object(u.a)(Object(l.a)(n),"float32"))}}}},Dt={kernelName:s.vc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(x.a)(e,n.shape)}}}},Rt={kernelName:s.wc,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:Object(o.a)(t,1)[0]};return{images:function(){return D.a.runKernel(s.xc,r,n)}}}},Pt={kernelName:s.yc,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:Object(o.a)(t,1)[0]};return{images:function(){return D.a.runKernel(s.zc,r,n)}}}},Lt=n(88),Ft={kernelName:s.Ac,gradFunc:function(e,t,n){var r=n.dims,a=Object(P.I)(r,e.shape);return{x:function(){return Object(Lt.a)(e,a)}}}},Bt={kernelName:s.Cc,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},zt={kernelName:s.Dc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(h.a)(Object(p.a)(e,Object(c.a)(Object(_t.a)(n,1.5),2)))}}}},Ut=n(171),Vt={kernelName:s.Gc,inputsToSave:["condition"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{condition:function(){return Object(u.a)(Object(O.a)(n),"float32")},t:function(){return Object(c.a)(e,Object(u.a)(n,e.dtype))},e:function(){return Object(c.a)(e,Object(u.a)(Object(Ut.a)(n),e.dtype))}}}},Wt=n(248),Gt={kernelName:s.Hc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){var t=Object(Ge.a)(n,Object(f.a)(0)),r=Object(f.a)(Wt.b),a=Object(f.a)(Wt.a),i=Object(c.a)(e,a),o=Object(c.a)(Object(c.a)(e,r),Object(Oe.a)(Object(u.a)(n,"float32")));return Object(J.a)(t,i,o)}}}},Ht={kernelName:s.Ic,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(e,Object(c.a)(n,Object(g.a)(Object(f.a)(1),n)))}}}},qt={kernelName:s.Jc,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},Kt=n(209),Xt={kernelName:s.Kc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(Object(Kt.a)(Object(u.a)(n,"float32")),e)}}}},Qt=n(278),Yt={kernelName:s.Lc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(Object(Qt.a)(Object(u.a)(n,"float32")),e)}}}},$t=n(107),Zt=n(199),Jt={kernelName:s.Mc,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=Object(o.a)(t,1)[0],a=n.begin,i=n.size,s=r.shape,u=Object(Zt.parseSliceParams)(r,a,i),c=Object(o.a)(u,2),l=c[0],d=c[1],p=[],h=0;h<e.rank;h++)p.push([l[h],s[h]-l[h]-d[h]]);return{x:function(){return Object($t.a)(e,p)}}}},en={kernelName:s.Nc,outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.dim,i=Object(c.a)(e,r);return{logits:function(){return Object(g.a)(i,Object(c.a)(Object(w.a)(i,[a],!0),r))}}}},tn=n(123),nn={kernelName:s.Oc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(e,Object(tn.a)(n))}}}},rn=n(165),an={kernelName:s.Pc,gradFunc:function(e,t,n){var r=n.blockShape,a=n.paddings;return{x:function(){return Object(rn.a)(e,r,a)}}}},on=n(62),sn={kernelName:s.Vc,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return Object(on.a)(e,r)}}}},un={kernelName:s.Wc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(p.a)(e,Object(c.a)(Object(m.a)(Object(u.a)(n,"float32")),2))}}}},cn={kernelName:s.Xc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(e,Object(c.a)(Object(u.a)(n,"float32"),2))}}}},ln={kernelName:s.Yc,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(f.a)(2);return{a:function(){return Object(c.a)(e,Object(c.a)(i,Object(g.a)(r,a)))},b:function(){return Object(c.a)(e,Object(c.a)(i,Object(g.a)(a,r)))}}}},dn={kernelName:s.ad,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},pn={kernelName:s.fd,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(o.a)(t,2),r=n[0],a=n[1],i=b.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=e,n=b.getReductionAxes(r.shape,i);return n.length>0&&(t=Object(w.a)(t,n)),Object(x.a)(t,r.shape)},b:function(){var t=e,n=b.getReductionAxes(a.shape,i);return n.length>0&&(t=Object(w.a)(t,n)),Object(x.a)(Object(h.a)(t),a.shape)}}}},hn={kernelName:s.gd,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=r.shape.slice(),i=n.axis;Object(P.I)(i,r.shape).forEach(function(e){a[e]=1});var s=Object(x.a)(e,a),u=Object(c.a)(s,Object(ot.a)(r.shape,"float32"));return{x:function(){return u}}}},fn={kernelName:s.hd,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(p.a)(e,Object(v.a)(Object(Kt.a)(n)))}}}},mn={kernelName:s.id,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return Object(c.a)(Object(g.a)(Object(f.a)(1),Object(v.a)(n)),e)}}}},vn={kernelName:s.kd,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(o.a)(t,1)[0],a=n.reps;return{x:function(){var t=Object(O.a)(r);if(1===r.rank)for(var n=0;n<a[0];++n)t=Object(T.a)(t,Object(lt.a)(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var i=0;i<a[0];++i)for(var o=0;o<a[1];++o)t=Object(T.a)(t,Object(lt.a)(e,[i*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var s=0;s<a[0];++s)for(var u=0;u<a[1];++u)for(var c=0;c<a[2];++c)t=Object(T.a)(t,Object(lt.a)(e,[s*r.shape[0],u*r.shape[1],c*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(var l=0;l<a[0];++l)for(var d=0;d<a[1];++d)for(var p=0;p<a[2];++p)for(var h=0;h<a[3];++h)t=Object(T.a)(t,Object(lt.a)(e,[l*r.shape[0],d*r.shape[1],p*r.shape[2],h*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},gn={kernelName:s.nd,gradFunc:function(e,t,n){var r=n.perm,a=ve.h(r);return{x:function(){return Object(Ae.a)(e,a)}}}},An=n(114),yn={kernelName:s.pd,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return Object(An.a)(e,r)}}}},bn=n(115),xn=n(169),wn=n(163),_n={kernelName:s.qd,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=Object(o.a)(t,1)[0];return{x:function(){return function(e,t){for(var n=Object(wn.a)(t,Object(O.a)(t)),r=Object(xn.a)(e,n),a=Object(Y.a)(t,Object(f.a)(0,"int32")),i=r.rank-a.rank,o=0;o<i;++o)a=Object(bn.a)(a,o+1);a=Object(Z.a)(a,Object(ot.a)(r.shape,"bool"));var s=Object(O.a)(r);return Object(J.a)(a,r,s)}(e,n)}}}};for(var kn={kernelName:s.rd,gradFunc:function(e){return{x:function(){return Object(O.a)(e)}}}},On=n(109),En=0,Sn=[d,A,y,_,k,E,S,C,I,j,M,N,z,V,G,q,K,X,Q,ee,te,re,ue,oe,de,he,me,ye,we,_e,It,ke,Ee,Se,Ce,Te,je,Ie,De,Pe,Be,ze,Ue,Ve,We,He,qe,Ke,Xe,Ye,Je,Je,tt,rt,it,st,ut,ct,dt,ht,ft,mt,gt,At,bt,xt,xt,kt,Ot,Tt,jt,Mt,Nt,Dt,Rt,Pt,Ft,Bt,zt,Vt,Gt,Ht,qt,Xt,Yt,Jt,en,nn,an,an,sn,sn,un,ln,cn,dn,pn,hn,fn,mn,vn,gn,yn,_n,kn];En<Sn.length;En++){var Cn=Sn[En];Object(On.d)(Cn)}var Tn=n(82),In=n(13);Object(In.d)().prototype.abs=function(){return this.throwIfDisposed(),Object(Tn.a)(this)};var jn=n(429);Object(In.d)().prototype.acos=function(){return this.throwIfDisposed(),Object(jn.a)(this)};var Mn=n(430);Object(In.d)().prototype.acosh=function(){return this.throwIfDisposed(),Object(Mn.a)(this)},Object(In.d)().prototype.add=function(e){return this.throwIfDisposed(),Object(T.a)(this,e)};var Nn=n(271);Object(In.d)().prototype.all=function(e,t){return this.throwIfDisposed(),Object(Nn.a)(this,e,t)};var Dn=n(272);Object(In.d)().prototype.any=function(e,t){return this.throwIfDisposed(),Object(Dn.a)(this,e,t)};var Rn=n(273);Object(In.d)().prototype.argMax=function(e){return this.throwIfDisposed(),Object(Rn.a)(this,e)};var Pn=n(274);Object(In.d)().prototype.argMin=function(e){return this.throwIfDisposed(),Object(Pn.a)(this,e)},Object(In.d)().prototype.asScalar=function(){return this.throwIfDisposed(),Object(P.c)(1===this.size,function(){return"The array must have only 1 element."}),Object(x.a)(this,[])},Object(In.d)().prototype.asType=function(e){return this.throwIfDisposed(),Object(u.a)(this,e)},Object(In.d)().prototype.as1D=function(){return this.throwIfDisposed(),Object(x.a)(this,[this.size])},Object(In.d)().prototype.as2D=function(e,t){return this.throwIfDisposed(),Object(x.a)(this,[e,t])},Object(In.d)().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),Object(x.a)(this,[e,t,n])},Object(In.d)().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),Object(x.a)(this,[e,t,n,r])},Object(In.d)().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),Object(x.a)(this,[e,t,n,r,a])};var Ln=n(431);Object(In.d)().prototype.asin=function(){return this.throwIfDisposed(),Object(Ln.a)(this)};var Fn=n(432);Object(In.d)().prototype.asinh=function(){return this.throwIfDisposed(),Object(Fn.a)(this)};var Bn=n(433);Object(In.d)().prototype.atan=function(){return this.throwIfDisposed(),Object(Bn.a)(this)};var zn=n(275);Object(In.d)().prototype.atan2=function(e){return this.throwIfDisposed(),Object(zn.a)(this,e)};var Un=n(434);Object(In.d)().prototype.atanh=function(){return this.throwIfDisposed(),Object(Un.a)(this)};var Vn=n(208);Object(In.d)().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Object(Vn.a)(this,e,t,n,r)},Object(In.d)().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Object(rn.a)(this,e,t)};var Wn=n(141);Object(In.d)().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),Object(Wn.a)(this,e,t,n,r,a)};var Gn=n(175);Object(In.d)().prototype.broadcastTo=function(e){return this.throwIfDisposed(),Object(Gn.a)(this,e)},Object(In.d)().prototype.cast=function(e){return this.throwIfDisposed(),Object(u.a)(this,e)};var Hn=n(435);Object(In.d)().prototype.ceil=function(){return this.throwIfDisposed(),Object(Hn.a)(this)};var qn=n(436);Object(In.d)().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Object(qn.a)(this,e,t)};var Kn=n(25);Object(In.d)().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof In.a&&(e=[e]),Object(on.a)([this].concat(Object(Kn.a)(e)),t)};var Xn=n(276);Object(In.d)().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(Xn.a)(this,e,t,n,r,a,i)};var Qn=n(277);Object(In.d)().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Object(Qn.a)(this,e,t,n,r,a)},Object(In.d)().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(se.a)(this,e,t,n,r,a,i)},Object(In.d)().prototype.cos=function(){return this.throwIfDisposed(),Object(Kt.a)(this)},Object(In.d)().prototype.cosh=function(){return this.throwIfDisposed(),Object(Qt.a)(this)},Object(In.d)().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),Object(St.a)(this,e,t,n)},Object(In.d)().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Object(ge.a)(this,e,t,n)};var Yn=n(279);Object(In.d)().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Object(Yn.a)(this,e,t)};var $n=n(166);Object(In.d)().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object($n.a)(this,e,t,n,r,a,i)};var Zn=n(280);Object(In.d)().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),Object(Zn.a)(this,e,t,n,r,a)};var Jn=n(281);Object(In.d)().prototype.divNoNan=function(e){return this.throwIfDisposed(),Object(Jn.a)(this,e)},Object(In.d)().prototype.div=function(e){return this.throwIfDisposed(),Object(p.a)(this,e)};var er=n(282);Object(In.d)().prototype.dot=function(e){return this.throwIfDisposed(),Object(er.a)(this,e)};var tr=n(211);Object(In.d)().prototype.elu=function(){return this.throwIfDisposed(),Object(tr.a)(this)},Object(In.d)().prototype.equal=function(e){return this.throwIfDisposed(),Object($e.a)(this,e)};var nr=n(437);Object(In.d)().prototype.erf=function(){return this.throwIfDisposed(),Object(nr.a)(this)};var rr=n(283);Object(In.d)().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),Object(rr.a)(this,e,t)},Object(In.d)().prototype.exp=function(){return this.throwIfDisposed(),Object(Oe.a)(this)},Object(In.d)().prototype.expandDims=function(e){return this.throwIfDisposed(),Object(bn.a)(this,e)};var ar=n(438);Object(In.d)().prototype.expm1=function(){return this.throwIfDisposed(),Object(ar.a)(this)};var ir=n(220);Object(In.d)().prototype.fft=function(){return this.throwIfDisposed(),Object(ir.a)(this)},Object(In.d)().prototype.flatten=function(){return this.throwIfDisposed(),Object(x.a)(this,[this.size])},Object(In.d)().prototype.floor=function(){return this.throwIfDisposed(),Object(pt.a)(this)};var or=n(201);Object(In.d)().prototype.floorDiv=function(e){return this.throwIfDisposed(),Object(or.a)(this,e)},Object(In.d)().prototype.gather=function(e,t,n){return this.throwIfDisposed(),Object(xn.a)(this,e,t,n)},Object(In.d)().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Object(Y.a)(this,e)},Object(In.d)().prototype.greater=function(e){return this.throwIfDisposed(),Object(Ge.a)(this,e)};var sr=n(184);Object(In.d)().prototype.ifft=function(){return this.throwIfDisposed(),Object(sr.a)(this)};var ur=n(299);Object(In.d)().prototype.irfft=function(){return this.throwIfDisposed(),Object(ur.a)(this)};var cr=n(439);Object(In.d)().prototype.isFinite=function(){return this.throwIfDisposed(),Object(cr.a)(this)};var lr=n(440);Object(In.d)().prototype.isInf=function(){return this.throwIfDisposed(),Object(lr.a)(this)};var dr=n(441);Object(In.d)().prototype.isNaN=function(){return this.throwIfDisposed(),Object(dr.a)(this)};var pr=n(213);Object(In.d)().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Object(pr.a)(this,e)},Object(In.d)().prototype.lessEqual=function(e){return this.throwIfDisposed(),Object($.a)(this,e)},Object(In.d)().prototype.less=function(e){return this.throwIfDisposed(),Object(et.a)(this,e)};var hr=n(284);Object(In.d)().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),Object(hr.a)(this,e,t,n,r)};var fr=n(442);Object(In.d)().prototype.logSigmoid=function(){return this.throwIfDisposed(),Object(fr.a)(this)};var mr=n(443);Object(In.d)().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Object(mr.a)(this,e)};var vr=n(214);Object(In.d)().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Object(vr.a)(this,e,t)},Object(In.d)().prototype.log=function(){return this.throwIfDisposed(),Object(wt.a)(this)};var gr=n(285);Object(In.d)().prototype.log1p=function(){return this.throwIfDisposed(),Object(gr.a)(this)},Object(In.d)().prototype.logicalAnd=function(e){return this.throwIfDisposed(),Object(Z.a)(this,e)},Object(In.d)().prototype.logicalNot=function(){return this.throwIfDisposed(),Object(Ut.a)(this)};var Ar=n(215);Object(In.d)().prototype.logicalOr=function(e){return this.throwIfDisposed(),Object(Ar.a)(this,e)};var yr=n(287);Object(In.d)().prototype.logicalXor=function(e){return this.throwIfDisposed(),Object(yr.a)(this,e)},Object(In.d)().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Object(W.a)(this,e,t,n)};var br=n(216);Object(In.d)().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Object(br.a)(this,e,t,n,r)};var xr=n(124);Object(In.d)().prototype.max=function(e,t){return this.throwIfDisposed(),Object(xr.a)(this,e,t)},Object(In.d)().prototype.maximum=function(e){return this.throwIfDisposed(),Object(wn.a)(this,e)};var wr=n(154);Object(In.d)().prototype.mean=function(e,t){return this.throwIfDisposed(),Object(wr.a)(this,e,t)};var _r=n(183);Object(In.d)().prototype.min=function(e,t){return this.throwIfDisposed(),Object(_r.a)(this,e,t)};var kr=n(155);Object(In.d)().prototype.minimum=function(e){return this.throwIfDisposed(),Object(kr.a)(this,e)};var Or=n(288);Object(In.d)().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),Object(Or.a)(this,e,t)};var Er=n(289);Object(In.d)().prototype.mod=function(e){return this.throwIfDisposed(),Object(Er.a)(this,e)},Object(In.d)().prototype.mul=function(e){return this.throwIfDisposed(),Object(c.a)(this,e)},Object(In.d)().prototype.neg=function(){return this.throwIfDisposed(),Object(h.a)(this)};var Sr=n(168);Object(In.d)().prototype.norm=function(e,t,n){return this.throwIfDisposed(),Object(Sr.a)(this,e,t,n)};var Cr=n(217);Object(In.d)().prototype.notEqual=function(e){return this.throwIfDisposed(),Object(Cr.a)(this,e)};var Tr=n(290);Object(In.d)().prototype.oneHot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),Object(Tr.a)(this,e,t,n)};var Ir=n(444);Object(In.d)().prototype.onesLike=function(){return this.throwIfDisposed(),Object(Ir.a)(this)},Object(In.d)().prototype.pad=function(e,t){return this.throwIfDisposed(),Object($t.a)(this,e,t)};var jr=n(291);Object(In.d)().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(jr.a)(this,e,t,n,r,a,i)},Object(In.d)().prototype.pow=function(e){return this.throwIfDisposed(),Object(_t.a)(this,e)};var Mr=n(218);Object(In.d)().prototype.prelu=function(e){return this.throwIfDisposed(),Object(Mr.a)(this,e)};var Nr=n(292);Object(In.d)().prototype.prod=function(e,t){return this.throwIfDisposed(),Object(Nr.a)(this,e,t)};var Dr=n(445);Object(In.d)().prototype.reciprocal=function(){return this.throwIfDisposed(),Object(Dr.a)(this)};var Rr=n(138);Object(In.d)().prototype.relu=function(){return this.throwIfDisposed(),Object(Rr.a)(this)};var Pr=n(219);Object(In.d)().prototype.relu6=function(){return this.throwIfDisposed(),Object(Pr.a)(this)},Object(In.d)().prototype.reshapeAs=function(e){return this.throwIfDisposed(),Object(x.a)(this,e.shape)},Object(In.d)().prototype.reshape=function(e){return this.throwIfDisposed(),Object(x.a)(this,e)};var Lr=n(334);Object(In.d)().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Object(Lr.a)(this,e,t,n)};var Fr=n(332);Object(In.d)().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Object(Fr.a)(this,e,t,n)},Object(In.d)().prototype.reverse=function(e){return this.throwIfDisposed(),Object(Lt.a)(this,e)};var Br=n(221);Object(In.d)().prototype.rfft=function(){return this.throwIfDisposed(),Object(Br.a)(this)};var zr=n(293);Object(In.d)().prototype.round=function(){return this.throwIfDisposed(),Object(zr.a)(this)},Object(In.d)().prototype.rsqrt=function(){return this.throwIfDisposed(),Object(Me.a)(this)};var Ur=n(295);Object(In.d)().prototype.selu=function(){return this.throwIfDisposed(),Object(Ur.a)(this)};var Vr=n(296);Object(In.d)().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(Vr.a)(this,e,t,n,r,a,i)},Object(In.d)().prototype.sigmoid=function(){return this.throwIfDisposed(),Object(tn.a)(this)};var Wr=n(446);Object(In.d)().prototype.sign=function(){return this.throwIfDisposed(),Object(Wr.a)(this)},Object(In.d)().prototype.sin=function(){return this.throwIfDisposed(),Object(pe.a)(this)},Object(In.d)().prototype.sinh=function(){return this.throwIfDisposed(),Object(fe.a)(this)},Object(In.d)().prototype.slice=function(e,t){return this.throwIfDisposed(),Object(lt.a)(this,e,t)};var Gr=n(447);Object(In.d)().prototype.softmax=function(e){return this.throwIfDisposed(),Object(Gr.a)(this,e)};var Hr=n(286);Object(In.d)().prototype.softplus=function(){return this.throwIfDisposed(),Object(Hr.a)(this)},Object(In.d)().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Object(H.a)(this,e,t)},Object(In.d)().prototype.split=function(e,t){return this.throwIfDisposed(),Object(ne.a)(this,e,t)},Object(In.d)().prototype.sqrt=function(){return this.throwIfDisposed(),Object(m.a)(this)},Object(In.d)().prototype.square=function(){return this.throwIfDisposed(),Object(v.a)(this)};var qr=n(222);Object(In.d)().prototype.squaredDifference=function(e){return this.throwIfDisposed(),Object(qr.a)(this,e)};var Kr=n(173);Object(In.d)().prototype.squeeze=function(e){return this.throwIfDisposed(),Object(Kr.a)(this,e)},Object(In.d)().prototype.stack=function(e,t){this.throwIfDisposed();var n=e instanceof In.a?[this,e]:[this].concat(Object(Kn.a)(e));return Object(An.a)(n,t)},Object(In.d)().prototype.step=function(e){return this.throwIfDisposed(),Object(l.a)(this,e)};var Xr=n(448);Object(In.d)().prototype.stridedSlice=function(e,t,n,r,a,i,o,s){return this.throwIfDisposed(),Object(Xr.a)(this,e,t,n,r,a,i,o,s)},Object(In.d)().prototype.sub=function(e){return this.throwIfDisposed(),Object(g.a)(this,e)},Object(In.d)().prototype.sum=function(e,t){return this.throwIfDisposed(),Object(w.a)(this,e,t)};var Qr=n(449);Object(In.d)().prototype.tan=function(){return this.throwIfDisposed(),Object(Qr.a)(this)};var Yr=n(247);Object(In.d)().prototype.tanh=function(){return this.throwIfDisposed(),Object(Yr.a)(this)},Object(In.d)().prototype.tile=function(e){return this.throwIfDisposed(),Object(Ne.a)(this,e)},Object(In.d)().prototype.toBool=function(){return this.throwIfDisposed(),Object(u.a)(this,"bool")},Object(In.d)().prototype.toFloat=function(){return this.throwIfDisposed(),Object(u.a)(this,"float32")},Object(In.d)().prototype.toInt=function(){return this.throwIfDisposed(),Object(u.a)(this,"int32")};var $r=n(301);Object(In.d)().prototype.topk=function(e,t){return this.throwIfDisposed(),Object($r.a)(this,e,t)},Object(In.d)().prototype.transpose=function(e){return this.throwIfDisposed(),Object(Ae.a)(this,e)};var Zr=n(302);Object(In.d)().prototype.unique=function(e){return this.throwIfDisposed(),Object(Zr.a)(this,e)},Object(In.d)().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Object(Re.a)(this,e,t)},Object(In.d)().prototype.unstack=function(e){return this.throwIfDisposed(),Object(yt.a)(this,e)},Object(In.d)().prototype.where=function(e,t){return this.throwIfDisposed(),Object(J.a)(e,this,t)},Object(In.d)().prototype.zerosLike=function(){return this.throwIfDisposed(),Object(O.a)(this)};var Jr=n(5),ea=n(11),ta=n(18),na=n(12),ra=n(72),aa=n(17),ia=n(224);function oa(e,t,n){return(oa=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Object(ia.a)(a,n.prototype),a}).apply(null,arguments)}function sa(e){var t="function"===typeof Map?new Map:void 0;return(sa=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return oa(e,arguments,Object(na.a)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(ia.a)(r,e)})(e)}var ua=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e)),Object.setPrototypeOf(Object(ra.a)(n),t.prototype),n}return Object(aa.a)(t,e),t}(sa(Error)),ca=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e)),Object.setPrototypeOf(Object(ra.a)(n),t.prototype),n}return Object(aa.a)(t,e),t}(sa(Error)),la=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e)),Object.setPrototypeOf(Object(ra.a)(n),t.prototype),n}return Object(aa.a)(t,e),t}(sa(Error)),da=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e)),Object.setPrototypeOf(Object(ra.a)(n),t.prototype),n}return Object(aa.a)(t,e),t}(sa(Error)),pa=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e)),Object.setPrototypeOf(Object(ra.a)(n),t.prototype),n}return Object(aa.a)(t,e),t}(sa(Error)),ha=(sa(Error),function(){function e(t){Object(Jr.a)(this,e),this.maxEntries=t||100,this.cache=new Map}return Object(ea.a)(e,[{key:"get",value:function(e){var t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}},{key:"put",value:function(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}},{key:"getMaxEntries",value:function(){return this.maxEntries}},{key:"setMaxEntries",value:function(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(var t=0;t<this.maxEntries-e;t++){var n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}}]),e}());function fa(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var a=new Array(t);return a.fill(e),a}function ma(e,t){if(!e)throw new pa(t)}function va(e,t){var n=0,r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){o.value===t&&n++}}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}function ga(e){return 1===e.length?e[0]:e}function Aa(e){return Array.isArray(e)?e:[e]}function ya(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function ba(e){return e.length<=1?e:-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,function(e,t){return t.toUpperCase()})}var xa={};function wa(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function _a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){var i,s=e;if(s in n)i=n[s];else if(s in xa)i=xa[s];else if(null==(i=t[s]))throw new la("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return i}var u=e;if(null==u.className||null==u.config)throw new la("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(u),".\n")+"'className' and 'config' must set.");var c,l,d=u.className;if(d in n){var p=Object(o.a)(n[d],2);c=p[0],l=p[1]}else if(d in xa){var h=Object(o.a)(xa.className,2);c=h[0],l=h[1]}else if(d in t){var f=Object(o.a)(t[d],2);c=f[0],l=f[1]}if(null==c)throw new la("Unknown ".concat(r,": ").concat(d,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=l){for(var m={},v=0,g=Object.keys(xa);v<g.length;v++){var A=g[v];m[A]=xa[A]}for(var y=0,b=Object.keys(n);y<b.length;y++){var x=b[y];m[x]=n[x]}u.config.customObjects=m;for(var w=Object.assign({},xa),_=0,k=Object.keys(n);_<k.length;_++){var O=k[_];xa[O]=n[O]}!function e(t){if(null!=t&&"object"===typeof t)if(Array.isArray(t))t.forEach(function(t){return e(t)});else for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n],i=t[a];null!=i&&"object"===typeof i&&(Array.isArray(i)||"ndarray"!==i.type||"number"!==typeof i.value?e(i):t[a]=i.value)}}(u.config);var E=l(c,u.config,n,a);return xa=Object.assign({},w),E}for(var S=Object.assign({},xa),C=0,T=Object.keys(n);C<T.length;C++){var I=T[C];xa[I]=n[I]}var j=new c(u.config);return xa=Object.assign({},S),j}function ka(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function Oa(e){if(null==e)return e;var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;-1===t.indexOf(s)&&t.push(s)}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return t}function Ea(e){if(null==e)throw new la("Invalid value in obj: ".concat(JSON.stringify(e)));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Sa(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new la("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function Ca(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return ma(n>=0),ma(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(function(e){return typeof e===t})}function Ta(e,t){Array.isArray(e)?(i.Lf.assert(e.length>0,function(){return"".concat(t," is unexpectedly an empty array.")}),e.forEach(function(e,n){return Ta(e,"element ".concat(n+1," of ").concat(t))})):i.Lf.assert(Number.isInteger(e)&&e>0,function(){return"Expected ".concat(t," to be a positive integer, but got ")+"".concat(function e(t){return null===t?"null":Array.isArray(t)?"["+t.map(function(t){return e(t)}).join(",")+"]":"string"===typeof t?'"'.concat(t,'"'):"".concat(t)}(e),".")})}function Ia(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}var ja=0;function Ma(){return ja++}var Na={};function Da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in Na||(Na[e]=0),Na[e]+=1,e+Na[e].toString()}var Ra=["channelsFirst","channelsLast"],Pa=["nearest","bilinear"],La=["valid","same","causal"],Fa=["max","avg"],Ba=["sum","mul","concat","ave"],za=new Map;function Ua(e){Sa(Ra,"DataFormat",e)}function Va(e){Sa(La,"PaddingMode",e)}function Wa(e){Sa(Fa,"PoolMode",e)}var Ga=[],Ha="/";function qa(e,t){Ga.push(e);try{var n=t();return Ga.pop(),n}catch(r){throw Ga.pop(),r}}function Ka(e){if(!$a(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Ga.length?"":Ga.join(Ha)+Ha)+e}function Xa(e){if(!$a(e))throw new Error("Not a valid tensor name: '"+e+"'");za.has(e)||za.set(e,0);var t=za.get(e);if(za.set(e,za.get(e)+1),t>0){var n="".concat(e,"_").concat(t);return za.set(n,1),n}return e}var Qa,Ya=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function $a(e){return!!e.match(Ya)}function Za(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function Ja(e){if(0===e.length)return Number.NaN;for(var t=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r<t&&(t=r)}return t}function ei(e){if(0===e.length)return Number.NaN;for(var t=Number.NEGATIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r>t&&(t=r)}return t}function ti(e,t){if(t<e)throw new la("end (".concat(t,") < begin (").concat(e,") is forbidden."));for(var n=[],r=e;r<t;++r)n.push(r);return n}function ni(){return null==Qa&&(Qa=Object(i.Dd)().epsilon()),Qa}function ri(e,t){return i.Md(e,t)}function ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),i.cf(e,n)}function ii(e,t,n){return Object(i.Ef)(function(){switch(e.rank){case 1:return i.lf(e,t,n);case 2:return i.mf(e,[t,0],[n,e.shape[1]]);case 3:return i.nf(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return i.of(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return i.kf(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return i.kf(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new la("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}})}function oi(e,t,n){return Object(i.Ef)(function(){switch(e.rank){case 1:return i.lf(e,t,n);case 2:return i.mf(e,[0,t],[e.shape[0],n]);case 3:return i.nf(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return i.of(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new la("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}})}function si(e,t,n,r){return Object(i.Ef)(function(){switch(e.rank){case 1:return i.lf(e,t,n);case 2:switch(r){case 1:return ii(e,t,n);case 2:return oi(e,t,n);default:throw new la("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return ii(e,t,n);case 2:return i.nf(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return oi(e,t,n);default:throw new la("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return ii(e,t,n);case 2:return i.of(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return i.of(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return oi(e,t,n);default:throw new la("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new la("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}})}function ui(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),i.Pd(e,n)}function ci(e,t){switch(e.rank){case 1:return i.Qd([e,t]);case 2:return i.Rd([e,t],0);case 3:return i.Sd([e,t],0);case 4:return i.Td([e,t],0);default:throw new la("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function li(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new la("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return i.Ff(e,t)}function di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return i.We(e,t,n,r,a)}function pi(e,t,n,r){if(e.rank<2||t.rank<2)throw new da("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new da("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape));if(2===e.rank&&2===t.rank){return i.oe.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?mi(e.rank,r,"channelsLast"):null,activation:n})}var a=e.shape.slice(),o=a.pop();e=i.cf(e,[-1,o]);var s=t.shape.slice(),u=s.pop(),c=s.pop(),l=[].concat(Object(Kn.a)(s),[u]),d=Array.from({length:t.rank},function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n});t=i.cf(i.Hf(t,d),[c,-1]);var p=[].concat(Object(Kn.a)(a),Object(Kn.a)(l));return i.cf(i.oe.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?mi(e.rank,r,"channelsLast"):null,activation:n}),p)}function hi(e,t,n){return Object(i.Ef)(function(){return t=Array.isArray(t)?Object(i.Bf)(t,"int32"):i.Md(t,"int32"),i.pe(e,t,n)})}function fi(e){return i.Me(e,e)}function mi(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new la("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?i.cf(t,[1,r[0],1,1,1]):i.cf(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?i.cf(t,[1,1,1,1,r[0]]):i.cf(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?i.cf(t,[1,r[0],1,1]):i.cf(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?i.cf(t,[1,1,1,r[0]]):i.cf(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?i.cf(t,[1,r[0],1]):i.cf(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?i.cf(t,[1,1,r[0]]):i.cf(t,[1].concat(r))}else if(e<3)return t;throw new la("Unsupported input rank by biasAdd: ".concat(t.rank))}function vi(e,t,n){return Object(i.Ef)(function(){return null==n&&(n="channelsLast"),Ua(n),i.xd(e,mi(e.rank,t,n))})}function gi(e,t,n,r){return Object(i.Ef)(function(){return i.ee(e,t,n,r)})}function Ai(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}var yi=["fanIn","fanOut","fanAvg"],bi=["normal","uniform","truncatedNormal"];var xi=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),t}(i.hf.Serializable),wi=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){return Object(i.Qf)(e,t)}}]),t}(xi);wi.className="Zeros",i.hf.registerClass(wi);var _i=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){return Object(i.Re)(e,t)}}]),t}(xi);_i.className="Ones",i.hf.registerClass(_i);var ki=function(e){function t(e){var n;if(Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this)),"object"!==typeof e)throw new la("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new la("config must have value set but got ".concat(e));return n.value=e.value,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){var n=this;return Object(i.Ef)(function(){return Object(i.Me)(Object(i.ef)(n.value),Object(i.Re)(e,t))})}},{key:"getConfig",value:function(){return{value:this.value}}}]),t}(xi);ki.className="Constant",i.hf.registerClass(ki);var Oi=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this))).DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=e.minval||n.DEFAULT_MINVAL,n.maxval=e.maxval||n.DEFAULT_MAXVAL,n.seed=e.seed,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){return Object(i.Xe)(e,this.minval,this.maxval,t,this.seed)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),t}(xi);Oi.className="RandomUniform",i.hf.registerClass(Oi);var Ei=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this))).DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new da("randomNormal does not support dType ".concat(t,"."));return di(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),t}(xi);Ei.className="RandomNormal",i.hf.registerClass(Ei);var Si=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this))).DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new da("truncatedNormal does not support dType ".concat(t,"."));return Object(i.If)(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),t}(xi);Si.className="TruncatedNormal",i.hf.registerClass(Si);var Ci=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this))).gain=null!=e.gain?e.gain:1,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){var n=this;return Object(i.Ef)(function(){if(2!==e.length||e[0]!==e[1])throw new la("Identity matrix initializer can only be used for 2D square matrices.");return Object(i.Me)(n.gain,Object(i.le)(e[0]))})}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),t}(xi);Ci.className="Identity",i.hf.registerClass(Ci);var Ti=function(e){function t(e){var n,r;if(Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this)),e.scale<0)throw new la("scale must be a positive float. Got: ".concat(e.scale));return n.scale=null==e.scale?1:e.scale,n.mode=null==e.mode?"fanIn":e.mode,r=n.mode,Sa(yi,"FanMode",r),n.distribution=null==e.distribution?"normal":e.distribution,function(e){Sa(bi,"Distribution",e)}(n.distribution),n.seed=e.seed,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(Ua(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var a=Za(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===r){var i=Za(e,0,e.length-2);t=e[e.length-2]*i,n=e[e.length-1]*i}}else{var o=Za(e);t=Math.sqrt(o),n=Math.sqrt(o)}return[t,n]}(e),r=n[0],a=n[1],o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,r):"fanOut"===this.mode?o/=Math.max(1,a):o/=Math.max(1,(r+a)/2),"normal"===this.distribution){var s=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new da("".concat(this.getClassName()," does not support dType ").concat(t,"."));return Object(i.If)(e,0,s,t,this.seed)}var u=Math.sqrt(3*o);return Object(i.Xe)(e,-u,u,t,this.seed)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),t}(xi);Ti.className="VarianceScaling",i.hf.registerClass(Ti);var Ii=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed}))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Ii.className="GlorotUniform",i.hf.registerClass(Ii);var ji=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed}))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);ji.className="GlorotNormal",i.hf.registerClass(ji);var Mi=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed}))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Mi.className="HeNormal",i.hf.registerClass(Mi);var Ni=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed}))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Ni.className="HeUniform",i.hf.registerClass(Ni);var Di=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed}))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Di.className="LeCunNormal",i.hf.registerClass(Di);var Ri=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed}))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Ri.className="LeCunUniform",i.hf.registerClass(Ri);var Pi=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this))).DEFAULT_GAIN=1,n.ELEMENTS_WARN_SLOW=2e3,n.gain=null==e.gain?n.DEFAULT_GAIN:e.gain,n.seed=e.seed,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){var n=this;return Object(i.Ef)(function(){if(e.length<2)throw new da("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError("Unsupported data type ".concat(t,"."));t=t;var r=i.Lf.sizeFromShape(e.slice(0,-1)),a=e[e.length-1],o=r*a;o>n.ELEMENTS_WARN_SLOW&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than ".concat(n.ELEMENTS_WARN_SLOW," (").concat(o,") elements: ")+"Slowness may result.");var s=di([Math.max(a,r),Math.min(a,r)],0,1,t,n.seed),u=i.xe.qr(s,!1),c=u[0],l=u[1].flatten().stridedSlice([0],[Math.min(a,r)*Math.min(a,r)],[Math.min(a,r)+1]);return c=Object(i.Me)(c,l.sign()),r<a&&(c=c.transpose()),Object(i.Me)(Object(i.ef)(n.gain),c.reshape(e))})}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),t}(xi);Pi.className="Orthogonal",i.hf.registerClass(Pi);var Li={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _a(e,i.hf.SerializationMap.getMap().classNameMap,t,"initializer")}function Bi(e){return wa(e)}function zi(e){if("string"===typeof e){var t=e in Li?Li[e]:e;if("GlorotNormal"===t)return new ji;if("GlorotUniform"===t)return new Ii;if("HeNormal"===t)return new Mi;if("HeUniform"===t)return new Ni;if("LeCunNormal"===t)return new Di;if("LeCunUniform"===t)return new Ri;var n={};return n.className=t,n.config={},Fi(n)}return e instanceof xi?e:Fi(e)}function Ui(e){return Array.isArray(e)&&Array.isArray(e[0])}function Vi(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Wi(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new la("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function Gi(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new la("Expected exactly 1 Shape; got ".concat(e.length))}return e}function Hi(e){var t=0,n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;0===s.shape.length?t+=1:t+=s.shape.reduce(function(e,t){return e*t})}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return t}var qi="Variable",Ki=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qi,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(Jr.a)(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=Ma(),r=null==r?qi:r,this.originalName=Ka(r),this.name=Xa(this.originalName),this.trainable_=a,this.constraint=o,this.val=i.Mf(t,this.trainable_,this.name,this.dtype)}return Object(ea.a)(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function Xi(e){return e.map(function(e){return e.read()})}function Qi(e){e.forEach(function(e){e[0].write(e[1])})}var Yi=function e(t){Object(Jr.a)(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}},$i=function e(t,n,r,a,i,o,s){Object(Jr.a)(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=s,this.id=Ma(),null!=o&&(this.originalName=Ka(o),this.name=Xa(this.originalName)),this.rank=n.length},Zi=0,Ji=function(){function e(t,n){Object(Jr.a)(this,e),this.callArgs=n,this.id=Zi++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;var r=!0,a=!1,i=void 0;try{for(var o,s=t.inboundLayers[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;null!=u&&u.outboundNodes.push(this)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}t.outboundLayer.inboundNodes.push(this)}return Object(ea.a)(e,[{key:"getConfig",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.inboundLayers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;null!=o?e.push(o.name):e.push(null)}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),eo=0,to=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Jr.a)(this,t),(e=Object(ta.a)(this,Object(na.a)(t).call(this)))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=eo++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var r=n.name;if(!r){var a=e.getClassName();r=ya(a)+"_"+Da(a)}if(e.name=r,e.trainable_=null==n.trainable||n.trainable,null!=n.inputShape||null!=n.batchInputShape){var i;if(null!=n.batchInputShape)i=n.batchInputShape;else if(null!=n.inputShape){var o=null;null!=n.batchSize&&(o=n.batchSize),i=[o].concat(n.inputShape)}e.batchInputShape=i;var s=n.dtype;null==s&&(s=n.inputDType),null==s&&(s="float32"),e.dtype=s}return null!=n.weights?e.initialWeights=n.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new ca("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new la("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return ga(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return ga(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"calculateLosses",value:function(){return this.losses.map(function(e){return e()})}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=Aa(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=Aa(this.inputSpec);if(e.length!==t.length)throw new la("Layer ".concat(this.name," expects ").concat(t.length," inputs, ")+"but it received ".concat(e.length," input tensors. ")+"Input received: ".concat(e));for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var i=r.rank;if(null!=a.ndim&&i!==a.ndim)throw new la("Input ".concat(n," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(a.ndim,", found ndim=").concat(i));if(null!=a.maxNDim&&i>a.maxNDim)throw new la("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(a.maxNDim,", found ndim=").concat(i));if(null!=a.minNDim&&i<a.minNDim)throw new la("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(a.minNDim,", found ndim=").concat(i,"."));if(null!=a.dtype&&r.dtype!==a.dtype)throw new la("Input ".concat(n," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(a.dtype,", found dtype=").concat(r.dtype,"."));if(a.axes){var o=r.shape;for(var s in a.axes){var u=Number(s),c=a.axes[s],l=u>=0?o[u]:o[o.length+u];if(null!=c&&-1===[c,null].indexOf(l))throw new la("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(u," of input shape to ")+"have value ".concat(c," but got shape ").concat(o,"."))}}if(null!=a.shape)for(var d=0;d<a.shape.length;++d){var p=a.shape[d],h=r.shape[d];if(null!=p&&null!=h&&p!==h)throw new la("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(a.shape,", ")+"found shape=".concat(r.shape,"."))}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r=Aa(e),a=!0,i=!0,o=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){if(!(u.value instanceof $i)){a=!1;break}}}catch(v){o=!0,s=v}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}var l=!0,d=!0,p=!1,h=void 0;try{for(var f,m=r[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){if(f.value instanceof $i){l=!1;break}}}catch(v){p=!0,h=v}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}if(a===l)throw new la("Arguments to apply() must be all SymbolicTensors or all Tensors");return qa(this.name,function(){if(!n.built){n.assertInputCompatibility(e);var a=[],i=!0,o=!1,s=void 0;try{for(var u,c=Aa(e)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value;a.push(d.shape)}}catch(v){o=!0,s=v}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}n.build(ga(a)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&l&&(n._refCount=1)}if(n.assertInputCompatibility(e),l){var p=n.call(e,t),h=Aa(p),f=[],m=!0,g=!1,A=void 0;try{for(var y,b=h[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){var x=y.value;-1!==r.indexOf(x)&&(x=x.clone()),f.push(x)}}catch(v){g=!0,A=v}finally{try{m||null==b.return||b.return()}finally{if(g)throw A}}if(p=ga(f),null!=n.activityRegularizer)throw new da("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return p}var w,_=function(e){e=Aa(e);var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;t.push(s.shape)}}catch(v){r=!0,a=v}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return ga(t)}(e),k=n.computeOutputShape(_);if(n.warnOnIncompatibleInputShape(Array.isArray(e)?_[0]:_),w=null!=k&&k.length>0&&Array.isArray(k[0])?k.map(function(r,a){return new $i("float32",r,n,Aa(e),t,n.name,a)}):new $i("float32",k,n,Aa(e),t,n.name),n.addInboundNode(e,w,null,null,_,k,t),n._refCount++,null!=n.activityRegularizer)throw new da("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return w})}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{var t=!1;this.batchInputShape.forEach(function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)}),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}},{key:"countParams",value:function(){if(!this.built)throw new ca("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return Hi(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){return Xi(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;Object(i.Ef)(function(){var n=t.weights;if(n.length!==e.length)throw new la('You called setWeights(weights) on layer "'.concat(t.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0!==n.length){for(var r=[],a=Xi(n),o=0;o<a.length;++o){var s=a[o],u=n[o],c=e[o];if(!i.Lf.arraysEqual(s.shape,c.shape))throw new la("Layer weight shape ".concat(s.shape," ")+"not compatible with provided weight shape ".concat(c.shape));r.push([u,c])}Qi(r)}})}},{key:"addWeight",value:function(e,t,n,r,a,i,o,s){if(-1!==this._addedWeightNames.indexOf(e))throw new la("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():zi("zeros"));var u=r.apply(t,n),c=new Ki(u,n,e,i,o);return u.dispose(),null!=a&&this.addLoss(function(){return a.apply(c.read())}),null==i&&(i=!0),i?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=Aa(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,Object(Kn.a)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach(function(e){if(null!=e)throw new TypeError("Layer ".concat(n.name," does not support masking, ")+"but was passed an inputMask.")})}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=Aa(e);t=Aa(t),n=Aa(n),r=Aa(r),a=Vi(a),i=Vi(i);var u=[],c=[],l=[],d=!0,p=!1,h=void 0;try{for(var f,m=s[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var v=f.value;u.push(v.sourceLayer),c.push(v.nodeIndex),l.push(v.tensorIndex)}}catch(A){p=!0,h=A}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}new Ji({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:l,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},o);for(var g=0;g<t.length;g++)t[g].sourceLayer=this,t[g].nodeIndex=this.inboundNodes.length-1,t[g].tensorIndex=g}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach(function(e){return e.dispose()}),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new ua("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new ua("Layer ".concat(this.name)+" is not connected, no input to return.");return ga(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new ua("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new ua("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return ga(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach(function(t){return t.trainable=e}),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter(function(e){return e.trainable}):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter(function(e){return!e.trainable}).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new ua("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.inboundNodes[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,s=JSON.stringify(o.outputShapes);-1===e.indexOf(s)&&e.push(s)}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}if(1===e.length){var u=this.inboundNodes[0].outputShapes;return Array.isArray(u)&&Array.isArray(u[0])&&1===u.length?u[0]:u}throw new ua("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),t}(i.hf.Serializable);var no=function(e){function t(e){var n;if(Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,{dtype:e.dtype,name:null!=e.name?e.name:Da("input").toString()})),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new la("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=e.batchInputShape;if(null==r){if(null==e.inputShape)throw new la("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new la("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var a=e.dtype||"float32";n.batchInputShape=r,n.dtype=a,n.inputSpec=[{shape:r}];var i=new $i(n.dtype,n.batchInputShape,Object(ra.a)(n),[],{},n.name);return i.nodeIndex=0,i.tensorIndex=0,new Ji({outboundLayer:Object(ra.a)(n),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[i],outputTensors:[i],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){throw new la("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),t}(to);function ro(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new la("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new no({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}no.className="InputLayer",i.hf.registerClass(no);var ao=function(){function e(t){if(Object(Jr.a)(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;var r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;this.add(u.key,u.value)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}}return Object(ea.a)(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new la("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Object(i.Md)(t,e.dtype)}catch(n){throw new la("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof $i){if(null==this.id2Value[e.id])throw new la("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new la("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof $i){if(null==this.id2Value[e.id])throw new la("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new la("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&Object(i.ce)(this.id2Mask)}}]),e}(),io=new ha,oo=new ha;function so(e,t,n,r){var a=null!=n&&n.training,o=Array.isArray(e),s=o?e:[e],u=s.map(function(e){return e.name}),c=[],l=t.names(),d=!0,p=!1,h=void 0;try{for(var f,m=u[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var v=f.value;-1!==l.indexOf(v)?c.push(t.getValue(v)):c.push(null)}}catch(G){p=!0,h=G}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var g,A=u.join(",")+"|"+t.names().sort().join(","),y=io.get(A);if(null==y){var b=function(e,t){i.Lf.assert(null!=e&&e.length>0,function(){return"Expected at least one fetch, got none"});var n=[],r={};if(1===e.length){var a=co(e[0],t);n=a.sorted,r=a.recipientMap}else{var o=new Set,s=!0,u=!1,c=void 0;try{for(var l,d=e[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value,h=co(p,t),f=h.sorted,m=h.recipientMap,v=!0,g=!1,A=void 0;try{for(var y,b=f[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var x=y.value;o.has(x.name)||(n.push(x),o.add(x.name))}}catch(G){g=!0,A=G}finally{try{v||null==b.return||b.return()}finally{if(g)throw A}}var w=function(e){null==r[e]&&(r[e]=new Set),m[e].forEach(function(t){return r[e].add(t)})};for(var _ in m)w(_)}}catch(G){u=!0,c=G}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}return{sorted:n,recipientCounts:uo(r)}}(s,t);y=b.sorted,g=b.recipientCounts,io.put(A,y),oo.put(A,g)}g={},a||Object.assign(g,oo.get(A));for(var x=new ao(t),w=0;w<y.length;++w){if(null!=r){var _=Object(i.Ie)().numTensors;_>r.maxNumTensors&&(r.maxNumTensors=_),_<r.minNumTensors&&(r.minNumTensors=_)}var k=y[w],O=k.sourceLayer;if(!(O instanceof no)){var E=[],S=[],C=[],T=!1,I=!0,j=!1,M=void 0;try{for(var N,D=k.inputs[Symbol.iterator]();!(I=(N=D.next()).done);I=!0){var R=N.value,P=x.getValue(R),L=x.getMask(R);E.push(P),S.push(L),null!=L&&(T=!0),a||(g[R.name]--,0!==g[R.name]||t.hasKey(R)||-1!==u.indexOf(R.name)||P.isDisposed||!0===R.sourceLayer.stateful||C.push(P))}}catch(G){j=!0,M=G}finally{try{I||null==D.return||D.return()}finally{if(j)throw M}}T&&((n=n||{}).mask=S[0]);var F=Aa(O.apply(E,n)),B=null;O.supportsMasking&&(B=O.computeMask(E,S));for(var z=lo(k),U=Array.isArray(z)?z:[z],V=0;V<U.length;++V){x.hasKey(U[V])||x.add(U[V],F[V],Array.isArray(B)?B[0]:B);var W=u.indexOf(U[V].name);-1!==W&&(c[W]=F[V])}a||Object(i.ce)(C)}}return x.disposeMasks(),o?c:c[0]}function uo(e){var t={};for(var n in e)t[n]=e[n].size;return t}function co(e,t){var n=new Set,r=[],a={},i=!0,o=!1,s=void 0;try{for(var u,c=t.names()[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;n.add(l)}}catch(x){o=!0,s=x}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}var d=[],p=[];for(d.push(e);d.length>0;){var h=d[d.length-1];if(n.has(h.name))d.pop();else{var f=p[p.length-1]===d.length-1;if(0===h.inputs.length||f)d.pop(),r.push(h),n.add(h.name),f&&p.pop();else{p.push(d.length-1);var m=!0,v=!1,g=void 0;try{for(var A,y=h.inputs[Symbol.iterator]();!(m=(A=y.next()).done);m=!0){var b=A.value;null==a[b.name]&&(a[b.name]=new Set),a[b.name].add(h.name),n.has(b.name)||d.push(b)}}catch(x){v=!0,g=x}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}}}}return{sorted:r,recipientMap:a}}function lo(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){var a=!0,i=!1,o=void 0;try{for(var s,u=e.sourceLayer.inboundNodes[r].outputTensors[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){if(s.value.id===e.id){n=r;break}}}catch(c){i=!0,o=c}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}}t=e.sourceLayer.getOutputAt(n)}return t}function po(e,t){return Object(i.Ef)(function(){return i.tf(i.xf(i.Me(e,e),t,!0))})}Object(i.he)().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",function(){return 100},function(e){null!=io&&io.setMaxEntries(e),null!=oo&&oo.setMaxEntries(e)});var ho=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){return{}}}]),t}(i.hf.Serializable),fo=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this))).defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){var t=this;return Object(i.Ef)(function(){var n=po(e,t.axis),r=i.Nd(n,0,t.maxValue);return i.Me(e,i.de(r,i.xd(ni(),n)))})}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),t}(ho);fo.className="MaxNorm",i.hf.registerClass(fo);var mo=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this))).defaultAxis=0,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){var t=this;return Object(i.Ef)(function(){return i.de(e,i.xd(ni(),po(e,t.axis)))})}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),t}(ho);mo.className="UnitNorm",i.hf.registerClass(mo);var vo=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return i.bf(e)}}]),t}(ho);vo.className="NonNeg",i.hf.registerClass(vo);var go=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this))).defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=e.minValue?e.minValue:n.defaultMinValue,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.rate=null!=e.rate?e.rate:n.defaultRate,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){var t=this;return Object(i.Ef)(function(){var n=po(e,t.axis),r=i.xd(i.Me(t.rate,i.Nd(n,t.minValue,t.maxValue)),i.Me(1-t.rate,n));return i.Me(e,i.de(r,i.xd(ni(),n)))})}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),t}(ho);go.className="MinMaxNorm",i.hf.registerClass(go);var Ao={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function yo(e){return wa(e)}function bo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _a(e,i.hf.SerializationMap.getMap().classNameMap,t,"constraint")}function xo(e){return null==e?null:"string"===typeof e?bo({className:e in Ao?Ao[e]:e,config:{}}):e instanceof ho?e:bo(e)}var wo,_o=n(7),ko=n.n(_o),Oo=n(16);function Eo(e){return So.apply(this,arguments)}function So(){return(So=Object(Oo.a)(ko.a.mark(function e(t){var n,r,a,o,s,u,c,l;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:for(o in n=[],r=[],a=[],t)"number"!==typeof(s=t[o])&&(u=s,n.push(u.data()),r.push(o),a.push(u));if(!(n.length>0)){e.next=12;break}return e.next=9,Promise.all(n);case 9:for(c=e.sent,l=0;l<c.length;++l)t[r[l]]=c[l][0];Object(i.ce)(a);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Co(e){if(null!=e)for(var t in e){var n=e[t];"number"!==typeof n&&n.dispose()}}!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(wo||(wo={}));var To=125,Io=function(){function e(){Object(Jr.a)(this,e),this.validationData=null}return Object(ea.a)(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),jo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Object(Jr.a)(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return Object(ea.a)(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=this.callbacks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.setParams(e)}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"setModel",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=this.callbacks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.setModel(e)}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"onEpochBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a,i,o,s,u;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=!0,a=!1,i=void 0,e.prev=4,o=this.callbacks[Symbol.iterator]();case 6:if(r=(s=o.next()).done){e.next=13;break}return u=s.value,e.next=10,u.onEpochBegin(t,n);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a,i,o,s,u;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=!0,a=!1,i=void 0,e.prev=4,o=this.callbacks[Symbol.iterator]();case 6:if(r=(s=o.next()).done){e.next=13;break}return u=s.value,e.next=10,u.onEpochEnd(t,n);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a,i,o,s,u;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=!0,a=!1,i=void 0,e.prev=4,o=this.callbacks[Symbol.iterator]();case 6:if(r=(s=o.next()).done){e.next=13;break}return u=s.value,e.next=10,u.onBatchBegin(t,n);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a,i,o,s,u;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=!0,a=!1,i=void 0,e.prev=4,o=this.callbacks[Symbol.iterator]();case 6:if(r=(s=o.next()).done){e.next=13;break}return u=s.value,e.next=10,u.onBatchEnd(t,n);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){var n,r,a,i,o,s;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=!0,r=!1,a=void 0,e.prev=4,i=this.callbacks[Symbol.iterator]();case 6:if(n=(o=i.next()).done){e.next=13;break}return s=o.value,e.next=10,s.onTrainBegin(t);case 10:n=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),r=!0,a=e.t0;case 19:e.prev=19,e.prev=20,n||null==i.return||i.return();case 22:if(e.prev=22,!r){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){var n,r,a,i,o,s;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=!0,r=!1,a=void 0,e.prev=4,i=this.callbacks[Symbol.iterator]();case 6:if(n=(o=i.next()).done){e.next=13;break}return s=o.value,e.next=10,s.onTrainEnd(t);case 10:n=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),r=!0,a=e.t0;case 19:e.prev=19,e.prev=20,n||null==i.return||i.return();case 22:if(e.prev=22,!r){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}},e,this,[[4,15,19,27],[20,,22,26]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Mo=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"onEpochBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.seen=0,this.totals={};case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a,o,s=this;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o in null==n&&(n={}),r=null==n.size?0:n.size,this.seen+=r,a=function(e){var t=n[e];if("number"===typeof t)s.totals.hasOwnProperty(e)||(s.totals[e]=0),s.totals[e]=s.totals[e]+t*r;else{var a;e in s.totals?a=s.totals[e]:s.totals[e]=0;var o=Object(i.Ef)(function(){return Object(i.xd)(s.totals[e],Object(i.Me)(t,r))});s.totals[e]=o,null!=a&&a.dispose()}},n)a(o);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a,o,s,u,c,l=this;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=28;break}r=!0,a=!1,o=void 0,e.prev=4,s=function(){var e=c.value;if(null==l.totals[e])return"continue";"number"===typeof l.totals[e]?n[e]=l.totals[e]/l.seen:Object(i.Ef)(function(){var t=Object(i.Me)(Object(i.de)(1,l.seen),l.totals[e]);n[e]=t,l.totals[e].dispose(),Object(i.ue)(n[e])})},u=this.params.metrics[Symbol.iterator]();case 7:if(r=(c=u.next()).done){e.next=14;break}if("continue"!==s()){e.next=11;break}return e.abrupt("continue",11);case 11:r=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),a=!0,o=e.t0;case 20:e.prev=20,e.prev=21,r||null==u.return||u.return();case 23:if(e.prev=23,!a){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,this,[[4,16,20,28],[21,,23,27]])}));return function(t,n){return e.apply(this,arguments)}}()}]),t}(Io),No=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"onTrainBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.epoch=[],this.history={};case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r in null==n&&(n={}),this.epoch.push(t),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(){var t,n,r,a,i,o,s,u,c;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],n=[],r=[],this.history)for(i=this.history[a],o=0;o<i.length;++o)"number"!==typeof i[o]&&(s=i[o],t.push(s.data()),n.push(a),r.push(o));return e.next=6,Promise.all(t);case 6:for(u=e.sent,c=0;c<u.length;++c)this.history[n[c]][r[c]].dispose(),this.history[n[c]][r[c]]=u[c][0];case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(Io),Do=function(e){function t(e,n){var r;if(Object(Jr.a)(this,t),(r=Object(ta.a)(this,Object(na.a)(t).call(this))).currentEpoch=0,r.nowFunc=e.nowFunc,r.nextFrameFunc=e.nextFrameFunc||i.Oe,r.yieldEvery=n||"auto","auto"===r.yieldEvery&&(r.yieldEvery=To),"never"===r.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return i.Lf.isNumber(r.yieldEvery)&&(r.maybeWait=function(e,t,n){var r,a=null!=n?n():i.Lf.now();return function(){var o=null!=n?n():i.Lf.now();return o-a<t?r:(a=o,r=e.apply(void 0,arguments))}}(r.maybeWait.bind(Object(ra.a)(r)),r.yieldEvery,r.nowFunc)),r.trainBegin=e.onTrainBegin,r.trainEnd=e.onTrainEnd,r.epochBegin=e.onEpochBegin,r.epochEnd=e.onEpochEnd,r.batchBegin=e.onBatchBegin,r.batchEnd=e.onBatchEnd,r.yield=e.onYield,r}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"maybeWait",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n,r){var a;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],null==this.yield){e.next=5;break}return e.next=4,Eo(r);case 4:a.push(this.yield(t,n,r));case 5:return a.push(this.nextFrameFunc()),e.next=8,Promise.all(a);case 8:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentEpoch=t,null==this.epochBegin){e.next=6;break}return e.next=4,Eo(n);case 4:return e.next=6,this.epochBegin(t,n);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.epochEnd){e.next=5;break}return e.next=4,Eo(n);case 4:r.push(this.epochEnd(t,n));case 5:return"epoch"===this.yieldEvery&&r.push(this.nextFrameFunc()),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.batchBegin){e.next=5;break}return e.next=3,Eo(n);case 3:return e.next=5,this.batchBegin(t,n);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.batchEnd){e.next=5;break}return e.next=4,Eo(n);case 4:r.push(this.batchEnd(t,n));case 5:return"batch"===this.yieldEvery?r.push(this.nextFrameFunc()):i.Lf.isNumber(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainBegin){e.next=5;break}return e.next=3,Eo(t);case 3:return e.next=5,this.trainBegin(t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainEnd){e.next=5;break}return e.next=3,Eo(t);case 3:return e.next=5,this.trainEnd(t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(Io);function Ro(e,t){return null==e&&(e={}),e instanceof Io?[e]:Array.isArray(e)&&e[0]instanceof Io?e:Aa(e).map(function(e){return new Do(e,t)})}var Po=function(){function e(){Object(Jr.a)(this,e)}return Object(ea.a)(e,null,[{key:"registerCallbackConstructor",value:function(t,n){i.Lf.assert(t>=0&&Number.isInteger(t),function(){return"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(t)}),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors){e.constructors[+n].forEach(function(e){if(e===t)throw new la("Duplicate callback constructor.")})}}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,Object(Kn.a)(e.constructors[a]))}return n.map(function(e){return new e})}}]),e}();function Lo(e,t,n,r,a,i,o,s,u){var c=new No,l=[new Mo].concat(Object(Kn.a)(Po.createCallbacks(t)));null!=e&&l.push.apply(l,Object(Kn.a)(e)),l.push(c);var d=new jo(l);return d.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:t,doValidation:s,metrics:u}),{callbackList:d,history:c}}Po.constructors={};var Fo=n(29);function Bo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _a(e,i.hf.SerializationMap.getMap().classNameMap,t,"layer",n)}function zo(e,t){return Object(i.Ef)(function(){"float32"!==e.dtype&&(e=i.Md(e,"float32"));var n=i.xf(fi(e),t,!0),r=i.me(n.shape,ni()),a=i.tf(i.Ge(n,r));return i.de(e,a)})}function Uo(e,t){return Object(i.Ef)(function(){return i.He(fi(i.wf(t,e)),-1)})}function Vo(e,t){return Object(i.Ef)(function(){return i.He(i.wd(i.wf(t,e)),-1)})}function Wo(e,t){return Object(i.Ef)(function(){var n=i.wf(e,t),r=i.Nd(i.wd(e),ni(),Number.MAX_VALUE),a=i.wd(i.de(n,r));return i.Me(100,i.He(a,-1))})}function Go(e,t){return Object(i.Ef)(function(){var n=i.Nd(t,ni(),Number.MAX_VALUE),r=i.ye(i.xd(1,n)),a=i.Nd(e,ni(),Number.MAX_VALUE),o=i.ye(i.xd(1,a));return i.He(fi(i.wf(r,o)),-1)})}function Ho(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i.Ef)(function(){if(n)t=i.qf(t);else{var r=i.xf(t,t.shape.length-1,!0);t=i.de(t,r)}return t=i.Nd(t,ni(),1-ni()),i.Ne(i.xf(i.Me(i.Md(e,"float32"),i.ye(t)),t.shape.length-1))})}function qo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i.Ef)(function(){var r=i.Md(i.ne(function(e){var t=[Za(e.shape)];return i.cf(e,t)}(e)),"int32"),a=(t=i.Nd(t,ni(),1-ni())).shape;return Ho(i.cf(i.Qe(r,a[a.length-1]),a),t,n)})}function Ko(e,t){return Object(i.Ef)(function(){var n;return n=i.Nd(t,ni(),1-ni()),n=i.ye(i.de(n,i.wf(1,n))),i.He(function(e,t){if(!i.Lf.arraysEqual(e.shape,t.shape))throw new la("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return Object(i.Ef)(function(){var n=i.bf(t),r=i.Ne(i.wd(t));return i.xd(i.wf(n,i.Me(t,e)),i.ze(i.je(r)))})}(e,n),-1)})}function Xo(e,t){return Object(i.Ef)(function(){var n=i.Nd(e,ni(),1),r=i.Nd(t,ni(),1);return i.xf(i.Me(e,i.ye(i.de(n,r))),-1)})}function Qo(e,t){return Object(i.Ef)(function(){var n=zo(e,-1),r=zo(t,-1),a=i.Me(n,r);return i.Ne(i.xf(a,-1))})}var Yo={meanSquaredError:Uo,meanAbsoluteError:Vo,meanAbsolutePercentageError:Wo,meanSquaredLogarithmicError:Go,squaredHinge:function(e,t){return Object(i.Ef)(function(){var n=i.Ge(0,i.wf(1,i.Me(e,t)));return i.He(fi(n),-1)})},hinge:function(e,t){return Object(i.Ef)(function(){var n=i.Ge(0,i.wf(1,i.Me(e,t)));return i.He(n,-1)})},categoricalHinge:function(e,t){return Object(i.Ef)(function(){var n=i.xf(i.Me(e,t),-1),r=i.De(i.Me(i.wf(1,e),t),-1);return i.Ge(0,i.xd(1,i.wf(r,n)))})},logcosh:function(e,t){return Object(i.Ef)(function(){var n=Math.log(2),r=i.wf(t,e),a=i.wf(i.xd(r,i.rf(i.Me(-2,r))),n);return i.He(a,-1)})},categoricalCrossentropy:Ho,sparseCategoricalCrossentropy:qo,binaryCrossentropy:Ko,kullbackLeiblerDivergence:Xo,poisson:function(e,t){return Object(i.Ef)(function(){var n=i.ye(i.xd(ni(),t));return i.He(i.wf(t,i.Me(e,n)),-1)})},cosineProximity:Qo};function $o(e){if("string"===typeof e){if(e in Yo)return Yo[e];var t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new la(t)}return e}function Zo(e,t){return Object(i.Ef)(function(){var n=i.Me(.5,i.Se(t)),r=ri(i.qe(t,n),e.dtype);return i.He(i.ie(e,r),-1)})}function Jo(e,t){return Object(i.Ef)(function(){return ri(i.ie(i.Ad(e,-1),i.Ad(t,-1)),"float32")})}function es(e,t){return Object(i.Ef)(function(){return i.Md(i.xf(i.Be(i.ie(e,1),i.ie(t,1))),"float32")})}function ts(e,t){return Object(i.Ef)(function(){var n=es(e,t),r=function(e,t){return Object(i.Ef)(function(){return i.Md(i.xf(i.Be(i.ie(e,0),i.ie(t,1))),"float32")})}(e,t),a=i.xd(n,r);return i.Md(i.Pf(i.qe(a,0),i.de(n,a),0),"float32")})}function ns(e,t){return Ko(e,t)}function rs(e,t){return e.rank===t.rank&&(e=i.uf(e,[e.rank-1])),(t=i.Ad(t,-1)).dtype!==e.dtype&&(t=i.Md(t,e.dtype)),i.Md(i.ie(e,t),"float32")}var as=Ho,is=qo,os={binaryAccuracy:Zo,categoricalAccuracy:Jo,precision:ts,categoricalCrossentropy:as,sparseCategoricalCrossentropy:is,mse:Uo,MSE:Uo,mae:Vo,MAE:Vo,mape:Wo,MAPE:Wo,cosine:Qo};function ss(e){if("string"===typeof e&&e in os)return os[e];if("string"!==typeof e&&null!=e)return e;throw new la("Unknown metric ".concat(e))}function us(e){if(ma(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;for(var t,n=0,r=Object.keys(Yo);n<r.length;n++){var a=r[n];if(Yo[a]===e){t=a;break}}if(void 0!==t)return t;for(var i=0,o=Object.keys(os);i<o.length;i++){var s=o[i];if(os[s]===e){t=s;break}}return void 0!==t?t:e.name}var cs=1048576;function ls(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!function e(t){if(null===t)return!0;if("object"===typeof t){if(Object.getPrototypeOf(t)===Object.prototype){for(var n=Object.keys(t),r=0,a=n;r<a.length;r++){var i=a[r];if("string"!==typeof i)return!1;if(!e(t[i]))return!1}return!0}if(Array.isArray(t)){var o=!0,s=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value;if(!e(d))return!1}}catch(h){s=!0,u=h}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return!0}return!1}var p=typeof t;return"string"===p||"number"===p||"boolean"===p}(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>cs&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(r.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(cs,"."))}}function ds(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,i=function(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var i=0,o=n;i<o.length;i++){var s=o[i];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,Object(Kn.a)(s))}if(t){var u=!0,c=!1,l=void 0;try{for(var d,p=e.layers[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value,f=!1,m=!0,v=!1,g=void 0;try{for(var A,y=h.inboundNodes[Symbol.iterator]();!(m=(A=y.next()).done);m=!0){var b=A.value;if(-1!==r.indexOf(b)){if(f){t=!1;break}f=!0}}}catch(x){v=!0,g=x}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}if(!t)break}}catch(x){c=!0,l=x}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}return t}(e),o=["Layer (type)","Input Shape","Output shape","Param #"];if(i?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(function(e){return Math.floor(t*e)})),!i)for(var s in o.push("Receives inputs"),r=[],e.nodesByDepth){var u;(u=r).push.apply(u,Object(Kn.a)(e.nodesByDepth[s]))}a("_".repeat(t)),ps(o,n,a),a("=".repeat(t));for(var c=e.layers,l=0;l<c.length;++l)i?hs(c[l],n,a):fs(c[l],n,r,a),a((l===c.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var d=function(e){var t;t=null!=e.collectedTrainableWeights?Hi(e.collectedTrainableWeights):Hi(e.trainableWeights);return t}(e),p=Hi(e.nonTrainableWeights);a("Total params: ".concat(d+p)),a("Trainable params: ".concat(d)),a("Non-trainable params: ".concat(p)),a("_".repeat(t))}function ps(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function hs(e,t,n){var r,a;try{a=e.inboundNodes.map(function(e){return JSON.stringify(e.inputShapes)}).join(",")}catch(s){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(s){r="multiple"}var i=e.name,o=e.getClassName();ps(["".concat(i," (").concat(o,")"),a,r,e.countParams().toString()],t,n)}function fs(e,t,n,r){var a,i;try{i=e.inboundNodes.map(function(e){return JSON.stringify(e.inputShapes)}).join(",")}catch(x){i="multiple"}try{a=JSON.stringify(e.outputShape)}catch(x){a="multiple"}var o=[],s=!0,u=!1,c=void 0;try{for(var l,d=e.inboundNodes[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(p)))for(var h=0;h<p.inboundLayers.length;++h){var f=p.inboundLayers[h].name,m=p.nodeIndices[h],v=p.tensorIndices[h];o.push("".concat(f,"[").concat(m,"][").concat(v,"]"))}}}catch(x){u=!0,c=x}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}var g=e.name,A=e.getClassName(),y=0===o.length?"":o[0];ps(["".concat(g," (").concat(A,")"),i,a,e.countParams().toString(),y],t,r);for(var b=1;b<o.length;++b)ps(["","","","",o[b]],t,r)}function ms(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function vs(e,t){if(null===e)return null;if("string"===typeof e)return ba(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];ms(t,a,i)?n.push(i):n.push(vs(i,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s],l=e[c];if("name"===c&&"string"===typeof l)o[c]=l;else{var d=ba(c);o[d]=vs(l,d)}}return o}function gs(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return null});if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){var a=[];return t.forEach(function(t){t in e?a.push(e[t]):a.push(null)}),a}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function As(e,t){return gs(e,t,"classWeight")}function ys(e,t,n,r){return bs.apply(this,arguments)}function bs(){return(bs=Object(Oo.a)(ko.a.mark(function e(t,n,r,a){var o,s,u;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&null==a){e.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==r){e.next=15;break}return o=Object(i.Ef)(function(){if(1===t.shape.length)return Object(i.Od)(t);if(2===t.shape.length){if(t.shape[1]>1){return Object(i.Ad)(t,1)}if(1===t.shape[1])return Object(i.cf)(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")}),e.t0=Array,e.next=7,o.data();case 7:return e.t1=e.sent,s=e.t0.from.call(e.t0,e.t1),Object(i.ce)(o),u=[],s.forEach(function(e){if(null==r[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");u.push(r[e])}),e.abrupt("return",Object(i.Bf)(u,"float32"));case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xs(e,t){return Object(i.Me)(e,t)}var ws=32;function _s(e,t){var n,r,a=t;n=a.xs,r=a.ys,i.Lf.assert(null!=n&&null!=r,function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)});var o=ks("input",e.inputNames,n),s=ks("output",e.outputNames,r),u=o[0].shape[0];i.Lf.assert(o.length===e.inputs.length,function(){return"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(o.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")")}),i.Lf.assert(s.length===e.outputs.length,function(){return"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(s.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")});for(var c=function(t){i.Lf.assert(o[t].shape[0]===u,function(){return"Batch size mismatch: input "+"".concat(e.inputNames[t]," has ").concat(o[t].shape[0],"; ")+"expected  ".concat(u," based on input ").concat(e.inputNames[0],".")})},l=0;l<o.length;l++)c(l);for(var d=function(t){i.Lf.assert(s[t].shape[0]===u,function(){return"Batch size mismatch: output "+"".concat(e.outputNames[t]," has ").concat(s[t].shape[0],"; ")+"expected  ".concat(u," based on input ").concat(e.inputNames[0],".")})},p=0;p<s.length;p++)d(p);return{xs:o,ys:s}}function ks(e,t,n){if(n instanceof i.kd)return[n];if(Array.isArray(n))return i.Lf.assert(n.length===t.length,function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,".")}),n;var r=[],a=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;if(null==n[l])throw new la("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(l,"'."));r.push(n[l])}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return r}function Os(e){if(3===e.length)throw new da("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function Es(e,t,n){return Ss.apply(this,arguments)}function Ss(){return(Ss=Object(Oo.a)(ko.a.mark(function e(t,n,r){var a,o,s,u,c,l,d,p,h,f,m,v,g,A,y,b,x,w,_,k,O,E,S,C,T,I,j,M,N,D,R,P,L;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=r.batchesPerEpoch,i.Lf.assert(null!=t.optimizer,function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."}),i.Lf.assert(null!=r,function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."}),i.Lf.assert(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),function(){return"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(r.epochs)}),i.Lf.assert(!a||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(r.batchesPerEpoch)}),i.Lf.assert(null==r.validationSplit,function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."}),!t.isTraining){e.next=8;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 8:return t.isTraining=!0,e.prev=9,(o=null!=r.validationData)&&(Ts(r.validationData)?i.Lf.assert(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(r.validationBatches)}):(c=Os(r.validationData),s=c.xs,u=c.ys)),l=t.makeTrainFunction(),d=t.getDedupedMetricsNames(),p=o?d.slice().concat(d.map(function(e){return"val_"+e})):d.slice(),h=Ro(r.callbacks,r.yieldEvery),f=null==r.verbose?1:r.verbose,m=Lo(h,f,r.epochs,null,null,Cs(n,r),null,o,p),v=m.callbackList,g=m.history,v.setModel(t),t.history=g,e.next=22,v.onTrainBegin();case 22:return t.stopTraining_=!1,A=null==r.initialEpoch?0:r.initialEpoch,e.next=26,n.iterator();case 26:y=e.sent;case 27:if(!(A<r.epochs)){e.next=98;break}return b={},e.next=31,v.onEpochBegin(A);case 31:if(x=0,w=0,a){e.next=37;break}return e.next=36,n.iterator();case 36:y=e.sent;case 37:if(a&&!(x<r.batchesPerEpoch)){e.next=91;break}return e.next=40,y.next();case 40:if(_=e.sent,!a||!_.done){e.next=44;break}return console.warn("You provided `batchesPerEpoch` as "+"".concat(r.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(x," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(r.batchesPerEpoch*r.epochs," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("break",91);case 44:if(null==_.value){e.next=73;break}return k=_s(t,_.value),O=k.xs,E=k.ys,(S={}).batch=w,S.size=O[0].shape[0],e.next=51,v.onBatchBegin(w,S);case 51:if(C=[],null==r.classWeight){e.next=64;break}T=As(r.classWeight,t.outputNames),I=0;case 55:if(!(I<T.length)){e.next=64;break}return e.t0=C,e.next=59,ys(E[I],null,T[I]);case 59:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 61:++I,e.next=55;break;case 64:for(j=O.concat(E).concat(C),M=l(j),i.ce(j),N=0;N<d.length;++N)D=d[N],R=M[N],S[D]=R,i.ue(R);return e.next=70,v.onBatchEnd(w,S);case 70:Co(S),w++,x++;case 73:if(!(a?x>=r.batchesPerEpoch:_.done)){e.next=87;break}if(!o){e.next=86;break}if(P=void 0,!Ts(r.validationData)){e.next=84;break}return e.t2=Aa,e.next=80,t.evaluateDataset(r.validationData,{batches:r.validationBatches});case 80:e.t3=e.sent,P=(0,e.t2)(e.t3),e.next=85;break;case 84:P=Aa(t.evaluate(s,u,{batchSize:null==r.validationBatchSize?ws:r.validationBatchSize,verbose:0}));case 85:for(L=0;L<t.metricsNames.length;++L)b["val_".concat(t.metricsNames[L])]=P[L];case 86:return e.abrupt("break",91);case 87:if(!t.stopTraining_){e.next=89;break}return e.abrupt("break",91);case 89:e.next=37;break;case 91:return e.next=93,v.onEpochEnd(A,b);case 93:if(A++,!t.stopTraining_){e.next=96;break}return e.abrupt("break",98);case 96:e.next=27;break;case 98:return e.next=100,v.onTrainEnd();case 100:return e.next=102,t.history.syncData();case 102:return e.abrupt("return",t.history);case 103:return e.prev=103,t.isTraining=!1,e.finish(103);case 106:case"end":return e.stop()}},e,null,[[9,,103,106]])}))).apply(this,arguments)}function Cs(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function Ts(e){return"function"===typeof e.iterator}function Is(e,t,n){return js.apply(this,arguments)}function js(){return(js=Object(Oo.a)(ko.a.mark(function e(t,n,r){var a,o,s,u,c,l,d,p,h;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=(r=r||{}).batches,o=t.testFunction,s=[],!(r.verbose>0)){e.next=6;break}throw new da("Verbose mode is not implemented yet.");case 6:if(i.Lf.assert(!a||r.batches>0&&Number.isInteger(r.batches),function(){return"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(r.batches))}),"function"!==typeof n.next){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,n.iterator();case 13:e.t0=e.sent;case 14:u=e.t0,c=0,l=0,d=ko.a.mark(function e(){var n;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.next();case 2:if(n=e.sent,s=i.Ef(function(){return n.value&&function(){var e=_s(t,n.value),r=e.xs,a=e.ys,u=r.concat(a),d=i.Ef(function(){return o(u)});if(i.ce(u),0===l)for(var p=0;p<d.length;++p)s.push(Object(i.ef)(0));for(var h=u[0].shape[0],f=function(e){var t=d[e],n=s[e];s[e]=i.Ef(function(){return i.xd(s[e],i.Me(h,t))}),l>0&&i.ce(n)},m=0;m<d.length;++m)f(m);i.ce(d),c+=h,++l}(),s}),!n.done){e.next=7;break}return a&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(r.batches," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("return","break");case 7:case"end":return e.stop()}},e)});case 18:if(a&&!(l<r.batches)){e.next=25;break}return e.delegateYield(d(),"t1",20);case 20:if("break"!==e.t1){e.next=23;break}return e.abrupt("break",25);case 23:e.next=18;break;case 25:for(p=0;p<s.length;++p)h=s[p],s[p]=i.de(s[p],c),i.ce(h);return e.abrupt("return",ga(s));case 27:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ms(e){i.Lf.assert(e>0&&Number.isInteger(e),function(){return"batchSize is required to be a positive integer, but got ".concat(e)})}function Ns(e,t,n){return null==e?[null]:Array.isArray(e)?e.map(function(e){return ii(e,t,n-t)}):ii(e,t,n-t)}function Ds(e,t){return i.Ef(function(){return null==e?null:Array.isArray(e)?e.map(function(e){return Ds(e,t)}):hi(e,"int32"===t.dtype?t:i.Md(t,"int32"))})}function Rs(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function Ps(e){var t=[];e instanceof i.kd&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(ai(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function Ls(e,t){if(null!=e){var n=[];if(t instanceof i.kd)n.push(t.id);else if(Array.isArray(t))t.forEach(function(e){return n.push(e.id)});else if(null!=t)for(var r in t){var a=t[r];n.push(a.id)}var o=[];if(e instanceof i.kd)-1===n.indexOf(e.id)&&o.push(e);else if(Array.isArray(e))e.forEach(function(e){-1===n.indexOf(e.id)&&o.push(e)});else if(null!=e)for(var s in e){var u=e[s];-1===n.indexOf(u.id)&&o.push(u)}o.forEach(function(e){e.isDisposed||e.dispose()})}}function Fs(e){return Array.isArray(e)}function Bs(e){return!function(e){return e instanceof i.kd}(e)&&!Fs(e)}function zs(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var o=!1;if(Fs(e)&&e.length>0)o=!0;else if(Bs(e)){for(var s in e)if(e.hasOwnProperty(s)){o=!0;break}}else o=!0;if(o)throw new la("Error when checking model ".concat(i," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map(function(e){return null});if(Bs(e)){e=e,r=[];var u=!0,c=!1,l=void 0;try{for(var d,p=t[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;if(null==e[h])throw new la('No data provided for "'.concat(h,'". Need data for each key in: ')+"".concat(t));r.push(e[h])}}catch(y){c=!0,l=y}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}else if(Fs(e)){if((e=e).length!==t.length)throw new la("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(e=e,t.length>1)throw new la("The model ".concat(i," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=Ps(r),null!=n)for(var f=0;f<t.length;++f)if(null!=n[f]){var m=r[f];if(m.shape.length!==n[f].length)throw new la("Error when checking ".concat(i,": expected ").concat(t[f]," ")+"to have ".concat(n[f].length," dimension(s). but got array with ")+"shape ".concat(m.shape));for(var v=0;v<n[f].length;++v)if(0!==v||a){var g=m.shape[v],A=n[f][v];if(null!=A&&A>=0&&g!==A)throw new la("".concat(i," expected a batch of elements where each ")+"example has shape [".concat(n[f].slice(1,n[f].length),"] ")+"(i.e.,tensor shape [*,".concat(n[f].slice(1,n[f].length),"])")+" but the ".concat(i," received an input with ").concat(m.shape[0])+" examples, each with shape [".concat(m.shape.slice(1,m.shape.length),"]")+" (tensor shape [".concat(m.shape,"])"))}}return r}function Us(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new la("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new la("The model expects ".concat(t.length," ").concat(i," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=r[o];if(s.shape.length!==n[o].length)throw new la("Error when checking ".concat(i,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(s.shape)));for(var u=0;u<n[o].length;++u)if(0!==u||a){var c=s.shape[u],l=n[o][u];if(null!=l&&l!==c)throw new la("Error when checking ".concat(i,": expected ")+"".concat(t[o]," to have shape ").concat(JSON.stringify(n[o])," but ")+"got array with shape ".concat(JSON.stringify(s.shape),"."))}}}var Vs=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).isTraining=!1,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new la("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");ds(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return i.Gf.adagrad(.01)},Adadelta:function(){return i.Gf.adadelta(1,.95,ni())},Adam:function(){return i.Gf.adam(.001,.9,.999,ni())},Adamax:function(){return i.Gf.adamax(.002,.9,.999,ni(),0)},RMSProp:function(){return i.Gf.rmsprop(.001,.9,0,ni())},SGD:function(){return i.Gf.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new la("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof i.hc))throw new la("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new la("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));var r=e.loss;n=r.map(function(e){return $o(e)})}else{var a=$o(e.loss);this.outputs.forEach(function(e){n.push(a)})}else{for(var o in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(o))throw new la('Unknown entry in loss dictionary: "'.concat(o,'". ')+"Only expected the following keys: ".concat(this.outputNames));var s=!0,u=!1,c=void 0;try{for(var l,d=this.outputNames[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value;null==e.loss[p]&&console.warn('Output "'.concat(p,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(p," during training")),n.push($o(e.loss[p]))}}catch(y){u=!0,c=y}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var h=0;h<this.outputs.length;++h){var f=this.internalOutputShapes[h],m=this.outputNames[h];this.feedOutputNames.push(m),this.feedOutputShapes.push(f),this.feedLossFns.push(this.lossFunctions[h])}var v=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],qa("loss",function(){for(var e=0;e<t.outputs.length;++e)if(-1===v.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}});var g=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return[]});var n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map(function(e){return n});var r=[],a=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value,l=n.hasOwnProperty(c)?n[c]:[];Array.isArray(l)||(l=[l]),r.push(l)}}catch(y){i=!0,o=y}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return r}(e.metrics,this.outputNames),A=function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])};qa("metric",function(){for(var e=function(e){if(-1!==v.indexOf(e))return"continue";!function(n){var r,a,i,o=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value;if("string"===typeof d&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(d)){var p=t.internalOutputShapes[e];1===p[p.length-1]||t.lossFunctions[e]===Ko?-1!==["accuracy","acc"].indexOf(d)?a=Zo:-1!==["crossentropy","ce"].indexOf(d)&&(a=ns):t.lossFunctions[e]===qo?-1!==["accuracy","acc"].indexOf(d)?a=rs:-1!==["crossentropy","ce"].indexOf(d)&&(a=is):-1!==["accuracy","acc"].indexOf(d)?a=Jo:-1!==["crossentropy","ce"].indexOf(d)&&(a=as);var h=void 0;-1!==["accuracy","acc"].indexOf(d)?h="acc":-1!==["crossentropy","ce"].indexOf(d)&&(h="ce"),i=a,r=""+h}else{var f=ss(d);i=f,r=""+us(d)}var m=void 0;qa(r,function(){m=i}),A(e,r,m)}}catch(y){s=!0,u=y}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}}(g[e])},n=0;n<t.outputs.length;++n)e(n)}),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;Ms(r);var a=this.standardizeUserDataXY(e,t,!0,r);try{var i=a[0].concat(a[1]);this.makeTestFunction();var o=this.testFunction;return ga(this.testLoop(o,i,r,n.verbose,n.steps))}finally{Ls(a[0],e),Ls(a[1],t)}}},{key:"evaluateDataset",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.makeTestFunction(),e.abrupt("return",Is(this,t,n));case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new la("If ".concat(a," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new la("Either the input data should have a defined shape, or "+"".concat(a," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new la("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),o=new ao;if(e instanceof i.kd&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new la("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(var s=0;s<this.inputs.length;++s)o.add(this.inputs[s],e[s])}else{var u=!0,c=!1,l=void 0;try{for(var d,p=this.inputs[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value,f=e[h.name];if(null==f)throw new la("No value is provided for the model's input ".concat(h.name));o.add(h,f)}}catch(v){c=!0,l=v}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}var m=so(a,o);return n?m:m[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t=fa(null,e.length),n=e.length,r=!0,a=!1,i=void 0;try{for(var o,s=this.layers[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){for(var u=o.value,c=Array.isArray(u.output)?u.output:[u.output],l=c.map(function(e){return e.name}),d=0;d<e.length;++d){var p=l.indexOf(e[d]);if(-1!==p&&(t[d]=c[p],n--),0===n)break}if(0===n)break}}catch(f){a=!0,i=f}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}if(n>0){var h=[];throw t.forEach(function(t,n){null==t&&h.push(e[n])}),new la("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(h)))}return t}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.Ef(function(){var a=t.checkNumSamples(e);if(r)throw new da("Verbose predictLoop() is not implemented yet.");for(var o=Rs(a,n),s=t.outputs.map(function(e){return[]}),u=function(n){i.Ef(function(){var r=o[n][0],a=o[n][1],i=Ns(e,r,a),s=[];if(Array.isArray(i))for(var u=0;u<i.length;++u)s.push({key:t.inputs[u],value:i[u]});else s.push({key:t.inputs[0],value:i});var c=new ao(s);return so(t.outputs,c)}).forEach(function(e,t){return s[t].push(e)})},c=0;c<o.length;++c)u(c);return ga(s.map(function(e){return i.Pd(e,0)}))})}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ps(e);Us(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return Ms(r),this.predictLoop(n,r)}finally{Ls(n,e)}}},{key:"predictOnBatch",value:function(e){Us(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new ca("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var o=this.feedOutputShapes[a];this.feedLossFns[a]===qo?r.push(o.slice(0,o.length-1).concat([1])):r.push(o)}if(function(e,t,n){var r=Oa(e.map(function(e){return e.shape[0]}));r.sort();var a=Oa(t.map(function(e){return e.shape[0]}));if(a.sort(),r.length>1)throw new la("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map(function(e){return e.shape}))));if(a.length>1)throw new la("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map(function(e){return e.shape}))));if(r.length>0&&a.length>0&&!i.Lf.arraysEqual(r,a))throw new la("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(a[0]," target ")+"sample(s).")}(e=zs(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=zs(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){for(var r=[Uo,Ko,Ho],a=0;a<e.length;++a){var i=e[a],o=t[a],s=n[a];if(null!=o){if(o===Ho&&1===i.shape[i.shape.length-1])throw new la("You are passing a target array of shape ".concat(i.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var u=i.shape.slice(1),c=s.slice(1),l=0;l<u.length;++l){var d=u[l],p=c[l];if(null!=p&&d!==p)throw new la("A target Tensor with shape ".concat(i.shape," was passed for an ")+"output of shape ".concat(s,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new la("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}},{key:"standardizeUserData",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n,r,a){var i,s,u,c,l,d,p,h,f,m=arguments;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!(m.length>4&&void 0!==m[4])||m[4],s=m.length>5?m[5]:void 0,u=this.standardizeUserDataXY(t,n,i,s),c=Object(o.a)(u,2),l=c[0],d=c[1],null==r){e.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(p=null,null==a){e.next=19;break}h=As(a,this.outputNames),p=[],f=0;case 10:if(!(f<h.length)){e.next=19;break}return e.t0=p,e.next=14,ys(d[f],null,h[f]);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:++f,e.next=10;break;case 19:return e.abrupt("return",[l,d,p]);case 20:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;return i.Ef(function(){var s=r.checkNumSamples(t,n,o,"steps"),u=[];if(a>0)throw new da("Verbose mode is not implemented yet.");if(null!=o)throw new da("steps mode in testLoop() is not implemented yet");for(var c=Rs(s,n),l=Object(i.Bf)(ti(0,s)),d=0;d<c.length;++d){var p=c[d][0],h=c[d][1],f=ii(l,p,h-p),m=Ds(t,f),v=e(m);if(0===d)for(var g=0;g<v.length;++g)u.push(Object(i.ef)(0));for(var A=0;A<v.length;++A){var y=v[A];u[A]=i.xd(u[A],i.Me(h-p,y))}}for(var b=0;b<u.length;++b)u[b]=i.de(u[b],s);return u})}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;if(va(e,r)>1){var i=va(e.slice(0,n),r);a+="_".concat(i)}t.push(a)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),s=[],u=e.collectedTrainableWeights.map(function(e){return e.read()});return[e.optimizer_.minimize(function(){for(var t=[],u=0;u<e.inputs.length;++u)t.push({key:e.inputs[u],value:r[u]});for(var c,l=new ao(t),d=so(e.outputs,l,{training:!0}),p=0;p<e.lossFunctions.length;++p){var h=(0,e.lossFunctions[p])(a[p],d[p]);null!=o[p]&&(h=xs(h,o[p]));var f=i.He(h);n.push(f),c=0===p?h:i.xd(c,h)}for(var m=0;m<e.metricsTensors.length;++m){var v=void 0;if(e.outputs.length>1&&m<e.outputs.length)v=n[m];else{var g=e.metricsTensors[m][0],A=e.metricsTensors[m][1];v=i.He(g(a[A],d[A]))}i.ue(v),s.push(v)}return c=i.He(c),e.calculateLosses().forEach(function(e){c=i.xd(c,e)}),c},!0,u)].concat(s)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return i.Ef(function(){for(var n,r=[],a=t.slice(0,e.inputs.length),o=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),s=[],u=0;u<e.inputs.length;++u)s.push({key:e.inputs[u],value:a[u]});for(var c=new ao(s),l=so(e.outputs,c),d=0;d<e.lossFunctions.length;++d){var p=e.lossFunctions[d],h=i.He(p(o[d],l[d]));n=0===d?h:i.xd(n,h),r.push(n)}for(var f=0;f<e.metricsTensors.length;++f){var m=e.metricsTensors[f][0],v=e.metricsTensors[f][1],g=i.He(m(o[v],l[v]));r.push(g)}return r})}}},{key:"fit",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a,o,s,u,c,l,d,p,h,f,m,v,g,A,y,b,x,w,_,k,O,E,S,C=arguments;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=C.length>2&&void 0!==C[2]?C[2]:{},!this.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return this.isTraining=!0,e.prev=4,Ms(f=null==r.batchSize?32:r.batchSize),!1,e.next=10,this.standardizeUserData(t,n,r.sampleWeight,r.classWeight,!1,f);case 10:if(m=e.sent,a=m[0],o=m[1],h=m[2],v=!1,!(null!=r.validationData&&r.validationData.length>0)){e.next=36;break}if(v=!0,2!==r.validationData.length){e.next=22;break}c=r.validationData[0],l=r.validationData[1],e.next=27;break;case 22:if(3!==r.validationData.length){e.next=26;break}throw new da("validationData including sample weights is not supported yet.");case 26:throw new la("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(r.validationData," is invalid."));case 27:return!0,e.next=30,this.standardizeUserData(c,l,null,null,!0,f);case 30:A=e.sent,d=A[0],p=A[1],g=d.concat(p),e.next=37;break;case 36:null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1?(v=!0,y=Math.floor(a[0].shape[0]*(1-r.validationSplit)),b=a[0].shape[0],d=Ns(a,y,b),s=a,a=Ns(a,0,y),p=Ns(o,y,b),u=o,o=Ns(o,0,y),g=d.concat(p)):null!=r.validationSteps&&(v=!0);case 37:return x=a.concat(o).concat(h),this.checkTrainableWeightsConsistency(),w=this.makeTrainFunction(),_=this.getDedupedMetricsNames(),v?(this.makeTestFunction(),k=this.testFunction,O=_.slice().concat(_.map(function(e){return"val_"+e}))):(k=null,g=[],O=_.slice()),E=Ro(r.callbacks,r.yieldEvery),e.next=45,this.fitLoop(w,x,_,f,r.epochs,r.verbose,E,k,g,r.shuffle,O,r.initialEpoch,null,null);case 45:return S=e.sent,e.abrupt("return",S);case 47:return e.prev=47,this.isTraining=!1,Ls(a,t),Ls(o,n),Ls(s,t),Ls(u,n),Ls(d,c),Ls(p,l),null!=h&&i.ce(h),e.finish(47);case 57:case"end":return e.stop()}},e,this,[[4,,47,57]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitLoop",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n,r,a,o,s,u,c,l,d,p,h,f,m){var v,g,A,y,b,x,w,_,k=this;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==a&&(a=32),null==o&&(o=1),null==d&&(d=!0),null==h&&(h=0),v=!1,null!=c&&null!=l&&(v=!0),null==m){e.next=10;break}if(v=!0,null!=f){e.next=10;break}throw new la("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 10:return null!=(g=this.checkNumSamples(n,a,f,"steps_per_epoch"))&&(A=ti(0,g)),null==s&&(s=1),y=Lo(u,s,o,h,g,f,a,v,p),b=y.callbackList,x=y.history,b.setModel(this),this.history=x,e.next=18,b.onTrainBegin();case 18:this.stopTraining_=!1,w=ko.a.mark(function e(o){var s;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.onEpochBegin(o);case 2:if(s={},null==f){e.next=7;break}throw new da("stepsPerEpoch mode is not implemented yet.");case 7:return e.delegateYield(ko.a.mark(function e(){var o,u,p,h;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("batch"!==d){e.next=4;break}throw new da("batch shuffling is not implemneted yet");case 4:d&&i.Lf.shuffle(A);case 5:o=Object(i.Bf)(A),u=Rs(g,a),p=ko.a.mark(function e(d){var p;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p={},e.next=3,b.onBatchBegin(d,p);case 3:return i.Ef(function(){var e=u[d][0],h=u[d][1],f=ii(o,e,h-e);p.batch=d,p.size=h-e;for(var m=Ds(n,f),g=t(m),A=0;A<r.length;++A){var y=r[A],b=g[A];p[y]=b,i.ue(b)}if(d===u.length-1&&v)for(var x=k.testLoop(c,l,a),w=0;w<r.length;++w){var _=r[w],O=x[w];i.ue(O),s["val_"+_]=O}}),e.next=6,b.onBatchEnd(d,p);case 6:if(Co(p),!k.stopTraining_){e.next=9;break}return e.abrupt("return","break");case 9:case"end":return e.stop()}},e)}),h=0;case 9:if(!(h<u.length)){e.next=17;break}return e.delegateYield(p(h),"t0",11);case 11:if("break"!==e.t0){e.next=14;break}return e.abrupt("break",17);case 14:++h,e.next=9;break;case 17:o.dispose();case 18:case"end":return e.stop()}},e)})(),"t0",8);case 8:return e.next=10,b.onEpochEnd(o,s);case 10:if(!k.stopTraining_){e.next=12;break}return e.abrupt("return","break");case 12:case"end":return e.stop()}},e)}),_=h;case 21:if(!(_<o)){e.next=29;break}return e.delegateYield(w(_),"t0",23);case 23:if("break"!==e.t0){e.next=26;break}return e.abrupt("break",29);case 26:++_,e.next=21;break;case 29:return e.next=31,b.onTrainEnd();case 31:return e.next=33,this.history.syncData();case 33:return e.abrupt("return",this.history);case 34:case"end":return e.stop()}},e,this)}));return function(t,n,r,a,i,o,s,u,c,l,d,p,h,f){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Es(this,t,n));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a,o,s,u,c,l,d,p,h,f,m,v;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.standardizeUserData(t,n);case 2:r=e.sent,a=r[0],o=r[1],s=this.makeTrainFunction(),u=s(a.concat(o)),c=[],l=!0,d=!1,p=void 0,e.prev=11,h=u[Symbol.iterator]();case 13:if(l=(f=h.next()).done){e.next=22;break}return m=f.value,e.next=17,m.data();case 17:v=e.sent,c.push(v[0]);case 19:l=!0,e.next=13;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(11),d=!0,p=e.t0;case 28:e.prev=28,e.prev=29,l||null==h.return||h.return();case 31:if(e.prev=31,!d){e.next=34;break}throw p;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return i.ce(u),Ls(r[0],t),Ls(r[1],n),e.abrupt("return",ga(c));case 40:case"end":return e.stop()}},e,this,[[11,24,28,36],[29,,31,35]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}},{key:"dispose",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var n=i.Ie().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-i.Ie().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"===typeof this.loss)e=ya(this.loss);else if(Array.isArray(this.loss)){var t=!0,n=!1,r=void 0;try{for(var a,i=this.loss[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){if("string"!==typeof a.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(d){n=!0,r=d}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}e=this.loss.map(function(e){return ya(e)})}else{var o=Object.keys(this.loss);e={};for(var s=this.loss,u=0,c=o;u<c.length;u++){var l=c[u];if("string"!==typeof s[l])throw new Error("Serialization of non-string loss is not supported.");e[l]=ya(s[l])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[ya(us(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(function(e){return ya(us(e))});var e={};for(var t in this.metrics)e[t]=ya(us(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=Bo(vs(e.optimizer_config));if("string"===typeof e.loss)t=ba(e.loss);else if(Array.isArray(e.loss))t=e.loss.map(function(e){return ba(e)});else if(null!=e.loss)for(var a in t={},e.loss)t[a]=ba(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map(function(e){return ba(e)});else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=ba(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a,o,s,u,c,l,d,p;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=i.te.getSaveHandlers(t)).length){e.next=6;break}throw new la("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new la("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new la("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.next=13,i.te.encodeWeights(this.getNamedWeights(n));case 13:if(a=e.sent,!1,null,o=this.toJSON(null,!1),s={modelTopology:o,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat("4.8.0"),convertedBy:null},!(null!=n&&n.includeOptimizer)||null==this.optimizer){e.next=34;break}return s.trainingConfig=this.getTrainingConfig(),c="optimizer",e.t0=i.te,e.next=25,this.optimizer.getWeights();case 25:return e.t1=e.sent,e.t2=c,e.next=29,e.t0.encodeWeights.call(e.t0,e.t1,e.t2);case 29:l=e.sent,d=l.data,p=l.specs,(u=a.specs).push.apply(u,Object(Kn.a)(p)),a.data=i.te.concatenateArrayBuffers([a.data,d]);case 34:return null!=this.userDefinedMetadata&&(!0,ls(this.userDefinedMetadata,this.name,!0),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=a.data,s.weightSpecs=a.specs,e.abrupt("return",t.save(s));case 38:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){ls(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}},{key:"stopTraining",set:function(e){this.stopTraining_=e},get:function(){return this.stopTraining_}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}}]),t}(function(e){function t(e){var n;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,{}))).containerNodes=new Set,n.name=e.name,null==n.name){var r=n.getClassName().toLowerCase();n.name=Da(r)}if(n.supportsMasking=!1,n.trainable_=!0,Array.isArray(e.inputs)?n.inputs=e.inputs.slice():n.inputs=[e.inputs],Array.isArray(e.outputs)?n.outputs=e.outputs.slice():n.outputs=[e.outputs],Oa(n.inputs).length!==n.inputs.length)throw new la("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(n.inputs.map(function(e){return e.name})));Oa(n.outputs).length!==n.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(n.outputs.map(function(e){return e.name}))),n.inputLayers=[],n.inputLayersNodeIndices=[],n.inputLayersTensorIndices=[],n.outputLayers=[],n.outputLayersNodeIndices=[],n.outputLayersTensorIndices=[],n.layers=[],n.internalContainerRefs=[];var a=!0,i=!1,o=void 0;try{for(var s,u=n.outputs[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value,l=c.sourceLayer,d=c.nodeIndex,p=c.tensorIndex;n.outputLayers.push(l),n.outputLayersNodeIndices.push(d),n.outputLayersTensorIndices.push(p)}}catch(rt){i=!0,o=rt}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}var h=!0,f=!1,m=void 0;try{for(var v,g=n.inputs[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var A=v.value,y=A.sourceLayer,b=A.nodeIndex,x=A.tensorIndex;ma(0===b,"input layer has >1 nodes"),ma(0===x,"input layer has >1 tensors"),n.inputLayers.push(y),n.inputLayersNodeIndices.push(b),n.inputLayersTensorIndices.push(x)}}catch(rt){f=!0,m=rt}finally{try{h||null==g.return||g.return()}finally{if(f)throw m}}n.inputNames=[],n.outputNames=[],n.feedInputShapes=[],n.feedInputNames=[],n.feedOutputNames=[];for(var w=0;w<n.inputLayers.length;w++){var _=n.inputLayers[w];if(!(_ instanceof no))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(w," (0-based) originates ")+"from layer type ".concat(_.getClassName(),"."));n.inputNames.push(_.name),n.feedInputShapes.push(_.batchInputShape),n.feedInputNames.push(_.name)}var k=!0,O=!1,E=void 0;try{for(var S,C=n.outputLayers[Symbol.iterator]();!(k=(S=C.next()).done);k=!0){var T=S.value;n.outputNames.push(T.name)}}catch(rt){O=!0,E=rt}finally{try{k||null==C.return||C.return()}finally{if(O)throw E}}n.internalInputShapes=n.inputs.map(function(e){return e.shape}),n.internalOutputShapes=n.outputs.map(function(e){return e.shape});var I={},j={},M={},N={},D={},R=[],P=function e(r,a,i,o,s,u){null!=o&&null!=s&&null!=u||(o=r.sourceLayer,s=r.nodeIndex,u=r.tensorIndex);var c=o.inboundNodes[s];if(-1!==i.indexOf(c))throw new ca("The tensor ".concat(r.name,' at layer "').concat(o.name,'" ')+"is part of a cycle.");if(-1===a.indexOf(c)){n.containerNodes.add(t.nodeKey(o,s)),o.id in D||(D[o.id]=Object.keys(D).length),-1===i.indexOf(c)&&i.push(c);for(var l=c.inboundLayers.length,d=0;d<l;d++){e(c.inputTensors[d],a,i,c.inboundLayers[d],c.nodeIndices[d],c.tensorIndices[d])}for(a.push(c);i.indexOf(c)>=0;)i.splice(i.indexOf(c),1);R.push(c)}},L=[],F=[],B=!0,z=!1,U=void 0;try{for(var V,W=n.outputs[Symbol.iterator]();!(B=(V=W.next()).done);B=!0){P(V.value,L,F)}}catch(rt){z=!0,U=rt}finally{try{B||null==W.return||W.return()}finally{if(z)throw U}}var G=R.slice().reverse(),H=!0,q=!1,K=void 0;try{for(var X,Q=G[Symbol.iterator]();!(H=(X=Q.next()).done);H=!0){var Y=X.value;j[Y.id]=Y,Y.id in I||(I[Y.id]=0);var $=I[Y.id],Z=null==M[Y.outboundLayer.id]?0:M[Y.outboundLayer.id];$=Math.max($,Z),M[Y.outboundLayer.id]=$,N[Y.outboundLayer.id]=Y.outboundLayer,I[Y.id]=$;for(var J=0;J<Y.inboundLayers.length;J++){var ee=Y.inboundLayers[J],te=Y.nodeIndices[J],ne=ee.inboundNodes[te],re=null==I[ne.id]?0:I[ne.id];I[ne.id]=Math.max($+1,re),j[ne.id]=ne}}}catch(rt){q=!0,K=rt}finally{try{H||null==Q.return||Q.return()}finally{if(q)throw K}}var ae={};for(var ie in I){var oe=I[ie];oe in ae||(ae[oe]=[]),ae[oe].push(j[ie])}var se={};for(var ue in M){var ce=M[ue];ce in se||(se[ce]=[]),se[ce].push(N[ue])}var le=Object.keys(se).map(function(e){return parseInt(e,10)}).sort(ka);n.layers=[];var de=!0,pe=!1,he=void 0;try{for(var fe,me=le[Symbol.iterator]();!(de=(fe=me.next()).done);de=!0){var ve=se[fe.value];ve.sort(function(e,t){var n=D[e.id],r=D[t.id];return n<r?-1:n>r?1:0});var ge=!0,Ae=!1,ye=void 0;try{for(var be,xe=ve[Symbol.iterator]();!(ge=(be=xe.next()).done);ge=!0){var we=be.value;we instanceof t&&n.internalContainerRefs.push(we),n.layers.push(we)}}catch(rt){Ae=!0,ye=rt}finally{try{ge||null==xe.return||xe.return()}finally{if(Ae)throw ye}}}}catch(rt){pe=!0,he=rt}finally{try{de||null==me.return||me.return()}finally{if(pe)throw he}}n.layersByDepth=se,le=Object.keys(ae).map(function(e){return parseInt(e,10)}).sort(ka);var _e=n.inputs.slice(),ke=[],Oe=!0,Ee=!1,Se=void 0;try{for(var Ce,Te=le[Symbol.iterator]();!(Oe=(Ce=Te.next()).done);Oe=!0){var Ie=Ce.value,je=!0,Me=!1,Ne=void 0;try{for(var De,Re=ae[Ie][Symbol.iterator]();!(je=(De=Re.next()).done);je=!0){var Pe=De.value,Le=Pe.outboundLayer;if(null!=Le){var Fe=!0,Be=!1,ze=void 0;try{for(var Ue,Ve=Pe.inputTensors[Symbol.iterator]();!(Fe=(Ue=Ve.next()).done);Fe=!0){var We=Ue.value;if(-1===_e.indexOf(We))throw new ca("Graph disconnected: cannot obtain value for tensor ".concat(We)+' at layer "'.concat(Le.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(ke))}}catch(rt){Be=!0,ze=rt}finally{try{Fe||null==Ve.return||Ve.return()}finally{if(Be)throw ze}}var Ge=!0,He=!1,qe=void 0;try{for(var Ke,Xe=Pe.outputTensors[Symbol.iterator]();!(Ge=(Ke=Xe.next()).done);Ge=!0){var Qe=Ke.value;_e.push(Qe)}}catch(rt){He=!0,qe=rt}finally{try{Ge||null==Xe.return||Xe.return()}finally{if(He)throw qe}}ke.push(Le.name)}}}catch(rt){Me=!0,Ne=rt}finally{try{je||null==Re.return||Re.return()}finally{if(Me)throw Ne}}}}catch(rt){Ee=!0,Se=rt}finally{try{Oe||null==Te.return||Te.return()}finally{if(Ee)throw Se}}n.nodesByDepth=ae;var Ye=n.layers.map(function(e){return e.name}),$e=!0,Ze=!1,Je=void 0;try{for(var et,tt=function(){var e=et.value,t=Ye.filter(function(t){return t===e}).length;if(1!==t)throw new ca('The name "'.concat(e,'" is used ').concat(t," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(Ye))},nt=Ye[Symbol.iterator]();!($e=(et=nt.next()).done);$e=!0)tt()}catch(rt){Ze=!0,Je=rt}finally{try{$e||null==nt.return||nt.return()}finally{if(Ze)throw Je}}return n.outboundNodes=[],n.inboundNodes=[],new Ji({outboundLayer:Object(ra.a)(n),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:n.inputs,outputTensors:n.outputs,inputMasks:n.inputs.map(function(e){return null}),outputMasks:n.outputs.map(function(e){return null}),inputShapes:n.inputs.map(function(e){return e.shape}),outputShapes:n.outputs.map(function(e){return e.shape})}),n.built=!0,n._refCount=1,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var t=!0,n=!1,r=void 0;try{for(var a,i=this.layers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.numDisposedVariables+=o.dispose().numDisposedVariables}}catch(h){n=!0,r=h}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var s=!0,u=!1,c=void 0;try{for(var l,d=this.internalContainerRefs[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value;e.numDisposedVariables+=p.dispose().numDisposedVariables}}catch(h){u=!0,c=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}return e.refCountAfterDispose=this._refCount,e}},{key:"loadWeights",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={},r=0,a=!0,i=!1,o=void 0;try{for(var s,u=this.layers[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value,l=!0,d=!1,p=void 0;try{for(var h,f=c.weights[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var m=h.value;if(null!=n[m.originalName])throw new la("Duplicate weight name: ".concat(m.originalName));n[m.originalName]=m,r++}}catch(w){d=!0,p=w}finally{try{l||null==f.return||f.return()}finally{if(d)throw p}}}}catch(w){i=!0,o=w}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}var v=[];for(var g in e){var A=g;if(null==n[g]){var y=g.split("/");A=y.slice(0,-2).concat([y[y.length-1]]).join("/")}if(null!=n[A])v.push([n[A],e[g]]);else if(t)throw new la("Provided weight data has no target variable: ".concat(g));delete n[A]}if(t){var b=[];for(var x in n)b.push(x);if(b.length>0)throw new la("".concat(b.length," of ").concat(r," weights are not set: ")+"".concat(b))}Qi(v)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat("4.8.0"),t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function e(t,n){if(null===t||void 0===t)return null;if("string"===typeof t)return ya(t);if("number"===typeof t||"boolean"===typeof t)return t;if(t instanceof Array){for(var r=[],a=t.length,i=0;i<a;++i){var o=t[i];ms(n,i,o)?r.push(o):r.push(e(o,n))}return r}for(var s={},u=0,c=Object.keys(t);u<c.length;u++){var l=c[u],d=t[l],p=ya(l);s[p]="name"!==l&&"className"!==l||"string"!==typeof d?e(d,l):d}return s}(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){e=Aa(e);for(var r=new ao,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return so(n.outputs,r,t)})}},{key:"computeMask",value:function(e,t){var n=this;return Object(i.Ef)(function(){var r;return e=Aa(e),r=null==t?fa(null,e.length):Aa(t),n.runInternalGraph(e,r)[1]})}},{key:"computeOutputShape",value:function(e){var t=Vi(e);if(t.length!==this.inputLayers.length)throw new la("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],i=t[r];n[a.name+"_0_0"]=i}var o=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(ka);if(o.length>1){var s=!0,u=!1,c=void 0;try{for(var l,d=o[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value,h=this.nodesByDepth[p],f=!0,m=!1,v=void 0;try{for(var g,A=h[Symbol.iterator]();!(f=(g=A.next()).done);f=!0){var y=g.value,b=y.outboundLayer;if(-1===this.inputLayers.map(function(e){return e.id}).indexOf(b.id)){for(var x=[],w=0;w<y.inboundLayers.length;w++){var _=y.inboundLayers[w],k=y.nodeIndices[w],O=y.tensorIndices[w],E=n["".concat(_.name,"_").concat(k,"_").concat(O)];x.push(E)}for(var S=Vi(b.computeOutputShape(ga(x))),C=b.inboundNodes.indexOf(y),T=0;T<S.length;T++){n["".concat(b.name,"_").concat(C,"_").concat(T)]=S[T]}}}}catch(B){m=!0,v=B}finally{try{f||null==A.return||A.return()}finally{if(m)throw v}}}}catch(B){u=!0,c=B}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}for(var I=[],j=[],M=0;M<this.outputLayers.length;M++){var N=this.outputLayers[M],D=this.outputLayersNodeIndices[M],R=this.outputLayersTensorIndices[M],P="".concat(N.name,"_").concat(D,"_").concat(R);j.push(P)}for(var L=0;L<j.length;L++){var F=j[L];ma(F in n),I.push(n[F])}return ga(I)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=fa(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],i=e[r],s=t[r];n[a.id]=[i,s]}var u=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(ka),c=!0,l=!1,d=void 0;try{for(var p,h=u[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var f=p.value,m=this.nodesByDepth[f],v=!0,g=!1,A=void 0;try{for(var y,b=m[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var x=y.value,w=x.outboundLayer,_=x.inputTensors,k=x.outputTensors,O=new Array,E=!0,S=!1,C=void 0;try{for(var T,I=_[Symbol.iterator]();!(E=(T=I.next()).done);E=!0){var j=T.value;j.id in n&&O.push(n[j.id])}}catch(ne){S=!0,C=ne}finally{try{E||null==I.return||I.return()}finally{if(S)throw C}}if(O.length===_.length){var M={},N=void 0,D=void 0,R=void 0,P=void 0;if(null!=x.callArgs&&(M=x.callArgs),1===O.length){var L=Object(o.a)(O[0],2),F=L[0],B=L[1];null==M.mask&&(M.mask=B),R=Aa(w.call(F,M)),P=Aa(w.computeMask(F,B)),N=[F],D=[B]}else N=O.map(function(e){return e[0]}),D=O.map(function(e){return e[1]}),null==M.mask&&(M.mask=D),R=Aa(w.call(N,M)),P=Aa(w.computeMask(N,D));if(w.activityRegularizer)throw new da("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var z=0;z<k.length;++z){var U=k[z],V=R[z],W=P[z];n[U.id]=[V,W]}}}}catch(ne){g=!0,A=ne}finally{try{v||null==b.return||b.return()}finally{if(g)throw A}}}}catch(ne){l=!0,d=ne}finally{try{c||null==h.return||h.return()}finally{if(l)throw d}}var G=[],H=[],q=[],K=!0,X=!1,Q=void 0;try{for(var Y,$=this.outputs[Symbol.iterator]();!(K=(Y=$.next()).done);K=!0){var Z=Y.value;ma(Z.id in n,"Could not compute output ".concat(Z.name," : ").concat(Z.id));var J=Object(o.a)(n[Z.id],2),ee=J[0],te=J[1];q.push(ee.shape),G.push(ee),H.push(te)}}catch(ne){X=!0,Q=ne}finally{try{K||null==$.return||$.return()}finally{if(X)throw Q}}return[G,H,q]}},{key:"buildNodeConversionMap",value:function(e){var n,r={},a=!0,i=!1,o=void 0;try{for(var s,u=this.layers[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;n=c instanceof t?1:0;for(var l=0;l<c.inboundNodes.length;l++){var d=t.nodeKey(c,l);this.containerNodes.has(d)&&(r[d]=n,n+=1)}}}catch(p){i=!0,o=p}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return r}},{key:"getLayer",value:function(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new la("Provide either a layer name or layer index");if("number"===typeof e)return this.findLayer(e);var n=!0,r=!1,a=void 0;try{for(var i,o=this.layers[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;if(s.name===e)return s}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}throw new la("No such layer: ".concat(e))}},{key:"findLayer",value:function(e){if(this.layers.length<=e)throw new la("Was asked to retrieve layer at index ".concat(e,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[e]}},{key:"calculateLosses",value:function(){var e=this;return Object(i.Ef)(function(){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e.layers[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)for(var u=o.value,c=0;c<u.inboundNodes.length;++c){var l=t.nodeKey(u,c);e.containerNodes.has(l)&&n.push.apply(n,Object(Kn.a)(u.calculateLosses()))}}catch(d){a=!0,i=d}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n})}},{key:"getConfig",value:function(){var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],a=!0,i=!1,o=void 0;try{for(var s,u=this.layers[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){for(var c=s.value,l=c.getClassName(),d=c.getConfig(),p=[],h=0;h<c.inboundNodes.length;h++){var f=c.inboundNodes[h],m=t.nodeKey(c,h),v={};if(this.containerNodes.has(m)){if(f.callArgs)try{JSON.stringify(f.callArgs),v=f.callArgs}catch(F){console.warn("Layer ".concat(c.name," was passed ")+"non-serializable keyword arguments: "+"".concat(f.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),v={}}if(f.inboundLayers.length>0){for(var g=[],A=0;A<f.inboundLayers.length;A++){var y=f.inboundLayers[A],b=f.nodeIndices[A],x=f.tensorIndices[A],w=n[t.nodeKey(y,b)];null==w&&(w=0),g.push([y.name,w,x,v])}p.push(g)}}}var _={};_.name=c.name,_.className=l,_.config=d,_.inboundNodes=p,r.push(_)}}catch(F){i=!0,o=F}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}e.layers=r;for(var k=[],O=0;O<this.inputLayers.length;O++){var E=this.inputLayers[O],S=this.inputLayersNodeIndices[O],C=t.nodeKey(E,S);if(this.containerNodes.has(C)){var T=n[C];null!==T&&void 0!==T||(T=0);var I=this.inputLayersTensorIndices[O];k.push([E.name,T,I])}}e.inputLayers=k;for(var j=[],M=0;M<this.outputLayers.length;M++){var N=this.outputLayers[M],D=this.outputLayersNodeIndices[M],R=t.nodeKey(N,D);if(this.containerNodes.has(R)){var P=n[R];null!==P&&void 0!==P||(P=0);var L=this.outputLayersTensorIndices[M];j.push([N.name,P,L])}}return e.outputLayers=j,e}},{key:"resetStates",value:function(){var e=this;Object(i.Ef)(function(){e.layers.forEach(function(e){e.stateful&&e.resetStates()})})}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach(function(t){t._trainableWeights.forEach(function(t){return t.trainable=e})}),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new la("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.layers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e=e.concat(o.trainableWeights)}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"nonTrainableWeights",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.layers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.push.apply(e,Object(Kn.a)(o.nonTrainableWeights))}}catch(f){n=!0,r=f}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}if(!this.trainable){var s=[],u=!0,c=!1,l=void 0;try{for(var d,p=this.layers[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;s.push.apply(s,Object(Kn.a)(h.trainableWeights))}}catch(f){c=!0,l=f}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}return s.concat(e)}return e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){if(this._stateful)throw new la("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var e=!0,t=!1,n=void 0;try{for(var r,a=this.layers[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){if(r.value.stateful)return!0}}catch(i){t=!0,n=i}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}return!1}}],[{key:"fromConfig",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function i(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function o(e,t){var n,a=[],o=!0,s=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value,p=d[0],h=d[1],f=d[2];if(n=null==d[3]?{}:d[3],!(p in r))return void i(e,t);var m=r[p];if(m.inboundNodes.length<=h)return void i(e,t);var v=m.inboundNodes[h];a.push(v.outputTensors[f])}}catch(g){s=!0,u=g}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}a.length>0&&e.apply(ga(a),n)}function s(e){var a=e.name,o=Bo(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[a]=o,e.inboundNodes.forEach(function(e){if(!(e instanceof Array))throw new la("Corrupted configuration, expected array for nodeData: ".concat(e));i(o,e)})}var u=t.name,c=t.layers,l=!0,d=!1,p=void 0;try{for(var h,f=c[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){s(h.value)}}catch(Z){d=!0,p=Z}finally{try{l||null==f.return||f.return()}finally{if(d)throw p}}for(;!Ea(a);){var m=!0,v=!1,g=void 0;try{for(var A,y=c[Symbol.iterator]();!(m=(A=y.next()).done);m=!0){var b=A.value,x=r[b.name];if(x.name in a){var w=a[x.name];delete a[x.name];var _=!0,k=!1,O=void 0;try{for(var E,S=w[Symbol.iterator]();!(_=(E=S.next()).done);_=!0){o(x,E.value)}}catch(Z){k=!0,O=Z}finally{try{_||null==S.return||S.return()}finally{if(k)throw O}}}}}catch(Z){v=!0,g=Z}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}}var C=[],T=[],I=t.inputLayers,j=!0,M=!1,N=void 0;try{for(var D,R=I[Symbol.iterator]();!(j=(D=R.next()).done);j=!0){var P=D.value,L=P[0],F=P[1],B=P[2];ma(L in r);var z=r[L].inboundNodes[F].outputTensors;C.push(z[B])}}catch(Z){M=!0,N=Z}finally{try{j||null==R.return||R.return()}finally{if(M)throw N}}var U=t.outputLayers,V=!0,W=!1,G=void 0;try{for(var H,q=U[Symbol.iterator]();!(V=(H=q.next()).done);V=!0){var K=H.value,X=K[0],Q=K[1],Y=K[2];ma(X in r);var $=r[X].inboundNodes[Q].outputTensors;T.push($[Y])}}catch(Z){W=!0,G=Z}finally{try{V||null==q.return||q.return()}finally{if(W)throw G}}return new e({inputs:C,outputs:T,name:u})}}]),t}(to));Vs.className="Model",i.hf.registerClass(Vs);var Ws=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),t}(Vs);Ws.className="Functional",i.hf.registerClass(Ws);var Gs=function(e){function t(e){var n;if(Object(Jr.a)(this,t),e=e||{},(n=Object(ta.a)(this,Object(na.a)(t).call(this,{inputs:[],outputs:[]}))).trainable=!0,n.built=!1,n.name=null!=e.name?e.name:Da("sequential_"),null!=e.layers){var r=!0,a=!1,i=void 0;try{for(var o,s=e.layers[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;n.add(u)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}return n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some(function(e){return e<0}))throw new la("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(e){var n,r=e instanceof t||e instanceof Vs;if(r){if(1!==(n=e).outputs.length)throw new la("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new la("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new la("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=ro({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new la("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new la("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=function e(t,n,r){if((null==n||null!=r&&r>0)&&(n=t.sourceLayer,r=t.nodeIndex),0===n.inboundNodes.length)return[t];var a=n.inboundNodes[r];if(0===a.inboundLayers.length)return a.inputTensors;for(var i=[],o=0;o<a.inboundLayers.length;o++){var s=e(a.inputTensors[o],a.inboundLayers[o],a.nodeIndices[o]),u=!0,c=!1,l=void 0;try{for(var d,p=s[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;-1===i.indexOf(h)&&i.push(h)}}catch(f){c=!0,l=f}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}return i}(this.outputs[0])}this.inboundNodes=[],new Ji({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:fa(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(e){return e.shape}),outputShapes:this.outputs[0].shape})}else{var i=e.apply(this.outputs[0]);if(Array.isArray(i))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[i],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(Gi(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Vs({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),Object(Fo.a)(Object(na.a)(t.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),Object(Fo.a)(Object(na.a)(t.prototype),"summary",this).call(this,e,n,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new ca("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new ca("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.evaluateDataset(t,n));case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"fit",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){var r,a=arguments;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},this.built){e.next=3;break}throw new ca("The model needs to be compiled before being used.");case 3:return e.abrupt("return",this.model.fit(t,n,r));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new ca("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.fitDataset(t,n));case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t,n){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.trainOnBatch(t,n));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.layers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,s={};s.className=o.getClassName(),s.config=o.getConfig(),e.push(s)}}catch(u){n=!0,r=u}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return{name:this.name,layers:e}}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"stopTraining",set:function(e){if(null==this.model)throw new la("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e},get:function(){if(null==this.model)throw new la("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}}],[{key:"fromConfig",value:function(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new la("Legacy serialization format not supported yet.");r=n}else i.Lf.assert(null!=n.layers,function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."}),r=n.layers,delete n.layers,o=n;var s=new e(o);if(!(s instanceof t))throw new da("Sequential.fromConfig called on non-Sequential input: ".concat(s));var u=!0,c=!1,l=void 0;try{for(var d,p=r[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value,f=Bo(h,void 0,a);a&&f.setFastWeightInitDuringBuild(!0),s.add(f)}}catch(m){c=!0,l=m}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}return s}}]),t}(Vs);function Hs(e){return new Gs(e)}function qs(e){return ro(e)}Gs.className="Sequential",i.hf.registerClass(Gs);var Ks=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){return{}}}]),t}(i.hf.Serializable),Xs=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new da("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return i.fe(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}]),t}(Ks);Xs.className="elu",i.hf.registerClass(Xs);var Qs=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return i.ff(e)}}]),t}(Ks);Qs.className="selu",i.hf.registerClass(Qs);var Ys=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return i.bf(e)}}]),t}(Ks);Ys.className="relu",i.hf.registerClass(Ys);var $s=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return Object(i.Ef)(function(){return i.Ke(6,i.bf(e))})}}]),t}(Ks);$s.className="relu6",i.hf.registerClass($s);var Zs=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return e}}]),t}(Ks);Zs.className="linear",i.hf.registerClass(Zs);var Js=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return i.jf(e)}}]),t}(Ks);Js.className="sigmoid",i.hf.registerClass(Js);var eu=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return function(e){return Object(i.Ef)(function(){var t=i.xd(.5,i.Me(.2,e));return i.Nd(t,0,1)})}(e)}}]),t}(Ks);eu.className="hardSigmoid",i.hf.registerClass(eu);var tu=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return i.rf(e)}}]),t}(Ks);tu.className="softplus",i.hf.registerClass(tu);var nu=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return function(e){return Object(i.Ef)(function(){return i.de(e,i.xd(i.wd(e),1))})}(e)}}]),t}(Ks);nu.className="softsign",i.hf.registerClass(nu);var ru=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return i.zf(e)}}]),t}(Ks);ru.className="tanh",i.hf.registerClass(ru);var au=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return i.qf(e,t)}}]),t}(Ks);au.className="softmax",i.hf.registerClass(au);var iu=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return i.Ae(e,t)}}]),t}(Ks);iu.className="logSoftmax",i.hf.registerClass(iu);var ou=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i.Ef)(function(){return i.Me(i.jf(i.Me(e,t)),e)})}}]),t}(Ks);ou.className="swish",i.hf.registerClass(ou);var su=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){return Object(i.Ef)(function(){return i.Me(e,i.zf(i.rf(e)))})}}]),t}(Ks);function uu(e){return e.getClassName()}function cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _a(e,i.hf.SerializationMap.getMap().classNameMap,t,"activation")}function lu(e){if(null==e){var t={className:"linear",config:{}};return cu(t)}if("string"===typeof e){var n={};return n.className=e,n.config={},cu(n)}return e instanceof Ks?e:cu(e)}function du(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}su.className="mish",i.hf.registerClass(su);var pu=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),t}(i.hf.Serializable),hu=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this)),du(e),n.l1=null==e||null==e.l1?.01:e.l1,n.l2=null==e||null==e.l2?.01:e.l2,n.hasL1=0!==n.l1,n.hasL2=0!==n.l2,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e){var t=this;return Object(i.Ef)(function(){var n=Object(i.Qf)([1]);return t.hasL1&&(n=Object(i.xd)(n,Object(i.xf)(i.Me(t.l1,Object(i.wd)(e))))),t.hasL2&&(n=Object(i.xd)(n,Object(i.xf)(i.Me(t.l2,fi(e))))),i.cf(n,[])})}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),t}(pu);hu.className="L1L2",i.hf.registerClass(hu);var fu={l1l2:"L1L2"};function mu(e){return wa(e)}function vu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _a(e,i.hf.SerializationMap.getMap().classNameMap,t,"regularizer")}function gu(e){return null==e?null:"string"===typeof e?vu({className:e in fu?fu[e]:e,config:{}}):e instanceof pu?e:vu(e)}var Au=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,null==e?{}:e))).supportsMasking=!0,null!=e&&(n.maxValue=e.maxValue),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){e=Wi(e);var n=Object(i.bf)(e);return null!=this.maxValue&&(n=Object(i.Nd)(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);Au.className="ReLU",i.hf.registerClass(Au);var yu=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,null==e?{}:e))).DEFAULT_ALPHA=.3,null==e&&(e={}),n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){var n=Wi(e);return Object(i.we)(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);yu.className="LeakyReLU",i.hf.registerClass(yu);var bu=function(e){function t(e){var n;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,null==e?{}:e))).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),n.supportsMasking=!0,n.alphaInitializer=zi(e.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=gu(e.alphaRegularizer),n.alphaConstraint=xo(e.alphaConstraint),null==e.sharedAxes)n.sharedAxes=null;else if(Array.isArray(e.sharedAxes))n.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new la("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));n.sharedAxes=[e.sharedAxes]}return n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){var t=(e=Gi(e)).slice(1);if(null!=this.sharedAxes){var n=!0,r=!1,a=void 0;try{for(var i,o=this.sharedAxes[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){t[i.value-1]=1}}catch(c){r=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var s={};if(null!=this.sharedAxes)for(var u=1;u<e.length;++u)s[u]=e[u];this.inputSpec=[new Yi({ndim:e.length,axes:s})],this.built=!0}},{key:"call",value:function(e,t){return e=Wi(e),Object(i.Ve)(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:Bi(this.alphaInitializer),alphaRegularizer:mu(this.alphaRegularizer),alphaConstraint:yo(this.alphaConstraint),sharedAxes:this.sharedAxes},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);bu.className="PReLU",i.hf.registerClass(bu);var xu=function(e){function t(e){var n;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,null==e?{}:e))).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==n.DEFAULT_ALPHA)throw new da("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");return n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){var n=Wi(e);return Object(i.fe)(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);xu.className="ELU",i.hf.registerClass(xu);var wu=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,null==e?{}:e))).DEFAULT_THETA=1,null==e&&(e={}),n.theta=null==e.theta?n.DEFAULT_THETA:e.theta,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){var n=Wi(e);return Object(i.Me)(n,Object(i.Md)(Object(i.qe)(n,this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);wu.className="ThresholdedReLU",i.hf.registerClass(wu);var _u=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,null==e?{}:e))).DEFAULT_AXIS=1,null==e&&(e={}),n.softmax=(new au).apply,n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){var n=Wi(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);_u.className="Softmax",i.hf.registerClass(_u);var ku=n(131);function Ou(e,t,n){if("number"===typeof e)return fa(e,t);if(e.length!==t)throw new la("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(var r=0;r<t;++r){var a=e[r];if((i=a)!==parseInt(i.toString(),10))throw new la("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(a))}return e;var i}function Eu(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return null==e?e:(a="same"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((a+r-1)/r))}function Su(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+ei([n-t,0]);else{if("same"!==r)throw new la("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function Cu(e,t){return Object(i.Ef)(function(){return Ua(t),"channelsFirst"===t?i.Hf(e,[0,2,3,1]):e})}function Tu(e,t){return Object(i.Ef)(function(){return Ua(t),"channelsFirst"===t?i.Hf(e,[0,2,3,4,1]):e})}function Iu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Object(i.Ef)(function(){if(null==o&&(o="channelsLast"),Ua(o),3!==e.shape.length)throw new la("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new la("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new la("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(t.shape.length," instead"));if("channelsFirst"===o&&(e=i.Hf(e,[0,2,1])),"causal"===a)throw new da("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var u=i.Ud(e,t,r,"same"===a?"same":"valid","NWC",s);return null!=n&&(u=vi(u,n)),u})}function ju(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return Object(i.Ef)(function(){if(null==o&&(o="channelsLast"),Ua(o),3!==e.rank&&4!==e.rank)throw new la("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new la("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));var c=Cu(e,o);if("causal"===a)throw new da("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=i.oe.conv2d({x:c,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:u}),"channelsFirst"===o&&(c=i.Hf(c,[0,3,1,2])),c})}function Mu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return Object(i.Ef)(function(){if(null==o&&(o="channelsLast"),Ua(o),4!==e.rank&&5!==e.rank)throw new la("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new la("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));var u=Tu(e,o);if("causal"===a)throw new da("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=i.Xd(u,t,r,"same"===a?"same":"valid","NDHWC",s),null!=n&&(u=vi(u,n)),"channelsFirst"===o&&(u=i.Hf(u,[0,4,1,2,3])),u})}var Nu=function(e){function t(e,n){var r;if(Object(Jr.a)(this,t),(r=Object(ta.a)(this,Object(na.a)(t).call(this,n))).bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",t.verifyArgs(n),r.rank=e,Ta(r.rank,"rank"),1!==r.rank&&2!==r.rank&&3!==r.rank)throw new da("Convolution layer for rank other than 1, 2, or 3 (".concat(r.rank,") is ")+"not implemented yet.");if(r.kernelSize=Ou(n.kernelSize,e,"kernelSize"),r.strides=Ou(null==n.strides?1:n.strides,e,"strides"),r.padding=null==n.padding?"valid":n.padding,Va(r.padding),r.dataFormat=null==n.dataFormat?"channelsLast":n.dataFormat,Ua(r.dataFormat),r.activation=lu(n.activation),r.useBias=null==n.useBias||n.useBias,r.biasInitializer=zi(n.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.biasConstraint=xo(n.biasConstraint),r.biasRegularizer=gu(n.biasRegularizer),r.activityRegularizer=gu(n.activityRegularizer),r.dilationRate=Ou(null==n.dilationRate?1:n.dilationRate,e,"dilationRate"),1===r.rank&&Array.isArray(r.dilationRate)&&1!==r.dilationRate.length)throw new la("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(r.dilationRate)));if(2===r.rank){if("number"===typeof r.dilationRate)r.dilationRate=[r.dilationRate,r.dilationRate];else if(2!==r.dilationRate.length)throw new la("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(r.dilationRate)))}else if(3===r.rank)if("number"===typeof r.dilationRate)r.dilationRate=[r.dilationRate,r.dilationRate,r.dilationRate];else if(3!==r.dilationRate.length)throw new la("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(r.dilationRate)));return r}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:uu(this.activation),useBias:this.useBias,biasInitializer:Bi(this.biasInitializer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),biasConstraint:yo(this.biasConstraint)},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}],[{key:"verifyArgs",value:function(e){if(ma("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!Ca(e.kernelSize,"number",1,3))throw new la("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),t}(to),Du=function(e){function t(e,n){var r;return Object(Jr.a)(this,t),(r=Object(ta.a)(this,Object(na.a)(t).call(this,e,n))).kernel=null,t.verifyArgs(n),r.filters=n.filters,Ta(r.filters,"filters"),r.kernelInitializer=zi(n.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.kernelConstraint=xo(n.kernelConstraint),r.kernelRegularizer=gu(n.kernelRegularizer),r}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){e=Gi(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new la("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:Object(ku.a)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var t;e=Wi(e);var r=null==n.bias?null:n.bias.read(),a=Ia(n.activation.getClassName());if(null!=a&&2===n.rank)t=ju(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=Iu(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=ju(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new da("convolutions greater than 3D are not implemented yet.");t=Mu(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t})}},{key:"computeOutputShape",value:function(e){e=Gi(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=Eu(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var i=[e[0]];return"channelsLast"===this.dataFormat?(i=i.concat(t)).push(this.filters):(i.push(this.filters),i=i.concat(t)),i}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:Bi(this.kernelInitializer),kernelRegularizer:mu(this.kernelRegularizer),kernelConstraint:yo(this.kernelConstraint)},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new la("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}]),t}(Nu),Ru=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,2,e)),t.verifyArgs(e),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Ca(e.kernelSize,"number",1,2))throw new la("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),t}(Du);Ru.className="Conv2D",i.hf.registerClass(Ru);var Pu=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,3,e)),t.verifyArgs(e),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new la("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),t}(Du);Pu.className="Conv3D",i.hf.registerClass(Pu);var Lu=function(e){function t(e){var n;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).inputSpec=[new Yi({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new la("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(n.padding));return n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){if(4!==(e=Gi(e)).length)throw new la("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new la("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Yi({ndim:4,axes:Object(ku.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return i.Ef(function(){var t=Wi(e);if(4!==t.shape.length)throw new la("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,o=t.shape,s=o[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var u=o[r],c=o[a],l=n.kernelSize[0],d=n.kernelSize[1],p=n.strides[0],h=n.strides[1],f=[s,Su(u,p,l,n.padding),Su(c,h,d,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=i.Hf(t,[0,2,3,1]));var m=i.Wd(t,n.kernel.read(),f,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(m=i.Hf(m,[0,3,1,2])),null!=n.bias&&(m=vi(m,n.bias.read(),n.dataFormat)),null!=n.activation&&(m=n.activation.apply(m)),m})}},{key:"computeOutputShape",value:function(e){var t,n,r,a=(e=Gi(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var i=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return a[t]=this.filters,a[n]=Su(a[n],s,i,this.padding),a[r]=Su(a[r],u,o,this.padding),a}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),t}(Ru);Lu.className="Conv2DTranspose",i.hf.registerClass(Lu);var Fu=function(e){function t(e){var n;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).inputSpec=[new Yi({ndim:5})],"same"!==n.padding&&"valid"!==n.padding)throw new la("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(n.padding));return n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){if(5!==(e=Gi(e)).length)throw new la("Input should have rank 5; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new la("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Yi({ndim:5,axes:Object(ku.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return i.Ef(function(){var t=Wi(e);if(5!==t.shape.length)throw new la("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,o,s=t.shape,u=s[0];"channelsFirst"===n.dataFormat?(o=2,r=3,a=4):(o=1,r=2,a=3);var c=s[o],l=s[r],d=s[a],p=n.kernelSize[0],h=n.kernelSize[1],f=n.kernelSize[2],m=n.strides[0],v=n.strides[1],g=n.strides[2],A=[u,Su(c,m,p,n.padding),Su(l,v,h,n.padding),Su(d,g,f,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=i.Hf(t,[0,2,3,4,1]));var y=i.Yd(t,n.kernel.read(),A,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(y=i.Hf(y,[0,4,1,2,3])),null!==n.bias&&(y=vi(y,n.bias.read(),n.dataFormat)),null!==n.activation&&(y=n.activation.apply(y)),y})}},{key:"computeOutputShape",value:function(e){var t,n,r,a,i=(e=Gi(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3,a=4):(t=4,n=1,r=2,a=3);var o=this.kernelSize[0],s=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],l=this.strides[1],d=this.strides[2];return i[t]=this.filters,i[n]=Su(i[n],c,o,this.padding),i[r]=Su(i[r],l,s,this.padding),i[a]=Su(i[a],d,u,this.padding),i}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),t}(Pu);Fu.className="Conv3DTranspose",i.hf.registerClass(Fu);var Bu=function(e){function t(e,n){var r;if(Object(Jr.a)(this,t),(r=Object(ta.a)(this,Object(na.a)(t).call(this,e,n))).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new la("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new la("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new la("SeparableConv".concat(r.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(n.padding)));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=zi(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=gu(n.depthwiseRegularizer),r.depthwiseConstraint=xo(n.depthwiseConstraint),r.pointwiseInitializer=zi(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=gu(n.pointwiseRegularizer),r.pointwiseConstraint=xo(n.pointwiseConstraint),r}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){if((e=Gi(e)).length<this.rank+2)throw new la("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new la("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],i=0;i<this.rank;++i)a.push(1);a.push(n*this.depthMultiplier,this.filters);this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new Yi({ndim:this.rank+2,axes:Object(ku.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var t;if(e=Wi(e),1===n.rank)throw new da("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=i.Hf(e,[0,2,3,1])),t=i.gf(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=vi(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=i.Hf(t,[0,3,1,2])),t})}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Bi(this.depthwiseInitializer),e.pointwiseInitializer=Bi(this.pointwiseInitializer),e.depthwiseRegularizer=mu(this.depthwiseRegularizer),e.pointwiseRegularizer=mu(this.pointwiseRegularizer),e.depthwiseConstraint=yo(this.depthwiseConstraint),e.pointwiseConstraint=yo(this.pointwiseConstraint),e}}]),t}(Du);Bu.className="SeparableConv";var zu=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,2,e))}return Object(aa.a)(t,e),t}(Bu);zu.className="SeparableConv2D",i.hf.registerClass(zu);var Uu=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,1,e)),t.verifyArgs(e),n.inputSpec=[{ndim:3}],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Ca(e.kernelSize,"number",1,1))throw new la("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),t}(Du);Uu.className="Conv1D",i.hf.registerClass(Uu);var Vu=function(e){function t(e){var n;return Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e)),"number"===typeof e.cropping?n.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?n.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:n.cropping=e.cropping,n.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,n.inputSpec=[{ndim:4}],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){if(e=Wi(e),"channelsLast"===n.dataFormat){var t=si(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return si(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=si(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return si(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)})}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);Vu.className="Cropping2D",i.hf.registerClass(Vu);var Wu=function(e){function t(e){var n,r;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==e.size?n.DEFAULT_SIZE:e.size,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ua(n.dataFormat),n.interpolation=null==e.interpolation?"nearest":e.interpolation,r=n.interpolation,Sa(Pa,"InterpolationFormat",r),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],r,a,e[3]]}},{key:"call",value:function(e,t){var n=this;return i.Ef(function(){var t=Wi(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=i.Hf(t,[0,2,3,1]);var a=n.size[0]*r[2],o=n.size[1]*r[3],s="nearest"===n.interpolation?i.se.resizeNearestNeighbor(t,[a,o]):i.se.resizeBilinear(t,[a,o]);return i.Hf(s,[0,3,1,2])}var u=n.size[0]*r[1],c=n.size[1]*r[2];return"nearest"===n.interpolation?i.se.resizeNearestNeighbor(t,[u,c]):i.se.resizeBilinear(t,[u,c])})}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);Wu.className="UpSampling2D",i.hf.registerClass(Wu);var Gu=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,2,e))).depthwiseKernel=null,n.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,n.depthwiseInitializer=zi(e.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=xo(e.depthwiseConstraint),n.depthwiseRegularizer=gu(e.depthwiseRegularizer),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){if((e=Gi(e)).length<4)throw new la("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new la("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return Object(i.Ef)(function(){null==a&&(a="channelsLast"),Ua(a);var s=Cu(e,a);if(4!==e.rank)throw new la("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new la("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return s=i.ae(s,t,n,"same"===r?"same":"valid","NHWC",o),"channelsFirst"===a&&(s=i.Hf(s,[0,3,1,2])),s})}(e=Wi(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=vi(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t})}},{key:"computeOutputShape",value:function(e){e=Gi(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=Eu(t,this.kernelSize[0],this.padding,this.strides[0]),i=Eu(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r]}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Bi(this.depthwiseInitializer),e.depthwiseRegularizer=mu(this.depthwiseRegularizer),e.depthwiseConstraint=yo(this.depthwiseRegularizer),e}}]),t}(Nu);function Hu(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new la("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function qu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return i.Ef(function(){var c=t.shape.length;if(c<3)throw new la("Input should be at least 3D, but is ".concat(c,"D."));var l=[1,0].concat(ti(2,c));if(t=i.Hf(t,l),null!=o)throw new da("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=i.Md(i.Md(a,"bool"),"float32")).rank===c-1&&(a=i.ke(a,-1)),a=i.Hf(a,l)),r&&(t=i.df(t,0),null!=a&&(a=i.df(a,0)));var d,p,h=[],f=n,m=t.shape[0],v=i.Jf(t);null!=a&&(p=i.Jf(a));for(var g,A=function(t){var n=v[t],r=i.Ef(function(){return e(n,f)});if(null==a)d=r[0],f=r[1];else{var o=i.Ef(function(){var e=p[t],n=i.wf(i.Se(e),e);return{output:i.xd(i.Me(r[0],e),i.Me(f[0],n)),newStates:f.map(function(t,a){return i.xd(i.Me(r[1][a],e),i.Me(t,n))})}});d=o.output,f=o.newStates}u&&h.push(d)},y=0;y<m;++y)A(y);if(u){g=i.vf(h,1)}return[d,g,f]})}Gu.className="DepthwiseConv2D",i.hf.registerClass(Gu);var Ku=function(e){function t(e){var n,r;if(Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e)),null==e.cell)throw new la("cell property is missing for the constructor of RNN.");if(null==(r=Array.isArray(e.cell)?new tc({cells:e.cell}):e.cell).stateSize)throw new la("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return n.cell=r,n.returnSequences=null!=e.returnSequences&&e.returnSequences,n.returnState=null!=e.returnState&&e.returnState,n.goBackwards=null!=e.goBackwards&&e.goBackwards,n._stateful=null!=e.stateful&&e.stateful,n.unroll=null!=e.unroll&&e.unroll,n.supportsMasking=!0,n.inputSpec=[new Yi({ndim:3})],n.stateSpec=null,n.states_=null,n.numConstants=null,n.keptStates=[],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getStates",value:function(){return null==this.states_?ti(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(function(e){return null}):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){Ui(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var a=[],i=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;a.push([e[0],l])}}catch(d){o=!0,s=d}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return[n].concat(a)}return n}},{key:"computeMask",value:function(e,t){var n=this;return i.Ef(function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map(function(e){return null});return[e].concat(r)}return e})}},{key:"build",value:function(e){if(null!=this.numConstants)throw new da("Constants support is not implemented in RNN yet.");Ui(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Yi({shape:[t,null].concat(Object(Kn.a)(n))});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!i.Lf.arraysEqual(this.stateSpec.map(function(e){return e.shape[e.shape.length-1]}),r))throw new la("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map(function(e){return new Yi({shape:[null,e]})});this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(i.Ef)(function(){if(!t.stateful)throw new ua("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape[0];if(null==r)throw new la("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map(function(e){return i.Qf([r,e])}):t.states_=[i.Qf([r,t.cell.stateSize])];else if(null==e)i.ce(t.states_),null!=t.keptStates&&(i.ce(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map(function(e){return i.Qf([r,e])}):t.states_[0]=i.Qf([r,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new la("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===n?t.keptStates.push(t.states_.slice()):i.ce(t.states_);for(var a=0;a<t.states_.length;++a){var o=e[a],s=Array.isArray(t.cell.stateSize)?t.cell.stateSize[a]:t.cell.stateSize,u=[r,s];if(!i.Lf.arraysEqual(o.shape,u))throw new la("State ".concat(a," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(u,", received shape=").concat(o.shape));t.states_[a]=o}}t.states_=t.states_.map(function(e){return i.ue(e.clone())})})}},{key:"apply",value:function(e,n){var r=null==n?null:n.initialState,a=null==n?null:n.constants;null==n&&(n={});var i=Hu(e,r,a,this.numConstants);e=i.inputs,r=i.initialState,a=i.constants;var o=[],s=[];if(null!=r){n.initialState=r,o=o.concat(r),this.stateSpec=[];var u=!0,c=!1,l=void 0;try{for(var d,p=r[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;this.stateSpec.push(new Yi({shape:h.shape}))}}catch(A){c=!0,l=A}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}s=s.concat(this.stateSpec)}if(null!=a&&(n.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof $i){var f=[e].concat(o),m=this.inputSpec.concat(s),v=this.inputSpec;this.inputSpec=m;var g=Object(Fo.a)(Object(na.a)(t.prototype),"apply",this).call(this,f,n);return this.inputSpec=v,g}return Object(Fo.a)(Object(na.a)(t.prototype),"apply",this).call(this,e,n)}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var r=null==t?null:t.mask,a=null==t?null:t.training,i=null==t?null:t.initialState;e=Wi(e),null==i&&(i=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(i.length!==o)throw new la("RNN Layer has ".concat(o," state(s) but was passed ")+"".concat(i.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:a},u=qu(function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]},e,i,n.goBackwards,r,null,n.unroll,n.returnSequences),c=u[0],l=u[1],d=u[2];n.stateful&&n.resetStates(d,a);var p=n.returnSequences?l:c;return n.returnState?[p].concat(d):p})}},{key:"getInitialState",value:function(e){var t=this;return Object(i.Ef)(function(){var n=i.Qf(e.shape);return n=ai(n=i.xf(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map(function(e){return e>1?li(n,[1,e]):n}):t.cell.stateSize>1?[li(n,[1,t.cell.stateSize])]:[n]})}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(Fo.a)(Object(na.a)(t.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(n.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===t.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),n)}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Bo(t.cell,n);return new e(Object.assign(t,{cell:r}))}}]),t}(to);Ku.className="RNN",i.hf.registerClass(Ku);var Xu=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),t}(to),Qu=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,Ta(n.units,"units"),n.activation=lu(null==e.activation?n.DEFAULT_ACTIVATION:e.activation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=zi(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=zi(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=zi(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=gu(e.kernelRegularizer),n.recurrentRegularizer=gu(e.recurrentRegularizer),n.biasRegularizer=gu(e.biasRegularizer),n.kernelConstraint=xo(e.kernelConstraint),n.recurrentConstraint=xo(e.recurrentConstraint),n.biasConstraint=xo(e.biasConstraint),n.dropout=Ja([1,ei([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=Ja([1,ei([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.dropoutFunc=e.dropoutFunc,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){e=Gi(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){if(2!==(e=e).length)throw new la("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));var r=e[1];e=e[0];var a,o=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=nc({ones:function(){return i.Se(e)},rate:n.dropout,training:o,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=nc({ones:function(){return i.Se(r)},rate:n.recurrentDropout,training:o,dropoutFunc:n.dropoutFunc}));var s=n.dropoutMask,u=n.recurrentDropoutMask;a=pi(null!=s?i.Me(e,s):e,n.kernel.read()),null!=n.bias&&(a=vi(a,n.bias.read())),null!=u&&(r=i.Me(r,u));var c=i.xd(a,pi(r,n.recurrentKernel.read()));return null!=n.activation&&(c=n.activation.apply(c)),[c,c]})}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n={units:this.units,activation:uu(this.activation),useBias:this.useBias,kernelInitializer:Bi(this.kernelInitializer),recurrentInitializer:Bi(this.recurrentInitializer),biasInitializer:Bi(this.biasInitializer),kernelRegularizer:mu(this.kernelRegularizer),recurrentRegularizer:mu(this.recurrentRegularizer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),kernelConstraint:yo(this.kernelConstraint),recurrentConstraint:yo(this.recurrentConstraint),biasConstraint:yo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}]),t}(Xu);Qu.className="SimpleRNNCell",i.hf.registerClass(Qu);var Yu=function(e){function t(e){return Object(Jr.a)(this,t),e.cell=new Qu(e),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,n){var r=this;return Object(i.Ef)(function(){null!=r.cell.dropoutMask&&(i.ce(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(i.ce(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return Object(Fo.a)(Object(na.a)(t.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:s})})}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),t}(Ku);Yu.className="SimpleRNN",i.hf.registerClass(Yu);var $u=function(e){function t(e){var n;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new la("GRUCell does not support reset_after parameter set to true.");return n.units=e.units,Ta(n.units,"units"),n.activation=lu(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=lu(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=zi(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=zi(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=zi(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=gu(e.kernelRegularizer),n.recurrentRegularizer=gu(e.recurrentRegularizer),n.biasRegularizer=gu(e.biasRegularizer),n.kernelConstraint=xo(e.kernelConstraint),n.recurrentConstraint=xo(e.recurrentConstraint),n.biasConstraint=xo(e.biasConstraint),n.dropout=Ja([1,ei([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=Ja([1,ei([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.dropoutFunc=e.dropoutFunc,n.implementation=e.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){var t=(e=Gi(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){if(2!==(e=e).length)throw new la("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=nc({ones:function(){return i.Se(e)},rate:n.dropout,training:r,count:3,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=nc({ones:function(){return i.Se(a)},rate:n.recurrentDropout,training:r,count:3,dropoutFunc:n.dropoutFunc}));var s,u,c,l=n.dropoutMask,d=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=i.Me(e,l[0]));var p=pi(e,n.kernel.read());n.useBias&&(p=vi(p,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=i.Me(a,d[0]));var h=n.recurrentKernel.read(),f=i.sf(h,[2*n.units,n.units],h.rank-1),m=Object(o.a)(f,2),v=m[0],g=m[1],A=pi(a,v),y=i.sf(p,3,p.rank-1),b=Object(o.a)(y,3),x=b[0],w=b[1],_=b[2],k=i.sf(A,2,A.rank-1),O=Object(o.a)(k,2),E=O[0],S=O[1];s=n.recurrentActivation.apply(i.xd(x,E)),u=n.recurrentActivation.apply(i.xd(w,S));var C=pi(i.Me(u,a),g);c=n.activation.apply(i.xd(_,C));var T=i.xd(i.Me(s,a),i.Me(i.xd(1,i.Ne(s)),c));return[T,T]})}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n={units:this.units,activation:uu(this.activation),recurrentActivation:uu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Bi(this.kernelInitializer),recurrentInitializer:Bi(this.recurrentInitializer),biasInitializer:Bi(this.biasInitializer),kernelRegularizer:mu(this.kernelRegularizer),recurrentRegularizer:mu(this.recurrentRegularizer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),kernelConstraint:yo(this.kernelConstraint),recurrentConstraint:yo(this.recurrentConstraint),biasConstraint:yo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}]),t}(Xu);$u.className="GRUCell",i.hf.registerClass($u);var Zu=function(e){function t(e){return Object(Jr.a)(this,t),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new $u(e),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,n){var r=this;return Object(i.Ef)(function(){null!=r.cell.dropoutMask&&(i.ce(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(i.ce(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return Object(Fo.a)(Object(na.a)(t.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:s})})}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),t}(Ku);Zu.className="GRU",i.hf.registerClass(Zu);var Ju=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,Ta(n.units,"units"),n.activation=lu(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=lu(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=zi(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=zi(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=zi(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=e.unitForgetBias,n.kernelRegularizer=gu(e.kernelRegularizer),n.recurrentRegularizer=gu(e.recurrentRegularizer),n.biasRegularizer=gu(e.biasRegularizer),n.kernelConstraint=xo(e.kernelConstraint),n.recurrentConstraint=xo(e.recurrentConstraint),n.biasConstraint=xo(e.biasConstraint),n.dropout=Ja([1,ei([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=Ja([1,ei([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.dropoutFunc=e.dropoutFunc,n.implementation=e.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){var t,n,r=(e=Gi(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,i=this.units;n=new((t=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){var n=a.apply([i]),r=(new _i).apply([i]),o=a.apply([2*i]);return ci(ci(n,r),o)}}]),t}(xi)).className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var r=null!=t.training&&t.training;if(3!==(e=e).length)throw new la("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var a=e[1],s=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=nc({ones:function(){return i.Se(e)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=nc({ones:function(){return i.Se(a)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var u,c,l,d,p=n.dropoutMask,h=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=i.Me(e,p[0]));var f=pi(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=i.Me(a,h[0])),f=i.xd(f,pi(a,n.recurrentKernel.read())),n.useBias&&(f=vi(f,n.bias.read()));var m=i.sf(f,4,f.rank-1),v=Object(o.a)(m,4),g=v[0],A=v[1],y=v[2],b=v[3];u=n.recurrentActivation.apply(g),c=n.recurrentActivation.apply(A),l=i.xd(i.Me(c,s),i.Me(u,n.activation.apply(y))),d=n.recurrentActivation.apply(b);var x=i.Me(d,n.activation.apply(l));return[x,x,l]})}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n={units:this.units,activation:uu(this.activation),recurrentActivation:uu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Bi(this.kernelInitializer),recurrentInitializer:Bi(this.recurrentInitializer),biasInitializer:Bi(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:mu(this.kernelRegularizer),recurrentRegularizer:mu(this.recurrentRegularizer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),kernelConstraint:yo(this.kernelConstraint),recurrentConstraint:yo(this.recurrentConstraint),biasConstraint:yo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}]),t}(Xu);Ju.className="LSTMCell",i.hf.registerClass(Ju);var ec=function(e){function t(e){return Object(Jr.a)(this,t),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Ju(e),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,n){var r=this;return Object(i.Ef)(function(){null!=r.cell.dropoutMask&&(i.ce(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(i.ce(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return Object(Fo.a)(Object(na.a)(t.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:s})})}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),t}(Ku);ec.className="LSTM",i.hf.registerClass(ec);var tc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).cells=e.cells,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var r=(e=e).slice(1),a=[],i=!0,o=!1,s=void 0;try{for(var u,c=n.cells.slice().reverse()[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;Array.isArray(l.stateSize)?a.push(r.splice(0,l.stateSize.length)):a.push(r.splice(0,1))}}catch(w){o=!0,s=w}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}a.reverse();for(var d,p=[],h=0;h<n.cells.length;++h){var f=n.cells[h];r=a[h],d=0===h?[e[0]].concat(r):[d[0]].concat(r),d=f.call(d,t),p.push(d.slice(1))}r=[];var m=!0,v=!1,g=void 0;try{for(var A,y=p.slice().reverse()[Symbol.iterator]();!(m=(A=y.next()).done);m=!0){var b,x=A.value;(b=r).push.apply(b,Object(Kn.a)(x))}}catch(w){v=!0,g=w}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}return[d[0]].concat(r)})}},{key:"build",value:function(e){var t;Ui(e)&&(e=e[0]),e=e,this.cells.forEach(function(n,r){qa("RNNCell_".concat(r),function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]})}),this.built=!0}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n={cells:this.cells.map(function(e){return{className:e.getClassName(),config:e.getConfig()}})};return Object.assign(Object.assign({},e),n)}},{key:"getWeights",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.cells[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.push.apply(e,Object(Kn.a)(o.weights))}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Xi(e)}},{key:"setWeights",value:function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=this.cells[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)for(var s=i.value,u=s.weights.length,c=e.splice(u),l=0;l<s.weights.length;++l)t.push([s.weights[l],c[l]])}catch(d){r=!0,a=d}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}Qi(t)}},{key:"stateSize",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.cells.slice().reverse()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;Array.isArray(o.stateSize)?e.push.apply(e,Object(Kn.a)(o.stateSize)):e.push(o.stateSize)}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.cells[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.push.apply(e,Object(Kn.a)(o.trainableWeights))}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"nonTrainableWeights",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.cells[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.push.apply(e,Object(Kn.a)(o.nonTrainableWeights))}}catch(f){n=!0,r=f}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}if(!this.trainable){var s=[],u=!0,c=!1,l=void 0;try{for(var d,p=this.cells[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;s.push.apply(s,Object(Kn.a)(h.trainableWeights))}}catch(f){c=!0,l=f}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}return s.concat(e)}return e}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],a=!0,i=!1,o=void 0;try{for(var s,u=t.cells[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;r.push(Bo(c,n))}}catch(l){i=!0,o=l}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return new e({cells:r})}}]),t}(Xu);function nc(e){var t=e.ones,n=e.rate,r=e.training,a=void 0!==r&&r,o=e.count,s=void 0===o?1:o,u=e.dropoutFunc,c=function(){return null!=u?u(t(),n):gi(t(),n)},l=function(){return Ai(c,t,a)};return!s||s<=1?i.ue(l().clone()):Array(s).fill(void 0).map(l).map(function(e){return i.ue(e.clone())})}tc.className="StackedRNNCells",i.hf.registerClass(tc);var rc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ac=function(e){function t(e){var n;if(Object(Jr.a)(this,t),e.unroll)throw new da("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new da("It is not possible at the moment to stack convolutional cells.");return(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).inputSpec=[new Yi({ndim:5})],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,n){var r=this;return i.Ef(function(){if(null!=r.cell.dropoutMask&&(i.ce(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(i.ce(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),n&&n.constants)throw new la("ConvRNN2D cell does not support constants");var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return Object(Fo.a)(Object(na.a)(t.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:s})})}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat(Object(Kn.a)(t.slice(2)))),this.returnState&&(t=[t].concat(Object(Kn.a)(Array(2).fill([e[0]].concat(Object(Kn.a)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return i.Ef(function(){var n=t.cell.stateSize,r=e.shape,a=t.computeSingleOutputShape(r),o=[a[0]].concat(Object(Kn.a)(a.slice(2))),s=i.Qf(o);return Array.isArray(n)?Array(n.length).fill(s):[s]})}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.Ef(function(){if(!t.stateful)throw new ua("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape,a=t.computeSingleOutputShape(r),o=[a[0]].concat(Object(Kn.a)(a.slice(2)));if(null==r[0])throw new la("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map(function(){return i.Qf(o)}):t.states_=[i.Qf(o)];else if(null==e)i.ce(t.states_),null!=t.keptStates&&(i.ce(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map(function(){return i.Qf(o)}):t.states_[0]=i.Qf(o);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new la("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?t.keptStates.push(t.states_.slice()):i.ce(t.states_);for(var s=0;s<t.states_.length;++s){var u=e[s],c=o;if(!i.Lf.arraysEqual(u.shape,c))throw new la("State ".concat(s," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(c,", received shape=").concat(u.shape));t.states_[s]=u}}t.states_=t.states_.map(function(e){return i.ue(e.clone())})})}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,a=t.kernelSize,i=t.padding,o=t.strides,s=t.dilationRate,u="channelsFirst"===n,c=e[u?3:2],l=e[u?4:3],d=Eu(c,a[0],i,o[0],s[0]),p=Eu(l,a[1],i,o[1],s[1]);return[].concat(Object(Kn.a)(e.slice(0,2)),Object(Kn.a)(u?[r,d,p]:[d,p,r]))}}]),t}(Ku);ac.className="ConvRNN2D";var ic=function(e){function t(e){var n;Object(Jr.a)(this,t);var r=e.filters,a=e.kernelSize,i=e.strides,o=e.padding,s=e.dataFormat,u=e.dilationRate;return(n=Object(ta.a)(this,Object(na.a)(t).call(this,Object.assign(Object.assign({},e),{units:r})))).filters=r,Ta(n.filters,"filters"),n.kernelSize=Ou(a,2,"kernelSize"),n.kernelSize.forEach(function(e){return Ta(e,"kernelSize")}),n.strides=Ou(i||1,2,"strides"),n.strides.forEach(function(e){return Ta(e,"strides")}),n.padding=o||"valid",Va(n.padding),n.dataFormat=s||"channelsLast",Ua(n.dataFormat),n.dilationRate=Ou(u||1,2,"dilationRate"),n.dilationRate.forEach(function(e){return Ta(e,"dilationRate")}),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){var t;e=Gi(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new la("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));var r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var o=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var s;if(this.unitForgetBias){var u=this.biasInitializer,c=this.filters;s=new((t=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"apply",value:function(e,t){return ui([u.apply([c]),i.Re([c]),u.apply([2*c])])}}]),t}(xi)).className="CustomInit",t)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,s,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return i.Ef(function(){if(3!==e.length)throw new la("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=t.training||!1,a=e[0],s=e[1],u=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=nc({ones:function(){return i.Se(a)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var c=n.dropoutMask,l=function(e,t,n){return t&&t[n]?i.Me(t[n],e):e},d=l(a,c,0),p=l(a,c,1),h=l(a,c,2),f=l(a,c,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=nc({ones:function(){return i.Se(s)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var m=n.recurrentDropoutMask,v=l(s,m,0),g=l(s,m,1),A=l(s,m,2),y=l(s,m,3),b=i.sf(n.kernel.read(),4,3),x=Object(o.a)(b,4),w=x[0],_=x[1],k=x[2],O=x[3],E=n.useBias?i.sf(n.bias.read(),4):[null,null,null,null],S=Object(o.a)(E,4),C=S[0],T=S[1],I=S[2],j=S[3];d=n.inputConv(d,w,C,n.padding),p=n.inputConv(p,_,T,n.padding),h=n.inputConv(h,k,I,n.padding),f=n.inputConv(f,O,j,n.padding);var M=i.sf(n.recurrentKernel.read(),4,3),N=Object(o.a)(M,4),D=N[0],R=N[1],P=N[2],L=N[3];v=n.recurrentConv(v,D),g=n.recurrentConv(g,R),A=n.recurrentConv(A,P),y=n.recurrentConv(y,L);var F=n.recurrentActivation.apply(i.xd(d,v)),B=n.recurrentActivation.apply(i.xd(p,g)),z=i.xd(i.Me(B,u),i.Me(F,n.activation.apply(i.xd(h,A)))),U=i.Me(n.recurrentActivation.apply(i.xd(f,y)),n.activation.apply(z));return[U,U,z]})}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n=(e.units,rc(e,["units"])),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}},{key:"inputConv",value:function(e,t,n,r){var a=i.Vd(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?vi(a,n,this.dataFormat):a}},{key:"recurrentConv",value:function(e,t){return i.Vd(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),t}(Ju);ic.className="ConvLSTM2DCell",i.hf.registerClass(ic);var oc=function(e){function t(e){Object(Jr.a)(this,t);var n=new ic(e);return Object(ta.a)(this,Object(na.a)(t).call(this,Object.assign(Object.assign({},e),{cell:n})))}return Object(aa.a)(t,e),Object(ea.a)(t,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),t}(ac);oc.className="ConvLSTM2D",i.hf.registerClass(oc);var sc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).rate=Math.max(Math.min(e.rate,1),0),n.noiseShape=e.noiseShape,n.seed=e.seed,n.supportsMasking=!0,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t);var r=Wi(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,i=n.getNoiseShape(r);return Ai(function(){return gi(r,n.rate,i,n.seed)},function(){return r},a)}return e})}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"dispose",value:function(){return Object(Fo.a)(Object(na.a)(t.prototype),"dispose",this).call(this)}}]),t}(to);sc.className="Dropout",i.hf.registerClass(sc);var uc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).inputSpec=[{ndim:3}],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),t}(sc);uc.className="SpatialDropout1D",i.hf.registerClass(uc);var cc=function(e){function t(e){var n;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var r=null;null!=e.batchSize&&(r=e.batchSize),n.batchInputShape=[r,e.inputDim]}return n.units=e.units,Ta(n.units,"units"),n.activation=lu(e.activation),null!=e.useBias&&(n.useBias=e.useBias),n.kernelInitializer=zi(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=zi(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=xo(e.kernelConstraint),n.biasConstraint=xo(e.biasConstraint),n.kernelRegularizer=gu(e.kernelRegularizer),n.biasRegularizer=gu(e.biasRegularizer),n.activityRegularizer=gu(e.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){var t=(e=Gi(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:Object(ku.a)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=Gi(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t);var r,a=Wi(e),i=Ia(n.activation.getClassName());return null!=i?r=pi(a,n.kernel.read(),i,n.bias?n.bias.read():null):(r=pi(a,n.kernel.read()),null!=n.bias&&(r=vi(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r})}},{key:"getConfig",value:function(){var e={units:this.units,activation:uu(this.activation),useBias:this.useBias,kernelInitializer:Bi(this.kernelInitializer),biasInitializer:Bi(this.biasInitializer),kernelRegularizer:mu(this.kernelRegularizer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),kernelConstraint:yo(this.kernelConstraint),biasConstraint:yo(this.biasConstraint)},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);cc.className="Dense",i.hf.registerClass(cc);var lc=function(e){function t(e){var n;return Object(Jr.a)(this,t),e=e||{},(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).inputSpec=[{minNDim:3}],n.dataFormat=e.dataFormat,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){e=Gi(e);var t=!0,n=!1,r=void 0;try{for(var a,i=e.slice(1)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){if(null==a.value)throw new la('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return[e[0],Za(e,1)]}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t);var r=Wi(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var a=[0],o=2;o<r.rank;++o)a.push(o);a.push(1),r=Object(i.Hf)(r,a)}return function(e){if(e.rank<=1)throw new la("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));var t=[e.shape[0],Za(e.shape,1)];return i.cf(e,t)}(r)})}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);lc.className="Flatten",i.hf.registerClass(lc);var dc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).supportsMasking=!0,n.activation=lu(e.activation),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t);var r=Wi(e);return n.activation.apply(r)})}},{key:"getConfig",value:function(){var e={activation:uu(this.activation)},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);dc.className="Activation",i.hf.registerClass(dc);var pc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).n=e.n,n.inputSpec=[{ndim:2}],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){return e=Wi(e),t=e,r=n.n,Object(i.Ef)(function(){if(2!==t.shape.length)throw new la("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));return li(ai(t,1),[1,r,1])});var t,r})}},{key:"getConfig",value:function(){var e={n:this.n},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);pc.className="RepeatVector",i.hf.registerClass(pc);var hc=function(e){function t(e){var n;Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).targetShape=e.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,i=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==i)throw new la("Can only specifiy one unknown dimension.");i=o}else a*=s}var u=Za(e);if(null!==i){if(0===a||u%a!==0)throw new la(n);r[i]=u/a}else if(u!==a)throw new la(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t);var r=Wi(e),a=r.shape,o=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return Object(i.cf)(r,o)})}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);hc.className="Reshape",i.hf.registerClass(hc);var fc=function(e){function t(e){var n;if(Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e)),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));var r=ti(1,e.dims.length+1);if(!i.Lf.arraysEqual(e.dims.slice().sort(),r))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return n.dims=e.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new Yi({ndim:n.dims.length+1})],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){var t=(e=Gi(e)).slice();return this.dims.forEach(function(n,r){t[r+1]=e[n]}),t}},{key:"call",value:function(e,t){return Object(i.Hf)(Wi(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);fc.className="Permute",i.hf.registerClass(fc);var mc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,null==e?{}:e))).supportsMasking=!0,n.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n={maskValue:this.maskValue};return Object.assign(n,e),n}},{key:"computeMask",value:function(e,t){var n=Wi(e);return Object(i.zd)(Object(i.Pe)(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t);var r=Wi(e),a=Object(i.zd)(Object(i.Pe)(r,n.maskValue),-1,!0);return Object(i.Me)(r,Object(i.Md)(a,r.dtype))})}}]),t}(to);mc.className="Masking",i.hf.registerClass(mc);var vc=function(e){function t(e){var n;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var r=null;null!=e.batchSize&&(r=e.batchSize),null==e.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(Aa(e.inputLength))}return n.inputDim=e.inputDim,Ta(n.inputDim,"inputDim"),n.outputDim=e.outputDim,Ta(n.outputDim,"outputDim"),n.embeddingsInitializer=zi(e.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=gu(e.embeddingsRegularizer),n.activityRegularizer=gu(e.activityRegularizer),n.embeddingsConstraint=xo(e.embeddingsConstraint),n.maskZero=e.maskZero,n.supportsMasking=e.maskZero,n.inputLength=e.inputLength,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return Object(i.Ef)(function(){return n.maskZero?(e=Wi(e),Object(i.Pe)(e,Object(i.Rf)(e))):null})}},{key:"computeOutputShape",value:function(e){if(e=Gi(e),null==this.inputLength)return[].concat(Object(Kn.a)(e),[this.outputDim]);var t=Aa(this.inputLength);if(t.length!==e.length-1)throw new la('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));for(var n=0,r=0;r<t.length;++r){var a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new la('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==a&&(t[n]=i),n++}return[e[0]].concat(Object(Kn.a)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t);var r=Wi(e);"int32"!==r.dtype&&(r=ri(r,"int32"));var a=hi(n.embeddings.read(),Object(i.cf)(r,[r.size]));return Object(i.cf)(a,Gi(n.computeOutputShape(r.shape)))})}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Bi(this.embeddingsInitializer),embeddingsRegularizer:mu(this.embeddingsRegularizer),activityRegularizer:mu(this.activityRegularizer),embeddingsConstraint:yo(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);vc.className="Embedding",i.hf.registerClass(vc);var gc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e||{}))).supportsMasking=!0,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"mergeFunction",value:function(e){throw new da}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new la("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Gi(e)]),(e=e).length<2)throw new la("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;null!=s&&null!==s[0]&&t.push(s[0])}}catch(p){r=!0,a=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}if((t=Oa(t)).length>1)throw new la("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));for(var u=null==e[0]?null:e[0].slice(1),c=1;c<e.length;++c){var l=null==e[c]?null:e[c].slice(1);u=this.computeElementwiseOpOutputShape(u,l)}var d=e.map(function(e){return e.length});-1===e.indexOf(null)&&1===Oa(d).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){if(e=e,n.reshapeRequired){var t=[],r=e.map(function(e){return e.rank});if(-1===r.indexOf(null)){var a=ei(r),o=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){for(var d=c.value,p=d.rank,h=0;h<a-p;++h)d=ai(d,1);t.push(d)}}catch(N){s=!0,u=N}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return n.mergeFunction(t)}var f=!1,m=!0,v=!1,g=void 0;try{for(var A,y=e[Symbol.iterator]();!(m=(A=y.next()).done);m=!0){var b=A.value,x=b.rank;if(null==x){var w=b.shape,_=w[0],k=w.slice(1).concat([_]),O=i.cf(b,[_].concat(Za(w.slice(1))));O=i.Hf(O,[1,0]),O=i.cf(O,k),t.push(O),f=!0}else if(x>1){var E=ti(1,x).concat([0]);t.push(i.Hf(b,E)),f=!0}else t.push(b)}}catch(N){v=!0,g=N}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}var S=n.mergeFunction(t),C=S.rank;if(f)if(null==C){var T=S.shape,I=T[T.length-1],j=[I].concat(T.slice(0,T.length-1));S=i.cf(i.Hf(i.cf(S,[-1,I]),[1,0]),j)}else if(C>1){var M=[C-1].concat(ti(0,C-1));S=i.Hf(S,M)}return S}return n.mergeFunction(e)})}},{key:"computeOutputShape",value:function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var a=[],i=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;null!=l&&null!==l[0]&&a.push(l[0])}}catch(d){o=!0,s=d}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return t=1===(a=Oa(a)).length?a.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return i.Ef(function(){if(null==t)return null;if(!Array.isArray(t))throw new la("`mask` should be an Array");if(!Array.isArray(e))throw new la("`inputs` should be an Array");if(t.length!==e.length)throw new la("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every(function(e){return null==e}))return null;for(var n=(t=t.map(function(e){return null==e?e:i.ke(e,0)}))[0],r=1;r<t.length-1;++r)n=i.Be(n,t[r]);return n})}}]),t}(to),Ac=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"mergeFunction",value:function(e){return Object(i.Ef)(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=i.xd(t,e[n]);return t})}}]),t}(gc);Ac.className="Add",i.hf.registerClass(Ac);var yc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"mergeFunction",value:function(e){return Object(i.Ef)(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=i.Me(t,e[n]);return t})}}]),t}(gc);yc.className="Multiply",i.hf.registerClass(yc);var bc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"mergeFunction",value:function(e){return Object(i.Ef)(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=i.xd(t,e[n]);return i.Me(1/e.length,t)})}}]),t}(gc);bc.className="Average",i.hf.registerClass(bc);var xc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"mergeFunction",value:function(e){return Object(i.Ef)(function(){for(var t=e[0],n=1;n<e.length;++n)t=i.Ge(t,e[n]);return t})}}]),t}(gc);xc.className="Maximum",i.hf.registerClass(xc);var wc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"mergeFunction",value:function(e){return Object(i.Ef)(function(){for(var t=e[0],n=1;n<e.length;++n)t=i.Ke(t,e[n]);return t})}}]),t}(gc);wc.className="Minimum",i.hf.registerClass(wc);var _c=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).DEFAULT_AXIS=-1,null==e&&(e={}),n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new la("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;var t=!0,n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){if(null!=o.value){t=!1;break}}}catch(m){r=!0,a=m}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}if(!t){for(var u=[],c=0;c<e.length;++c){var l=e[c].slice();l.splice(this.axis,1);for(var d=!1,p=0,h=u;p<h.length;p++){var f=h[p];if(i.Lf.arraysEqual(f,l)){d=!0;break}}d||u.push(l)}if(u.length>1)throw new la("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return Object(i.Ef)(function(){return ui(e,t.axis)})}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new la("A `Concatenate` layer should be called on a list of inputs.");var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,a=!0,i=!1,o=void 0;try{for(var s,u=t.slice(1)[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;if(null==n[r]||null==c[r]){n[r]=null;break}n[r]+=c[r]}}catch(l){i=!0,o=l}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return n}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new la("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new la("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new la("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return i.Ef(function(){var r=!0;if(t.forEach(function(e){null==e||(r=!1)}),r)return null;for(var a=[],o=0;o<e.length;++o)null==t[o]?a.push(i.Md(i.Se(e[o]),"bool")):t[o].rank<e[o].rank?a.push(i.ke(t[o],-1)):a.push(t[o]);var s=i.Pd(a,n.axis);return i.yd(s,-1,!1)})}},{key:"getConfig",value:function(){var e={axis:this.axis},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(gc);function kc(e,t){for(;e<0;)e+=t;return e}_c.className="Concatenate",i.hf.registerClass(_c);var Oc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).axes=e.axes,n.normalize=null!=e.normalize&&e.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){i.Lf.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."});var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new da("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new la("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new la("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(function(t,n){return kc(t,e[n].shape.length)}):[kc(this.axes,n.shape.length),kc(this.axes,r.shape.length)],this.normalize&&(n=zo(n,t[0]),r=zo(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new da("batchDot is not implemented for tensors of 4D or higher rank yet");if(i.Lf.assert(e.shape.length>=2,function(){return"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length)}),i.Lf.assert(e.shape.length>=2,function(){return"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length)}),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new da("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);var o=n;return i.Ef(function(){var n,s;if(r>a){n=r-a;for(var u=[],c=0;c<n;++c)u.push(1);t=i.cf(t,t.shape.concat(u))}else if(a>r){n=a-r;for(var l=[],d=0;d<n;++d)l.push(1);e=i.cf(e,e.shape.concat(l))}else n=0;if(2===e.shape.length&&2===t.shape.length)s=o[0]===o[1]?i.xf(i.Me(e,t),o[0]):i.xf(i.Me(i.Hf(e,[1,0]),t),o[1]);else{var p=o[0]!==e.shape.length-1,h=o[1]===t.shape.length-1;s=i.Ce(e,t,p,h)}if(n>0){for(var f,m=[],v=f=r>a?r+a-3:r-1;v<f+n;++v)m.push(v);s=i.uf(s,m)}return 1===s.shape.length&&(s=i.ke(s,1)),s})}(n,r,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[kc(this.axes,e.length),kc(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){i.Lf.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."});var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new da("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(gc);Oc.className="Dot",i.hf.registerClass(Oc);var Ec=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).supportsMasking=!0,n.stddev=e.stddev,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n={stddev:this.stddev};return Object.assign(n,e),n}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t);var r=Wi(e);return Ai(function(){return Object(i.xd)(di(r.shape,0,n.stddev),r)},function(){return r},t.training||!1)})}}]),t}(to);Ec.className="GaussianNoise",i.hf.registerClass(Ec);var Sc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).supportsMasking=!0,n.rate=e.rate,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n={rate:this.rate};return Object.assign(n,e),n}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t);var r=Wi(e);if(n.rate>0&&n.rate<1){return Ai(function(){var e=Math.sqrt(n.rate/(1-n.rate));return Object(i.Me)(r,di(r.shape,1,e))},function(){return r},t.training||!1)}return r})}}]),t}(to);Sc.className="GaussianDropout",i.hf.registerClass(Sc);var Cc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).supportsMasking=!0,n.rate=e.rate,n.noiseShape=e.noiseShape,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||Wi(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this),n={rate:this.rate};return Object.assign(n,e),n}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return Ai(function(){var t=Wi(e),a=-1.7580993408473766,o=Object(i.re)(Object(i.Xe)(r),n.rate);o=ri(o,"float32");var s=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),u=-s*a*n.rate,c=Object(i.xd)(Object(i.Me)(t,o),Object(i.Me)(Object(i.xd)(o,-1),a));return Object(i.xd)(Object(i.Me)(c,s),u)},function(){return Wi(e)},t.training||!1)}return e})}}]),t}(to);function Tc(e,t,n,r,a){var o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)o=i.Fd(e,t,n,r,a,s);else if(3===e.rank)o=i.Gd(e,t,n,r,a,s);else{if(4!==e.rank)throw new da("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");o=i.Hd(e,t,n,r,a,s)}return o}function Ic(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return i.Lf.arraysEqual(r.slice().sort(),ti(0,e.rank-1))?function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(i.Ef)(function(){var o=i.Le(e,r),s=o.mean,u=o.variance;return[Tc(e,s,u,n,t,a),s,u]})}(e,t,n,r,a):function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(i.Ef)(function(){var o=i.Le(e,r),s=o.mean,u=o.variance,c=[],l=!0,d=!1,p=void 0;try{for(var h,f=ti(0,e.rank)[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var m=h.value;-1!==r.indexOf(m)?c.push(1):c.push(e.shape[m])}}catch(b){d=!0,p=b}finally{try{l||null==f.return||f.return()}finally{if(d)throw p}}var v=Object(i.cf)(s,c),g=Object(i.cf)(u,c),A=null==t?null:Object(i.cf)(t,c),y=null==n?null:Object(i.cf)(n,c);return[Tc(e,v,g,y,A,a),s,u]})}(e,t,n,r,a)}Cc.className="AlphaDropout",i.hf.registerClass(Cc);var jc=function(e){function t(e){var n;return Object(Jr.a)(this,t),null==e&&(e={}),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).supportsMasking=!0,n.axis=null==e.axis?-1:e.axis,n.momentum=null==e.momentum?.99:e.momentum,n.epsilon=null==e.epsilon?.001:e.epsilon,n.center=null==e.center||e.center,n.scale=null==e.scale||e.scale,n.betaInitializer=zi(e.betaInitializer||"zeros"),n.gammaInitializer=zi(e.gammaInitializer||"ones"),n.movingMeanInitializer=zi(e.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=zi(e.movingVarianceInitializer||"ones"),n.betaConstraint=xo(e.betaConstraint),n.gammaConstraint=xo(e.gammaConstraint),n.betaRegularizer=gu(e.betaRegularizer),n.gammaRegularizer=gu(e.gammaRegularizer),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){e=Gi(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new la("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new Yi({ndim:e.length,axes:Object(ku.a)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var r=null!=t.training&&t.training,a=Wi(e),s=a.shape,u=s.length,c=ti(0,u),l=n.axis>=0?n.axis:n.axis+u;c.splice(l,1);var d=fa(1,u);d[l]=s[l];var p=c.slice();p.sort();var h=!i.Lf.arraysEqual(p,ti(0,u).slice(0,u-1));if(!r)return function(){if(h){var e=Object(i.cf)(n.movingMean.read(),d),t=Object(i.cf)(n.movingVariance.read(),d),r=n.center?Object(i.cf)(n.beta.read(),d):null,o=n.scale?Object(i.cf)(n.gamma.read(),d):null;return Tc(a,e,t,r,o,n.epsilon)}return Tc(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var f=Ic(a,n.gamma.read(),n.beta.read(),c,n.epsilon),m=Object(o.a)(f,3),v=m[0],g=m[1],A=m[2],y=function(e,t,n){i.Ef(function(){var r=1-n,a=e.read(),o=i.Me(i.wf(a,t),r);e.write(i.wf(a,o))})};return y(n.movingMean,g,n.momentum),y(n.movingVariance,A,n.momentum),v})}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Bi(this.betaInitializer),gammaInitializer:Bi(this.gammaInitializer),movingMeanInitializer:Bi(this.movingMeanInitializer),movingVarianceInitializer:Bi(this.movingVarianceInitializer),betaRegularizer:mu(this.betaRegularizer),gammaRegularizer:mu(this.gammaRegularizer),betaConstraint:yo(this.betaConstraint),gammaConstraint:yo(this.gammaConstraint)},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);jc.className="BatchNormalization",i.hf.registerClass(jc);var Mc=function(e){function t(e){var n;if(Object(Jr.a)(this,t),null==e&&(e={}),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).axis=null==e.axis?-1:e.axis,"number"===typeof n.axis){if(!Number.isInteger(n.axis))throw new Error("Expected axis to be an integer, but received ".concat(n.axis))}else{if(!Array.isArray(n.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(n.axis)));var r=!0,a=!1,i=void 0;try{for(var o,s=n.axis[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(!Number.isInteger(u))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(n.axis)))}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}return n.epsilon=null==e.epsilon?.001:e.epsilon,n.center=null==e.center||e.center,n.scale=null==e.scale||e.scale,n.betaInitializer=zi(e.betaInitializer||"zeros"),n.gammaInitializer=zi(e.gammaInitializer||"ones"),n.betaRegularizer=gu(e.betaRegularizer),n.gammaRegularizer=gu(e.gammaRegularizer),n.supportsMasking=!0,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){var t=(e=Gi(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);var r=!0,a=!1,i=void 0;try{for(var o,s=this.axis[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(u<0||u>=t)throw new Error("Invalid axis: ".concat(u))}}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}if(this.axis.length!==Oa(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var c=this.axis.map(function(t){return e[t]});this.scale?this.gamma=this.addWeight("gamma",c,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",c,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,r=Wi(e),a=r.shape,o=a.length;return Object(i.Ef)(function(){var e=Object(i.Le)(r,n.axis,!0),t=e.mean,s=e.variance,u=fa(1,o),c=!0,l=!1,d=void 0;try{for(var p,h=n.axis[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var f=p.value;u[f]=a[f]}}catch(x){l=!0,d=x}finally{try{c||null==h.return||h.return()}finally{if(l)throw d}}for(var m=function(e){return null!=e&&e.shape.length!==o?i.cf(e,u):e},v=n.scale?m(n.gamma.read()):null,g=n.center?m(n.beta.read()):null,A=[],y=[],b=0;b<o;++b)-1!==n.axis.indexOf(b)?(A.push(a[b]),y.push(1)):(A.push(1),y.push(a[b]));return t=i.Ff(t,A),s=i.Ff(s,A),null!=v&&(v=i.Ff(v,y)),null!=g&&(g=i.Ff(g,y)),Tc(r,t,s,g,v,n.epsilon)})}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Bi(this.betaInitializer),gammaInitializer:Bi(this.gammaInitializer),betaRegularizer:mu(this.betaRegularizer),gammaRegularizer:mu(this.gammaRegularizer)},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);Mc.className="LayerNormalization",i.hf.registerClass(Mc);var Nc=function(e){function t(e){var n;if(Object(Jr.a)(this,t),null==e&&(e={}),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)n.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)n.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new la("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));var r,a;if("number"===typeof e.padding[0])r=[e.padding[0],e.padding[0]],a=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new la("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(r=e.padding[0],2!==e.padding[1].length)throw new la("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));a=e.padding[1]}n.padding=[r,a]}return n.inputSpec=[new Yi({ndim:4})],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){var t,n;return e=Gi(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){return t=Wi(e),r=n.padding,a=n.dataFormat,Object(i.Ef)(function(){if(4!==t.rank)throw new la("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(null==r&&(r=[[1,1],[1,1]]),2!==r.length||2!==r[0].length||2!==r[1].length)throw new la("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==a&&(a="channelsLast"),"channelsLast"!==a&&"channelsFirst"!==a)throw new la("Unknown data format: ".concat(a,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");var e;return e="channelsFirst"===a?[[0,0],[0,0],r[0],r[1]]:[[0,0],r[0],r[1],[0,0]],i.Te(t,e)});var t,r,a})}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);function Dc(e,t,n,r,a,o){return Object(i.Ef)(function(){var s;Ua(a),Wa(o),Va(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=Cu(e,a);var u="same"===r?"same":"valid";return s="max"===o?i.Ee(e,t,n,u):i.Bd(e,t,n,u),"channelsFirst"===a&&(s=i.Hf(s,[0,3,1,2])),s})}function Rc(e,t,n,r,a,o){return Object(i.Ef)(function(){var s;Ua(a),Wa(o),Va(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=Tu(e,a);var u="same"===r?"same":"valid";return s="max"===o?i.Fe(e,t,n,u):i.Cd(e,t,n,u),"channelsFirst"===a&&(s=i.Hf(s,[0,4,1,2,3])),s})}Nc.className="ZeroPadding2D",i.hf.registerClass(Nc);var Pc=function(e){function t(e){var n;if(Object(Jr.a)(this,t),null==e.poolSize&&(e.poolSize=2),n=Object(ta.a)(this,Object(na.a)(t).call(this,e)),"number"===typeof e.poolSize)n.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new la("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));n.poolSize=e.poolSize}if(Ta(n.poolSize,"poolSize"),null==e.strides)n.strides=n.poolSize;else if("number"===typeof e.strides)n.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new la("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));n.strides=e.strides}return Ta(n.strides,"strides"),n.padding=null==e.padding?"valid":e.padding,Va(n.padding),n.inputSpec=[new Yi({ndim:3})],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){var t=Eu((e=Gi(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){n.invokeCallHook(e,t),e=ai(Wi(e),2);var r=n.poolingFunction(Wi(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return i.uf(r,[2])})}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to),Lc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ua(a),Va(r),Dc(e,t,n,r,a,"max")}}]),t}(Pc);Lc.className="MaxPooling1D",i.hf.registerClass(Lc);var Fc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ua(a),Va(r),Dc(e,t,n,r,a,"avg")}}]),t}(Pc);Fc.className="AveragePooling1D",i.hf.registerClass(Fc);var Bc=function(e){function t(e){var n;if(Object(Jr.a)(this,t),null==e.poolSize&&(e.poolSize=[2,2]),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)n.strides=n.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new la("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));n.strides=e.strides}else n.strides=[e.strides,e.strides];return Ta(n.poolSize,"poolSize"),Ta(n.strides,"strides"),n.padding=null==e.padding?"valid":e.padding,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ua(n.dataFormat),Va(n.padding),n.inputSpec=[new Yi({ndim:4})],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){e=Gi(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=Eu(t,this.poolSize[0],this.padding,this.strides[0]),n=Eu(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){return n.invokeCallHook(e,t),n.poolingFunction(Wi(e),n.poolSize,n.strides,n.padding,n.dataFormat)})}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to),zc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ua(a),Va(r),Dc(e,t,n,r,a,"max")}}]),t}(Bc);zc.className="MaxPooling2D",i.hf.registerClass(zc);var Uc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ua(a),Va(r),Dc(e,t,n,r,a,"avg")}}]),t}(Bc);Uc.className="AveragePooling2D",i.hf.registerClass(Uc);var Vc=function(e){function t(e){var n;if(Object(Jr.a)(this,t),null==e.poolSize&&(e.poolSize=[2,2,2]),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)n.strides=n.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new la("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));n.strides=e.strides}else n.strides=[e.strides,e.strides,e.strides];return Ta(n.poolSize,"poolSize"),Ta(n.strides,"strides"),n.padding=null==e.padding?"valid":e.padding,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ua(n.dataFormat),Va(n.padding),n.inputSpec=[new Yi({ndim:5})],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){e=Gi(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=Eu(t,this.poolSize[0],this.padding,this.strides[0]),n=Eu(n,this.poolSize[1],this.padding,this.strides[1]),r=Eu(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){return n.invokeCallHook(e,t),n.poolingFunction(Wi(e),n.poolSize,n.strides,n.padding,n.dataFormat)})}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to),Wc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ua(a),Va(r),Rc(e,t,n,r,a,"max")}}]),t}(Vc);Wc.className="MaxPooling3D",i.hf.registerClass(Wc);var Gc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ua(a),Va(r),Rc(e,t,n,r,a,"avg")}}]),t}(Vc);Gc.className="AveragePooling3D",i.hf.registerClass(Gc);var Hc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).inputSpec=[new Yi({ndim:3})],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new da}}]),t}(to),qc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e||{}))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){return Object(i.Ef)(function(){var t=Wi(e);return i.He(t,1)})}}]),t}(Hc);qc.className="GlobalAveragePooling1D",i.hf.registerClass(qc);var Kc=function(e){function t(e){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).call(this,e||{}))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){return Object(i.Ef)(function(){var t=Wi(e);return i.De(t,1)})}}]),t}(Hc);Kc.className="GlobalMaxPooling1D",i.hf.registerClass(Kc);var Xc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ua(n.dataFormat),n.inputSpec=[new Yi({ndim:4})],n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new da}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to),Qc=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var t=Wi(e);return"channelsLast"===n.dataFormat?i.He(t,[1,2]):i.He(t,[2,3])})}}]),t}(Xc);Qc.className="GlobalAveragePooling2D",i.hf.registerClass(Qc);var Yc=function(e){function t(){return Object(Jr.a)(this,t),Object(ta.a)(this,Object(na.a)(t).apply(this,arguments))}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var t=Wi(e);return"channelsLast"===n.dataFormat?i.De(t,[1,2]):i.De(t,[2,3])})}}]),t}(Xc);Yc.className="GlobalMaxPooling2D",i.hf.registerClass(Yc);var $c=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).layer=e.layer,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(Fo.a)(Object(na.a)(t.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Bo(t.layer,n);delete t.layer;var a={layer:r};return Object.assign(a,t),new e(a)}}]),t}(to),Zc=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).supportsMasking=!0,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"build",value:function(e){if((e=Gi(e)).length<3)throw new la("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];var n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),Object(Fo.a)(Object(na.a)(t.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=Gi(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){return qu(function(e,r){return[Wi(n.layer.call(e,t)),[]]},e=Wi(e),[],!1,null,null,!1,!0)[1]})}}]),t}($c);Zc.className="TimeDistributed",i.hf.registerClass(Zc);var Jc="concat",el=function(e){function t(e){var n;Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e));var r=e.layer.getConfig(),a={};a.className=e.layer.getClassName(),a.config=r,n.forwardLayer=Bo(a),r.goBackwards=!0!==r.goBackwards;var i,o={};if(o.className=e.layer.getClassName(),o.config=r,n.backwardLayer=Bo(o),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,n.mergeMode=void 0===e.mergeMode?Jc:e.mergeMode,i=n.mergeMode,Sa(Ba,"BidirectionalMergeMode",i),e.weights)throw new da("weights support is not implemented for Bidirectional layer yet.");return n._stateful=e.layer.stateful,n.returnSequences=e.layer.returnSequences,n.returnState=e.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=e.layer.inputSpec,n.numConstants=null,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),a=a,this.returnState?(r=a.slice(1),t=a[0]):t=a[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):ga(n)}},{key:"apply",value:function(e,n){var r=null==n?null:n.initialState,a=null==n?null:n.constants;null==n&&(n={});var i=Hu(e,r,a,this.numConstants);if(e=i.inputs,r=i.initialState,a=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return Object(Fo.a)(Object(na.a)(t.prototype),"apply",this).call(this,e,n);var o=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new la("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push.apply(o,Object(Kn.a)(r));var c=r.map(function(e){return new Yi({shape:e.shape})});this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),s.push.apply(s,Object(Kn.a)(c))}if(null!=a)throw new da("Support for constants in Bidirectional layers is not implemented yet.");for(var l=o[0]instanceof $i,d=0,p=o;d<p.length;d++){if(p[d]instanceof $i!==l)throw new la("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(l){var h=[e].concat(o),f=this.inputSpec.concat(s),m=this.inputSpec;this.inputSpec=f;var v=Object(Fo.a)(Object(na.a)(t.prototype),"apply",this).call(this,h,n);return this.inputSpec=m,v}return Object(Fo.a)(Object(na.a)(t.prototype),"apply",this).call(this,e,n)}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var r,a,o,s,u=t.initialState;if(null==u)r=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var c=u.slice(0,u.length/2),l=u.slice(u.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:c})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(r)&&(o=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=i.df(a,1)),"concat"===n.mergeMode?s=ui([r,a]):"sum"===n.mergeMode?s=i.xd(r,a):"ave"===n.mergeMode?s=i.Me(.5,i.xd(r,a)):"mul"===n.mergeMode?s=i.Me(r,a):null==n.mergeMode&&(s=[r,a]),n.returnState?null==n.mergeMode?s.concat(o):[s].concat(o):s})}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;qa(this.forwardLayer.name,function(){t.forwardLayer.build(e)}),qa(this.backwardLayer.name,function(){t.backwardLayer.build(e)}),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map(function(e){return null});return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(Fo.a)(Object(na.a)(t.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}}],[{key:"fromConfig",value:function(e,t){var n=Bo(t.layer);if(delete t.layer,null!=t.numConstants)throw new da("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),t}($c);el.className="Bidirectional",i.hf.registerClass(el);var tl=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).scale=e.scale,e.offset?n.offset=e.offset:n.offset=0,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){var e={scale:this.scale,offset:this.offset},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){return"float32"!==(e=Wi(e)).dtype&&(e=ri(e,"float32")),Object(i.xd)(Object(i.Me)(e,n.scale),n.offset)})}}]),t}(to);tl.className="Rescaling",i.hf.registerClass(tl);var nl=i.se.resizeBilinear,rl=i.se.cropAndResize,al=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).height=e.height,n.width=e.width,n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"centerCrop",value:function(e,t,n,r,a,o,s,u){return Object(i.Ef)(function(){var c,l=!1,d=[t/o,n/s,(r+t)/o,(a+n)/s],p=[];3===e.rank?(l=!0,c=Object(i.vf)([e])):c=e;for(var h=0;h<c.shape[0];h++)p.push(d);var f=Object(i.Af)(p,[p.length,4]),m=Object(i.Ye)(0,p.length,1,"int32"),v=rl(c,f,m,[r,a],"nearest");return ri(l?Wi(Object(i.Jf)(v)):v,u)})}},{key:"upsize",value:function(e,t,n,r){return Object(i.Ef)(function(){return ri(nl(e,[t,n]),r)})}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var t=Wi(e),r=t.dtype,a=t.shape,i=a[a.length-3],o=a[a.length-2],s=0;i!==n.height&&(s=Math.floor((i-n.height)/2));var u=0;return o!==n.width&&0===(u=Math.floor((o-n.width)/2))&&(u=1),s>=0&&u>=0?n.centerCrop(t,s,u,n.height,n.width,i,o,r):n.upsize(e,n.height,n.width,r)})}},{key:"getConfig",value:function(){var e={height:this.height,width:this.width},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"computeOutputShape",value:function(e){var t=(e=Gi(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}]),t}(to);al.className="CenterCrop",i.hf.registerClass(al);var il=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).numTokens=e.numTokens,e.outputMode?n.outputMode=e.outputMode:n.outputMode="multiHot",n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){var e={numTokens:this.numTokens,outputMode:this.outputMode},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"computeOutputShape",value:function(e){return null==(e=Gi(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var r;if("int32"!==(e=Wi(e)).dtype&&(e=ri(e,"int32")),"undefined"!==typeof t.countWeights){if("count"!==n.outputMode)throw new la("countWeights is not used when outputMode !== count.\n              Received countWeights=".concat(t.countWeights));r=Wi(t.countWeights)}var a=Object(i.De)(e),o=Object(i.Je)(e),s=Object(i.qe)(n.numTokens,a).bufferSync().get(0),u=Object(i.re)(o,0).bufferSync().get(0);if(!s||!u)throw new la("Input values must be between 0 < values <="+" numTokens with numTokens=".concat(n.numTokens));return function(e,t,n,r){var a=Wi(e);if("int32"!==a.dtype&&(a=ri(a,"int32")),"int"===t)return a;var o=a.shape;if(0===a.rank&&(a=Object(i.ke)(a,-1)),"oneHot"===t&&1!==a.shape[a.shape.length-1]&&(a=Object(i.ke)(a,-1)),a.rank>2)throw new la("When outputMode is not int, maximum output rank is 2"+" Received outputMode ".concat(t," and input shape ").concat(o)+" which would result in output rank ".concat(a.rank,"."));var s,u=["multiHot","oneHot"].includes(t),c=a;if(s="undefined"!==typeof r&&"count"===t?Object(i.Zd)(c,r,n,u):Object(i.Zd)(c,[],n,u),"tfIdf"!==t)return s;if(r)return Object(i.Me)(s,r);throw new la("When outputMode is 'tfIdf', weights must be provided.")}(e,n.outputMode,n.numTokens,r)})}}]),t}(to);il.className="CategoryEncoding",i.hf.registerClass(il);var ol=new Set(["bilinear","nearest"]),sl=function(e){function t(e){var n;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).height=e.height,n.width=e.width,e.interpolation){if(!ol.has(e.interpolation))throw new la("Invalid interpolation parameter: ".concat(e.interpolation," is not implemented"));n.interpolation=e.interpolation}else n.interpolation="bilinear";return n.cropToAspectRatio=Boolean(e.cropToAspectRatio),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"computeOutputShape",value:function(e){var t=(e=Gi(e))[2];return[this.height,this.width,t]}},{key:"getConfig",value:function(){var e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var t=[n.height,n.width];if("bilinear"===n.interpolation)return i.se.resizeBilinear(e,t,!n.cropToAspectRatio);if("nearest"===n.interpolation)return i.se.resizeNearestNeighbor(e,t,!n.cropToAspectRatio);throw new Error("Interpolation is ".concat(n.interpolation," but only ").concat(Object(Kn.a)(ol)," are supported"))})}}]),t}(to);sl.className="Resizing",i.hf.registerClass(sl);var ul=function(){function e(t){Object(Jr.a)(this,e),this.seed=t}return Object(ea.a)(e,[{key:"next",value:function(){if(void 0!==this.seed)return this.seed++}}]),e}();ul.className="RandomSeed";var cl=function(e){function t(e){var n;return Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this,e))).randomGenerator=new ul(e.seed),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){var e={seed:this.randomGenerator.seed},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(to);cl.className="BaseRandomLayer";var ll=new Set(["bilinear","nearest"]),dl=function(e){function t(e){var n;Object(Jr.a)(this,t),n=Object(ta.a)(this,Object(na.a)(t).call(this,e));var r=e.factor,a=e.interpolation,i=void 0===a?"bilinear":a;if(n.factor=r,Array.isArray(n.factor)&&2===n.factor.length)n.widthLower=n.factor[0],n.widthUpper=n.factor[1];else{if(Array.isArray(n.factor)||!(n.factor>0))throw new la("Invalid factor: ".concat(n.factor,". Must be positive number or tuple of 2 numbers"));n.widthLower=-n.factor,n.widthUpper=n.factor}if(n.widthLower<-1||n.widthUpper<-1)throw new la("factor must have values larger than -1. Got: ".concat(n.factor));if(n.widthUpper<n.widthLower)throw new la("factor cannot have upper bound less than lower bound.\n        Got upper bound: ".concat(n.widthUpper,".\n        Got lower bound: ").concat(n.widthLower,"\n      "));if(i){if(!ll.has(i))throw new la("Invalid interpolation parameter: ".concat(i," is not implemented"));n.interpolation=i}return n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"getConfig",value:function(){var e={factor:this.factor,interpolation:this.interpolation},n=Object(Fo.a)(Object(na.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"computeOutputShape",value:function(e){var t=(e=Gi(e))[2];return[this.imgHeight,-1,t]}},{key:"call",value:function(e,t){var n=this;return Object(i.Ef)(function(){var t=Wi(e);n.imgHeight=t.shape[t.shape.length-3];var r=t.shape[t.shape.length-2];n.widthFactor=Object(i.Xe)([1],1+n.widthLower,1+n.widthUpper,"float32",n.randomGenerator.next());var a=n.widthFactor.dataSync()[0]*r;a=Math.round(a);var o=[n.imgHeight,a];switch(n.interpolation){case"bilinear":return i.se.resizeBilinear(e,o);case"nearest":return i.se.resizeNearestNeighbor(e,o);default:throw new Error("Interpolation is ".concat(n.interpolation,"\n          but only ").concat(Object(Kn.a)(ll)," are supported"))}})}}]),t}(cl);function pl(e){return new no(e)}function hl(e){return new xu(e)}function fl(e){return new Au(e)}function ml(e){return new yu(e)}function vl(e){return new bu(e)}function gl(e){return new _u(e)}function Al(e){return new wu(e)}function yl(e){return new Uu(e)}function bl(e){return new Ru(e)}function xl(e){return new Lu(e)}function wl(e){return new Pu(e)}function _l(e){return new Fu(e)}function kl(e){return new zu(e)}function Ol(e){return new Vu(e)}function El(e){return new Wu(e)}function Sl(e){return new Gu(e)}function Cl(e){return new dc(e)}function Tl(e){return new cc(e)}function Il(e){return new sc(e)}function jl(e){return new uc(e)}function Ml(e){return new lc(e)}function Nl(e){return new pc(e)}function Dl(e){return new hc(e)}function Rl(e){return new fc(e)}function Pl(e){return new vc(e)}function Ll(e){return new Ac(e)}function Fl(e){return new bc(e)}function Bl(e){return new _c(e)}function zl(e){return new xc(e)}function Ul(e){return new wc(e)}function Vl(e){return new yc(e)}function Wl(e){return new Oc(e)}function Gl(e){return new jc(e)}function Hl(e){return new Mc(e)}function ql(e){return new Nc(e)}function Kl(e){return new Fc(e)}function Xl(e){return Kl(e)}function Ql(e){return Kl(e)}function Yl(e){return new Uc(e)}function $l(e){return Yl(e)}function Zl(e){return Yl(e)}function Jl(e){return new Gc(e)}function ed(e){return Jl(e)}function td(e){return Jl(e)}function nd(e){return new qc(e)}function rd(e){return new Qc(e)}function ad(e){return new Kc(e)}function id(e){return new Yc(e)}function od(e){return new Lc(e)}function sd(e){return new zc(e)}function ud(e){return new Wc(e)}function cd(e){return new Zu(e)}function ld(e){return new $u(e)}function dd(e){return new ec(e)}function pd(e){return new Ju(e)}function hd(e){return new Yu(e)}function fd(e){return new Qu(e)}function md(e){return new oc(e)}function vd(e){return new ic(e)}function gd(e){return new Ku(e)}function Ad(e){return new tc(e)}function yd(e){return new el(e)}function bd(e){return new Zc(e)}dl.className="RandomWidth",i.hf.registerClass(dl);var xd=ad,wd=id,_d=od,kd=sd;function Od(e){return new Ec(e)}function Ed(e){return new Sc(e)}function Sd(e){return new Cc(e)}function Cd(e){return new mc(e)}function Td(e){return new tl(e)}function Id(e){return new al(e)}function jd(e){return new sl(e)}function Md(e){return new il(e)}function Nd(e){return new dl(e)}Object(i.he)().registerFlag("KEEP_INTERMEDIATE_TENSORS",function(){return!1},function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});n(110),n(2),n(181);var Dd=n(44);sa(Error);new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);var Rd=n(147),Pd=n(84),Ld=n(126),Fd=function(){function e(){Object(Jr.a)(this,e),this.size=null}return Object(ea.a)(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return i.Lf.assert(e>0,function(){return"batchSize needs to be positive, but it is\n      ".concat(e)}),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),Bd(Object(Oo.a)(ko.a.mark(function t(){return ko.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.iterator();case 2:return t.t0=e,t.t1=n,t.t2=zd,t.abrupt("return",t.sent.columnMajorBatch(t.t0,t.t1,t.t2));case 6:case"end":return t.stop()}},t)})),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,Bd(Object(Oo.a)(ko.a.mark(function t(){return ko.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.next=5,e.iterator();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concatenate.call(t.t0,t.t1));case 7:case"end":return t.stop()}},t)})),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,Bd(Object(Oo.a)(ko.a.mark(function t(){return ko.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=function(t){return i.Ef(function(){return e(t)})},t.abrupt("return",t.sent.filter(t.t0));case 4:case"end":return t.stop()}},t)})),t)}},{key:"forEachAsync",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.iterator();case 2:return e.t0=t,e.abrupt("return",e.sent.forEachAsync(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return Bd(Object(Oo.a)(ko.a.mark(function n(){return ko.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.t0=function(t){return i.Ef(function(){return e(t)})},n.abrupt("return",n.sent.map(n.t0));case 4:case"end":return n.stop()}},n)})),this.size)}},{key:"mapAsync",value:function(e){var t=this;return Bd(Object(Oo.a)(ko.a.mark(function n(){return ko.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.t0=e,n.abrupt("return",n.sent.mapAsync(n.t0));case 4:case"end":return n.stop()}},n)})),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return Bd(Object(Oo.a)(ko.a.mark(function n(){return ko.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.t0=e,n.abrupt("return",n.sent.prefetch(n.t0));case 4:case"end":return n.stop()}},n)})),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,Bd(Object(Oo.a)(ko.a.mark(function t(){var r;return ko.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(Pd.e)(Object(Oo.a)(ko.a.mark(function e(){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 4:case"end":return e.stop()}},e)}))),t.abrupt("return",Object(Pd.d)(r.take(e)));case 2:case"end":return t.stop()}},t)})),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,Bd(Object(Oo.a)(ko.a.mark(function t(){return ko.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=e,t.abrupt("return",t.sent.skip(t.t0));case 4:case"end":return t.stop()}},t)})),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));var r=this,a=Rd.alea(t||i.Lf.now().toString());return Bd(Object(Oo.a)(ko.a.mark(function t(){var i;return ko.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.int32(),n&&(i+=a.int32()),t.next=4,r.iterator();case 4:return t.t0=e,t.t1=i.toString(),t.abrupt("return",t.sent.shuffle(t.t0,t.t1));case 7:case"end":return t.stop()}},t)})),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,Bd(Object(Oo.a)(ko.a.mark(function t(){return ko.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=e,t.abrupt("return",t.sent.take(t.t0));case 4:case"end":return t.stop()}},t)})),t)}},{key:"toArray",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArray());case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArrayForTest());case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function Bd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){function r(){var e;return Object(Jr.a)(this,r),(e=Object(ta.a)(this,Object(na.a)(r).apply(this,arguments))).size=t,e}return Object(aa.a)(r,n),Object(ea.a)(r,[{key:"iterator",value:function(){var t=Object(Oo.a)(ko.a.mark(function t(){return ko.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}]),r}(Fd))}function zd(e){if(null===e)return null;var t=e[0];return Object(Ld.a)(t)?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof i.kd?i.vf(e):i.Af(e)}(e),recurse:!1}:{value:null,recurse:!0}}Fd.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote"),Pd.a,Pd.a,n(492).a;function Ud(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&i.Lf.assert("complex64"!==e.dtype,function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")})})}var Vd=i.ve.whereImpl,Wd=function(e){function t(){var e;return Object(Jr.a)(this,t),(e=Object(ta.a)(this,Object(na.a)(t).call(this))).blockSize=48,e.firstUse=!0,e.data=new i.O(Object(ra.a)(e),Object(i.ge)()),e}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"nextDataId",value:function(){return t.nextDataId++}}]),Object(ea.a)(t,[{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,Object(i.he)().get("IS_NODE")&&i.Ed.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&i.Lf.isString(n[0])){var a=n.map(function(e){return i.Lf.encodeString(e)});r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var a=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return i.Ed.mergeRealAndImagArrays(a,o)}return i.Lf.convertBackendValuesAndArrayBuffer(this.data.get(e).values,n)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map(function(e){return i.Lf.decodeString(e)});return Object(i.Ld)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(i.Ld)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,n){return Object(i.ge)().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e).complexTensorInfos;null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){var n,r;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.Lf.now(),t(),r=i.Lf.now()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){Ud([e],"where");var t=this.readSync(e.dataId);return Vd(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return Object(Fo.a)(Object(na.a)(t.prototype),"epsilon",this).call(this)}}]),t}(i.Ab);Wd.nextDataId=0;function Gd(e){return function(t,n,r){for(var a=i.Lf.getArrayFromDType(n,t.length),o=0;o<t.length;++o)a[o]=e(t[o],r);return a}}function Hd(e,t,n){return qd(e,Gd(t),n)}function qd(e,t,n){return function(r){var a=r.inputs,o=r.attrs,s=r.backend,u=a.x;Ud(u,e);var c,l=s,d=l.data.get(u.dataId).values;if("string"===u.dtype){if(!Array.isArray(d))throw new Error("String tensor's value was not an instance of Array");c=i.Ed.fromUint8ToStringArray(d)}else c=d;var p=n||u.dtype,h=t(c,p,o);return l.makeTensorInfo(u.shape,p,h)}}Object(i.Ze)("cpu",function(){return new Wd},1);var Kd=Hd(i.ab,function(e){return e>=0?e:Math.exp(e)-1}),Xd={kernelName:i.ab,backendName:"cpu",kernelFunc:Kd};function Qd(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var Yd={kernelName:i.vb,backendName:"cpu",kernelFunc:Qd};function $d(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha;Ud([a],"leakyRelu");for(var s=i.Lf.sizeFromShape(a.shape),u=n.data.get(a.dataId).values,c=i.Lf.getTypedArrayFromDType("float32",s),l=0;l<u.length;l++)c[l]=u[l]<0?o*u[l]:u[l];return n.makeTensorInfo(a.shape,"float32",c)}var Zd={kernelName:i.Db,backendName:"cpu",kernelFunc:$d};function Jd(e){return function(t,n,r,a,o){var s=i.Ed.assertAndGetBroadcastShape(t,n),u=s.length,c=i.Lf.computeStrides(s),l=i.Lf.sizeFromShape(s),d=i.Lf.getTypedArrayFromDType(o,l),p=t.length,h=n.length,f=i.Lf.computeStrides(t),m=i.Lf.computeStrides(n),v=i.Ed.getBroadcastDims(t,s),g=i.Ed.getBroadcastDims(n,s);if(v.length+g.length===0)for(var A=0;A<d.length;++A)d[A]=e(r[A%r.length],a[A%a.length]);else for(var y=function(t){var n=i.Lf.indexToLoc(t,u,c),o=n.slice(-p);v.forEach(function(e){return o[e]=0});var s=i.Lf.locToIndex(o,p,f),l=n.slice(-h);g.forEach(function(e){return l[e]=0});var A=i.Lf.locToIndex(l,h,m);d[t]=e(r[s],a[A])},b=0;b<d.length;++b)y(b);return[d,s]}}var ep=Jd(function(e,t){return e<0?t*e:e});function tp(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha;Ud([r,a],"prelu");var i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=ep(r.shape,a.shape,i,s,"float32"),c=Object(o.a)(u,2),l=c[0],d=c[1];return n.makeTensorInfo(d,"float32",l)}var np={kernelName:i.lc,backendName:"cpu",kernelFunc:tp},rp=Hd(i.uc,function(e){return Math.max(0,e)}),ap={kernelName:i.uc,backendName:"cpu",kernelFunc:rp},ip=Hd(i.vc,function(e){return Math.min(Math.max(0,e),6)}),op={kernelName:i.vc,backendName:"cpu",kernelFunc:ip},sp=Gd(function(e){return 1/(1+Math.exp(-e))}),up=Hd(i.Jc,function(e){return 1/(1+Math.exp(-e))}),cp={kernelName:i.Jc,backendName:"cpu",kernelFunc:up};function lp(e,t,n,r,a){if("linear"===n)return Qd({inputs:{x:t},backend:e});if("relu"===n)return rp({inputs:{x:t},backend:e});if("elu"===n)return Kd({inputs:{x:t},backend:e});if("relu6"===n)return ip({inputs:{x:t},backend:e});if("prelu"===n)return tp({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return $d({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return up({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function dp(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",o)},s}var pp={kernelName:i.A,backendName:"cpu",kernelFunc:dp};function hp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n)return dp({inputs:{real:hp(e,t,"float32"),imag:hp(e,t,"float32")},backend:e});var r=i.Lf.makeZerosTypedArray(i.Lf.sizeFromShape(t),n);return e.makeTensorInfo(t,n,r)}function fp(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var mp={kernelName:i.rc,backendName:"cpu",kernelFunc:fp};function vp(e,t,n,r){if("int32"===r)return[t,"int32",Int32Array.from(e)];if("bool"===r){var a=i.Lf.toTypedArray([0],n),s=Jd(function(e,t){return e!==t?1:0})(t,[],e,a,"bool"),u=Object(o.a)(s,2),c=u[0];return[u[1],"bool",c]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(r))}function gp(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.dtype;if("complex64"===s){if("complex64"===a.dtype)return Qd({inputs:{x:a},backend:n});var u=hp(n,a.shape,a.dtype),c=gp({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),l=dp({inputs:{real:c,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),l}if("complex64"===a.dtype){var d=fp({inputs:{input:a},backend:n}),p=gp({inputs:{x:d},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(d),p}if(!i.Lf.hasEncodingLoss(a.dtype,s)){var h=Qd({inputs:{x:a},backend:n});return{dataId:h.dataId,shape:h.shape,dtype:s}}var f=vp(n.data.get(a.dataId).values,a.shape,a.dtype,s),m=Object(o.a)(f,3),v=m[0],g=m[1],A=m[2];return n.makeTensorInfo(v,g,A)}var Ap={kernelName:i.x,backendName:"cpu",kernelFunc:gp};function yp(e,t,n,r){return null==n?function(n){var a=n.inputs,s=n.backend,u=a.a,c=a.b,l=s;Ud([u,c],e);var d=l.data.get(u.dataId).values,p=l.data.get(c.dataId).values,h="string"===u.dtype?i.Ed.fromUint8ToStringArray(d):d,f="string"===u.dtype?i.Ed.fromUint8ToStringArray(p):p,m=r||u.dtype,v=t(u.shape,c.shape,h,f,m),g=Object(o.a)(v,2),A=g[0],y=g[1];return l.makeTensorInfo(y,m,A)}:function(e){var a=e.inputs,i=e.backend,s=a.a,u=a.b,c=i;if("complex64"===s.dtype||"complex64"===u.dtype){var l=gp({inputs:{x:s},backend:c,attrs:{dtype:"complex64"}}),d=c.data.get(l.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=c.data.get(p.dataId).values,m=c.data.get(h.dataId).values,v=gp({inputs:{x:u},backend:c,attrs:{dtype:"complex64"}}),g=c.data.get(v.dataId),A=g.complexTensorInfos.real,y=g.complexTensorInfos.imag,b=c.data.get(A.dataId).values,x=c.data.get(y.dataId).values,w=n(s.shape,u.shape,f,m,b,x),_=Object(o.a)(w,3),k=_[0],O=_[1],E=_[2],S=c.makeTensorInfo(E,"float32",k),C=c.makeTensorInfo(E,"float32",O),T=dp({inputs:{real:S,imag:C},backend:c});return c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(v),c.disposeIntermediateTensorInfo(S),c.disposeIntermediateTensorInfo(C),T}var I=c.data.get(s.dataId).values,j=c.data.get(u.dataId).values,M=r||s.dtype,N=t(s.shape,u.shape,I,j,M),D=Object(o.a)(N,2),R=D[0],P=D[1];return c.makeTensorInfo(P,M,R)}}function bp(e){return function(t,n,r,a,o,s){var u=i.Ed.assertAndGetBroadcastShape(t,n),c=i.Lf.sizeFromShape(u),l=u.length,d=i.Lf.computeStrides(u),p=i.Lf.getTypedArrayFromDType("float32",c),h=i.Lf.getTypedArrayFromDType("float32",c),f=i.Ed.getBroadcastDims(t,u),m=i.Ed.getBroadcastDims(n,u),v=i.Ed.mergeRealAndImagArrays(r,a),g=i.Ed.mergeRealAndImagArrays(o,s),A=t.length,y=i.Lf.computeStrides(t),b=n.length,x=i.Lf.computeStrides(n);if(f.length+m.length===0)for(var w=0;w<p.length;w++){var _=w%v.length,k=w%g.length,O=e(v[2*_],v[2*_+1],g[2*k],g[2*k+1]);p[w]=O.real,h[w]=O.imag}else for(var E=function(t){var n=i.Lf.indexToLoc(t,l,d),r=n.slice(-A);f.forEach(function(e){return r[e]=0});var a=i.Lf.locToIndex(r,A,y),o=n.slice(-b);m.forEach(function(e){return o[e]=0});var s=i.Lf.locToIndex(o,b,x),u=e(v[2*a],v[2*a+1],g[2*s],g[2*s+1]);p[t]=u.real,h[t]=u.imag},S=0;S<p.length;S++)E(S);return[p,h,u]}}var xp=Jd(function(e,t){return e+t}),wp=bp(function(e,t,n,r){return{real:e+n,imag:t+r}}),_p=yp(i.d,xp,wp),kp={kernelName:i.d,backendName:"cpu",kernelFunc:_p};function Op(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,s=i.Lf.sizeFromShape(a.shape),u=i.Lf.inferFromImplicitShape(o,s),c=i.Lf.sizeFromShape(u);i.Lf.assert(s===c,function(){return"The new shape (".concat(u,") has ").concat(c," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}),n.incRef(a.dataId);var l=n.data.get(a.dataId);if(null!=l.complexTensorInfos){var d=l.complexTensorInfos.real,p=l.complexTensorInfos.imag;d.shape=u,p.shape=u}return{dataId:a.dataId,shape:u,dtype:a.dtype}}var Ep={kernelName:i.wc,backendName:"cpu",kernelFunc:Op};function Sp(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,s=t.b,u=r.transposeA,c=r.transposeB;Ud([a,s],"matMul");var l=a.shape.length,d=s.shape.length,p=u?a.shape[l-2]:a.shape[l-1],h=c?s.shape[d-1]:s.shape[d-2],f=u?a.shape[l-1]:a.shape[l-2],m=c?s.shape[d-2]:s.shape[d-1],v=a.shape.slice(0,-2),g=s.shape.slice(0,-2),A=i.Lf.sizeFromShape(v),y=i.Lf.sizeFromShape(g),b=i.Jd.assertAndGetBroadcastShape(a.shape.slice(0,-2),s.shape.slice(0,-2)).concat([f,m]);i.Lf.assert(p===h,function(){return"Error in matMul: inner shapes (".concat(p,") and (")+"".concat(h,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(s.shape," and transposeA=").concat(u)+" and transposeB=".concat(c," must match.")});for(var x=c?[y,m,h]:[y,h,m],w=Op({inputs:{x:a},backend:n,attrs:{shape:u?[A,p,f]:[A,f,p]}}),_=Op({inputs:{x:s},backend:n,attrs:{shape:x}}),k=u?w.shape[1]:w.shape[2],O=u?w.shape[2]:w.shape[1],E=c?_.shape[1]:_.shape[2],S=Math.max(A,y),C=n.data.get(w.dataId).values,T=n.data.get(_.dataId).values,I=i.Lf.computeStrides(w.shape),j=i.Lf.computeStrides(_.shape),M=u?[I[0],1,I[1]]:[I[0],I[1],1],N=Object(o.a)(M,3),D=N[0],R=N[1],P=N[2],L=c?[1,j[1],j[0]]:[j[1],1,j[0]],F=Object(o.a)(L,3),B=F[0],z=F[1],U=F[2],V=O*E,W=Object(i.Ld)([S,O,E],w.dtype),G=W.values,H=n.blockSize,q=0;q<S;q++)for(var K=q%A,X=q%y,Q=0;Q<O;Q+=H)for(var Y=Math.min(Q+H,O),$=0;$<E;$+=H)for(var Z=Math.min($+H,E),J=0;J<k;J+=H)for(var ee=Math.min(J+H,k),te=Q;te<Y;te++)for(var ne=$;ne<Z;ne++){for(var re=0,ae=J;ae<ee;ae++){re+=C[K*D+te*R+ae*P]*T[ae*B+ne*z+X*U]}G[q*V+(te*E+ne)]+=re}return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(_),n.makeTensorInfo(b,W.dtype,W.values)}var Cp={kernelName:i.s,backendName:"cpu",kernelFunc:Sp};var Tp={kernelName:i.vd,backendName:"cpu",kernelFunc:function(e){var t,n,r,a=e.inputs,i=e.backend,o=e.attrs,s=a.a,u=a.b,c=a.bias,l=a.preluActivationWeights,d=o.transposeA,p=o.transposeB,h=o.activation,f=o.leakyreluAlpha,m=[];t=Sp({inputs:{a:s,b:u},attrs:{transposeA:d,transposeB:p},backend:i}),c&&(n=_p({inputs:{a:t,b:c},backend:i}),m.push(t),t=n),h&&(r=lp(i,t,h,l,f),m.push(t),t=r);for(var v=0,g=m;v<g.length;v++){var A=g[v];i.disposeIntermediateTensorInfo(A)}return t}};function Ip(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var jp={kernelName:i.a,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;Ud(t,"abs");var r=new Float32Array(i.Lf.sizeFromShape(t.shape));return r=Ip(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},Mp=Hd(i.b,function(e){return Math.acos(e)}),Np={kernelName:i.b,backendName:"cpu",kernelFunc:Mp},Dp=Hd(i.c,function(e){return Math.acosh(e)}),Rp={kernelName:i.c,backendName:"cpu",kernelFunc:Dp};var Pp={kernelName:i.e,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;Ud(t,"addN");for(var a=r.map(function(e){return n.data.get(e.dataId).values}),o=Object(i.Ld)(r[0].shape,r[0].dtype),s=o.values,u=0;u<r.length;u++)for(var c=a[u],l=0;l<s.length;l++)s[l]+=c[l];return n.makeTensorInfo(o.shape,o.dtype,o.values)}};function Lp(e,t,n,r,a){for(var o=t.length,s=i.Lf.sizeFromShape(t),u=i.Lf.computeStrides(t),c=i.Lf.computeStrides(a),l=i.Lf.getTypedArrayFromDType(n,i.Lf.sizeFromShape(a)),d=0;d<s;++d){for(var p=i.Lf.indexToLoc(d,o,u),h=new Array(p.length),f=0;f<h.length;f++)h[f]=p[r[f]];l[i.Lf.locToIndex(h,o,c)]=e[d]}return l}function Fp(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.perm;Ud(a,"transpose");for(var o=a.shape.length,s=new Array(o),u=0;u<s.length;u++)s[u]=a.shape[i[u]];var c=Lp(r.data.get(a.dataId).values,a.shape,a.dtype,i,s);return{dataId:r.write(c,s,a.dtype),shape:s,dtype:a.dtype}}var Bp={kernelName:i.qd,backendName:"cpu",kernelFunc:Fp};var zp={kernelName:i.f,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.axis,u=r.keepDims;Ud(a,"all");var c=i.Lf.parseAxisParam(s,a.shape),l=c,d=i.Ed.getAxesPermutation(l,a.shape.length),p=a;null!=d&&(p=Fp({inputs:{x:a},backend:n,attrs:{perm:d}}),l=i.Ed.getInnerMostAxes(l.length,a.shape.length)),i.Ed.assertAxesAreInnerMostDims("all",l,p.shape.length);for(var h=i.Ed.computeOutAndReduceShapes(p.shape,l),f=Object(o.a)(h,2),m=f[0],v=f[1],g=i.Lf.sizeFromShape(v),A=i.Lf.makeZerosTypedArray(i.Lf.sizeFromShape(m),p.dtype),y=n.data.get(p.dataId).values,b=0;b<A.length;++b){for(var x=b*g,w=y[x],_=0;_<g;++_){var k=y[x+_];w=w&&k}A[b]=w}null!=d&&n.disposeIntermediateTensorInfo(p);var O=n.makeTensorInfo(m,p.dtype,A);if(u){var E=Op({inputs:{x:O},backend:n,attrs:{shape:i.Ed.expandShapeToKeepDim(m,c)}});return n.disposeIntermediateTensorInfo(O),E}return O}};var Up={kernelName:i.g,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.axis,u=r.keepDims;Ud(a,"any");var c=i.Lf.parseAxisParam(s,a.shape),l=c,d=i.Ed.getAxesPermutation(l,a.shape.length),p=a;null!=d&&(p=Fp({inputs:{x:a},backend:n,attrs:{perm:d}}),l=i.Ed.getInnerMostAxes(l.length,a.shape.length)),i.Ed.assertAxesAreInnerMostDims("any",l,p.shape.length);for(var h=i.Ed.computeOutAndReduceShapes(p.shape,l),f=Object(o.a)(h,2),m=f[0],v=f[1],g=i.Lf.sizeFromShape(v),A=i.Lf.makeZerosTypedArray(i.Lf.sizeFromShape(m),p.dtype),y=n.data.get(p.dataId).values,b=0;b<A.length;++b){for(var x=b*g,w=y[x],_=0;_<g;++_){var k=y[x+_];w=w||k}A[b]=w}null!=d&&n.disposeIntermediateTensorInfo(p);var O=n.makeTensorInfo(m,p.dtype,A);if(u){var E=Op({inputs:{x:O},backend:n,attrs:{shape:i.Ed.expandShapeToKeepDim(m,c)}});return n.disposeIntermediateTensorInfo(O),E}return O}};var Vp={kernelName:i.h,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.axis;Ud(a,"argMax");var u=i.Lf.parseAxisParam(s,a.shape),c=i.Ed.getAxesPermutation(u,a.shape.length),l=a,d=[];null!=c&&(l=Fp({inputs:{x:a},backend:n,attrs:{perm:c}}),d.push(l),u=i.Ed.getInnerMostAxes(u.length,l.shape.length)),u=[u[0]],i.Ed.assertAxesAreInnerMostDims("argMax",u,l.shape.length);for(var p=i.Ed.computeOutAndReduceShapes(l.shape,u),h=Object(o.a)(p,2),f=h[0],m=h[1],v=i.Lf.sizeFromShape(f),g=i.Lf.makeZerosTypedArray(v,"int32"),A=i.Lf.sizeFromShape(m),y=n.data.get(l.dataId).values,b=0;b<g.length;++b){for(var x=b*A,w=y[x],_=0,k=0;k<A;++k){var O=y[x+k];O>w&&(w=O,_=k)}g[b]=_}return d.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),n.makeTensorInfo(f,"int32",g)}};var Wp={kernelName:i.i,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.axis;Ud(a,"argMin");var u=i.Lf.parseAxisParam(s,a.shape),c=i.Ed.getAxesPermutation(u,a.shape.length),l=a,d=[];null!=c&&(l=Fp({inputs:{x:a},backend:n,attrs:{perm:c}}),d.push(l),u=i.Ed.getInnerMostAxes(u.length,l.shape.length)),u=[u[0]],i.Ed.assertAxesAreInnerMostDims("argMin",u,l.shape.length);for(var p=i.Ed.computeOutAndReduceShapes(l.shape,u),h=Object(o.a)(p,2),f=h[0],m=h[1],v=i.Lf.sizeFromShape(f),g=i.Lf.makeZerosTypedArray(v,"int32"),A=i.Lf.sizeFromShape(m),y=n.data.get(l.dataId).values,b=0;b<g.length;++b){for(var x=b*A,w=y[x],_=0,k=0;k<A;++k){var O=y[x+k];O<w&&(w=O,_=k)}g[b]=_}return d.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),n.makeTensorInfo(f,"int32",g)}},Gp=Hd(i.j,function(e){return Math.asin(e)}),Hp={kernelName:i.j,backendName:"cpu",kernelFunc:Gp},qp=Hd(i.k,function(e){return Math.asinh(e)}),Kp={kernelName:i.k,backendName:"cpu",kernelFunc:qp},Xp=Hd(i.l,function(e){return Math.atan(e)}),Qp={kernelName:i.l,backendName:"cpu",kernelFunc:Xp},Yp=Jd(function(e,t){return Math.atan2(e,t)}),$p=yp(i.m,Yp),Zp={kernelName:i.m,backendName:"cpu",kernelFunc:$p},Jp=Hd(i.n,function(e){return Math.atanh(e)}),eh={kernelName:i.n,backendName:"cpu",kernelFunc:Jp};function th(e,t,n,r,a,o){for(var s=a.strideHeight,u=a.strideWidth,c=a.dilationHeight,l=a.dilationWidth,d=a.effectiveFilterHeight,p=a.effectiveFilterWidth,h=a.padInfo.top,f=a.padInfo.left,m="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=Object(i.Ld)(a.outShape,n),g=v.values,A=a.outShape[1]*a.outShape[2]*a.outShape[3],y=a.outShape[2]*a.outShape[3],b=a.outShape[3],x=0;x<a.batchSize;++x)for(var w=x*A,_=x*r[0],k=0;k<a.inChannels;++k)for(var O=0;O<a.outHeight;++O)for(var E=O*s-h,S=Math.max(0,E),C=Math.min(a.inHeight,d+E),T=w+O*y,I=0;I<a.outWidth;++I){for(var j=I*u-f,M=Math.max(0,j),N=Math.min(a.inWidth,p+j),D=m,R=0,P=0,L=S;L<C;L+=c){for(var F=_+L*r[1],B=M;B<N;B+=l){var z=e[F+B*r[2]+k];"max"===o&&z>D?D=z:"avg"===o&&(R+=z,P++)}if(isNaN(D))break}g[T+I*b+k]="avg"===o?R/P:D}return v}function nh(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=Object(i.Ld)(r.outShape,"int32"),u=r.strideHeight,c=r.strideWidth,l=r.dilationHeight,d=r.dilationWidth,p=r.effectiveFilterHeight,h=r.effectiveFilterWidth,f=r.padInfo.top,m=r.padInfo.left,v=Object(i.Ld)(t,n,e),g=0;g<r.batchSize;++g)for(var A=0;A<r.inChannels;++A)for(var y=0;y<r.outHeight;++y){for(var b=y*u-f,x=b;x<0;)x+=l;for(var w=Math.min(r.inHeight,p+b),_=0;_<r.outWidth;++_){for(var k=_*c-m,O=k;O<0;)O+=d;for(var E=Math.min(r.inWidth,h+k),S=Number.NEGATIVE_INFINITY,C=-1,T=x;T<w;T+=l)for(var I=T-b,j=O;j<E;j+=d){var M=j-k,N=v.get(g,T,j,A);N>S&&(S=N,C=a?o?((g*r.inHeight+T)*r.inWidth+j)*r.inChannels+A:(T*r.inWidth+j)*r.inChannels+A:I*h+M)}s.set(C,g,y,_,A)}}return s}function rh(e,t,n,r,a,o){for(var s=a.strideDepth,u=a.strideHeight,c=a.strideWidth,l=a.dilationDepth,d=a.dilationHeight,p=a.dilationWidth,h=a.effectiveFilterDepth,f=a.effectiveFilterHeight,m=a.effectiveFilterWidth,v=a.padInfo.front,g=a.padInfo.top,A=a.padInfo.left,y="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=Object(i.Ld)(a.outShape,n),x=b.values,w=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],_=a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[3]*a.outShape[4],O=a.outShape[4],E=0;E<a.batchSize;++E)for(var S=E*w,C=E*r[0],T=0;T<a.inChannels;++T)for(var I=0;I<a.outDepth;++I){for(var j=I*s-v,M=j;M<0;)M+=l;for(var N=Math.min(a.inDepth,h+j),D=S+I*_,R=0;R<a.outHeight;++R){for(var P=R*u-g,L=P;L<0;)L+=d;for(var F=Math.min(a.inHeight,f+P),B=D+R*k,z=0;z<a.outWidth;++z){for(var U=z*c-A,V=U;V<0;)V+=p;for(var W=Math.min(a.inWidth,m+U),G=B+z*O,H=y,q=0,K=0,X=M;X<N;X+=l){for(var Q=C+X*r[1],Y=L;Y<F;Y+=d){for(var $=Q+Y*r[2],Z=V;Z<W;Z+=p){var J=e[$+Z*r[3]+T];if("max"===o&&J>H?H=J:"avg"===o&&(q+=J,K++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}x[G+T]="avg"===o?q/Math.max(K,1):H}}}return b}var ah={kernelName:i.o,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Ud(a,"avgPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.Lf.assert(i.Ed.eitherStridesOrDilationsAreOne(s,1),function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")});var l,d=i.Ed.computePool2DInfo(a.shape,o,s,1,u,c);if(1===d.filterWidth&&1===d.filterHeight&&i.Lf.arraysEqual(d.inShape,d.outShape))l=Qd({inputs:{x:a},backend:n});else{var p=n.data.get(a.dataId).values,h=i.Lf.computeStrides(a.shape),f=th(p,a.shape,a.dtype,h,d,"avg");l=n.makeTensorInfo(d.outShape,a.dtype,f.values)}return l}};var ih={kernelName:i.p,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=r.dataFormat;Ud(a,"avgPool3d");var d=i.Ed.computePool3DInfo(a.shape,o,s,1,u,c,l),p=rh(n.data.get(a.dataId).values,a.shape,a.dtype,i.Lf.computeStrides(a.shape),d,"avg");return n.makeTensorInfo(p.shape,"float32",p.values)}};var oh={kernelName:i.q,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode;Ud([a,o],"avgPool3DGrad");for(var d=i.Ed.computePool3DInfo(o.shape,s,u,1,c,l),p=d.strideDepth,h=d.strideHeight,f=d.strideWidth,m=d.filterDepth,v=d.filterHeight,g=d.filterWidth,A=d.dilationDepth,y=d.dilationHeight,b=d.dilationWidth,x=d.effectiveFilterDepth,w=d.effectiveFilterHeight,_=d.effectiveFilterWidth,k=x-1-d.padInfo.front,O=_-1-d.padInfo.left,E=w-1-d.padInfo.top,S=Object(i.Ld)(o.shape,"float32"),C=1/(m*v*g),T=n.bufferSync(a),I=0;I<d.batchSize;++I)for(var j=0;j<d.inChannels;++j)for(var M=0;M<d.inDepth;++M)for(var N=0;N<d.inHeight;++N)for(var D=0;D<d.inWidth;++D){for(var R=M-k,P=N-E,L=D-O,F=0,B=0;B<x;B+=A){var z=(R+B)/p;if(!(z<0||z>=d.outDepth||Math.floor(z)!==z))for(var U=0;U<w;U+=y){var V=(P+U)/h;if(!(V<0||V>=d.outHeight||Math.floor(V)!==V))for(var W=0;W<_;W+=b){var G=(L+W)/f;G<0||G>=d.outWidth||Math.floor(G)!==G||(F+=T.get(I,z,V,G,j))}}}S.set(F*C,I,M,N,D,j)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};var sh={kernelName:i.r,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=o;Ud([a,o],"avgPoolGrad");for(var u=r.filterSize,c=r.strides,l=r.pad,d=i.Ed.computePool2DInfo(s.shape,u,c,1,l),p=d.strideHeight,h=d.strideWidth,f=d.filterHeight,m=d.filterWidth,v=d.dilationHeight,g=d.dilationWidth,A=d.effectiveFilterHeight,y=d.effectiveFilterWidth,b=y-1-d.padInfo.left,x=A-1-d.padInfo.top,w=Object(i.Ld)(s.shape,"float32"),_=1/(f*m),k=n.data.get(a.dataId).values,O=Object(i.Ld)(a.shape,"float32",k),E=0;E<d.batchSize;++E)for(var S=0;S<d.inChannels;++S)for(var C=0;C<d.inHeight;++C)for(var T=0;T<d.inWidth;++T){for(var I=C-x,j=T-b,M=0,N=0;N<A;N+=v){var D=(I+N)/p;if(!(D<0||D>=d.outHeight||Math.floor(D)!==D))for(var R=0;R<y;R+=g){var P=(j+R)/h;P<0||P>=d.outWidth||Math.floor(P)!==P||(M+=O.get(E,D,P,S))}}w.set(M*_,E,C,T,S)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var uh={kernelName:i.nb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.scale,s=t.offset,u=t.mean,c=t.variance;i.Lf.assert(u.shape.length===c.shape.length,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),i.Lf.assert(null==s||u.shape.length===s.shape.length,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),i.Lf.assert(null==o||u.shape.length===o.shape.length,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),Ud([a,u,c,o,s],"batchNorm");var l=r.varianceEpsilon;null==l&&(l=.001);for(var d=n.data.get(a.dataId).values,p=n.data.get(u.dataId).values,h=n.data.get(c.dataId).values,f=o?n.data.get(o.dataId).values:new Float32Array([1]),m=s?n.data.get(s.dataId).values:new Float32Array([0]),v=new Float32Array(d.length),g=m.length,A=f.length,y=h.length,b=p.length,x=0,w=0,_=0,k=0,O=0;O<d.length;++O)v[O]=m[x++]+(d[O]-p[w++])*f[_++]/Math.sqrt(h[k++]+l),x>=g&&(x=0),w>=b&&(w=0),_>=A&&(_=0),k>=y&&(k=0);return n.makeTensorInfo(a.shape,a.dtype,v)}};function ch(e,t,n,r,a){var o=i.pf.isSliceContinous(r,t,n),s=i.Lf.sizeFromShape(n),u=i.Lf.computeStrides(r);if(o){var c=i.pf.computeFlatOffset(t,u);return"string"===a?e.slice(c,c+s):e.subarray(c,c+s)}for(var l="string"===a?i.Ed.fromUint8ToStringArray(e):e,d=Object(i.Ld)(r,a,l),p=Object(i.Ld)(n,a),h=0;h<p.size;++h){var f=p.indexToLoc(h),m=f.map(function(e,n){return e+t[n]});p.set.apply(p,[d.get.apply(d,Object(Kn.a)(m))].concat(Object(Kn.a)(f)))}return"string"===a?i.Ed.fromStringArrayToUint8(p.values):p.values}function lh(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.begin,u=r.size;Ud(a,"slice");var c=i.pf.parseSliceParams(a,s,u),l=Object(o.a)(c,2),d=l[0],p=l[1];i.pf.assertParamsValid(a,d,p);var h=ch(n.data.get(a.dataId).values,d,p,a.shape,a.dtype);return n.makeTensorInfo(p,a.dtype,h)}var dh={kernelName:i.Nc,backendName:"cpu",kernelFunc:lh};var ph={kernelName:i.t,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.crops;Ud([a],"batchToSpaceND");var u=o.reduce(function(e,t){return e*t}),c=i.Ed.getReshaped(a.shape,o,u),l=i.Ed.getPermuted(c.length,o.length),d=i.Ed.getReshapedPermuted(a.shape,o,u),p=i.Ed.getSliceBeginCoords(s,o.length),h=i.Ed.getSliceSize(d,s,o.length),f=Op({inputs:{x:a},backend:n,attrs:{shape:c}}),m=Fp({inputs:{x:f},backend:n,attrs:{perm:l}}),v=Op({inputs:{x:m},backend:n,attrs:{shape:d}}),g=lh({inputs:{x:v},backend:n,attrs:{begin:p,size:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),g}};function hh(e,t,n,r,a){for(var o=i.Lf.sizeFromShape(r),s=i.Lf.makeZerosTypedArray(a,n),u=0;u<e.length;u++){var c=e[u];if(c<0)throw new Error("Input x must be non-negative!");c>=a||(s[c]+=o>0?t[u]:1)}return s}function fh(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],o=e.shape[1],s=Object(i.Ld)([a,n],t.dtype),u=0;u<a;u++)for(var c=0;c<o;c++){var l=e.get(u,c);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(r?s.set(1,u,l):t.size>0?s.set(s.get(u,l)+t.get(u,c),u,l):s.set(s.get(u,l)+1,u,l))}return s}var mh={kernelName:i.u,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=hh(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,s)}},vh=Jd(function(e,t){return e&t}),gh=yp(i.v,vh),Ah={kernelName:i.v,backendName:"cpu",kernelFunc:gh};var yh={kernelName:i.w,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=i.Ed.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},bh=Gd(function(e){return Math.ceil(e)}),xh=qd(i.y,bh),wh={kernelName:i.y,backendName:"cpu",kernelFunc:xh},_h=Hd(i.z,function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),kh={kernelName:i.z,backendName:"cpu",kernelFunc:_h},Oh={kernelName:i.B,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(i.Lf.sizeFromShape(t.shape)),a=n.data.get(t.dataId),o=a.complexTensorInfos.real,s=a.complexTensorInfos.imag,u=n.data.get(o.dataId).values,c=n.data.get(s.dataId).values,l=0;l<u.length;l++){var d=u[l],p=c[l];r[l]=Math.hypot(d,p)}return n.makeOutput(r,t.shape,"float32")}};function Eh(e,t,n,r){var a=i.Lf.getArrayFromDType(n,i.Lf.sizeFromShape(t));if(r&&"string"!==n){var o=0;e.forEach(function(e){var t=i.Lf.sizeFromShape(e.shape);a.set(e.vals,o),o+=t})}else{var s=0;e.forEach(function(e){for(var r="string"===n?i.Ed.fromUint8ToStringArray(e.vals):e.vals,o=0,u=0;u<e.shape[0];++u)for(var c=u*t[1]+s,l=0;l<e.shape[1];++l)a[c+l]=r[o++];s+=e.shape[1]})}return a}function Sh(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var Ch={kernelName:i.wb,backendName:"cpu",kernelFunc:Sh};function Th(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=i.Lf.parseAxisParam(r,t[0].shape)[0],o=t.map(function(e){return e.shape});i.Ed.assertParamsConsistent(o,a);var s=i.Ed.computeOutShape(t.map(function(e){return e.shape}),a);if(0===i.Lf.sizeFromShape(s))return n.makeTensorInfo(s,t[0].dtype,[]);var u=t.filter(function(e){return i.Lf.sizeFromShape(e.shape)>0});if(1===u.length)return Qd({inputs:{x:u[0]},backend:n});if("complex64"===u[0].dtype){var c=u.map(function(e){return fp({inputs:{input:e},backend:n})}),l=u.map(function(e){return Sh({inputs:{input:e},backend:n})}),d=Th({inputs:c,backend:n,attrs:{axis:a}}),p=Th({inputs:l,backend:n,attrs:{axis:a}}),h=dp({inputs:{real:d,imag:p},backend:n});return c.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),l.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),h}var f=u.map(function(e){var t=i.Lf.sizeFromShape(e.shape.slice(a));return Op({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})}),m=f.map(function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}});s=i.Ed.computeOutShape(f.map(function(e){return e.shape}),1);var v=1===f[0].shape[0],g=Eh(m,s,t[0].dtype,v),A=i.Ed.computeOutShape(u.map(function(e){return e.shape}),a),y=n.makeTensorInfo(A,t[0].dtype,g);return f.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),y}var Ih={kernelName:i.C,backendName:"cpu",kernelFunc:Th};function jh(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dilations,d=r.dimRoundingMode;Ud([a,o],"conv2d");for(var p=i.Ed.convertConv2DDataFormat(c),h=i.Ed.computeConv2DInfo(a.shape,o.shape,s,l,u,d,!1,p),f=h.filterHeight,m=h.filterWidth,v=h.dilationHeight,g=h.dilationWidth,A=h.padInfo.left,y=h.padInfo.top,b="channelsLast"===h.dataFormat,x=new i.ld(h.outShape,a.dtype),w=i.Lf.computeStrides(a.shape),_=i.Lf.computeStrides(o.shape),k=w[0],O=b?w[1]:w[2],E=b?w[2]:1,S=b?1:w[1],C=x.strides[0],T=b?x.strides[1]:x.strides[2],I=b?x.strides[2]:1,j=b?1:x.strides[1],M=n.data.get(a.dataId).values,N=n.data.get(o.dataId).values,D=x.values,R=0;R<h.batchSize;++R)for(var P=R*k,L=R*C,F=0;F<h.outHeight;++F)for(var B=L+F*T,z=F*h.strideHeight-y,U=0;U<f;++U){var V=z+U*v;if(!(V<0||V>=h.inHeight))for(var W=U*_[0],G=P+V*O,H=0;H<h.outWidth;++H)for(var q=B+H*I,K=H*h.strideWidth-A,X=0;X<m;++X){var Q=K+X*g;if(!(Q<0||Q>=h.inWidth))for(var Y=G+Q*E,$=W+X*_[1],Z=0;Z<h.inChannels;++Z){for(var J=M[Y+Z*S],ee=0;ee<h.outChannels;++ee)D[q+ee*j]+=J*N[$+ee];$+=h.outChannels}}}return n.makeTensorInfo(x.shape,x.dtype,D)}var Mh={kernelName:i.D,backendName:"cpu",kernelFunc:jh};var Nh={kernelName:i.E,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dimRoundingMode,d=r.filterShape;Ud([a,o],"conv2dBackpropFilter");for(var p=i.Ed.convertConv2DDataFormat(c),h=i.Ed.computeConv2DInfo(a.shape,d,s,1,u,l,!1,p),f=h.strideHeight,m=h.strideWidth,v=h.filterHeight,g=h.filterWidth,A="channelsLast"===h.dataFormat,y=new i.ld(h.filterShape,"float32"),b=h.padInfo.left,x=h.padInfo.top,w=n.data.get(a.dataId).values,_=n.data.get(o.dataId).values,k=new i.ld(a.shape,a.dtype,w),O=new i.ld(o.shape,o.dtype,_),E=0;E<v;++E)for(var S=Math.max(0,Math.ceil((x-E)/f)),C=Math.min(h.outHeight,(h.inHeight+x-E)/f),T=0;T<g;++T)for(var I=Math.max(0,Math.ceil((b-T)/m)),j=Math.min(h.outWidth,(h.inWidth+b-T)/m),M=0;M<h.inChannels;++M)for(var N=0;N<h.outChannels;++N){for(var D=0,R=0;R<h.batchSize;++R)for(var P=S;P<C;++P)for(var L=E+P*f-x,F=I;F<j;++F){var B=T+F*m-b;D+=A?k.get(R,L,B,M)*O.get(R,P,F,N):k.get(R,M,L,B)*O.get(R,N,P,F)}y.set(D,E,T,M,N)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var Dh={kernelName:i.F,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,s=t.filter,u=r.inputShape,c=r.strides,l=r.pad,d=r.dataFormat,p=r.dimRoundingMode;Ud([a,s],"conv2dBackpropInput");var h=i.Lf.computeStrides(s.shape),f=i.Lf.computeStrides(a.shape),m=i.Ed.convertConv2DDataFormat(d),v=i.Ed.computeConv2DInfo(u,s.shape,c,1,l,p,!1,m),g=new i.ld(v.inShape,"float32"),A=g.values,y=n.data.get(a.dataId).values,b=n.data.get(s.dataId).values,x=Object(o.a)(h,3),w=x[0],_=x[1],k=x[2],O=v.batchSize,E=v.filterHeight,S=v.filterWidth,C=v.inChannels,T=v.inHeight,I=v.inWidth,j=v.outChannels,M=v.outHeight,N=v.outWidth,D=v.strideHeight,R=v.strideWidth;m=v.dataFormat;for(var P=E-1-v.padInfo.top,L=S-1-v.padInfo.left,F="channelsLast"===m,B=g.strides[0],z=F?g.strides[1]:g.strides[2],U=F?g.strides[2]:1,V=F?1:g.strides[1],W=f[0],G=F?f[1]:f[2],H=F?f[2]:1,q=F?1:f[1],K=0;K<O;++K)for(var X=0;X<C;++X)for(var Q=0;Q<T;++Q)for(var Y=Q-P,$=Math.max(0,Math.ceil(Y/D)),Z=Math.min(M,(E+Y)/D),J=0;J<I;++J){for(var ee=J-L,te=Math.max(0,Math.ceil(ee/R)),ne=Math.min(N,(S+ee)/R),re=0,ae=$;ae<Z;++ae)for(var ie=ae*D-Y,oe=te;oe<ne;++oe)for(var se=W*K+G*ae+H*oe,ue=w*(E-1-ie)+_*(S-1-(oe*R-ee))+k*X,ce=0;ce<j;++ce)re+=y[se+q*ce]*b[ue+ce];A[B*K+z*Q+U*J+V*X]=re}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var Rh={kernelName:i.G,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations;Ud([a,o],"conv3d");for(var l=i.Ed.computeConv3DInfo(a.shape,o.shape,s,c,u),d=l.filterDepth,p=l.filterHeight,h=l.filterWidth,f=l.dilationDepth,m=l.dilationHeight,v=l.dilationWidth,g=l.padInfo,A=g.front,y=g.left,b=g.top,x=new i.ld(l.outShape,a.dtype),w=n.data.get(a.dataId).values,_=n.data.get(o.dataId).values,k=x.values,O=i.Lf.computeStrides(a.shape),E=i.Lf.computeStrides(o.shape),S=0;S<l.batchSize;++S)for(var C=S*O[0],T=S*x.strides[0],I=0;I<l.outDepth;++I)for(var j=T+I*x.strides[1],M=I*l.strideDepth-A,N=0;N<d;++N){var D=M+N*f;if(!(D<0||D>=l.inDepth))for(var R=N*E[0],P=C+D*O[1],L=0;L<l.outHeight;++L)for(var F=j+L*x.strides[2],B=L*l.strideHeight-b,z=0;z<p;++z){var U=B+z*m;if(!(U<0||U>=l.inHeight))for(var V=R+z*E[1],W=P+U*O[2],G=0;G<l.outWidth;++G)for(var H=F+G*l.outChannels,q=G*l.strideWidth-y,K=0;K<h;++K){var X=q+K*v;if(!(X<0||X>=l.inWidth))for(var Q=V+K*E[2],Y=W+X*l.inChannels,$=Q,Z=0;Z<l.inChannels;++Z){for(var J=w[Y+Z],ee=0;ee<l.outChannels;++ee)k[H+ee]+=J*_[$+ee];$+=l.outChannels}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var Ph={kernelName:i.H,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=t.dy,u=r.strides,c=r.pad,l=r.filterShape;Ud([a,s],"conv3dBackpropFilterV2");for(var d=i.Lf.computeStrides(a.shape),p=i.Lf.computeStrides(s.shape),h=i.Ed.computeConv3DInfo(a.shape,l,u,1,c),f=h.strideDepth,m=h.strideHeight,v=h.strideWidth,g=h.filterDepth,A=h.filterHeight,y=h.filterWidth,b=new i.ld(h.filterShape,"float32"),x=b.values,w=Object(o.a)(b.strides,4),_=w[0],k=w[1],O=w[2],E=w[3],S=n.data.get(s.dataId).values,C=Object(o.a)(p,4),T=C[0],I=C[1],j=C[2],M=C[3],N=n.data.get(a.dataId).values,D=Object(o.a)(d,4),R=D[0],P=D[1],L=D[2],F=D[3],B=h.padInfo.front,z=h.padInfo.left,U=h.padInfo.top,V=0;V<g;++V)for(var W=Math.max(0,Math.ceil((B-V)/f)),G=Math.min(h.outDepth,(h.inDepth+B-V)/f),H=V*_,q=0;q<A;++q)for(var K=Math.max(0,Math.ceil((U-q)/m)),X=Math.min(h.outHeight,(h.inHeight+U-q)/m),Q=q*k+H,Y=0;Y<y;++Y)for(var $=Math.max(0,Math.ceil((z-Y)/v)),Z=Math.min(h.outWidth,(h.inWidth+z-Y)/v),J=Y*O+Q,ee=0;ee<h.inChannels;++ee)for(var te=ee*E+J,ne=0;ne<h.outChannels;++ne){for(var re=0,ae=0;ae<h.batchSize;++ae)for(var ie=ae*R,oe=ae*T,se=W;se<G;++se)for(var ue=(V+se*f-B)*P+ie,ce=se*I+oe,le=K;le<X;++le)for(var de=(q+le*m-U)*L+ue,pe=le*j+ce,he=$;he<Z;++he){var fe=he*M+pe;re+=N[(Y+he*v-z)*F+de+ee]*S[fe+ne]}x[te+ne]=re}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};var Lh={kernelName:i.I,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,s=t.filter,u=r.pad,c=r.strides,l=r.inputShape;Ud([a],"conv3dBackpropInputV2");for(var d=i.Lf.computeStrides(a.shape),p=i.Lf.computeStrides(s.shape),h=i.Ed.computeConv3DInfo(l,s.shape,c,1,u),f=new i.ld(h.inShape,"float32"),m=f.values,v=Object(o.a)(f.strides,4),g=v[0],A=v[1],y=v[2],b=v[3],x=n.data.get(a.dataId).values,w=Object(o.a)(d,4),_=w[0],k=w[1],O=w[2],E=w[3],S=n.data.get(s.dataId).values,C=Object(o.a)(p,4),T=C[0],I=C[1],j=C[2],M=C[3],N=h.batchSize,D=h.filterDepth,R=h.filterHeight,P=h.filterWidth,L=h.inChannels,F=h.inDepth,B=h.inHeight,z=h.inWidth,U=h.outChannels,V=h.outDepth,W=h.outHeight,G=h.outWidth,H=h.strideDepth,q=h.strideHeight,K=h.strideWidth,X=D-1-h.padInfo.front,Q=R-1-h.padInfo.top,Y=P-1-h.padInfo.left,$=0;$<N;++$)for(var Z=0;Z<L;++Z)for(var J=0;J<F;++J)for(var ee=J-X,te=Math.max(0,Math.ceil(ee/H)),ne=Math.min(V,(D+ee)/H),re=0;re<B;++re)for(var ae=re-Q,ie=Math.max(0,Math.ceil(ae/q)),oe=Math.min(W,(R+ae)/q),se=0;se<z;++se){for(var ue=se-Y,ce=Math.max(0,Math.ceil(ue/K)),le=Math.min(G,(P+ue)/K),de=0,pe=te;pe<ne;++pe)for(var he=pe*H-ee,fe=ie;fe<oe;++fe)for(var me=fe*q-ae,ve=ce;ve<le;++ve)for(var ge=_*$+k*pe+O*fe+E*ve,Ae=T*(D-1-he)+I*(R-1-me)+j*(P-1-(ve*K-ue))+M*Z,ye=0;ye<U;++ye)de+=x[ge+ye]*S[Ae+ye];m[g*$+A*J+y*re+b*se+Z]=de}return n.makeTensorInfo(f.shape,f.dtype,f.values)}},Fh=Hd(i.J,function(e){return Math.cos(e)}),Bh={kernelName:i.J,backendName:"cpu",kernelFunc:Fh},zh=Hd(i.K,function(e){return Math.cosh(e)}),Uh={kernelName:i.K,backendName:"cpu",kernelFunc:zh};var Vh={kernelName:i.L,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,s=t.boxes,u=t.boxInd,c=r.cropSize,l=r.method,d=r.extrapolationValue,p=Object(o.a)(a.shape,4),h=p[0],f=p[1],m=p[2],v=p[3],g=s.shape[0],A=Object(o.a)(c,2),y=A[0],b=A[1],x=Object(i.Ld)([g,y,b,v],"float32"),w=n.data.get(s.dataId).values,_=n.data.get(u.dataId).values,k=n.data.get(a.dataId).values,O=i.Lf.computeStrides(a.shape),E=i.Lf.computeStrides(x.shape),S=0;S<g;S++){var C=4*S,T=w[C],I=w[C+1],j=w[C+2],M=w[C+3],N=_[S];if(!(N>=h))for(var D=y>1?(j-T)*(f-1)/(y-1):0,R=b>1?(M-I)*(m-1)/(b-1):0,P=0;P<y;P++){var L=y>1?T*(f-1)+P*D:.5*(T+j)*(f-1);if(L<0||L>f-1)for(var F=0;F<b;F++)for(var B=0;B<v;B++){var z=B+F*E[2]+P*E[1]+S*E[0];x.values[z]=d}else if("bilinear"===l)for(var U=Math.floor(L),V=Math.ceil(L),W=L-U,G=0;G<b;G++){var H=b>1?I*(m-1)+G*R:.5*(I+M)*(m-1);if(H<0||H>m-1)for(var q=0;q<v;q++){var K=q+G*E[2]+P*E[1]+S*E[0];x.values[K]=d}else for(var X=Math.floor(H),Q=Math.ceil(H),Y=H-X,$=0;$<v;$++){var Z=$+X*O[2]+U*O[1]+N*O[0],J=k[Z],ee=k[Z=$+Q*O[2]+U*O[1]+N*O[0]],te=k[Z=$+X*O[2]+V*O[1]+N*O[0]],ne=J+(ee-J)*Y,re=te+(k[Z=$+Q*O[2]+V*O[1]+N*O[0]]-te)*Y;Z=$+G*E[2]+P*E[1]+S*E[0],x.values[Z]=ne+(re-ne)*W}}else for(var ae=0;ae<b;++ae){var ie=b>1?I*(m-1)+ae*R:.5*(I+M)*(m-1);if(ie<0||ie>m-1)for(var oe=0;oe<v;oe++){var se=oe+ae*E[2]+P*E[1]+S*E[0];x.values[se]=d}else for(var ue=Math.round(ie),ce=Math.round(L),le=0;le<v;le++){var de=le+ue*O[2]+ce*O[1]+N*O[0],pe=le+ae*E[2]+P*E[1]+S*E[0];x.values[pe]=k[de]}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var Wh={kernelName:i.M,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.exclusive,u=r.reverse;Ud(a,"cumprod");var c=i.Ed.getAxesPermutation([o],a.shape.length),l=a;null!=c&&(l=Fp({inputs:{x:a},backend:n,attrs:{perm:c}}));var d=i.Ed.getInnerMostAxes(1,a.shape.length)[0];if(d!==l.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(d));for(var p=Object(i.Kf)(l.dtype,"int32"),h=i.Lf.makeOnesTypedArray(i.Lf.sizeFromShape(l.shape),p),f=n.data.get(l.dataId).values,m=l.shape[l.shape.length-1],v=u?function(e,t){return e+m-t-1}:function(e,t){return e+t},g=0;g<f.length;g+=m)for(var A=0;A<m;A++){var y=v(g,A);if(0===A)h[y]=s?1:f[y];else{var b=v(g,A-1);h[y]=s?f[b]*h[b]:f[y]*h[b]}}var x=n.makeTensorInfo(l.shape,p,h);if(null!=c){var w=Fp({inputs:{x:x},backend:n,attrs:{perm:i.Ed.getUndoAxesPermutation(c)}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),w}return x}};var Gh={kernelName:i.N,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.exclusive,u=r.reverse;Ud(a,"cumsum");var c=i.Ed.getAxesPermutation([o],a.shape.length),l=a;null!=c&&(l=Fp({inputs:{x:a},backend:n,attrs:{perm:c}}));var d=i.Ed.getInnerMostAxes(1,a.shape.length)[0];if(d!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(d));for(var p=Object(i.Kf)(l.dtype,"int32"),h=i.Lf.makeZerosTypedArray(i.Lf.sizeFromShape(l.shape),p),f=n.data.get(l.dataId).values,m=l.shape[l.shape.length-1],v=u?function(e,t){return e+m-t-1}:function(e,t){return e+t},g=0;g<f.length;g+=m)for(var A=0;A<m;A++){var y=v(g,A);if(0===A)h[y]=s?0:f[y];else{var b=v(g,A-1);h[y]=s?f[b]+h[b]:f[y]+h[b]}}var x=n.makeTensorInfo(l.shape,p,h);if(null!=c){var w=Fp({inputs:{x:x},backend:n,attrs:{perm:i.Ed.getUndoAxesPermutation(c)}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),w}return x}};var Hh={kernelName:i.P,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=hh(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}if(2===a.shape.length){var c=fh(n.bufferSync(a),n.bufferSync(i),o,s);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};var qh={kernelName:i.Q,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockSize,s=r.dataFormat;i.Lf.assert("NHWC"===s,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(s)});for(var u=a.shape[0],c=a.shape[1],l=a.shape[2],d=a.shape[3],p=c*o,h=l*o,f=d/(o*o),m=n.data.get(a.dataId).values,v=new Float32Array(u*p*h*f),g=0,A=0;A<u;++A)for(var y=0;y<p;++y)for(var b=Math.floor(y/o),x=y%o,w=0;w<h;++w)for(var _=Math.floor(w/o),k=(x*o+w%o)*f,O=0;O<f;++O){var E=O+k+d*(_+l*(b+c*A));v[g++]=m[E]}return n.makeTensorInfo([u,p,h,f],a.dtype,v)}};function Kh(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=r.dimRoundingMode;Ud([a,o],"depthwiseConv2DNative");var d=i.Lf.computeStrides(a.shape),p=i.Lf.computeStrides(o.shape),h=c;null==h&&(h=[1,1]),i.Lf.assert(i.Ed.eitherStridesOrDilationsAreOne(s,h),function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(h,"'")});for(var f=i.Ed.computeConv2DInfo(a.shape,o.shape,s,h,u,l,!0),m=f.filterHeight,v=f.filterWidth,g=f.dilationHeight,A=f.dilationWidth,y=f.padInfo,b=y.left,x=y.top,w=f.outChannels/f.inChannels,_=new i.ld(f.outShape,a.dtype),k=n.data.get(a.dataId).values,O=n.data.get(o.dataId).values,E=_.values,S=0;S<f.batchSize;++S)for(var C=S*d[0],T=S*_.strides[0],I=0;I<f.outHeight;++I)for(var j=T+I*_.strides[1],M=I*f.strideHeight-x,N=0;N<m;++N){var D=M+N*g;if(!(D<0||D>=f.inHeight))for(var R=N*p[0],P=C+D*d[1],L=0;L<f.outWidth;++L)for(var F=j+L*_.strides[2],B=L*f.strideWidth-b,z=0;z<v;++z){var U=B+z*A;if(!(U<0||U>=f.inWidth))for(var V=R+z*p[1],W=P+U*f.inChannels,G=F,H=V,q=0;q<f.inChannels;++q){for(var K=k[W+q],X=0;X<w;++X)E[G+X]+=K*O[H+X];G+=w,H+=w}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}var Xh={kernelName:i.R,backendName:"cpu",kernelFunc:Kh};var Qh={kernelName:i.S,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.dilations,c=r.pad,l=r.dimRoundingMode,d=r.filterShape;Ud([a,o],"depthwiseConv2dNativeBackpropFilter");for(var p=i.Ed.computeConv2DInfo(a.shape,d,s,u,c,l,!0),h=p.strideHeight,f=p.strideWidth,m=p.filterHeight,v=p.filterWidth,g=new i.ld(p.filterShape,"float32"),A=p.padInfo.left,y=p.padInfo.top,b=p.outChannels/p.inChannels,x=n.data.get(a.dataId).values,w=new i.ld(a.shape,a.dtype,x),_=n.data.get(o.dataId).values,k=new i.ld(o.shape,o.dtype,_),O=0;O<m;++O)for(var E=Math.max(0,Math.ceil((y-O)/h)),S=Math.min(p.outHeight,(p.inHeight+y-O)/h),C=0;C<v;++C)for(var T=Math.max(0,Math.ceil((A-C)/f)),I=Math.min(p.outWidth,(p.inWidth+A-C)/f),j=0;j<p.outChannels;++j){for(var M=Math.trunc(j/b),N=j%b,D=0,R=0;R<p.batchSize;++R)for(var P=E;P<S;++P)for(var L=O+P*h-y,F=T;F<I;++F){var B=C+F*f-A;D+=w.get(R,L,B,M)*k.get(R,P,F,j)}g.set(D,O,C,M,N)}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var Yh={kernelName:i.T,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,s=t.filter,u=r.strides,c=r.dilations,l=r.pad,d=r.dimRoundingMode,p=r.inputShape;Ud([a,s],"depthwiseConv2DNativeBackpropInput");for(var h=i.Lf.computeStrides(a.shape),f=i.Lf.computeStrides(s.shape),m=i.Ed.computeConv2DInfo(p,s.shape,u,c,l,d,!0),v=new i.ld(m.inShape,"float32"),g=v.values,A=Object(o.a)(v.strides,3),y=A[0],b=A[1],x=A[2],w=n.data.get(a.dataId).values,_=Object(o.a)(h,3),k=_[0],O=_[1],E=_[2],S=n.data.get(s.dataId).values,C=Object(o.a)(f,3),T=C[0],I=C[1],j=C[2],M=m.batchSize,N=m.filterHeight,D=m.filterWidth,R=m.inChannels,P=m.inHeight,L=m.inWidth,F=m.outChannels,B=m.outHeight,z=m.outWidth,U=m.strideHeight,V=m.strideWidth,W=N-1-m.padInfo.top,G=D-1-m.padInfo.left,H=F/R,q=0;q<M;++q)for(var K=0;K<R;++K)for(var X=0;X<P;++X)for(var Q=X-W,Y=Math.max(0,Math.ceil(Q/U)),$=Math.min(B,(N+Q)/U),Z=0;Z<L;++Z){for(var J=Z-G,ee=Math.max(0,Math.ceil(J/V)),te=Math.min(z,(D+J)/V),ne=0,re=Y;re<$;++re)for(var ae=re*U-Q,ie=ee;ie<te;++ie)for(var oe=k*q+O*re+E*ie,se=T*(N-1-ae)+I*(D-1-(ie*V-J))+j*K,ue=0;ue<H;++ue)ne+=w[oe+(K*H+ue)]*S[se+ue];g[y*q+b*X+x*Z+K]=ne}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};var $h={kernelName:i.U,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=i.Lf.sizeFromShape(r.shape),o=n.data.get(r.dataId).values,s=Object(i.Ld)([a,a],r.dtype),u=s.values,c=0;c<o.length;c++)u[c*a+c]=o[c];var l=[].concat(Object(Kn.a)(r.shape),Object(Kn.a)(r.shape));return n.makeTensorInfo(l,s.dtype,s.values)}},Zh={kernelName:i.V,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=n,d=l.data.get(a.dataId).values,p=a.shape.length,h=l.data.get(o.dataId).values,f=o.shape.length,m=i.Ed.computeDilation2DInfo(a.shape,o.shape,s,u,"NHWC",c),v=m.batchSize,g=m.inHeight,A=m.inWidth,y=m.inChannels,b=m.outHeight,x=m.outWidth,w=m.padInfo,_=m.strideHeight,k=m.strideWidth,O=m.filterHeight,E=m.filterWidth,S=m.dilationHeight,C=m.dilationWidth,T=m.outShape,I=i.Lf.sizeFromShape(T),j=T.length,M=i.Lf.getArrayFromDType(a.dtype,I),N=0;N<v;++N)for(var D=0;D<b;++D)for(var R=D*_-w.top,P=0;P<x;++P)for(var L=P*k-w.left,F=0;F<y;++F){for(var B=Number.MIN_SAFE_INTEGER,z=0;z<O;++z){var U=R+z*S;if(U>=0&&U<g)for(var V=0;V<E;++V){var W=L+V*C;if(W>=0&&W<A){var G=i.Lf.locToIndex([N,U,W,F],p,i.Lf.computeStrides(a.shape)),H=i.Lf.locToIndex([z,V,F],f,i.Lf.computeStrides(o.shape)),q=d[G]+h[H];q>B&&(B=q)}}}M[i.Lf.locToIndex([N,D,P,F],j,i.Lf.computeStrides(T))]=B}return{dataId:l.write(i.Lf.toTypedArray(M,a.dtype),T,a.dtype),shape:T,dtype:a.dtype}}},Jh={kernelName:i.W,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=t.dy,u=r.strides,c=r.pad,l=r.dilations,d=n,p=i.Lf.toNestedArray(a.shape,d.data.get(a.dataId).values),h=i.Lf.toNestedArray(o.shape,d.data.get(o.dataId).values),f=i.Ed.computeDilation2DInfo(a.shape,o.shape,u,c,"NHWC",l),m=f.batchSize,v=f.inHeight,g=f.inWidth,A=f.inChannels,y=f.outHeight,b=f.outWidth,x=f.padInfo,w=f.strideHeight,_=f.strideWidth,k=f.filterHeight,O=f.filterWidth,E=f.dilationHeight,S=f.dilationWidth,C=f.outShape;i.Lf.assert(s.rank===C.length,function(){return"Error in ".concat(i.W,", dy ")+"must have the same rank as output ".concat(C.length,", but got ")+"".concat(s.rank)});for(var T=i.Lf.toNestedArray(C,d.data.get(s.dataId).values),I=i.Lf.makeZerosNestedTypedArray(o.shape,o.dtype),j=0;j<m;++j)for(var M=0;M<y;++M)for(var N=M*w-x.top,D=0;D<b;++D)for(var R=D*_-x.left,P=0;P<A;++P){for(var L=Number.MIN_SAFE_INTEGER,F=0,B=0,z=0;z<k;++z){var U=N+z*E;if(U>=0&&U<v)for(var V=0;V<O;++V){var W=R+V*S;if(W>=0&&W<g){var G=p[j][U][W][P]+h[z][V][P];G>L&&(L=G,F=z,B=V)}}}I[F][B][P]+=T[j][M][D][P]}return{dataId:d.write(i.Lf.toTypedArray(I,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},ef={kernelName:i.X,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=t.dy,u=r.strides,c=r.pad,l=r.dilations,d=n,p=i.Lf.toNestedArray(a.shape,d.data.get(a.dataId).values),h=i.Lf.toNestedArray(o.shape,d.data.get(o.dataId).values),f=i.Ed.computeDilation2DInfo(a.shape,o.shape,u,c,"NHWC",l),m=f.batchSize,v=f.inHeight,g=f.inWidth,A=f.inChannels,y=f.outHeight,b=f.outWidth,x=f.padInfo,w=f.strideHeight,_=f.strideWidth,k=f.filterHeight,O=f.filterWidth,E=f.dilationHeight,S=f.dilationWidth,C=f.outShape;i.Lf.assert(s.rank===C.length,function(){return"Error in ".concat(i.X,", dy ")+"must have the same rank as output ".concat(C.length,", but got ")+"".concat(s.rank)});for(var T=i.Lf.toNestedArray(C,d.data.get(s.dataId).values),I=i.Lf.makeZerosNestedTypedArray(a.shape,a.dtype),j=0;j<m;++j)for(var M=0;M<y;++M)for(var N=M*w-x.top,D=0;D<b;++D)for(var R=D*_-x.left,P=0;P<A;++P){for(var L=Number.MIN_SAFE_INTEGER,F=N<0?0:N,B=R<0?0:R,z=0;z<k;++z){var U=N+z*E;if(U>=0&&U<v)for(var V=0;V<O;++V){var W=R+V*S;if(W>=0&&W<g){var G=p[j][U][W][P]+h[z][V][P];G>L&&(L=G,F=U,B=W)}}}I[j][F][B][P]+=T[j][M][D][P]}return{dataId:d.write(i.Lf.toTypedArray(I,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};var tf={kernelName:i.Y,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=r.canvas,s=r.options||{},u=s.contextOptions,c=s.imageOptions,l=(null===c||void 0===c?void 0:c.alpha)||1,d=(null===u||void 0===u?void 0:u.contextType)||"2d";if("2d"!==d)throw new Error("Context type ".concat(u.contextType," is not supported by the CPU backend."));var p=i.getContext(d,(null===u||void 0===u?void 0:u.contextAttributes)||{});if(null==p)throw new Error("Could not get the context with ".concat(d," type."));for(var h=a.shape.slice(0,2),f=Object(o.a)(h,2),m=f[0],v=f[1],g=2===a.shape.length?1:a.shape[2],A=n.data.get(a.dataId).values,y="float32"===a.dtype?255:1,b=new Uint8ClampedArray(v*m*4),x=0;x<m*v;++x){for(var w=[0,0,0,255*l],_=0;_<g;_++){var k=A[x*g+_];if("float32"===a.dtype){if(k<0||k>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(k,"."))}else if("int32"===a.dtype&&(k<0||k>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(k,"."));1===g?(w[0]=k*y,w[1]=k*y,w[2]=k*y):w[_]=k*y}var O=4*x;b[O+0]=Math.round(w[0]),b[O+1]=Math.round(w[1]),b[O+2]=Math.round(w[2]),b[O+3]=Math.round(w[3])}i.width=v,i.height=m;var E=new ImageData(b,v,m);return p.putImageData(E,0,0),a}},nf=Jd(function(e,t){return e*t}),rf=bp(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}}),af=yp(i.Zb,nf,rf),of={kernelName:i.Zb,backendName:"cpu",kernelFunc:af};function sf(e){var t,n=e.inputs,r=e.backend,a=e.attrs,s=n.x,u=a.axis,c=a.keepDims;Ud(s,"sum");var l=(t="bool"===s.dtype?gp({inputs:{x:s},backend:r,attrs:{dtype:"int32"}}):Qd({inputs:{x:s},backend:r})).shape.length,d=i.Lf.parseAxisParam(u,t.shape),p=i.Ed.getAxesPermutation(d,l),h=d,f=t;null!=p&&(f=Fp({inputs:{x:t},backend:r,attrs:{perm:p}}),h=i.Ed.getInnerMostAxes(h.length,l)),i.Ed.assertAxesAreInnerMostDims("sum",h,f.shape.length);for(var m=i.Ed.computeOutAndReduceShapes(f.shape,h),v=Object(o.a)(m,2),g=v[0],A=v[1],y=hp(r,g,i.Ed.upcastType(f.dtype,"int32")),b=i.Lf.sizeFromShape(A),x=r.data.get(y.dataId).values,w=r.data.get(f.dataId).values,_=0;_<x.length;++_){for(var k=_*b,O=0,E=0;E<b;++E)O+=w[k+E];x[_]=O}if(c){var S=y;y=Op({inputs:{x:y},backend:r,attrs:{shape:i.Ed.expandShapeToKeepDim(y.shape,d)}}),r.disposeIntermediateTensorInfo(S)}return r.disposeIntermediateTensorInfo(t),null!=p&&r.disposeIntermediateTensorInfo(f),y}var uf={kernelName:i.hd,backendName:"cpu",kernelFunc:sf};var cf={kernelName:i.Z,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,o=i.Ed.decodeEinsumEquation(r,a.length),s=o.allDims,u=o.summedDims,c=o.idDims;i.Ed.checkEinsumDimSizes(s.length,c,a);for(var l=i.Ed.getEinsumComputePath(u,c),d=l.path,p=l.steps,h=p.length,f=null,m=s.length,v=[],g=0;g<h;++g){var A=!0,y=!1,b=void 0;try{for(var x,w=p[g][Symbol.iterator]();!(A=(x=w.next()).done);A=!0){var _=x.value,k=i.Ed.getEinsumPermutation(m,c[_]),O=k.permutationIndices,E=k.expandDims,S=void 0;i.Ed.isIdentityPermutation(O)?S=a[_]:(S=Fp({inputs:{x:a[_]},backend:n,attrs:{perm:O}}),v.push(S));for(var C=S.shape.slice(),T=0;T<E.length;++T)C.splice(E[T],0,1);i.Lf.arraysEqual(S.shape,C)||(S=Op({inputs:{x:S},backend:n,attrs:{shape:C}}),v.push(S)),null===f?f=S:(f=af({inputs:{a:S,b:f},backend:n}),v.push(f))}}catch(N){y=!0,b=N}finally{try{A||null==w.return||w.return()}finally{if(y)throw b}}g<h-1&&(d[g]>=0&&(f=sf({inputs:{x:f},backend:n,attrs:{axis:d[g]-(s.length-m),keepDims:!1}}),v.push(f)),m--)}for(var I=0,j=v;I<j.length;I++){var M=j[I];M!==f&&n.disposeIntermediateTensorInfo(M)}return f}};var lf={kernelName:i.bb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;Ud([r,a],"eluGrad");for(var o=new Float32Array(i.Lf.sizeFromShape(a.shape)),s=n.data.get(a.dataId).values,u=n.data.get(r.dataId).values,c=0;c<s.length;++c){var l=s[c];o[c]=l>=0?u[c]:u[c]*(l+1)}return n.makeTensorInfo(a.shape,"float32",o)}},df=Jd(function(e,t){return e===t?1:0}),pf=yp(i.cb,df,null,"bool"),hf={kernelName:i.cb,backendName:"cpu",kernelFunc:pf},ff=i.Ed.ERF_P,mf=i.Ed.ERF_A1,vf=i.Ed.ERF_A2,gf=i.Ed.ERF_A3,Af=i.Ed.ERF_A4,yf=i.Ed.ERF_A5,bf=Hd(i.db,function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+ff*n);return t*(1-((((yf*r+Af)*r+gf)*r+vf)*r+mf)*r*Math.exp(-n*n))}),xf={kernelName:i.db,backendName:"cpu",kernelFunc:bf},wf=Gd(function(e){return Math.exp(e)}),_f=qd(i.eb,wf,"float32"),kf={kernelName:i.eb,backendName:"cpu",kernelFunc:_f};function Of(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,o=r.dim,s=a.shape.length,u=a.shape.slice(),c=o;return o<0&&(i.Lf.assert(-(s+1)<=o,function(){return"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")}),c=s+o+1),u.splice(c,0,1),Op({inputs:{x:a},backend:n,attrs:{shape:u}})}var Ef={kernelName:i.fb,backendName:"cpu",kernelFunc:Of},Sf=Gd(function(e){return Math.expm1(e)}),Cf=qd(i.gb,Sf),Tf={kernelName:i.gb,backendName:"cpu",kernelFunc:Cf},If=Jd(function(e,t){return e/t}),jf=yp(i.sc,If),Mf={kernelName:i.sc,backendName:"cpu",kernelFunc:jf},Nf=Jd(function(e,t){return e-t}),Df=bp(function(e,t,n,r){return{real:e-n,imag:t-r}}),Rf=yp(i.gd,Nf,Df),Pf={kernelName:i.gd,backendName:"cpu",kernelFunc:Rf};function Lf(e,t,n){for(var r=e.shape,a=r[0],o=r[1],s=n.data.get(e.dataId),u=s.complexTensorInfos.real,c=s.complexTensorInfos.imag,l=[a,o],d=i.Lf.sizeFromShape(l),p=i.Lf.getTypedArrayFromDType("float32",d),h=i.Lf.getTypedArrayFromDType("float32",d),f=0;f<a;f++){for(var m=lh({inputs:{x:u},backend:n,attrs:{begin:[f,0],size:[1,o]}}),v=lh({inputs:{x:c},backend:n,attrs:{begin:[f,0],size:[1,o]}}),g=dp({inputs:{real:m,imag:v},backend:n}),A=Ff(g,t,n),y=A.real,b=A.imag,x=i.Ed.mergeRealAndImagArrays(y,b),w=0;w<o;w++){var _=i.Ed.getComplexWithIndex(x,w);p[f*o+w]=_.real,h[f*o+w]=_.imag}n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g)}var k=n.makeTensorInfo(l,"float32",p),O=n.makeTensorInfo(l,"float32",h),E=dp({inputs:{real:k,imag:O},backend:n});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(O),E}function Ff(e,t,n){var r=i.Lf.sizeFromShape(e.shape),a=n.data.get(e.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,s=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((A=r)&A-1)){var u=function e(t,n,r,a,o){if(1===r)return{real:t,imag:n};var s=i.Ed.mergeRealAndImagArrays(t,n);var u=r/2;var c=i.Ed.complexWithEvenIndex(s);var l=c.real;var d=c.imag;var p=[l.length];var h=o.makeTensorInfo(p,"float32",l);var f=o.makeTensorInfo(p,"float32",d);var m=dp({inputs:{real:h,imag:f},backend:o});var v=i.Ed.complexWithOddIndex(s);var g=v.real;var A=v.imag;var y=[g.length];var b=o.makeTensorInfo(y,"float32",g);var x=o.makeTensorInfo(y,"float32",A);var w=dp({inputs:{real:b,imag:x},backend:o});var _=e(l,d,u,a,o);var k=_.real;var O=_.imag;var E=[k.length];var S=o.makeTensorInfo(E,"float32",k);var C=o.makeTensorInfo(E,"float32",O);var T=dp({inputs:{real:S,imag:C},backend:o});var I=e(g,A,u,a,o);var j=I.real;var M=I.imag;var N=[j.length];var D=o.makeTensorInfo(N,"float32",j);var R=o.makeTensorInfo(N,"float32",M);var P=dp({inputs:{real:D,imag:R},backend:o});var L=i.Ed.exponents(r,a);var F=[L.real.length];var B=o.makeTensorInfo(F,"float32",L.real);var z=o.makeTensorInfo(F,"float32",L.imag);var U=dp({inputs:{real:B,imag:z},backend:o});var V=af({inputs:{a:U,b:P},backend:o});var W=_p({inputs:{a:T,b:V},backend:o});var G=Rf({inputs:{a:T,b:V},backend:o});var H=fp({inputs:{input:W},backend:o});var q=fp({inputs:{input:G},backend:o});var K=Sh({inputs:{input:W},backend:o});var X=Sh({inputs:{input:G},backend:o});var Q=Th({inputs:[H,q],backend:o,attrs:{axis:0}});var Y=Th({inputs:[K,X],backend:o,attrs:{axis:0}});var $=o.data.get(Q.dataId).values;var Z=o.data.get(Y.dataId).values;o.disposeIntermediateTensorInfo(h);o.disposeIntermediateTensorInfo(f);o.disposeIntermediateTensorInfo(m);o.disposeIntermediateTensorInfo(b);o.disposeIntermediateTensorInfo(x);o.disposeIntermediateTensorInfo(w);o.disposeIntermediateTensorInfo(S);o.disposeIntermediateTensorInfo(C);o.disposeIntermediateTensorInfo(T);o.disposeIntermediateTensorInfo(D);o.disposeIntermediateTensorInfo(R);o.disposeIntermediateTensorInfo(P);o.disposeIntermediateTensorInfo(B);o.disposeIntermediateTensorInfo(z);o.disposeIntermediateTensorInfo(U);o.disposeIntermediateTensorInfo(V);o.disposeIntermediateTensorInfo(W);o.disposeIntermediateTensorInfo(G);o.disposeIntermediateTensorInfo(H);o.disposeIntermediateTensorInfo(K);o.disposeIntermediateTensorInfo(q);o.disposeIntermediateTensorInfo(X);o.disposeIntermediateTensorInfo(Q);o.disposeIntermediateTensorInfo(Y);return{real:$,imag:Z}}(o,s,r,t,n),c=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(c,"float32",u.real),d=n.makeTensorInfo(c,"float32",u.imag),p=n.makeTensorInfo([],"float32",i.Lf.createScalarValue(r,"float32")),h=Qd({inputs:{x:p},backend:n}),f=Mf.kernelFunc({inputs:{a:l,b:p},backend:n}),m=Mf.kernelFunc({inputs:{a:d,b:h},backend:n}),v=n.data.get(f.dataId).values,g=n.data.get(m.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),{real:v,imag:g}}return u}var A,y=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var o=0,s=0,u=0;u<t;u++){var c=i.Ed.exponent(a*u,t,n),l=i.Ed.getComplexWithIndex(e,u);o+=l.real*c.real-l.imag*c.imag,s+=l.real*c.imag+l.imag*c.real}n&&(o/=t,s/=t),i.Ed.assignToTypedArray(r,o,s,a)}return r}(i.Ed.mergeRealAndImagArrays(o,s),r,t);return i.Ed.splitRealAndImagArrays(y)}var Bf={kernelName:i.hb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=i.Lf.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=Op({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=Lf(s,!1,n),c=Op({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}};function zf(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype||i.Lf.inferDtype(a),s=i.Lf.getArrayFromDType(o,i.Lf.sizeFromShape(r));return function(e,t,n){e.fill(t)}(s,a),t.makeTensorInfo(r,o,s)}var Uf={kernelName:i.ib,backendName:"cpu",kernelFunc:zf};var Vf={kernelName:i.jb,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,s=i.Lf.getTypedArrayFromDType(r.dtype,i.Lf.sizeFromShape(r.shape)),u=Object(o.a)(r.shape,4),c=u[0],l=u[1],d=u[2],p=u[3],h=a.data.get(r.dataId).values,f=0;f<c;f++)for(var m=f*d*l*p,v=0;v<l;v++)for(var g=v*(d*p),A=0;A<d;A++)for(var y=A*p,b=0;b<p;b++){var x=Math.round(d-A-1),w=m+g+y+b,_=h[w];if(x>=0&&x<d)_=h[m+g+x*p+b];s[w]=_}return{dataId:a.write(s,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Wf=Gd(function(e){return Math.floor(e)}),Gf=qd(i.kb,Wf),Hf={kernelName:i.kb,backendName:"cpu",kernelFunc:Gf},qf=Jd(function(e,t){return Math.floor(e/t)}),Kf=yp(i.lb,qf,null,"int32"),Xf={kernelName:i.lb,backendName:"cpu",kernelFunc:Kf};var Qf={kernelName:i.ob,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,d=r.dilations,p=r.dimRoundingMode,h=r.activation,f=r.leakyreluAlpha,m=jh({inputs:{x:a,filter:i},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:d,dimRoundingMode:p}});if(o){var v=m;if("NCHW"===l&&1===o.shape.length&&1!==o.shape[0]){var g=Op({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=_p({inputs:{a:m,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else m=_p({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(v)}if(h){var A=m;if("NCHW"===l&&"prelu"===h&&1===s.shape.length&&1!==s.shape[0]){var y=Op({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=lp(n,m,h,y,f),n.disposeIntermediateTensorInfo(y)}else m=lp(n,m,h,s,f);n.disposeIntermediateTensorInfo(A)}return m}};var Yf={kernelName:i.pb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,d=r.dilations,p=r.dimRoundingMode,h=r.activation,f=r.leakyreluAlpha,m=Kh({inputs:{x:a,filter:i},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:d,dimRoundingMode:p}});if(o){var v=m;m=_p({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(v)}if(h){var g=m;m=lp(n,m,h,s,f),n.disposeIntermediateTensorInfo(g)}return m}};function $f(e,t,n,r,a,o,s,u,c){for(var l=Object(i.Ld)([r,o],n),d=0;d<r;d++){for(var p=[],h=0,f=0;f<a;f++){var m=e[d*a+f];h+=m*s[f],p.push(m)}if(h<0||h>=c/o)throw new Error("Invalid indices: ".concat(p," does not index into ").concat(u));for(var v=0;v<o;v++)l.values[d*o+v]=t.get.apply(t,Object(Kn.a)(t.indexToLoc(h*o+v)))}return l}var Zf={kernelName:i.qb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,s=i.Lf.sizeFromShape(r.shape),u=a.shape,c=u[u.length-1],l=i.Ed.prepareAndValidate(r,a),d=Object(o.a)(l,4),p=d[0],h=d[1],f=d[2],m=d[3];if(0===h)return n.makeTensorInfo(p,r.dtype,[]);var v=$f(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,h,c,f,m,r.shape,s);return n.makeTensorInfo(p,r.dtype,v.values)}};function Jf(e,t,n){for(var r=Object(i.Ld)(n,e.dtype),a=0;a<r.size;++a){var o=r.indexToLoc(a).slice(),s=o[0],u=o[2],c=t.locToIndex([s,u]);o[2]=t.values[c];var l=e.locToIndex(o);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}var em={kernelName:i.rb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,s=r.axis,u=r.batchDims;Ud([a,o],"gatherV2");for(var c=i.Lf.parseAxisParam(s,a.shape)[0],l=n.data.get(o.dataId).values,d=a.shape[c],p=function(e){var t=l[e];i.Lf.assert(t<=d-1&&t>=0,function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(d-1,"]")})},h=0;h<l.length;++h)p(h);var f=u;null==u&&(f=0);var m=i.Lf.sizeFromShape(o.shape),v=i.Ed.segment_util.collectGatherOpShapeInfo(a,o,c,f),g=Op({inputs:{x:a},backend:n,attrs:{shape:[v.batchSize,v.outerSize,v.dimSize,v.sliceSize]}}),A=Op({inputs:{x:o},backend:n,attrs:{shape:[v.batchSize,m/v.batchSize]}}),y=[v.batchSize,v.outerSize,m/v.batchSize,v.sliceSize],b=n.bufferSync(A),x=Jf(n.bufferSync(g),b,y);return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(A),n.makeTensorInfo(v.outputShape,x.dtype,x.values)}},tm=Jd(function(e,t){return e>t?1:0}),nm=yp(i.sb,tm,null,"bool"),rm={kernelName:i.sb,backendName:"cpu",kernelFunc:nm},am=Jd(function(e,t){return e>=t?1:0}),im=yp(i.tb,am,null,"bool"),om={kernelName:i.tb,backendName:"cpu",kernelFunc:im};var sm={kernelName:i.ub,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=i.Lf.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=Op({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=Lf(s,!0,n),c=Op({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}},um=Hd(i.xb,function(e){return Number.isFinite(e)?1:0},"bool"),cm={kernelName:i.xb,backendName:"cpu",kernelFunc:um},lm=Hd(i.yb,function(e){return Math.abs(e)===1/0?1:0},"bool"),dm={kernelName:i.yb,backendName:"cpu",kernelFunc:lm},pm=Hd(i.zb,function(e){return Number.isNaN(e)?1:0},"bool"),hm={kernelName:i.zb,backendName:"cpu",kernelFunc:pm},fm=Jd(function(e,t){return e<t?1:0}),mm=yp(i.Eb,fm,null,"bool"),vm={kernelName:i.Eb,backendName:"cpu",kernelFunc:mm},gm=Jd(function(e,t){return e<=t?1:0}),Am=yp(i.Fb,gm,null,"bool"),ym={kernelName:i.Fb,backendName:"cpu",kernelFunc:Am};function bm(e,t,n){var r=(t-e)/(n-1),a=i.Lf.makeZerosTypedArray(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+r;return a}var xm={kernelName:i.Gb,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=bm(n.start,n.stop,n.num);return t.makeTensorInfo([r.length],"float32",r)}},wm=Gd(function(e){return Math.log(e)}),_m=qd(i.Hb,wm),km={kernelName:i.Hb,backendName:"cpu",kernelFunc:_m},Om=Hd(i.Ib,function(e){return Math.log1p(e)}),Em={kernelName:i.Ib,backendName:"cpu",kernelFunc:Om},Sm=Jd(function(e,t){return e&&t}),Cm=yp(i.Jb,Sm,null,"bool"),Tm={kernelName:i.Jb,backendName:"cpu",kernelFunc:Cm},Im=Hd(i.Kb,function(e){return e?0:1},"bool"),jm={kernelName:i.Kb,backendName:"cpu",kernelFunc:Im},Mm=Jd(function(e,t){return e||t}),Nm=yp(i.Lb,Mm,null,"bool"),Dm={kernelName:i.Lb,backendName:"cpu",kernelFunc:Nm};var Rm={kernelName:i.Bb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,s=r.bias,u=r.alpha,c=r.beta;Ud(a,"LRN");var l=a.shape[3],d=l-1,p=n.data.get(a.dataId).values,h=i.Lf.sizeFromShape(a.shape),f=new Float32Array(h);function m(e){for(var t=e%l,n=e-t+Math.max(0,t-o),r=e-t+Math.min(t+o,d),a=0;n<=r;n++){var i=p[n];a+=i*i}return a}for(var v=0;v<h;v++){var g=m(v),A=p[v]*Math.pow(s+u*g,-c);f[v]=A}return n.makeTensorInfo(a.shape,a.dtype,f)}};var Pm={kernelName:i.Cb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.y,s=t.dy,u=r.depthRadius,c=r.bias,l=r.alpha,d=r.beta;Ud(s,"LRNGrad");for(var p=i.Lf.sizeFromShape(s.shape),h=s.shape[3],f=n.data.get(s.dataId).values,m=n.data.get(a.dataId).values,v=n.data.get(o.dataId).values,g=new Float32Array(p),A=p,y=0;y<A;y++){for(var b=y%h,x=y-b+Math.max(0,b-u),w=y-b+Math.min(h,b+u+1),_=0,k=x;k<w;k++)_+=Math.pow(m[k],2);_=l*_+c;for(var O=x;O<w;O++){var E=-2*l*d*m[O]*v[y]/_;y===O&&(E+=Math.pow(_,-d)),E*=f[y],g[O]+=E}}return n.makeTensorInfo(s.shape,a.dtype,g)}};function Lm(e,t,n,r){for(var a=i.Lf.getTypedArrayFromDType(r,i.Lf.sizeFromShape(n)),o=0;o<a.length;++o){for(var s=o*t,u=e[s],c=0;c<t;++c){var l=e[s+c];(Number.isNaN(l)||l>u)&&(u=l)}a[o]=u}return a}function Fm(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.reductionIndices,u=r.keepDims,c=n,l=a.shape,d=l.length,p=i.Lf.parseAxisParam(s,l),h=p,f=i.Ed.getAxesPermutation(h,d),m=c.data.get(a.dataId).values;if(null!=f){for(var v=new Array(d),g=0;g<v.length;g++)v[g]=l[f[g]];m=Lp(m,l,a.dtype,f,v),h=i.Ed.getInnerMostAxes(h.length,d),l=v}Ud(a,"max"),i.Ed.assertAxesAreInnerMostDims("max",h,d);var A=i.Ed.computeOutAndReduceShapes(l,h),y=Object(o.a)(A,2),b=y[0],x=y[1],w=Lm(m,i.Lf.sizeFromShape(x),b,a.dtype),_=c.write(w,b,a.dtype),k=b;u&&(k=i.Ed.expandShapeToKeepDim(b,p));return{dataId:_,shape:k,dtype:a.dtype}}var Bm={kernelName:i.Mb,backendName:"cpu",kernelFunc:Fm},zm=Jd(function(e,t){return Math.max(e,t)}),Um=yp(i.Sb,zm),Vm={kernelName:i.Sb,backendName:"cpu",kernelFunc:Um};var Wm={kernelName:i.Nb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Ud(a,"maxPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.Lf.assert(i.Ed.eitherStridesOrDilationsAreOne(s,1),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")});var l,d=i.Ed.computePool2DInfo(a.shape,o,s,1,u,c);if(1===d.filterWidth&&1===d.filterHeight&&i.Lf.arraysEqual(d.inShape,d.outShape))l=Qd({inputs:{x:a},backend:n});else{var p=n.data.get(a.dataId).values,h=i.Lf.computeStrides(a.shape),f=th(p,a.shape,a.dtype,h,d,"max");l=n.makeTensorInfo(d.outShape,a.dtype,f.values)}return l}};var Gm={kernelName:i.Ob,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=r.dataFormat;Ud(a,"maxPool3d");var d=i.Ed.computePool3DInfo(a.shape,o,s,1,u,c,l),p=rh(n.data.get(a.dataId).values,a.shape,a.dtype,i.Lf.computeStrides(a.shape),d,"max");return n.makeTensorInfo(p.shape,"float32",p.values)}};var Hm={kernelName:i.Pb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode;Ud([a,o],"maxPool3DGrad");for(var d=i.Ed.computePool3DInfo(o.shape,s,u,1,c,l),p=function(e,t){for(var n=Object(i.Ld)(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,h=t.padInfo.front,f=t.padInfo.top,m=t.padInfo.left,v=0;v<t.batchSize;++v)for(var g=0;g<t.inChannels;++g)for(var A=0;A<t.outDepth;++A){for(var y=A*r-h,b=y;b<0;)b+=s;for(var x=Math.min(t.inDepth,l+y),w=0;w<t.outHeight;++w){for(var _=w*a-f,k=_;k<0;)k+=u;for(var O=Math.min(t.inHeight,d+_),E=0;E<t.outWidth;++E){for(var S=E*o-m,C=S;C<0;)C+=c;for(var T=Math.min(t.inWidth,p+S),I=Number.NEGATIVE_INFINITY,j=-1,M=b;M<x;M+=s)for(var N=M-y,D=k;D<O;D+=u)for(var R=D-_,P=C;P<T;P+=c){var L=P-S,F=e.get(v,M,D,P,g);F>=I&&(I=F,j=N*d*p+R*d+L)}n.set(j,v,A,w,E,g)}}}return n}(n.bufferSync(o),d),h=d.strideDepth,f=d.strideHeight,m=d.strideWidth,v=d.dilationDepth,g=d.dilationHeight,A=d.dilationWidth,y=d.effectiveFilterDepth,b=d.effectiveFilterHeight,x=d.effectiveFilterWidth,w=y-1-d.padInfo.front,_=x-1-d.padInfo.left,k=b-1-d.padInfo.top,O=Object(i.Ld)(o.shape,"float32"),E=n.bufferSync(a),S=0;S<d.batchSize;++S)for(var C=0;C<d.inChannels;++C)for(var T=0;T<d.inDepth;++T)for(var I=0;I<d.inHeight;++I)for(var j=0;j<d.inWidth;++j){for(var M=T-w,N=I-k,D=j-_,R=0,P=0;P<y;P+=v){var L=(M+P)/h;if(!(L<0||L>=d.outDepth||Math.floor(L)!==L))for(var F=0;F<b;F+=g){var B=(N+F)/f;if(!(B<0||B>=d.outHeight||Math.floor(B)!==B))for(var z=0;z<x;z+=A){var U=(D+z)/m;if(!(U<0||U>=d.outWidth||Math.floor(U)!==U)){var V=y*b*x-1-p.get(S,L,B,U,C)===P*b*x+F*x+z?1:0;0!==V&&(R+=E.get(S,L,B,U,C)*V)}}}}O.set(R,S,T,I,j,C)}return n.makeTensorInfo(O.shape,O.dtype,O.values)}};var qm={kernelName:i.Qb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=o;Ud([o,t.output],"maxPoolGrad");for(var u=r.filterSize,c=r.strides,l=r.pad,d=r.dimRoundingMode,p=i.Ed.computePool2DInfo(s.shape,u,c,1,l,d),h=n.data.get(s.dataId).values,f=Object(i.Ld)(p.outShape,s.dtype,nh(h,s.shape,s.dtype,p).values),m=p.strideHeight,v=p.strideWidth,g=p.dilationHeight,A=p.dilationWidth,y=p.effectiveFilterHeight,b=p.effectiveFilterWidth,x=b-1-p.padInfo.left,w=y-1-p.padInfo.top,_=Object(i.Ld)(s.shape,"float32"),k=n.data.get(a.dataId).values,O=Object(i.Ld)(a.shape,"float32",k),E=0;E<p.batchSize;++E)for(var S=0;S<p.inChannels;++S)for(var C=0;C<p.inHeight;++C)for(var T=0;T<p.inWidth;++T){for(var I=C-w,j=T-x,M=0,N=0;N<y;N+=g){var D=(I+N)/m;if(!(D<0||D>=p.outHeight||Math.floor(D)!==D))for(var R=0;R<b;R+=A){var P=(j+R)/v;if(!(P<0||P>=p.outWidth||Math.floor(P)!==P)){var L=y*b-1-f.get(E,D,P,S)===N*b+R?1:0;0!==L&&(M+=O.get(E,D,P,S)*L)}}}_.set(M,E,C,T,S)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};var Km={kernelName:i.Rb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,s=n.filterSize,u=n.strides,c=n.pad,l=n.includeBatchInIndex,d=r;Ud(a,"MaxPoolWithArgmax");var p=d.data.get(a.dataId).values,h=i.Ed.computePool2DInfo(a.shape,s,u,[1,1],c),f=function(e,t,n,r,a){var o=th(e,0,n,i.Lf.computeStrides(t),a,"max"),s=nh(e,t,n,a,!0,r);return[o.values,s.values]}(p,a.shape,a.dtype,l,h),m=Object(o.a)(f,2),v=m[0],g=m[1],A=d.write(v,h.outShape,a.dtype),y=d.write(g,h.outShape,a.dtype);return[{dataId:A,shape:h.outShape,dtype:a.dtype},{dataId:y,shape:h.outShape,dtype:"int32"}]}};var Xm={kernelName:i.Tb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims,u=i.Lf.parseAxisParam(o,a.shape),c=i.Ed.computeOutAndReduceShapes(a.shape,u)[1],l=i.Lf.sizeFromShape(c),d=[],p=n.makeTensorInfo([],"float32",new Float32Array([l]));d.push(p);var h=gp({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});d.push(h);var f=jf({inputs:{a:h,b:p},backend:n});d.push(f);var m=sf({inputs:{x:f},backend:n,attrs:{axis:o,keepDims:s}});return d.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),m}};var Qm={kernelName:i.Ub,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.axis,u=r.keepDims;Ud(a,"min");var c=i.Lf.parseAxisParam(s,a.shape),l=c,d=i.Ed.getAxesPermutation(l,a.shape.length),p=a;null!=d&&(p=Fp({inputs:{x:a},backend:n,attrs:{perm:d}}),l=i.Ed.getInnerMostAxes(l.length,a.shape.length)),i.Ed.assertAxesAreInnerMostDims("min",l,p.shape.length);for(var h=i.Ed.computeOutAndReduceShapes(p.shape,l),f=Object(o.a)(h,2),m=f[0],v=f[1],g=i.Lf.sizeFromShape(v),A=i.Lf.makeZerosTypedArray(i.Lf.sizeFromShape(m),p.dtype),y=n.data.get(p.dataId).values,b=0;b<A.length;++b){for(var x=b*g,w=y[x],_=0;_<g;++_){var k=y[x+_];(Number.isNaN(k)||k<w)&&(w=k)}A[b]=w}null!=d&&n.disposeIntermediateTensorInfo(p);var O=n.makeTensorInfo(m,p.dtype,A);if(u){var E=Op({inputs:{x:O},backend:n,attrs:{shape:i.Ed.expandShapeToKeepDim(m,c)}});return n.disposeIntermediateTensorInfo(O),E}return O}},Ym=Jd(function(e,t){return Math.min(e,t)}),$m=yp(i.Vb,Ym),Zm={kernelName:i.Vb,backendName:"cpu",kernelFunc:$m};var Jm={kernelName:i.Wb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.mode;Ud(a,"mirrorPad");for(var u=o.map(function(e,t){return e[0]+a.shape[t]+e[1]}),c=o.map(function(e){return e[0]}),l=o.map(function(e,t){return e[0]+a.shape[t]}),d="reflect"===s?0:1,p=n.data.get(a.dataId).values,h=a.shape.length,f=i.Lf.computeStrides(a.shape),m=i.Lf.sizeFromShape(u),v=u.length,g=i.Lf.computeStrides(u),A=i.Lf.getTypedArrayFromDType(a.dtype,m),y=0;y<m;y++){for(var b=i.Lf.indexToLoc(y,v,g),x=0;x<v;x++)b[x]<c[x]?b[x]=2*c[x]-b[x]-d:b[x]>=l[x]&&(b[x]=2*(l[x]-1)-b[x]+d);b=b.map(function(e,t){return e-c[t]});var w=i.Lf.locToIndex(b,h,f);A[y]=p[w]}return{dataId:n.write(A,u,a.dtype),shape:u,dtype:a.dtype}}},ev=Jd(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}),tv=yp(i.Xb,ev),nv={kernelName:i.Xb,backendName:"cpu",kernelFunc:tv};function rv(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.dim,s=a.shape.length,u=o;if(-1===u&&(u=s-1),u!==s-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(s," and dim was ").concat(u));var c=i.Lf.parseAxisParam([u],a.shape),l=Fm({inputs:{x:a},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),d=i.Ed.expandShapeToKeepDim(l.shape,c),p=Op({inputs:{x:l},backend:n,attrs:{shape:d}}),h=Rf({inputs:{a:a,b:p},backend:n}),f=_f({inputs:{x:h},backend:n}),m=sf({inputs:{x:f},backend:n,attrs:{axis:c,keepDims:!1}}),v=Op({inputs:{x:m},backend:n,attrs:{shape:d}}),g=jf({inputs:{a:f,b:v},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),g}var av={kernelName:i.Oc,backendName:"cpu",kernelFunc:rv};var iv={kernelName:i.Yb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.numSamples,s=r.seed,u=r.normalized;Ud(a,"multinomial");for(var c=u?a:rv({inputs:{logits:a},backend:n,attrs:{dim:-1}}),l=c.shape[0],d=c.shape[1],p=n.data.get(c.dataId).values,h=[l,o],f=i.Lf.makeZerosTypedArray(i.Lf.sizeFromShape(h),"int32"),m=0;m<l;++m){var v=m*d,g=new Float32Array(d-1);g[0]=p[v];for(var A=1;A<g.length;++A)g[A]=g[A-1]+p[v+A];for(var y=Rd.alea(s.toString()),b=m*o,x=0;x<o;++x){var w=y();f[b+x]=g.length;for(var _=0;_<g.length;_++)if(w<g[_]){f[b+x]=_;break}}}return u||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(h,"int32",f)}};function ov(e,t,n){var r=i.Lf.createScalarValue(-1,n);return nf([],t,r,e,n)}var sv={kernelName:i.ac,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x;Ud(r,"neg");var a=ov(n.data.get(r.dataId).values,r.shape,r.dtype),i=Object(o.a)(a,2),s=i[0],u=i[1];return n.makeTensorInfo(u,r.dtype,s)}},uv=i.ve.nonMaxSuppressionV3Impl;var cv={kernelName:i.bc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold;Ud(a,"NonMaxSuppression");var c=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,d=uv(c,l,o,s,u).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},lv=i.ve.nonMaxSuppressionV4Impl;var dv={kernelName:i.cc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.padToMaxOutputSize;Ud(a,"NonMaxSuppressionPadded");var l=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,p=lv(l,d,o,s,u,c),h=p.selectedIndices,f=p.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([f]))]}},pv=i.ve.nonMaxSuppressionV5Impl;var hv={kernelName:i.dc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.softNmsSigma;Ud(a,"NonMaxSuppressionWithScore");var l=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,p=pv(l,d,o,s,u,c),h=p.selectedIndices,f=p.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([f.length],"float32",new Float32Array(f))]}},fv=Jd(function(e,t){return e!==t?1:0}),mv=yp(i.ec,fv,null,"bool"),vv={kernelName:i.ec,backendName:"cpu",kernelFunc:mv};var gv={kernelName:i.fc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.dtype,s=r.depth,u=r.onValue,c=r.offValue;Ud(a,"oneHot");var l=i.Lf.sizeFromShape(a.shape),d=new Float32Array(l*s);d.fill(c);for(var p=n.data.get(a.dataId).values,h=0;h<l;++h)p[h]>=0&&p[h]<s&&(d[h*s+p[h]]=u);return n.makeTensorInfo([].concat(Object(Kn.a)(a.shape),[s]),o,d)}};function Av(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var a=fp({inputs:{input:r},backend:n}),i=Av({inputs:{x:a},backend:n}),o=Sh({inputs:{input:r},backend:n}),s=Av({inputs:{x:o},backend:n}),u=dp({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return zf({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var yv={kernelName:i.ud,backendName:"cpu",kernelFunc:Av};var bv={kernelName:i.gc,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){var i=fp({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=Sh({inputs:{input:a},backend:r}),u=Av({inputs:{x:s},backend:r}),c=dp({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return zf({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function xv(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return Of({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach(function(e){i.Lf.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),i.Lf.assert(o===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var s=[],u=Th({inputs:t.map(function(e){var t=Of({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t}),backend:n,attrs:{axis:r}});return s.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),u}var wv={kernelName:i.ic,backendName:"cpu",kernelFunc:xv};var _v={kernelName:i.jc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.constantValue;Ud(a,"pad");var u=o.map(function(e,t){return e[0]+a.shape[t]+e[1]}),c=o.map(function(e){return e[0]}),l=n.data.get(a.dataId).values,d=i.Lf.sizeFromShape(a.shape),p=a.shape.length,h=i.Lf.computeStrides(a.shape),f=i.Lf.sizeFromShape(u),m=u.length,v=i.Lf.computeStrides(u),g=i.Lf.getTypedArrayFromDType(a.dtype,f);0!==s&&g.fill(s);for(var A=0;A<d;A++){var y=i.Lf.indexToLoc(A,p,h).map(function(e,t){return e+c[t]});g[i.Lf.locToIndex(y,m,v)]=l[A]}return{dataId:n.write(g,u,a.dtype),shape:u,dtype:a.dtype}}},kv=Jd(function(e,t){return Math.pow(e,t)}),Ov=yp(i.kc,kv),Ev={kernelName:i.kc,backendName:"cpu",kernelFunc:Ov};function Sv(e,t,n,r){for(var a=i.Ed.computeOutAndReduceShapes(e,r),s=Object(o.a)(a,2),u=s[0],c=s[1],l=Object(i.Kf)(t,"int32"),d=i.Lf.makeZerosTypedArray(i.Lf.sizeFromShape(u),l),p=i.Lf.sizeFromShape(c),h=0;h<d.length;++h){for(var f=h*p,m=1,v=0;v<p;++v)m*=n[f+v];d[h]=m}return{outVals:d,outShape:u,outDtype:l}}var Cv={kernelName:i.mc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;Ud(a,"prod");var u=a.shape.length,c=i.Lf.parseAxisParam(o,a.shape),l=i.Ed.getAxesPermutation(c,u),d=c,p=a,h=[];null!=l&&(p=Fp({inputs:{x:a},backend:n,attrs:{perm:l}}),h.push(p),d=i.Ed.getInnerMostAxes(d.length,u));var f=n.data.get(p.dataId).values,m=Sv(p.shape,p.dtype,f,d),v=m.outVals,g=m.outShape,A=m.outDtype,y=g;return s&&(y=i.Ed.expandShapeToKeepDim(g,c)),h.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),n.makeTensorInfo(y,A,v)}};function Tv(e,t,n,r){var a=[],i=0,o=t.length-1+n.length,s=new Array(o).fill(null).map(function(){return[0]});!function(e,t){for(var n=0;n<e.length;++n){var r=e[n],a=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(var i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);for(var u=1,c=0;c<t.length-1;++c){u*=t[c];for(var l=t[c+1],d=1;d<u+1;++d)s[c].push(d*l)}for(var p=0;p<e.length;++p){for(var h=e[p],f=e[p]+1,m=0;m<n.length;++m){var v=n[m],g=m+t.length-1;if(g>=0)for(var A=s[g],y=A[A.length-1]-v[h],b=h;b<f;++b)s[g].push(v[b+1]+y);h=v[h],f=v[f]}f!==h&&(a.push([h,f]),i+=f-h)}return{outSplits:s,valueSlices:a,numValues:i}}function Iv(e,t){for(var n=e.slice(0,t);n.length<t;)n.push(1);for(var r=t;r<e.length;r++)n[t-1]*=e[r];return n}function jv(e,t,n,r,a){var o=t.slice();o[0]=a;var s=i.Lf.getArrayFromDType(n,i.Lf.sizeFromShape(o)),u=e.length;return function(e,t,n,r,a,i){var o=Iv(t,2)[1],s=Iv(i,2)[1],u=0,c=!0,l=!1,d=void 0;try{for(var p,h=n[Symbol.iterator]();!(c=(p=h.next()).done);c=!0)for(var f=p.value,m=f[0];m<f[1];++m){for(var v=0;v<r;++v)a[u*s+v]=e[m*o+v];++u}}catch(g){l=!0,d=g}finally{try{c||null==h.return||h.return()}finally{if(l)throw d}}}(e,t,r,0===u?0:u/t[0],s,o),[s,o]}function Mv(e,t,n,r,a,o,s,u){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(function(e,r){if(e<0||e>=n){var a=i.Lf.indexToLoc(r,t.length,i.Lf.computeStrides(t)).join(",");throw new Error("indices[".concat(a,"] = ").concat(e," is not in [0, ").concat(n,")"))}})}(o,s,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");var c=Tv(o,s,e,r[0]),l=c.outSplits,d=c.valueSlices,p=c.numValues,h=function(e){for(var t=[],n=function(n){var r=e[n].length,a=i.Lf.getArrayFromDType("int32",r);t.push(a),e[n].forEach(function(e,t){return a[t]=e})},r=0;r<e.length;++r)n(r);return t}(l),f=jv(n,r,a,d,p);return[h,f[0],f[1]]}var Nv={kernelName:i.nc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.paramsNestedSplits,i=t.paramsDenseValues,s=t.indices,u=(r.outputRaggedRank,a.map(function(e){return n.data.get(e.dataId).values})),c=a.map(function(e){return e.shape}),l=n.data.get(i.dataId).values,d=n.data.get(s.dataId).values,p=Mv(u,c,l,i.shape,i.dtype,d,s.shape),h=Object(o.a)(p,3),f=h[0],m=h[1],v=h[2],g=f.map(function(e){return n.makeTensorInfo([e.length],"int32",e)}),A=n.makeTensorInfo(v,i.dtype,m);return g.concat([A])}},Dv=2147483647;function Rv(e,t,n,r,a,o,s){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");var u=0===t.length,c=0===a.length,l=0===s.length,d=[];u||d.push(t[0]),c||d.push(a[0]),l||d.push(s[0]);for(var p=1;p<d.length;++p)if(d[p]!==d[p-1])throw new Error("starts, limits, and deltas must have the same shape");var h=0===d.length?1:d[0],f=i.Lf.getArrayFromDType("int32",h+1);f[0]=0;for(var m=0;m<h;++m){var v=u?e[0]:e[m],g=c?r[0]:r[m],A=l?o[0]:o[m];if(0===A)throw new Error("Requires delta != 0");var y=void 0;if(A>0&&g<v||A<0&&g>v)y=0;else if((y=Math.ceil(Math.abs((g-v)/A)))>Dv)throw new Error("Requires ((limit - start) / delta) <= ".concat(Dv));f[m+1]=f[m]+y}for(var b=f[h],x=i.Lf.getArrayFromDType(n,b),w=0,_=0;_<h;++_)for(var k=f[_+1]-f[_],O=u?e[0]:e[_],E=l?o[0]:o[_],S=0;S<k;++S)x[w++]=O,O+=E;return[f,x]}var Pv={kernelName:i.oc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.starts,a=t.limits,i=t.deltas,s=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,l=Rv(s,r.shape,r.dtype,u,a.shape,c,i.shape),d=Object(o.a)(l,2),p=d[0],h=d[1];return[n.makeTensorInfo([p.length],"int32",p),n.makeTensorInfo([h.length],r.dtype,h)]}},Lv=i.Ed.RowPartitionType,Fv=function(){function e(t,n,r,a,o,s,u,c,l,d){Object(Jr.a)(this,e),this.shape=t,this.shapeShape=n,this.values=r,this.valuesShape=a,this.valuesDType=o,this.defaultValue=s,this.defaultValueShape=u,this.rowPartitionValues=c,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=i.Ed.getRowPartitionTypesHelper(d),this.raggedRank=i.Ed.getRaggedRank(this.rowPartitionTypes)}return Object(ea.a)(e,[{key:"getRowPartitionTypeByDimension",value:function(e){return this.rowPartitionTypes[0]===Lv.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}},{key:"getRowPartitionTensor",value:function(e){return this.rowPartitionTypes[0]===Lv.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}},{key:"getMaxWidth",value:function(t){var n=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case Lv.VALUE_ROWIDS:return e.getMaxWidthValueRowID(n);case Lv.ROW_SPLITS:return e.getMaxWidthRowSplit(n);default:throw new Error("Cannot handle partition type ".concat(Lv[this.getRowPartitionTypeByDimension(t-1)]))}}},{key:"tensorShapeFromTensor",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return zv(e,n)}},{key:"calculateOutputSize",value:function(e){var t=this.valuesShape,n=this.defaultValueShape;i.Ed.validateDefaultValueShape(n,t);var r=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=i.Ed.combineRaggedTensorToTensorShapes(this.raggedRank,r,t);a[0]<0&&(a[0]=e);for(var o=1;o<=this.raggedRank;++o)a[o]<0&&(a[o]=this.getMaxWidth(o));return a}},{key:"calculateFirstParentOutputIndex",value:function(e,t,n){for(var r=Math.min(e,n),a=[],o=0,s=0;s<r;++s,o+=t)a.push(o);for(var u=r;u<e;++u)a.push(-1);return i.Lf.assert(a.length===e,function(){return"Final length of result must be equal to firstDimension."}),a}},{key:"calculateOutputIndexRowSplit",value:function(e,t,n,r){for(var a=e.length,i=[],o=0;o<a-1;++o){var s=e[o+1]-e[o],u=Math.min(r,s),c=t[o];-1===c&&(u=0);for(var l=0;l<u;++l)i.push(c),c+=n;for(var d=0;d<s-u;++d)i.push(-1)}if(a>0&&i.length!==e[a-1])throw new Error("Invalid row split size.");return i}},{key:"calculateOutputIndexValueRowID",value:function(e,t,n,r){var a=e.length,i=[];if(0===a)return[];var o=0,s=e[0];if(s>=t.length)throw new Error("Got currentValueRowId=".concat(s,", which is not less than ").concat(t.length));var u=t[s];i.push(u);for(var c=1;c<a;++c){var l=e[c];if(l===s)u>=0&&(++o<r?u+=n:u=-1);else{if(o=0,s=l,l>=t.length)throw new Error("Got nextValueRowId=".concat(l," which is not less than ").concat(t.length));u=t[l]}i.push(u)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}},{key:"calculateOutputIndex",value:function(e,t,n,r){var a=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case Lv.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,n,r);case Lv.ROW_SPLITS:if(a.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(a.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(a,t,n,r);default:throw new Error("Unsupported partition type: ".concat(Lv[i]))}}},{key:"getFirstDimensionSize",value:function(){var e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");var t=this.rowPartitionTypes[0];switch(t){case Lv.FIRST_DIM_SIZE:return e[0];case Lv.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Lv.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(Lv[t]))}}},{key:"compute",value:function(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");var e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(var r=n.length-2;r>=0;--r)n[r]=n[r+1]*t[r+1];var a=zv(t,!1),o=i.Lf.getArrayFromDType(this.valuesDType,i.Lf.sizeFromShape(a));if(n[0]*t[0]>0){for(var s=this.calculateFirstParentOutputIndex(e,n[0],t[0]),u=1;u<=this.raggedRank;++u){s=this.calculateOutputIndex(u-1,s,n[u],t[u])}this.setOutput(this.raggedRank,s,o,a)}return[a,o]}},{key:"setOutput",value:function(e,t,n,r){if(0!==n.length){var a=this.values,o=n,s=r.slice();s=s.slice(e+1);var u=i.Lf.sizeFromShape(s),c=t.length,l=this.defaultValue;if(l.length!==u&&1!==l.length){var d=this.defaultValueShape;Object(i.Ef)(function(){var e=Object(i.cf)(l,d),t=Object(i.Id)(e,s);l=t.dataSync()})}for(var p=0,h=0,f=0,m=0;m<=c;++m){var v=m<c?t[m]:-1;if(v!==f){if(h<f){var g=a.subarray(p*u);Bv(o.subarray(h*u),g,(f-h)*u)}if(m>=c){var A=n.length;v=Math.floor(A/u)}if(v>f)if(1===this.defaultValue.length)o.subarray(f*u,v*u).fill(this.defaultValue[0]),f=v;else for(;v>f;){Bv(o.slice(f*u),l,u),++f}v<0?(p=m+1,h=f):(p=m,f=(h=f)+1)}else++f}}}}],[{key:"getMaxWidthRowSplit",value:function(e){var t=e.length;if(0===t||1===t)return 0;for(var n=0,r=0;r<t-1;++r){var a=e[r+1]-e[r];a>n&&(n=a)}return n}},{key:"getMaxWidthValueRowID",value:function(e){var t=e.length;if(0===t)return 0;for(var n=0,r=e[0],a=0,i=1;i<t;++i){var o=e[i];o!==r&&(r=o,a=Math.max(i-n,a),n=i)}return Math.max(t-n,a)}}]),e}();function Bv(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function zv(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(u<0){if(!t)throw new Error("Dimension ".concat(u," must be >= 0"));if(u<-1)throw new Error("Dimension ".concat(u," must be >= -1"));u=-1}n.push(u)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}function Uv(e,t,n,r,a,i,o,s,u,c){return new Fv(e,t,n,r,a,i,o,s,u,c).compute()}var Vv={kernelName:i.pc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.shape,i=t.values,s=t.defaultValue,u=t.rowPartitionTensors,c=r.rowPartitionTypes,l=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,p=n.data.get(s.dataId).values,h=u.map(function(e){return n.data.get(e.dataId).values}),f=u.map(function(e){return e.shape}),m=Uv(l,a.shape,d,i.shape,i.dtype,p,s.shape,h,f,c),v=Object(o.a)(m,2),g=v[0],A=v[1];return n.makeTensorInfo(g,i.dtype,A)}};function Wv(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return i.Lf.makeZerosTypedArray(0,r);var a=Math.abs(Math.ceil((t-e)/n)),o=i.Lf.makeZerosTypedArray(a,r);t<e&&1===n&&(n=-1),o[0]=e;for(var s=1;s<o.length;s++)o[s]=o[s-1]+n;return o}var Gv={kernelName:i.qc,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.dtype,o=Wv(r,a,n.step,i);return t.makeTensorInfo([o.length],i,o)}},Hv=Hd(i.tc,function(e){return 1/e}),qv={kernelName:i.tc,backendName:"cpu",kernelFunc:Hv};var Kv={kernelName:i.xc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,s=r.alignCorners,u=r.halfPixelCenters,c=r.size;Ud(a,"resizeBilinear");for(var l=i.Lf.computeStrides(a.shape),d=Object(o.a)(c,2),p=d[0],h=d[1],f=Object(o.a)(a.shape,4),m=f[0],v=f[1],g=f[2],A=f[3],y=n.data.get(a.dataId).values,b=new Float32Array(i.Lf.sizeFromShape([m,p,h,A])),x=[s&&p>1?v-1:v,s&&h>1?g-1:g],w=[s&&p>1?p-1:p,s&&h>1?h-1:h],_=0,k=x[0]/w[0],O=x[1]/w[1],E=0;E<m;E++)for(var S=0;S<p;S++){var C=void 0;C=u?k*(S+.5)-.5:k*S;for(var T=Math.max(0,Math.floor(C)),I=C-T,j=Math.min(v-1,Math.ceil(C)),M=E*l[0]+T*l[1],N=E*l[0]+j*l[1],D=0;D<h;D++){var R=void 0;R=u?O*(D+.5)-.5:O*D;for(var P=Math.max(0,Math.floor(R)),L=R-P,F=Math.min(g-1,Math.ceil(R)),B=M+P*l[2],z=N+P*l[2],U=M+F*l[2],V=N+F*l[2],W=0;W<A;W++){var G=y[B+W],H=y[z+W],q=G+(y[U+W]-G)*L,K=q+(H+(y[V+W]-H)*L-q)*I;b[_++]=K}}}return n.makeTensorInfo([m,p,h,A],"float32",b)}};var Xv={kernelName:i.yc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,s=t.dy,u=r.alignCorners;Ud([s,a],"resizeBilinearGrad");for(var c=i.Lf.computeStrides(a.shape),l=Object(o.a)(a.shape,4),d=l[0],p=l[1],h=l[2],f=l[3],m=Object(o.a)(s.shape,3),v=m[1],g=m[2],A=new Float32Array(d*p*h*f),y=[u&&v>1?p-1:p,u&&g>1?h-1:h],b=[u&&v>1?v-1:v,u&&g>1?g-1:g],x=y[0]/b[0],w=y[1]/b[1],_=n.data.get(s.dataId).values,k=0,O=0;O<d;O++)for(var E=O*c[0],S=0;S<v;S++)for(var C=S*x,T=Math.floor(C),I=Math.min(Math.ceil(C),p-1),j=E+T*c[1],M=E+I*c[1],N=C-T,D=1-N,R=0;R<g;R++)for(var P=R*w,L=Math.floor(P),F=Math.min(Math.ceil(P),h-1),B=P-L,z=1-B,U=j+L*c[2],V=j+F*c[2],W=M+L*c[2],G=M+F*c[2],H=D*z,q=D*B,K=N*z,X=N*B,Q=0;Q<f;Q++){var Y=_[k++];A[U+Q]+=Y*H,A[V+Q]+=Y*q,A[W+Q]+=Y*K,A[G+Q]+=Y*X}return n.makeTensorInfo([d,h,p,f],"float32",A)}};var Qv={kernelName:i.zc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,s=r.alignCorners,u=r.halfPixelCenters,c=r.size;Ud(a,"resizeNearestNeighbor");for(var l=i.Lf.computeStrides(a.shape),d=Object(o.a)(c,2),p=d[0],h=d[1],f=Object(o.a)(a.shape,4),m=f[0],v=f[1],g=f[2],A=f[3],y=n.data.get(a.dataId).values,b=new Float32Array(m*p*h*A),x=[s&&p>1?v-1:v,s&&h>1?g-1:g],w=[s&&p>1?p-1:p,s&&h>1?h-1:h],_=x[0]/w[0],k=x[1]/w[1],O=0,E=0;E<m;E++)for(var S=E*l[0],C=0;C<p;C++){var T=u?_*(C+.5):_*C,I=Math.min(v-1,s?Math.round(T):Math.floor(T));u&&(I=Math.max(0,I));for(var j=S+I*l[1],M=0;M<h;M++){var N=u?k*(M+.5):k*M,D=Math.min(g-1,s?Math.round(N):Math.floor(N));u&&(D=Math.max(0,D));for(var R=j+D*l[2],P=0;P<A;P++){var L=y[R+P];b[O++]=L}}}return n.makeTensorInfo([m,p,h,A],a.dtype,b)}};var Yv={kernelName:i.Ac,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,s=t.dy,u=r.alignCorners;Ud([s,a],"resizeNearestNeighborGrad");for(var c=i.Lf.computeStrides(a.shape),l=i.Lf.computeStrides(s.shape),d=Object(o.a)(a.shape,4),p=d[0],h=d[1],f=d[2],m=d[3],v=Object(o.a)(s.shape,3),g=v[1],A=v[2],y=new Float32Array(p*h*f*m),b=n.data.get(s.dataId).values,x=[u&&g>1?h-1:h,u&&A>1?f-1:f],w=[u&&g>1?g-1:g,u&&A>1?A-1:A],_=x[0]/w[0],k=x[1]/w[1],O=1/_,E=1/k,S=2*Math.ceil(O)+2,C=2*Math.ceil(E)+2,T=0;T<p;T++)for(var I=T*c[0],j=0;j<h;j++)for(var M=I+j*c[1],N=Math.floor(j*O),D=Math.floor(N-S/2),R=0;R<f;R++)for(var P=M+R*c[2],L=Math.floor(R*E),F=Math.floor(L-C/2),B=0;B<m;B++){for(var z=0,U=0;U<S;U++){var V=U+D;if(!(V<0||V>=g)){var W=I+V*l[1],G=V*_;if(j===Math.min(h-1,u?Math.round(G):Math.floor(G)))for(var H=0;H<C;H++){var q=H+F;if(!(q<0||q>=A)){var K=W+q*l[2],X=q*k;R===Math.min(f-1,u?Math.round(X):Math.floor(X))&&(z+=b[K+B])}}}}y[P+B]=z}return n.makeTensorInfo(a.shape,a.dtype,y)}};var $v={kernelName:i.Bc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims;Ud(a,"reverse");var s=a.shape.length,u=i.Lf.parseAxisParam(o,a.shape);if(0===s)return Qd({inputs:{x:a},backend:n});for(var c=new i.ld(a.shape,a.dtype),l=n.bufferSync(a),d=function(e){var t=c.indexToLoc(e),n=t.slice();u.forEach(function(e){return n[e]=a.shape[e]-1-n[e]}),c.set.apply(c,[l.get.apply(l,Object(Kn.a)(n))].concat(Object(Kn.a)(t)))},p=0;p<c.size;p++)d(p);return n.makeTensorInfo(c.shape,c.dtype,c.values)}},Zv={kernelName:i.Cc,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,s=n.radians,u=n.fillValue,c=n.center,l=r,d=i.Lf.getTypedArrayFromDType(a.dtype,i.Lf.sizeFromShape(a.shape)),p=Object(o.a)(a.shape,4),h=p[0],f=p[1],m=p[2],v=p[3],g=i.Ed.getImageCenter(c,f,m),A=Object(o.a)(g,2),y=A[0],b=A[1],x=Math.sin(s),w=Math.cos(s),_=l.data.get(a.dataId).values,k=0;k<h;k++)for(var O=k*m*f*v,E=0;E<f;E++)for(var S=E*(m*v),C=0;C<m;C++)for(var T=C*v,I=0;I<v;I++){var j=[h,E,C,I],M=j[2],N=j[1],D=(M-y)*w-(N-b)*x,R=(M-y)*x+(N-b)*w;D=Math.round(D+y),R=Math.round(R+b);var P=u;if("number"!==typeof u&&(P=3===I?255:u[I]),D>=0&&D<m&&R>=0&&R<f)P=_[O+R*(m*v)+D*v+I];d[O+S+T+I]=P}return{dataId:l.write(d,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Jv=Hd(i.Dc,function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1}),eg={kernelName:i.Dc,backendName:"cpu",kernelFunc:Jv},tg=Gd(function(e){return 1/Math.sqrt(e)}),ng=qd(i.Ec,tg),rg={kernelName:i.Ec,backendName:"cpu",kernelFunc:ng};function ag(e,t,n,r,a,o,s,u,c,l){var d=[r/a,a],p=e.values,h=t.values;if(0===r)return Object(i.Ld)(n,t.dtype);var f=c instanceof i.ld?c:Object(i.Ld)(d,t.dtype);"string"===typeof c?f.values.fill(c):"number"===typeof c?f.values.fill(c):"boolean"===typeof c&&f.values.fill(+c);for(var m=0;m<o;m++){for(var v=[],g=0,A=0;A<s;A++){var y=p[m*s+A];v.push(y),g+=y*u[A]}if(g<0||g>=r/a)throw new Error("Invalid indices: ".concat(v," does not index into ").concat(n));for(var b=0;b<a;b++)l?f.values[g*a+b]+=h[m*a+b]:f.values[g*a+b]=0===t.rank?h[0]:h[m*a+b]}return f}var ig={kernelName:i.Fc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,s=r.shape,u=i.Ed.calculateShapes(o,a,s),c=u.sliceRank,l=u.numUpdates,d=u.sliceSize,p=u.strides,h=u.outputSize,f=ag(n.bufferSync(a),n.bufferSync(o),s,h,d,l,c,p,0,!0);return n.makeTensorInfo(s,f.dtype,f.values)}};function og(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<t?n=a+1:r=a;return r}function sg(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<=t?n=a+1:r=a;return r}var ug={kernelName:i.Gc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,o=t.values,s=r.side,u=function(e,t,n,r,a,o){for(var s=i.Lf.getArrayFromDType("int32",n*a),u=0;u<n;++u)for(var c=e.slice(u*r,(u+1)*r),l=u*a,d=0;d<a;++d)s[l+d]="left"===o?og(c,t[d+l]):sg(c,t[d+l]);return s}(n.data.get(a.dataId).values,n.data.get(o.dataId).values,a.shape[0],a.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",u)}};var cg={kernelName:i.Hc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e;Ud([r,a,o],"select");for(var s=r.shape.length,u=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,d=Object(i.Kf)(a.dtype,o.dtype),p=i.Lf.makeZerosTypedArray(i.Lf.sizeFromShape(a.shape),d),h=0,f=0===s||s>1||1===a.shape.length?1:i.Lf.sizeFromShape(a.shape.slice(1)),m=0;m<u.length;m++)for(var v=0;v<f;v++)1===u[m]?p[h++]=c[m]:p[h++]=l[m];return n.makeTensorInfo(a.shape,d,p)}},lg=i.Ed.SELU_SCALEALPHA,dg=i.Ed.SELU_SCALE,pg=Hd(i.Ic,function(e){return e>=0?dg*e:lg*(Math.exp(e)-1)}),hg={kernelName:i.Ic,backendName:"cpu",kernelFunc:pg},fg=Hd(i.Kc,function(e){return e<0?-1:e>0?1:0}),mg={kernelName:i.Kc,backendName:"cpu",kernelFunc:fg},vg=Hd(i.Lc,function(e){return Math.sin(e)}),gg={kernelName:i.Lc,backendName:"cpu",kernelFunc:vg},Ag=Hd(i.Mc,function(e){return Math.sinh(e)}),yg={kernelName:i.Mc,backendName:"cpu",kernelFunc:Ag},bg=Math.log(1.1920928955078125e-7)+2,xg=Hd(i.Pc,function(e){var t=e>-bg,n=e<bg,r=Math.exp(e);return n?r:t?e:Math.log(1+r)}),wg={kernelName:i.Pc,backendName:"cpu",kernelFunc:xg};var _g={kernelName:i.Qc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.paddings;Ud([a],"spaceToBatchND");var u=i.Lf.sizeFromShape(o),c=[[0,0]];c.push.apply(c,Object(Kn.a)(s));for(var l=1+o.length;l<a.shape.length;++l)c.push([0,0]);var d=_v.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),p=i.Ed.getReshaped(d.shape,o,u,!1),h=i.Ed.getPermuted(p.length,o.length,!1),f=i.Ed.getReshapedPermuted(d.shape,o,u,!1),m=Op({inputs:{x:d},backend:n,attrs:{shape:p}}),v=Fp({inputs:{x:m},backend:n,attrs:{perm:h}}),g=Op({inputs:{x:v},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),g}};function kg(e,t,n,r,a,o,s){var u=t[0],c=o[0],l=new Array(c),d=new Array(u),p=t[1];if(0===c){if(0!==u)throw new Error(i.Ed.getSparseFillEmptyRowsIndicesDenseShapeMismatch(u));return[i.Lf.getArrayFromDType(n,0),[0,p],i.Lf.getArrayFromDType(a,0),l,d]}for(var h=!0,f=0,m=new Array(c).fill(0),v=0;v<u;++v){var g=e[v*p];if(g<0)throw new Error(i.Ed.getSparseFillEmptyRowsNegativeIndexErrorMessage(v,g));if(g>=c)throw new Error(i.Ed.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(v,g,c));++m[g],h=h&&g>=f,f=g}for(var A=!0,y=0;y<c;++y){var b=0===m[y];l[y]=b,A=A&&!b,m[y]=Math.max(m[y],1),y>0&&(m[y]+=m[y-1])}if(A&&h){for(var x=e,w=r,_=0;_<u;++_)d[_]=_;return[x,[u,p],w,l,d]}for(var k=m[c-1],O=i.Lf.getArrayFromDType(n,k*p),E=i.Lf.getArrayFromDType(a,k),S=new Array(c).fill(0),C=0;C<u;++C){var T=e[C*p],I=S[T],j=(0===T?0:m[T-1])+I;S[T]++;for(var M=0;M<p;++M)O[j*p+M]=e[C*p+M];E[j]=r[C],d[C]=j}for(var N=0;N<c;++N){if(0===S[N]){var D=0===N?0:m[N-1];O[D*p+0]=N;for(var R=1;R<p;++R)O[D*p+R]=0;E[D]=s}}return[O,[k,p],E,l,d]}var Og={kernelName:i.Rc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,s=t.defaultValue;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(a.shape));if(0!==s.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));var u=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,d=n.data.get(s.dataId).values[0],p=kg(u,r.shape,r.dtype,c,a.dtype,l,d),h=Object(o.a)(p,5),f=h[0],m=h[1],v=h[2],g=h[3],A=h[4];return[n.makeTensorInfo(m,r.dtype,f),n.makeTensorInfo([m[0]],a.dtype,v),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map(function(e){return Number(e)}))),n.makeTensorInfo([A.length],r.dtype,new Int32Array(A))]}};function Eg(e,t,n,r,a){for(var o=i.Lf.sizeFromShape(r),s=t[0],u=a.length,c=[],l=1,d=-1,p=0;p<u;++p){var h=a[p];if(-1===h){if(-1!==d)throw new Error(i.Ed.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(d,p));d=p,c.push(1)}else{if(h<0)throw new Error(i.Ed.getSparseReshapeNegativeOutputDimErrorMessage(p,h));l*=h,c.push(h)}}if(-1!==d){if(l<=0)throw new Error(i.Ed.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var f=Math.trunc(o/l);if(l*f!==o)throw new Error(i.Ed.getSparseReshapeInputOutputMultipleErrorMessage(r,c));c[d]=f}if(i.Lf.sizeFromShape(c)!==o)throw new Error(i.Ed.getSparseReshapeInputOutputMismatchErrorMessage(r,c));var m=r.length,v=[];if(m>0){v[m-1]=1;for(var g=m-2;g>=0;--g)v[g]=v[g+1]*r[g+1]}var A=[];if(u>0){A[u-1]=1;for(var y=u-2;y>=0;--y)A[y]=A[y+1]*c[y+1]}for(var b=i.Lf.getArrayFromDType(n,s*u),x=0;x<s;++x){for(var w=0,_=0;_<m;++_)w+=e[x*m+_]*v[_];for(var k=0;k<u;++k)b[x*u+k]=Math.trunc(w/A[k]),w%=A[k]}return[b,[s,u],c]}var Sg={kernelName:i.Sc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var s=Array.from(n.data.get(a.dataId).values),u=n.data.get(r.dataId).values,c=Array.from(n.data.get(i.dataId).values),l=Eg(u,r.shape,r.dtype,s,c),d=Object(o.a)(l,3),p=d[0],h=d[1],f=d[2];return[n.makeTensorInfo(h,r.dtype,p),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}};function Cg(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=r.length,c=[t[0],e.length/t[0]],l=c[1],d=u>0?a[u-1]+1:0;if(d<0)throw new Error(i.Ed.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var p=t.slice();p[0]=d;var h=p.reduce(function(e,t){return e*t},1),f=i.Lf.getArrayFromDType(n,h);if(0===u)return d>0&&f.fill(s),[f,p];if(d<=0)throw new Error(i.Ed.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var m=0,v=1,g=0,A=a[m];;){var y=0;if(v<u){if(A===(y=a[v])){++v;continue}if(A>=y)throw new Error(i.Ed.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(A<0||A>=d)throw new Error(i.Ed.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(A,d));A>g&&f.fill(s,g*l,A*l);for(var b=m;b<v;++b){var x=r[b];if(x<0||x>=c[0])throw new Error(i.Ed.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(b,r[b],c[0]));for(var w=0;w<l;w++)f[A*l+w]+=e[x*l+w]}if(o)for(var _=0;_<l;_++)f[A*l+_]/=v-m;if(m=v,g=A+1,A=y,++v>u)break}return g<d&&f.fill(s,g*l,d*l),[f,p]}var Tg={kernelName:i.Tc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(i.shape));if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var s=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,l=Cg(s,r.shape,r.dtype,u,c,!0),d=Object(o.a)(l,2),p=d[0],h=d[1];return n.makeTensorInfo(h,r.dtype,p)}};var Ig={kernelName:i.Uc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(i.shape));if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var s=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,l=Cg(s,r.shape,r.dtype,u,c),d=Object(o.a)(l,2),p=d[0],h=d[1];return n.makeTensorInfo(h,r.dtype,p)}};var jg={kernelName:i.Vc,backendName:"cpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.sparseIndices,s=n.sparseValues,u=n.defaultValue,c=a.outputShape,l=i.Ed.calculateShapes(s,o,c),d=l.sliceRank,p=l.numUpdates,h=l.sliceSize,f=l.strides,m=l.outputSize,v=r.bufferSync(o);switch(s.dtype){case"bool":t=ag(v,r.bufferSync(s),c,m,h,p,d,f,Boolean(r.data.get(u.dataId).values[0]),!1);break;case"float32":case"int32":t=ag(v,r.bufferSync(s),c,m,h,p,d,f,r.data.get(u.dataId).values[0],!1);break;case"string":t=ag(v,r.bufferSync(s),c,m,h,p,d,f,i.Lf.decodeString(r.data.get(u.dataId).values[0]),!1);break;default:throw new Error("Unsupported type ".concat(s.dtype))}return r.makeTensorInfo(c,t.dtype,t.values)}};var Mg={kernelName:i.Wc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,s=r.axis,u=i.Lf.parseAxisParam(s,a.shape)[0],c=i.Ed.prepareSplitSize(a,o,u),l=new Array(a.shape.length).fill(0),d=a.shape.slice();return c.map(function(e){var t=Object(Kn.a)(d);t[u]=e;var r=lh({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[u]+=e,r})}},Ng=Gd(function(e){return Math.sqrt(e)}),Dg=Hd(i.Xc,function(e){return Math.sqrt(e)}),Rg={kernelName:i.Xc,backendName:"cpu",kernelFunc:Dg},Pg={kernelName:i.Yc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;Ud(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];o[s]=u*u}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Lg=Jd(function(e,t){var n=e-t;return n*n}),Fg=yp(i.Zc,Lg),Bg={kernelName:i.Zc,backendName:"cpu",kernelFunc:Fg},zg=Gd(function(e,t){var n=t.pattern,r=t.replaceGlobal,a=t.rewrite;return e.replace(new RegExp(n,r?"g":""),a)}),Ug=qd(i.ad,zg),Vg={kernelName:i.ad,backendName:"cpu",kernelFunc:Ug},Wg=Hd(i.bd,function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),Gg={kernelName:i.bd,backendName:"cpu",kernelFunc:Wg};function Hg(e,t,n,r){for(var a=Object(i.Ld)(e,t.dtype),o=0;o<a.size;o++){for(var s=a.indexToLoc(o),u=new Array(s.length),c=0;c<u.length;c++)u[c]=s[c]*n[c]+r[c];a.set.apply(a,[t.get.apply(t,u)].concat(Object(Kn.a)(s)))}return a}var qg={kernelName:i.cd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.begin,s=r.end,u=r.strides,c=r.beginMask,l=r.endMask,d=r.ellipsisMask,p=r.newAxisMask,h=r.shrinkAxisMask;Ud(a,"stridedSlice");var f,m=i.pf.sliceInfo(a.shape,o,s,u,c,l,d,p,h),v=m.finalShapeSparse,g=m.finalShape,A=m.isIdentity,y=m.sliceDim0,b=m.isSimpleSlice,x=m.begin,w=m.end,_=m.strides;if(A)f=Op({inputs:{x:a},backend:n,attrs:{shape:g}});else if(y||b){i.Lf.assert(a.shape.length>=1,function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)});var k=i.pf.computeOutShape(x,w,_),O=lh({inputs:{x:a},backend:n,attrs:{begin:x,size:k}});f=Op({inputs:{x:O},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(O)}else{var E=Hg(v,n.bufferSync(a),_,x);f=n.makeTensorInfo(g,E.dtype,E.values)}return f}},Kg=function(){function e(t,n,r,a,o,s){Object(Jr.a)(this,e),this.separator=i.Lf.encodeString(t),this.nGramWidths=n,this.leftPad=i.Lf.encodeString(r),this.rightPad=i.Lf.encodeString(a),this.padWidth=o,this.preserveShort=s}return Object(ea.a)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,a,i){for(var o=this,s=function(s){var u=o.getPadWidth(i),c=Math.max(0,u-s),l=Math.max(0,u-(a-(s+1))),d=i-(c+l),p=t+(c>0?0:s-u),h=0;h+=c*o.leftPad.length;for(var f=0;f<d;++f)h+=e[p+f].length;h+=l*o.rightPad.length,h+=(c+l+d-1)*o.separator.length,n[r+s]=new Uint8Array(h);for(var m=n[r+s],v=0,g=function(e){return e.forEach(function(e){return m[v++]=e})},A=0;A<c;++A)g(o.leftPad),g(o.separator);for(var y=0;y<d-1;++y)g(e[p+y]),g(o.separator);if(d>0){g(e[p+d-1]);for(var b=0;b<l;++b)g(o.separator),g(o.rightPad)}else{for(var x=0;x<l-1;++x)g(o.rightPad),g(o.separator);g(o.rightPad)}},u=0;u<a;++u)s(u)}},{key:"compute",value:function(e,t){var n=this,r=e.length,a=t.length;if(a>0){var o=t[0];if(0!==o)throw new Error("First split value must be 0, got ".concat(o));for(var s=1;s<a;++s){var u=t[s]>=o;if(!(u=u&&t[s]<=r))throw new Error("Invalid split value ".concat(t[s],", must be in [").concat(o,", ").concat(r,"]"));o=t[s]}if(o!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(o))}var c=a-1,l=i.Lf.getArrayFromDType("int32",a);if(0===r||0===a){for(var d=new Array(r),p=0;p<=c;++p)l[p]=0;return[d,l]}l[0]=0;for(var h=function(e){var r=t[e]-t[e-1],a=0;n.nGramWidths.forEach(function(e){a+=n.getNumNGrams(r,e)}),n.preserveShort&&r>0&&0===a&&(a=1),l[e]=l[e-1]+a},f=1;f<=c;++f)h(f);for(var m=new Array(l[c]),v=function(r){var a=t[r],i=l[r];if(n.nGramWidths.forEach(function(o){var s=t[r+1]-t[r],u=n.getNumNGrams(s,o);n.createNGrams(e,a,m,i,u,o),i+=u}),n.preserveShort&&i===l[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var s=o+2*n.padWidth;n.createNGrams(e,a,m,i,1,s)}},g=0;g<c;++g)v(g);return[m,l]}}]),e}();function Xg(e,t,n,r,a,i,o,s){return new Kg(n,r,a,i,o,s).compute(e,t)}var Qg={kernelName:i.dd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,s=r.leftPad,u=r.rightPad,c=r.padWidth,l=r.preserveShortSequences,d=t.data,p=t.dataSplits,h=Xg(n.data.get(d.dataId).values,n.data.get(p.dataId).values,a,i,s,u,c,l),f=Object(o.a)(h,2),m=f[0],v=f[1];return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(p.shape,"int32",v)]}};function Yg(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var a=0,i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){var o=e.subarray(a,i);n&&0===o.length||r.push(o),a=i+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var c=e.subarray(0,u);n&&0===c.length||r.push(c),u=(e=e.subarray(u+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var l=0;l<e.length;++l)r.push(e.subarray(l,l+1))}function $g(e,t,n){for(var r=e.length,a=[],o=0,s=0,u=new Array(r),c=0;c<r;++c){var l=a.length;Yg(e[c],t,n,a);var d=a.length-l;u[c]=d,o+=d,s=Math.max(s,d)}for(var p=i.Lf.getArrayFromDType("int32",2*o),h=new Array(o),f=[r,s],m=0,v=0;v<r;++v)for(var g=0;g<u[v];++g)p[2*m]=v,p[2*m+1]=g,h[m]=a[m],++m;return[p,h,f]}var Zg={kernelName:i.ed,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));var s=$g(n.data.get(a.dataId).values,n.data.get(i.dataId).values[0],r),u=Object(o.a)(s,3),c=u[0],l=u[1],d=u[2],p=l.length;return[n.makeTensorInfo([p,2],"int32",c),n.makeTensorInfo([p],"string",l),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};function Jg(e,t){for(var n=i.Lf.getArrayFromDType("int32",e.length),r=0;r<e.length;++r)n[r]=i.Lf.fingerPrint64(e[r]).modulo(t).getLowBitsUnsigned();return n}var eA={kernelName:i.fd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=Jg(n.data.get(a.dataId).values,r);return n.makeTensorInfo(a.shape,"int32",i)}},tA=Hd(i.id,function(e){return Math.tan(e)}),nA={kernelName:i.id,backendName:"cpu",kernelFunc:tA},rA=Hd(i.jd,function(e){return Math.tanh(e)}),aA={kernelName:i.jd,backendName:"cpu",kernelFunc:rA};var iA={kernelName:i.md,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.tensor,a=t.indices,o=t.updates,s=i.Ed.calculateShapes(o,a,r.shape),u=s.sliceRank,c=s.numUpdates,l=s.sliceSize,d=s.strides,p=s.outputSize,h=n.bufferSync(a),f=n.bufferSync(o),m=n.bufferSync(r),v=ag(h,f,r.shape,p,l,c,u,d,m,!1);return n.makeTensorInfo(r.shape,v.dtype,v.values)}};function oA(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];for(var a=Object(i.Ld)(n,e.dtype),o=0;o<a.values.length;++o){for(var s=a.indexToLoc(o),u=new Array(e.rank),c=0;c<u.length;c++)u[c]=s[c]%e.shape[c];var l=e.locToIndex(u);a.values[o]=e.values[l]}return a}var sA={kernelName:i.nd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;Ud(a,"tile");var o=oA(n.bufferSync(a),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}},uA=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function cA(e,t,n,r,a){for(var o=t[t.length-1],s=e.length/o,u=o,c=i.Lf.getTypedArrayFromDType(n,s*r),l=i.Lf.getTypedArrayFromDType("int32",s*r),d=function(t){var n=t*u,o=e.subarray(n,n+u),s=new Array(o.length);o.forEach(function(e,t){return s[t]={value:e,index:t}}),r<s.length&&(!function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1;a>r;){if(a-r>600){var o=a-r+1,s=n-r+1,u=Math.log(o),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(o-c)/o)*Math.sign(s-o/2);e(t,n,Math.max(r,Math.floor(n-s*c/o+l)),Math.min(a,Math.floor(n+(o-s)*c/o+l)))}var d=t[n],p=r,h=a;for(i.Lf.swap(t,r,n),uA(t[a],d)>0&&i.Lf.swap(t,r,a);p<h;){for(i.Lf.swap(t,p,h),p++,h--;uA(t[p],d)<0;)p+=1;for(;uA(t[h],d)>0;)h-=1}0===uA(t[r],d)?i.Lf.swap(t,r,h):(h+=1,i.Lf.swap(t,h,a)),h<=n&&(r=h+1),n<=h&&(a=h-1)}}(s,r),s=s.slice(0,r)),a&&s.sort(uA);for(var d=t*r,p=c.subarray(d,d+r),h=l.subarray(d,d+r),f=0;f<r;f++)p[f]=s[f].value,h[f]=s[f].index},p=0;p<s;p++)d(p);var h=t.slice();return h[h.length-1]=r,[Object(i.Ld)(h,n,c),Object(i.Ld)(h,"int32",l)]}var lA={kernelName:i.od,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,s=r.sorted;Ud(a,"topk");var u=cA(n.data.get(a.dataId).values,a.shape,a.dtype,i,s),c=Object(o.a)(u,2),l=c[0],d=c[1];return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(d.shape,d.dtype,d.values)]}};var dA={kernelName:i.pd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,s=t.transforms,u=n.interpolation,c=n.fillMode,l=n.fillValue,d=n.outputShape,p=Object(o.a)(a.shape,4),h=p[0],f=p[1],m=p[2],v=p[3],g=null!=d?d:[f,m],A=Object(o.a)(g,2),y=A[0],b=A[1],x=[h,y,b,v],w=i.Lf.computeStrides(a.shape),_=w[0],k=w[1],O=w[2],E=i.Lf.computeStrides(x),S=E[0],C=E[1],T=E[2],I=i.Lf.getTypedArrayFromDType(a.dtype,i.Lf.sizeFromShape(x));I.fill(l);for(var j=r.data.get(a.dataId).values,M=r.data.get(s.dataId).values,N=0;N<h;++N){for(var D=1===s.shape[0]?M:M.subarray(8*N,8*N+8),R=0;R<y;++R)for(var P=0;P<b;++P)for(var L=0;L<v;++L){var F=void 0,B=D[6]*P+D[7]*R+1;if(0!==B){var z=(D[0]*P+D[1]*R+D[2])/B,U=(D[3]*P+D[4]*R+D[5])/B,V=pA(z,m,c),W=pA(U,f,c);switch(u){case"nearest":F=fA(j,f,m,_,k,O,N,W,V,L,l);break;case"bilinear":F=mA(j,f,m,_,k,O,N,W,V,L,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(u))}I[N*S+R*C+P*T+L]=F}}return r.makeTensorInfo(x,a.dtype,I)}return{dataId:r.write(I,x,a.dtype),shape:a.shape,dtype:a.dtype}}};function pA(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return i.Lf.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return i.Lf.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return i.Lf.clamp(0,e,t-1)}(e,t);case"constant":default:return function(e,t){return e}(e)}}function hA(e,t,n,r,a,i,o,s,u,c,l){return 0<=s&&s<t&&0<=u&&u<n?e[o*r+s*a+u*i+c]:l}function fA(e,t,n,r,a,i,o,s,u,c,l){return hA(e,t,n,r,a,i,o,Math.round(s),Math.round(u),c,l)}function mA(e,t,n,r,a,i,o,s,u,c,l){var d=Math.floor(s),p=Math.floor(u),h=d+1,f=p+1;return(h-s)*((f-u)*hA(e,t,n,r,a,i,o,d,p,c,l)+(u-p)*hA(e,t,n,r,a,i,o,d,f,c,l))+(s-d)*((f-u)*hA(e,t,n,r,a,i,o,h,p,c,l)+(u-p)*hA(e,t,n,r,a,i,o,h,f,c,l))}function vA(e,t,n,r){for(var a=i.Lf.parseAxisParam(t,n)[0],o=[1,n[0],1],s=0;s<a;s++)o[0]*=n[s];o[1]=n[a];for(var u=a+1;u<n.length;u++)o[2]*=n[u];for(var c=new Map,l=new Int32Array(n[a]),d=new i.ld(o,r,e),p=[],h=1===o[0]&&1===o[2],f=0;f<n[a];f++){var m=void 0;if(h)m=e[f].toString();else{for(var v=[],g=0;g<o[0];g++)for(var A=0;A<o[2];A++)v.push(d.get(g,f,A));m=v.join(",")}var y=c.get(m);if(null!=y)l[f]=y;else{var b=c.size;c.set(m,b),l[f]=b,p.push(f)}}var x=o.slice();x[1]=c.size;var w=new i.ld(x,r);p.forEach(function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)w.set(d.get(n,e,r),n,t,r)});var _=n.slice();return _[a]=x[1],{outputValues:w.values,outputShape:_,indices:l}}var gA={kernelName:i.rd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;Ud(i,"unique");var o=vA(r.data.get(i.dataId).values,a,i.shape,i.dtype),s=o.outputValues,u=o.outputShape,c=o.indices;return[r.makeTensorInfo(u,i.dtype,s),r.makeTensorInfo([c.length],"int32",c)]}};var AA={kernelName:i.sd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a.shape.length,s=a.shape[i],u=new Array(o-1),c=0,l=0;l<o;l++)l!==i&&(u[c++]=a.shape[l]);var d=new Array(o).fill(0),p=a.shape.slice();p[i]=1;for(var h=new Array(s),f=0;f<h.length;f++){d[i]=f;var m=lh({inputs:{x:a},backend:n,attrs:{begin:d,size:p}});h[f]=Op({inputs:{x:m},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(m)}return h}};for(var yA={kernelName:i.td,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,s=r.numSegments;Ud(a,"unsortedSegmentSum");for(var u=[],c=[],l=a.shape.length-o.shape.length,d=o,p=0;p<l;++p){var h=Of({inputs:{input:d},backend:n,attrs:{dim:p+1}});d=h,c.push(h)}for(var f=0;f<s;++f){var m=i.Lf.createScalarValue(f,"int32"),v=n.makeTensorInfo([],"int32",m),g=pf({inputs:{a:v,b:d},backend:n}),A=gp({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),y=af({inputs:{a:A,b:a},backend:n}),b=sf({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});u.push(b),c.push(v),c.push(g),c.push(A),c.push(y),c.push(b)}var x=xv({inputs:u,backend:n,attrs:{axis:0}});return c.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),x}},bA=0,xA=[Tp,jp,Np,Rp,kp,Pp,zp,Up,Vp,Wp,Hp,Kp,Qp,Zp,eh,ah,ih,oh,sh,Cp,uh,ph,mh,Ah,yh,Ap,wh,kh,pp,Oh,Ih,Mh,Nh,Dh,Rh,Ph,Lh,Bh,Uh,Vh,Wh,Gh,Hh,qh,Xh,Qh,Yh,$h,Zh,Jh,ef,tf,cf,Xd,lf,hf,xf,kf,Ef,Tf,Bf,Uf,Vf,Hf,Xf,Qf,Yf,Zf,em,rm,om,Yd,sm,Ch,cm,dm,hm,Zd,vm,ym,xm,km,Em,Tm,jm,Dm,Rm,Pm,Bm,Vm,Wm,Gm,Hm,qm,Km,Xm,Qm,Zm,Jm,nv,iv,of,sv,cv,dv,hv,vv,gv,bv,wv,_v,Ev,np,Cv,Nv,Pv,Vv,Gv,mp,Mf,qv,ap,op,Ep,Kv,Xv,Qv,Yv,$v,Zv,eg,rg,ig,ug,cg,hg,cp,mg,gg,yg,dh,av,wg,_g,Og,Sg,Tg,Ig,jg,Mg,Rg,Pg,Bg,Vg,Gg,qg,Qg,Zg,eA,Pf,uf,nA,aA,iA,sA,lA,dA,Bp,gA,AA,yA,yv];bA<xA.length;bA++){var wA=xA[bA];Object(i.af)(wA)}var _A,kA,OA,EA={},SA={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function CA(e,t){if(!(e in EA)||null!=t){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if(Object(i.he)().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",function(t){t.preventDefault(),delete EA[e]},!1),Object(i.he)().getBool("SOFTWARE_WEBGL_ENABLED")&&(SA.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",SA)||n.getContext("experimental-webgl",SA);return n.getContext("webgl2",SA)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;EA[e]=n}var r=EA[e];return null==r||r.isContextLost()?(delete EA[e],CA(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),EA[e])}function TA(e,t){return[t,e]}function IA(e){var t=i.Lf.sizeFromShape(e),n=Math.ceil(t/4);return i.Lf.sizeToSquarishShape(n)}function jA(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function MA(e,t){var n,r,a,o,s,u,c,l,d,p,h=e;return 2===Object(i.he)().getNumber("WEBGL_VERSION")?(n=h.R32F,r=h.R16F,a=h.RGBA16F,o=h.RGBA32F,s=h.RED,c=4,l=1,d=h.HALF_FLOAT,p=h.FLOAT,u=h.RGBA8):(n=e.RGBA,r=e.RGBA,a=e.RGBA,o=h.RGBA,s=e.RGBA,c=4,l=4,d=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,u=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:s,downloadTextureFormat:u,downloadUnpackNumChannels:c,defaultNumChannels:l,textureTypeHalfFloat:d,textureTypeFloat:p}}function NA(e,t){var n=t();return Object(i.he)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(_A||(_A={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(kA||(kA={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(OA||(OA={}));var DA=5.96e-8,RA=65504;function PA(e){return!!(Object(i.he)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||DA<Math.abs(e)&&Math.abs(e)<RA)}function LA(e,t){return XA(e,function(){return e.getExtension(t)},'Extension "'+t+'" not supported on this browser.')}var FA,BA,zA=/ERROR: [0-9]+:([0-9]+):/g;function UA(e,t){var n=zA.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],a=e.split("\n"),o=a.length.toString().length+2,s=a.map(function(e,t){return i.Lf.rightPad((t+1).toString(),o)+e}),u=0,c=0;c<s.length;c++)u=Math.max(s[c].length,u);var l=s.slice(0,r-1),d=s.slice(r-1,r),p=s.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(i.Lf.rightPad(d[0],u)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}function VA(e,t){if(NA(e,function(){return e.validateProgram(t)}),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function WA(e,t,n,r,a,i,o){var s=e.getAttribLocation(t,n);return-1!==s&&(NA(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),NA(e,function(){return e.vertexAttribPointer(s,a,e.FLOAT,!1,i,o)}),NA(e,function(){return e.enableVertexAttribArray(s)}),!0)}function GA(e,t,n,r){NA(e,function(){return function(e,t,n){QA(e,n),NA(e,function(){return e.activeTexture(e.TEXTURE0+n)}),NA(e,function(){return e.bindTexture(e.TEXTURE_2D,t)})}(e,t,r)}),NA(e,function(){return e.uniform1i(n,r)})}function HA(e,t,n){NA(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),NA(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)})}function qA(e,t){NA(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)}),NA(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function KA(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function XA(e,t,n){var r=NA(e,function(){return t()});if(null==r)throw new Error(n);return r}function QA(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function YA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return i.Lf.sizeFromShape(e.slice(0,e.length-t))}function $A(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function ZA(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[YA(e)].concat(Object(Kn.a)($A(e)))),t}function JA(e){return e%2===0}function ey(e,t){if(e=e.slice(-2),t=t.slice(-2),i.Lf.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(JA(n)&&JA(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&JA(e[0])&&JA(t[0])}function ty(e,t){return null!=e.getExtension(t)}function ny(e){try{if(null!=CA(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function ry(e){if(0===e)return!1;var t=CA(e);if(1!==e){if(ty(t,"EXT_color_buffer_float"))return ay(t);if(ty(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=MA(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),i}(t,n)}return!1}return!!ty(t,"OES_texture_float")&&(!!ty(t,"WEBGL_color_buffer_float")&&ay(t))}function ay(e){var t=MA(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function iy(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&i.Lf.assert("complex64"!==e.dtype,function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."})})}var oy=Object(i.he)();function sy(){var e,t,n,r,a,o,s,u,c,l;return 2===Object(i.he)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",o="outputColor",s="out vec4 outputColor;",u=Object(i.he)().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",o="gl_FragColor",s="",u="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:o,defineOutput:s,defineSpecialNaN:u,defineSpecialInf:c,defineRound:l}}function uy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=i.Lf.computeStrides(t);return r.map(function(t,a){var i="int ".concat(e[a]," = ").concat(n," / ").concat(t),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(i,"; ").concat(o,";")}).join("")}function cy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=i.Lf.computeStrides(t);return r.map(function(t,a){var i="int ".concat(e[a]," = ").concat(n," / outShapeStrides[").concat(a,"]"),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(i,"; ").concat(o,";")}).join("")}function ly(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=function(e,t){var n=e.length,r=e.map(function(e){return"".concat(t,"[").concat(e,"]")}),a=new Array(n-1);a[n-2]=r[n-1];for(var i=n-3;i>=0;--i)a[i]="(".concat(a[i+1]," * ").concat(r[i+1],")");return a}(e.map(function(e,t){return t}),t);return r.map(function(t,a){var i="int ".concat(e[a]," = ").concat(n," / ").concat(r[a]),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(r[a]):"index -= ".concat(e[a]," * ").concat(r[a]);return"".concat(i,"; ").concat(o,";")}).join("")}function dy(e){var t=i.Lf.computeStrides(e).map(function(e){return e.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}oy.registerFlag("HAS_WEBGL",function(){return oy.getNumber("WEBGL_VERSION")>0}),oy.registerFlag("WEBGL_VERSION",function(){return ny(2)?2:ny(1)?1:0}),oy.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",function(){return!1}),oy.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===oy.get("WEBGL_VERSION")}),oy.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),oy.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),oy.registerFlag("WEBGL_PACK",function(){return oy.getBool("HAS_WEBGL")}),oy.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_PACK_CLIP",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_PACK_REDUCE",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_LAZILY_UNPACK",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_CONV_IM2COL",function(){return oy.getBool("WEBGL_PACK")}),oy.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return function(e){if(null==FA){var t=CA(e);FA=t.getParameter(t.MAX_TEXTURE_SIZE)}return FA}(oy.getNumber("WEBGL_VERSION"))}),oy.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return function(e){if(null==BA){var t=CA(e);BA=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,BA)}(oy.getNumber("WEBGL_VERSION"))}),oy.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=oy.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;var t=CA(e);return ty(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:ty(t,"EXT_disjoint_timer_query")?1:0}(e)}),oy.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return oy.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!i.be.isMobile()}),oy.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return function(e){if(0===e)return!1;var t=CA(e);if(1===e){if(!ty(t,"OES_texture_float"))return!1}else if(!ty(t,"EXT_color_buffer_float"))return!1;return ay(t)}(oy.getNumber("WEBGL_VERSION"))}),oy.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!oy.getBool("WEBGL_FORCE_F16_TEXTURES")&&oy.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),oy.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return ry(oy.getNumber("WEBGL_VERSION"))}),oy.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return 2===(e=oy.getNumber("WEBGL_VERSION"))&&null!=CA(e).fenceSync;var e}),oy.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return oy.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),oy.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",function(){return-1},function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))}),oy.registerFlag("WEBGL_FLUSH_THRESHOLD",function(){return i.be.isMobile()?1:-1},function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))}),oy.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",function(){return 128}),oy.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",function(){return!1}),oy.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",function(){return 1e5}),oy.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",function(){return 128}),oy.registerFlag("WEBGL_EXP_CONV",function(){return!1}),oy.registerFlag("SOFTWARE_WEBGL_ENABLED",function(){return oy.getBool("IS_TEST")}),oy.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",function(){return 1/0}),oy.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",function(){return!1}),oy.registerFlag("WEBGL2_ISNAN_CUSTOM",function(){return!1}),oy.registerFlag("ENGINE_COMPILE_ONLY",function(){return!1});var py="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",hy=i.Ed.getBroadcastDims;function fy(e,t,n){var r=[];if(e.forEach(function(e){var t=i.Lf.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(ky(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}}),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))});var a,o,s=r.join("\n"),u=e.map(function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?vy(e,r):my(e,r);var o=e.shapeInfo.logicalShape,s=t.logicalShape;o.length<=s.length&&(a+=n?function(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),o="get"+a+"AtOutCoords",s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length,c=hy(e.shapeInfo.logicalShape,t.logicalShape),l=_y(u),d=u-s,p=["x","y","z","w","u","v"];n=0===s?"":u<2&&c.length>=1?"coords = 0;":c.map(function(e){return"coords.".concat(p[e+d]," = 0;")}).join("\n");var h="";h=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords.".concat(p[t+d])}).join(", ");var f="return outputValue;",m=1===i.Lf.sizeFromShape(e.shapeInfo.logicalShape),v=1===i.Lf.sizeFromShape(t.logicalShape);if(1!==s||m||v){if(m&&!v)f=1===u?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){var g=s-2,A=s-1;c.indexOf(g)>-1&&c.indexOf(A)>-1?f="return vec4(outputValue.x);":c.indexOf(g)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(A)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(o,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(a,"(").concat(h,");\n      ").concat(f,"\n    }\n  ")}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",o=t.texShape,s=e.shapeInfo.texShape,u=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&u===c&&null==e.shapeInfo.flatOffset&&i.Lf.arraysEqual(s,o))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,d=_y(c),p=hy(e.shapeInfo.logicalShape,t.logicalShape),h=c-u,f=["x","y","z","w","u","v"];l=0===u?"":c<2&&p.length>=1?"coords = 0;":p.map(function(e){return"coords.".concat(f[e+h]," = 0;")}).join("\n");var m="";m=c<2&&u>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords.".concat(f[t+h])}).join(", ");return"\n    float ".concat(a,"() {\n      ").concat(d," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(r,"(").concat(m,");\n    }\n  ")}(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms)}).join("\n"),c=t.texShape,l=sy(),d=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(l),p=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(gy,"\n    ").concat(Ay,"\n    ").concat(yy,"\n  ")}(l);return t.isPacked?(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(i.Lf.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2),o=i,s="",u="b, r, c",c=2;c<e.length-1;c++)o*=e[e.length-c-1],s="\n      int b".concat(c," = index / ").concat(o,";\n      index -= b").concat(c," * ").concat(o,";\n    ")+s,u="b".concat(c,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,c,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(l)):(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(i.Lf.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=cy(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var a=uy(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=cy(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var a=uy(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=uy(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=uy(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,c,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(l)),n.packedInputs&&(p+=by),[p,d,o,s,a,u,n.userCode].join("\n")}function my(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var a=Object(o.a)(e.shapeInfo.texShape,2),i=a[0],s=a[1];if(1===i&&1===s)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var u=xy(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var c=Object(o.a)(e.shapeInfo.texShape,2),l=c[0],d=c[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(l,", ").concat(d,", ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(wy(e),"\n      }\n    ");var a=e.shapeInfo.texShape,i=a[0],o=a[1];if(1===o&&1===i)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=xy(n);if(1===o)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(i,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(1===i)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(t)return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(i,", ").concat(o,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(null!=o&&i.Lf.arraysEqual(n,o)){if(t)return"\n      float ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var s=o[0],u=o[1];return"\n    float ".concat(a,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(s,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var c=i.Lf.squeezeShape(n),l=c.newShape,d=c.keptDims,p=l;if(p.length<n.length){var h=Oy(e,p);return"\n      ".concat(my(h,t),"\n      float ").concat(a,"(int row, int col) {\n        return ").concat(a,"(").concat(Ey(["row","col"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(wy(e),"\n      }\n    ");var f=o[0],m=o[1],v=xy(r);if(1===m)return t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(f,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(1===f)return t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(m,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(t)return"\n      float ".concat(a,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(v,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");return"\n  float ".concat(a,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(v,";\n    vec2 uv = uvFromFlat(").concat(f,", ").concat(m,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],s=n[2],u=i.Lf.squeezeShape(n),c=u.newShape,l=u.keptDims,d=c;if(d.length<n.length){var p=Oy(e,d);return"\n        ".concat(my(p,t),"\n        float ").concat(a,"(int row, int col, int depth) {\n          return ").concat(a,"(").concat(Ey(["row","col","depth"],l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(o,", ").concat(s,", 1)));\n        ").concat(wy(e),"\n      }\n    ");var h=e.shapeInfo.texShape,f=h[0],m=h[1],v=e.shapeInfo.flatOffset;if(m===o&&null==v)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(a,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(s,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(m,".0, ").concat(f,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(m===s&&null==v)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(m,".0, ").concat(f,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var g=xy(r);if(t)return"\n    float ".concat(a,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    ");return"\n      float ".concat(a,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(o," + col * ").concat(s," + depth + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(f,", ").concat(m,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}(e,t);case 4:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],s=n[2]*o,u=n[1]*s,c=i.Lf.squeezeShape(n),l=c.newShape,d=c.keptDims;if(l.length<n.length){var p=Oy(e,l);return"\n      ".concat(my(p,t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2) {\n        return ").concat(a,"(").concat(Ey(["row","col","depth","depth2"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(u,", ").concat(s,", ").concat(o,", 1)));\n        ").concat(wy(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,m=f[0],v=f[1],g="int stride2 = ".concat(r,"Shape[3];"),A="int stride1 = ".concat(r,"Shape[2] * stride2;"),y="int stride0 = ".concat(r,"Shape[1] * stride1;");if(v===u&&null==h)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        ").concat(g,"\n        ").concat(A,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(s,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(v===o&&null==h)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var b=xy(r);if(t)return"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(g,"\n      ").concat(A,"\n      ").concat(y,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(b,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");return"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(s," +\n          depth * ").concat(o," + depth2;\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index + ").concat(b,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}(e,t);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],o=t[3]*a,s=t[2]*o,u=t[1]*s,c=i.Lf.squeezeShape(t),l=c.newShape,d=c.keptDims;if(l.length<t.length){var p=Oy(e,l);return"\n      ".concat(my(p),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(Ey(["row","col","depth","depth2","depth3"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(s,", ").concat(o,", ").concat(a,")) +\n          depth3;\n        ").concat(wy(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,m=f[0],v=f[1];if(v===u&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(s,", ").concat(o,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(v===a&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=xy(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(s," + depth * ").concat(o," +\n          depth2 * ").concat(a," + depth3 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=i.Lf.squeezeShape(t),o=a.newShape,s=a.keptDims;if(o.length<t.length){var u=Oy(e,o);return"\n      ".concat(my(u),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(Ey(["row","col","depth","depth2","depth3","depth4"],s),");\n      }\n    ")}var c=t[5],l=t[4]*c,d=t[3]*l,p=t[2]*d,h=t[1]*p;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(h,", ").concat(p,", ").concat(d,", ").concat(l,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(c,", 1)));\n        ").concat(wy(e),"\n      }\n    ");var f=e.shapeInfo.flatOffset,m=e.shapeInfo.texShape,v=m[0],g=m[1];if(g===h&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(p,", ").concat(d,", ").concat(l,", ").concat(c,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===c&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var A=xy(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(h," + col * ").concat(p," + depth * ").concat(d," +\n          depth2 * ").concat(l," + depth3 * ").concat(c," + depth4 + ").concat(A,";\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function vy(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=sy();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=sy();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");var o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,s=o[0],u=o[1],c=sy();if(null!=o&&i.Lf.arraysEqual(n,o))return t?"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(s,".0);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(a,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],d=Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(d,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){var s=n.slice(1),u=Oy(e,s);return"\n        ".concat(vy(u,t),"\n        vec4 ").concat(a,"(int b, int row, int col) {\n          return ").concat(a,"(").concat(Ey(["b","row","col"],[1,2]),");\n        }\n      ")}var c=sy();if(t)return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var l=o[0],d=o[1],p=Math.ceil(n[2]/2),h=p*Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(l,", ").concat(d,", ").concat(h,", ").concat(p,", b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=sy();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var i=e.shapeInfo.logicalShape,o=i.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=u[0],l=u[1],d=Math.ceil(i[o-1]/2),p=d*Math.ceil(i[o-2]/2),h="int b, int row, int col",f="b * ".concat(p," + (row / 2) * ").concat(d," + (col / 2)"),m=2;m<o-1;m++)h="int b".concat(m,", ")+h,p*=i[o-m-1],f="b".concat(m," * ").concat(p," + ")+f;return"\n    vec4 ".concat(r,"(").concat(h,") {\n      int index = ").concat(f,";\n      int texR = index / ").concat(l,";\n      int texC = index - texR * ").concat(l,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(l,", ").concat(c,");\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var gy="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ay="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",yy="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",by="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function xy(e){return"offset".concat(e)}function wy(e){var t=e.name,n=i.Lf.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function _y(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function ky(e,t,n){var r=i.Lf.squeezeShape(t),a=r.newShape,o=r.keptDims,s=t.length,u=e&&3===s&&1===t[0],c=u?t.slice(1):a,l=!e&&s>1&&!i.Lf.arraysEqual(t,n)&&a.length<s||u;return{useSqueezeShape:l,uniformShape:l?c:t,keptDims:o}}function Oy(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Ey(e,t){return t.map(function(t){return e[t]}).join(", ")}function Sy(e,t,n,r){var a=n.map(function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}}),o=a.map(function(e){return e.shapeInfo}),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=fy(a,s,t),c=function(e,t){var n=XA(e,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(NA(e,function(){return e.shaderSource(n,t)}),NA(e,function(){return e.compileShader(n)}),Object(i.he)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw UA(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,u),l=e.createProgram(c);return Object(i.he)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:c,source:u,webGLProgram:l,inShapeInfos:o,outShapeInfo:s,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(l),Object.assign({program:t,fragmentShader:c,source:u,webGLProgram:l,inShapeInfos:o,outShapeInfo:s},Cy(e,t,l)))}function Cy(e,t,n){var r,a,o,s,u=[],c=[],l=null;s=e.getUniformLocation(n,"NAN",!1),1===Object(i.he)().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));var d=!0,p=!1,h=void 0;try{for(var f,m=t.variableNames[Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var v=f.value,g={name:v,uniform:e.getUniformLocation(n,v,!1),offset:e.getUniformLocation(n,"offset".concat(v),!1)};t.enableShapeUniforms&&(g.shape=e.getUniformLocation(n,"".concat(v,"Shape"),!1),g.texShape=e.getUniformLocation(n,"".concat(v,"TexShape"),!1)),u.push(g)}}catch(k){p=!0,h=k}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}if(t.enableShapeUniforms&&(r=e.getUniformLocation(n,"outShape",!1),o=e.getUniformLocation(n,"outShapeStrides",!1),a=e.getUniformLocation(n,"outTexShape",!1)),t.customUniforms){var A=!0,y=!1,b=void 0;try{for(var x,w=t.customUniforms[Symbol.iterator]();!(A=(x=w.next()).done);A=!0){var _=x.value;c.push(e.getUniformLocation(n,_.name,!1))}}catch(k){y=!0,b=k}finally{try{A||null==w.return||w.return()}finally{if(y)throw b}}}return{variablesLocations:u,customUniformLocations:c,infLoc:l,nanLoc:s,outShapeLocation:r,outShapeStridesLocation:o,outTexShapeLocation:a}}function Ty(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach(function(e,n){var r=e.logicalShape,a=t[n],o=a.shape;if(!i.Lf.arraysEqual(r,o))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(o," must match"));if(!e.isUniform||!a.isUniform){var s=e.texShape,u=a.isUniform?null:a.texData.texShape;if(!i.Lf.arraysEqual(s,u))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(s," and ").concat(u," must match"))}})}function Iy(e){return Object(i.he)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var jy=function e(t){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=_A.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=sy();this.outputShape=t,this.enableShapeUniforms=Iy(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?cy(["r","c","d"],t):uy(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")},My=function e(t){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=_A.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=sy();this.outputShape=t,this.enableShapeUniforms=Iy(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?cy(["r","c","d"],t):uy(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")},Ny=function e(t){Object(Jr.a)(this,e),this.variableNames=["A"],this.outTexUsage=kA.DOWNLOAD;var n=sy();this.outputShape=t,this.userCode="\n      ".concat(py,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")},Dy=function e(t){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=kA.DOWNLOAD;var n=sy();this.outputShape=t,this.userCode="\n      ".concat(py,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")},Ry={R:0,G:1,B:2,A:3},Py=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";Object(Jr.a)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var a=sy();this.outputShape=t,this.enableShapeUniforms=Iy(this.outputShape.length);var i="result";n&&(i="floor(result * 255. + 0.5)");for(var o="",s=0;s<r.length;s++){var u=r[s];o+="\n          if(offset == ".concat(s,") {\n            result = values[").concat(Ry[u],"];\n          }")}this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":dy(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ").concat(r.length,");\n\n        flatIndex = idiv(flatIndex, ").concat(r.length,", 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ").concat(a.texture2D,"(A, uv);\n          ").concat(o,"\n        }\n        ").concat(a.output," = vec4(").concat(i,", 0., 0., 0.);\n      }\n    ")},Ly=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=sy();this.outputShape=t,this.enableShapeUniforms=Iy(this.outputShape.length);var a="",i="result";n&&(i="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var s=0;s<=1;s++){var u=2*o+s;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(u,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(u,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(u,"] = values[2];\n            } else {\n              result[").concat(u,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":dy(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(r.output," = ").concat(i,";\n        }\n    ")};function Fy(e){var t=sy();return function(e,t){var n=XA(e,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(NA(e,function(){return e.shaderSource(n,t)}),NA(e,function(){return e.compileShader(n)}),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function By(e){return function(e,t){var n=XA(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return NA(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),NA(e,function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function zy(e){return function(e,t){var n=XA(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return NA(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)}),NA(e,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}),n}(e,new Uint16Array([0,1,2,2,1,3]))}function Uy(e,t,n,r,a,o){!function(e,t){var n=Object(i.he)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var a="[".concat(e,"x").concat(t,"]"),o="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+o+".")}}(t,n);var s=function(e){return XA(e,function(){return e.createTexture()},"Unable to create WebGLTexture.")}(e),u=e.TEXTURE_2D;return NA(e,function(){return e.bindTexture(u,s)}),NA(e,function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),NA(e,function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),NA(e,function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)}),NA(e,function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)}),1===Object(i.he)().getNumber("WEBGL_VERSION")?NA(e,function(){return e.texImage2D(u,0,r,t,n,0,a,o,null)}):NA(e,function(){return e.texStorage2D(u,1,r,t,n)}),NA(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),{texture:s,texShape:[n,t]}}function Vy(e){return e.internalFormatFloat}function Wy(e){return e.internalFormatHalfFloat}function Gy(e){return e.downloadTextureFormat}function Hy(e){return e.internalFormatPackedFloat}function qy(e){return e.internalFormatPackedHalfFloat}function Ky(e,t,n,r,a,i,s,u){var c=e,l=new Float32Array(function(e,t){var n=jA(e,t),r=Object(o.a)(n,2);return r[0]*r[1]*4}(i,s));return c.bindBuffer(c.PIXEL_PACK_BUFFER,t),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,l),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),l}var Xy=function(){function e(t){Object(Jr.a)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];var n=Object(i.he)().getNumber("WEBGL_VERSION");if(null!=t?(this.gl=t,function(e,t){EA[e]=t}(n,t)):this.gl=CA(n),t=this.gl,2===Object(i.he)().getNumber("WEBGL_VERSION")){var r=t;this.createVertexArray=function(){return NA(r,function(){return r.createVertexArray()})},this.bindVertexArray=function(e){return NA(r,function(){return r.bindVertexArray(e)})},this.deleteVertexArray=function(e){return NA(r,function(){return r.deleteVertexArray(e)})},this.getVertexArray=function(){return NA(r,function(){return r.getParameter(r.VERTEX_ARRAY_BINDING)})}}else if(null!=t){var a=t.getExtension("OES_vertex_array_object");if(null==a)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=function(){return NA(t,function(){return a.createVertexArrayOES()})},this.bindVertexArray=function(e){return NA(t,function(){return a.bindVertexArrayOES(e)})},this.deleteVertexArray=function(e){return NA(t,function(){return a.deleteVertexArrayOES(e)})},this.getVertexArray=function(){return NA(t,function(){return t.getParameter(a.VERTEX_ARRAY_BINDING_OES)})}}var o="WEBGL_color_buffer_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===Object(i.he)().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=LA(this.gl,"OES_texture_float"),ty(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=LA(this.gl,"OES_texture_half_float");else if(Object(i.he)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(o),ty(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=LA(this.gl,"EXT_color_buffer_half_float");else if(Object(i.he)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(o="EXT_color_buffer_float",ty(this.gl,o))this.colorBufferFloatExtension=this.gl.getExtension(o);else{if(!ty(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=By(this.gl),this.indexBuffer=zy(this.gl),this.framebuffer=function(e){return XA(e,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=MA(this.gl,this.textureHalfFloatExtension)}return Object(ea.a)(e,[{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;NA(t,function(){return t.finish()}),NA(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),NA(t,function(){return t.deleteFramebuffer(e.framebuffer)}),NA(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),NA(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),NA(t,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=TA(t,n),i=Object(o.a)(a,2);return Uy(e,i[0],i[1],Vy(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=TA(t,n),i=Object(o.a)(a,2);return Uy(e,i[0],i[1],Wy(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=TA(t,n),i=Object(o.a)(a,2);return Uy(e,i[0],i[1],Gy(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),function(e,t,n){NA(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),n.data instanceof Uint8Array?2===Object(i.he)().getNumber("WEBGL_VERSION")?NA(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)}):NA(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)}):2===Object(i.he)().getNumber("WEBGL_VERSION")?NA(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)}):NA(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}),NA(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,o){var s,u,c;NA(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),a instanceof Uint8Array?(s=new Uint8Array(n*r*4),u=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(n*r*4),u=e.FLOAT,c=o.internalFormatPackedFloat),s.set(a),2===Object(i.he)().getNumber("WEBGL_VERSION")?NA(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,u,s)}):NA(e,function(){return e.texImage2D(e.TEXTURE_2D,0,c,n,r,0,e.RGBA,u,s)}),NA(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=jA(t,n),i=Object(o.a)(a,2);return Uy(e,i[0],i[1],qy(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=jA(t,n),i=Object(o.a)(a,2);return Uy(e,i[0],i[1],Hy(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(qA(this.gl,this.framebuffer),this.outputTexture=null),NA(this.gl,function(){return t.gl.deleteTexture(e)})}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return function(e,t,n,r){var a=TA(t,n),i=Object(o.a)(a,2),s=i[0],u=i[1],c=new Uint8Array(t*n*4);return NA(e,function(){return e.readPixels(0,0,s,u,r.downloadTextureFormat,e.UNSIGNED_BYTE,c)}),new Float32Array(c.buffer)}(r.gl,t,n,r.textureConfig)})}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,i){return Ky(this.gl,e,0,0,0,a,i,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return function(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=function(e,t,n,r){var a=e.createBuffer();NA(e,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)});var i=16*t*n;return NA(e,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)}),NA(e,function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)}),NA(e,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if(Object(i.he)().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,o=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(o,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=o}else Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return function(e,t,n){var r=new Float32Array(t*n*4);return NA(e,function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)}),r}(r.gl,t,n)})}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=Fy(n));var r=function(e){return XA(e,function(){return e.createProgram()},"Unable to create WebGLProgram.")}(n);NA(n,function(){return n.attachShader(r,t.vertexShader)}),NA(n,function(){return n.attachShader(r,e)}),function(e,t){if(NA(e,function(){return e.linkProgram(t)}),!Object(i.he)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(n,r);var a=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&VA(n,a),a}},{key:"buildVao",value:function(e){var t=this;this.setProgram(e),this.bindVertexArray(e.vao);var n=this.gl;NA(n,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer)}),function(e,t,n){NA(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),WA(e,t,"clipSpacePos",n,3,20,0)&&WA(e,t,"uv",n,2,20,12)}(n,e,this.vertexBuffer)}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(NA(this.gl,function(){return t.gl.deleteProgram(e)}),this.deleteVertexArray(e.vao))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&VA(this.gl,this.program),NA(this.gl,function(){return t.gl.useProgram(e)})}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return XA(e,function(){return e.getUniformLocation(t,n)},'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),NA(this.gl,function(){return n.gl.getAttribLocation(e,t)})}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),GA(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=jA(t,n),a=Object(o.a)(r,2),i=a[0],s=a[1];this.setOutputMatrixTextureDriver(e,i,s)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&VA(this.gl,this.program),KA(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;if(this.debug){var t=this.getVertexArray();console.assert(t===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}NA(e,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),NA(this.gl,function(){return e.gl.finish()})}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=LA(this.gl,2===Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){var n=this;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Lf.repeatedTry(function(){return n.disposed||n.isQueryAvailable(t,Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))});case 2:return e.abrupt("return",this.getQueryTime(t,Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var i=this.getQueryTimerExtensionWebGL1(),o=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise(function(n){t.addItemToPoll(function(){return e.isFencePassed()},function(){return n()})})}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){var n=e[t]();if(!n)break}return t-1}(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),!(this.itemsToPoll.length>1)){var r=void 0;"setTimeoutCustom"in Object(i.he)().platform&&(r=Object(i.he)().platform.setTimeoutCustom.bind(Object(i.he)().platform)),i.Lf.repeatedTry(function(){return n.pollItems(),0===n.itemsToPoll.length},function(){return 0},null,r)}}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),HA(this.gl,e,this.framebuffer),this.debug&&KA(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(HA(this.gl,this.outputTexture,this.framebuffer),this.debug&&KA(this.gl)):qA(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;HA(r,e,this.framebuffer),this.debug&&KA(r),this.outputTexture=e,NA(r,function(){return r.viewport(0,0,t,n)}),NA(r,function(){return r.scissor(0,0,t,n)})}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),NA(this.gl,function(){return a.gl.scissor(e,t,n,r)})}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}},{key:"debug",get:function(){return Object(i.he)().getBool("DEBUG")}}]),e}();var Qy=xp,Yy=hh,$y=fh,Zy=vh,Jy=vp,eb=bh,tb=Eh,nb=df,rb=wf,ab=Sf,ib=Wf,ob=$f,sb=Jf,ub=tm,cb=am,lb=fm,db=gm,pb=bm,hb=wm,fb=Lm,mb=zm,vb=Ym,gb=nf,Ab=ov,yb=fv,bb=Sv,xb=Mv,wb=Rv,_b=Uv,kb=Wv,Ob=tg,Eb=ag,Sb=sp,Cb=Ip,Tb=ch,Ib=kg,jb=Eg,Mb=Cg,Nb=Ng,Db=zg,Rb=Hg,Pb=Xg,Lb=$g,Fb=Jg,Bb=Nf,zb=oA,Ub=cA,Vb=Lp,Wb=vA;function Gb(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(t){return"".concat(e,".").concat(t)})}function Hb(e,t){return 1===t?[e]:Gb(e,t)}var qb=function(){function e(t){if(Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=Iy(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Hb("rc",this.rank),r=_y(this.rank),a=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(a,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(i,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}return Object(ea.a)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var a="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),i=2;i<this.rank;i++)a="".concat(e[e.length-1-i],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),Kb=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=Iy(this.outputShape.length);for(var r="",a=0;a<4;a++){var i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+="\n        ".concat(i,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?ly(["r","c","d"],"inputShape"):uy(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":dy(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")};var Xb=function(){function e(t){Object(Jr.a)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}return Object(ea.a)(e,[{key:"acquireTexture",value:function(e,t,n){var r=Yb(t,n),a=$b(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var i,o=Qb(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var s=this.freeTextures[a].pop();return this.usedTextures[a].push(s),s}return r===OA.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===OA.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===OA.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===OA.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===OA.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),i}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var a=Yb(n,r),o=$b(t,a,r);o in this.freeTextures||(this.freeTextures[o]=[]);var s=Qb(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),u=Object(i.he)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==u&&this._numBytesAllocated>u?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;var c=this.usedTextures[o],l=c&&c.indexOf(e);if(null==l||l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[l]=c[c.length-1],c.pop(),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t.texture)});for(var n in this.usedTextures)this.usedTextures[n].forEach(function(t){e.gpgpu.deleteMatrixTexture(t.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}}]),e}();function Qb(e,t,n,r,a){var i,s=function(e,t){switch(e){case OA.PACKED_2X2_FLOAT32:return Hy(t);case OA.PACKED_2X2_FLOAT16:return qy(t);case OA.UNPACKED_FLOAT32:return Vy(t);case OA.UNPACKED_FLOAT16:return Wy(t);case OA.PACKED_4X1_UNSIGNED_BYTE:return Gy(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(a){var u=jA(e[0],e[1]),c=Object(o.a)(u,2);i=c[0]*c[1]}else{var l=TA(e[0],e[1]),d=Object(o.a)(l,2);i=d[0]*d[1]}return i*function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,s)}function Yb(e,t){if(e===kA.UPLOAD)return OA.PACKED_2X2_FLOAT32;if(e===kA.RENDER||null==e)return function(e){return Object(i.he)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?OA.PACKED_2X2_FLOAT32:OA.UNPACKED_FLOAT32:e?OA.PACKED_2X2_FLOAT16:OA.UNPACKED_FLOAT16}(t);if(e===kA.DOWNLOAD||e===kA.PIXELS)return OA.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function $b(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var Zb=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=Iy(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")},Jb="if (isnan(x)) return x;",ex="return x;",tx="return abs(x);";var nx="return (x >= 0.0) ? x : (exp(x) - 1.0);",rx=Jb+"\n  return (x < 0.0) ? 0.0 : x;\n",ax=Jb+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",ix="return x;",ox="return 1.0 / (1.0 + exp(-1.0 * x));",sx="return x;",ux="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",cx="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",lx="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",dx="return 1.0 / (1.0 + exp(-1.0 * x));",px=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=Iy(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")},hx=function e(t){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=Iy(this.outputShape.length);var n=t.length,r=Hb("rc",n),a=_y(n),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),s=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(i,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")},fx=i.ve.whereImpl,mx={};var vx=Object(i.he)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),gx=600;var Ax=function(e){function t(e){var n,r,a;if(Object(Jr.a)(this,t),(n=Object(ta.a)(this,Object(na.a)(t).call(this))).pendingRead=new WeakMap,n.pendingDisposal=new WeakSet,n.dataRefCount=new WeakMap,n.numBytesInGPU=0,n.uploadWaitMs=0,n.downloadWaitMs=0,n.lastGlFlushTime=0,n.warnedAboutMemory=!1,n.pendingDeletes=0,n.disposed=!1,!Object(i.he)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof Xy)r=e;else{var o=CA(Object(i.he)().getNumber("WEBGL_VERSION"),e);r=new Xy(o)}n.binaryCache={},n.gpgpuCreatedLocally=!1}else{var s=CA(Object(i.he)().getNumber("WEBGL_VERSION"));r=new Xy(s),n.binaryCache=(a=Object(i.he)().getNumber("WEBGL_VERSION"))in mx?mx[a]:(mx[a]={},mx[a]),n.gpgpuCreatedLocally=!0}return n.gpgpu=r,n.canvas=n.gpgpu.gl.canvas,n.textureManager=new Xb(n.gpgpu),n.numMBBeforeWarning=null==Object(i.he)().global.screen?1024:Object(i.he)().global.screen.height*Object(i.he)().global.screen.width*window.devicePixelRatio*gx/1024/1024,n.texData=new i.O(Object(ra.a)(n),Object(i.ge)()),n}return Object(aa.a)(t,e),Object(ea.a)(t,[{key:"nextDataId",value:function(){return t.nextDataId++}}]),Object(ea.a)(t,[{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"writeTexture",value:function(e,t,n,r,a,i){var o=this.makeTensorInfo(t,n),s=this.texData.get(o.dataId);s.isPacked=!1,s.texture={texture:e,texShape:[r,a]},s.texShape=[r,a];var u=ZA(t),c=new Py(u,!1,i),l=this.runWebGLProgram(c,[o],n,[[r,a]]);return l.shape=t,s.texture=null,this.disposeIntermediateTensorInfo(o),l.dataId}},{key:"write",value:function(e,t,n){if((Object(i.he)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Object(i.he)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:kA.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){if(Object(i.he)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:kA.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensorInfos,o=t.slice,s=t.shape,u=t.isPacked;if(null!=o){var c;c=u?new px(s,ix):new Zb(s,ix);var l=this.runWebGLProgram(c,[{dataId:e,shape:s,dtype:r}],r),d=this.readSync(l.dataId);return this.disposeIntermediateTensorInfo(l),d}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var p,h,f=null!=this.activeTimers;if(f&&(p=i.Lf.now()),"complex64"===r){var m=this.readSync(a.real.dataId),v=this.readSync(a.imag.dataId);h=i.Ed.mergeRealAndImagArrays(m,v)}else h=this.getValuesFromTexture(e);return f&&(this.downloadWaitMs+=i.Lf.now()-p),this.convertAndCacheOnCPU(e,h)}},{key:"read",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){var n,r,a,o,s,u,c,l,d,p,h,f,m,v,g,A,y,b,x,w,_,k,O;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise(function(e){return n.push(e)}));case 3:if(r=this.texData.get(t),a=r.values,o=r.shape,s=r.slice,u=r.dtype,c=r.complexTensorInfos,l=r.isPacked,null==s){e.next=11;break}return d=l?new px(o,ix):new Zb(o,ix),p=this.runWebGLProgram(d,[{dataId:t,shape:o,dtype:u}],u),h=this.read(p.dataId),this.disposeIntermediateTensorInfo(p),e.abrupt("return",h);case 11:if(null==a){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!Object(i.he)().getBool("DEBUG")){e.next=16;break}if(Object(i.he)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==Object(i.he)().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(f=null,"complex64"!==u&&Object(i.he)().get("WEBGL_BUFFER_SUPPORTED")&&(m=this.decode(t),g=this.texData.get(m.dataId),f=(v=this.gpgpu).createBufferFromTexture.apply(v,[g.texture.texture].concat(Object(Kn.a)(IA(o))))),this.pendingRead.set(t,[]),"complex64"===u){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==u){e.next=31;break}return e.next=25,Promise.all([this.read(c.real.dataId),this.read(c.imag.dataId)]);case 25:y=e.sent,b=y[0],x=y[1],A=i.Ed.mergeRealAndImagArrays(b,x),e.next=32;break;case 31:null==f?A=this.getValuesFromTexture(t):(w=i.Lf.sizeFromShape(o),A=this.gpgpu.downloadFloat32MatrixFromBuffer(f,w));case 32:return null!=m&&this.disposeIntermediateTensorInfo(m),null!=f&&NA(_=this.gpgpu.gl,function(){return _.deleteBuffer(f)}),k=this.convertAndCacheOnCPU(t,A),O=this.pendingRead.get(t),this.pendingRead.delete(t),O.forEach(function(e){return e(k)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&Object(i.ge)().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",k);case 40:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,a=n.shape,o=n.slice,s=n.dtype,u=n.isPacked,c=n.texture;if("complex64"===s)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=o){var l;l=u?new px(a,ix):new Zb(a,ix);var d=this.runWebGLProgram(l,[{dataId:e,shape:a,dtype:s}],s),p=this.readToGPU(d,t);return this.disposeIntermediateTensorInfo(d),p}if(null==c)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var h=this.decode(e,t.customTexShape),f=Object(i.ge)().makeTensorFromTensorInfo(h),m=this.texData.get(h.dataId);return Object.assign({tensorRef:f},m.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map(function(e){return i.Lf.decodeString(e)});return Object(i.Ld)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(i.Ld)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!PA(n)){if(Object(i.he)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.isPacked,o=i.Lf.sizeFromShape(n);if(Object(i.he)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s,u=this.decode(e),c=this.texData.get(u.dataId),l=(s=this.gpgpu).downloadMatrixFromPackedTexture.apply(s,[c.texture.texture].concat(Object(Kn.a)(IA(n)))).subarray(0,o);return this.disposeIntermediateTensorInfo(u),l}var d=Object(i.he)().getBool("WEBGL_PACK")&&!0===a,p=d?ZA(n):n,h=d?new Dy(p):new Ny(p),f=this.runWebGLProgram(h,[{shape:p,dtype:r,dataId:e}],"float32"),m=this.texData.get(f.dataId),v=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(m.texture.texture,m.texShape[0],m.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(f),v}},{key:"timerAvailable",value:function(){return Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],a=!1;null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e();var o=i.Lf.flatten(this.activeTimers.map(function(e){return e.query})).filter(function(e){return null!=e}),s=i.Lf.flatten(this.activeTimers.map(function(e){return e.name})).filter(function(e){return null!=e});this.activeTimers=n,a&&(this.programTimersStack=null);var u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return Object(Oo.a)(ko.a.mark(function e(){var n;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(o);case 3:n=e.sent,u.kernelMs=i.Lf.sum(n),u.getExtraProfileInfo=function(){return n.map(function(e,t){return{name:s[t],ms:e}}).map(function(e){return"".concat(e.name,": ").concat(e.ms)}).join(", ")},e.next=9;break;case 8:u.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",u);case 12:case"end":return e.stop()}},e)}))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:i.Lf.now(),endMs:null}}},{key:"endTimer",value:function(e){return Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=i.Lf.now(),e)}},{key:"getQueryTime",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){var n;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(i.he)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e).complexTensorInfos;return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,i=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vx;return Object(i.he)().getBool("WEBGL_CPU_FORWARD")&&e.every(function(e){return null==t.texData.get(e.dataId).texture&&i.Lf.sizeFromShape(e.shape)<n})}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){i.Ed.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return fx(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new px(e.shape,t),a=this.compileAndRun(r,[e],n);return Object(i.ge)().makeTensorFromTensorInfo(a)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=Cb(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(Object(i.he)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,tx,e.dtype);var n=new Zb(e.shape,tx),r=this.compileAndRun(n,[e]);return Object(i.ge)().makeTensorFromTensorInfo(r)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&i.Lf.isString(n[0])){var a=n.map(function(e){return i.Lf.encodeString(e)});r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){return Object(i.ge)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}},{key:"unpackTensor",value:function(e){var t=new hx(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new qb(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[YA(e.shape)].concat(Object(Kn.a)($A(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[YA(t)].concat(Object(Kn.a)($A(t))),i=new Kb(a,n),o=[n],s=this.runWebGLProgram(i,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,a=n.shape,o=n.dtype;if(null!=t){var s=i.Lf.sizeFromShape(a),u=t[0]*t[1]*4;i.Lf.assert(s<=u,function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."})}var c,l=ZA(a);c=r?new My(l):new jy(l);var d=[null!=t?t:IA(l)];return{dtype:o,shape:a,dataId:this.runWebGLProgram(c,[{shape:l,dtype:o,dataId:e}],o,d,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,u=this.makeTensorInfo(e.outputShape,n),c=this.texData.get(u.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===_A.DENSE){var l=null!=s?s:IA(e.outputShape);c.texShape=l.map(function(e){return 2*e})}if(null!=e.outTexUsage&&(c.usage=e.outTexUsage),0===i.Lf.sizeFromShape(u.shape))return c.values=i.Lf.getTypedArrayFromDType(u.dtype,0),u;var d=[],p=t.map(function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&i.Lf.sizeFromShape(t.shape)<=Object(i.he)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(a.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),d.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!ey(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=a.packedReshape(t,o),d.push(t),n=a.texData.get(t.dataId),r.shape=o}return{shape:t.shape,texData:n,isUniform:!1}});this.uploadToGPU(u.dataId);var h,f={shape:u.shape,texData:c,isUniform:!1},m=function(e,t,n){var r="";t.concat(n).forEach(function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var o=t.texData.texShape,s=ky(e.packedInputs,t.shape,o),u=s.useSqueezeShape,c=s.uniformShape,l=s.keptDims,d="",p="",h="";if(1===c.length&&e.packedInputs){var f=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];d="".concat(f[0]>1,"_").concat(f[1]>1)}else if(2!==c.length||e.packedInputs){if(c.length>2&&!e.packedInputs){var m=i.Lf.computeStrides(c);h="".concat(m[0]===o[1],"_").concat(m[m.length-1]===o[1])}}else p="".concat(c[0]>1,"_").concat(c[1]>1);var v=t.shape.length,g=2===c.length&&i.Lf.arraysEqual(t.shape,o),A=1===i.Lf.sizeFromShape(t.shape),y=i.Ed.getBroadcastDims(t.shape,n.shape),b=!e.packedInputs&&v===n.shape.length&&i.Lf.arraysEqual(o,n.texData.texShape),x=e.packedInputs||c.length>2?"":"".concat(o[0]>1,"_").concat(o[1]>1);r+="".concat(v,"_").concat(b,"_").concat(u?l:"","_").concat(c.length,"_").concat(A,"_").concat(y,"_").concat(g,"_").concat(d,"_").concat(p,"_").concat(h,"_").concat(x,"_").concat(a)}else{var w=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(w,"_").concat(a)}});var a=e.userCode,o=e.constructor.name;return o+="_"+r+"_"+a+"".concat(Object(i.he)().getNumber("WEBGL_VERSION"))}(e,p,f),v=this.getAndSaveBinary(m,function(){return Sy(a.gpgpu,e,p,f)}),g=null!=this.activeTimers;g&&(h=this.startTimer()),Object(i.he)().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,a){t.program.enableShapeUniforms||(Ty(t.inShapeInfos,n),Ty([t.outShapeInfo],[r]));var o=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,s[0],s[1]):e.setOutputMatrixTexture(o.texture,s[0],s[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===Object(i.he)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(var u=0;u<n.length;++u){var c=n[u],l=t.variablesLocations[u],d=l.uniform,p=l.offset,h=l.shape,f=l.texShape;if(h){var m=ky(t.program.packedInputs,c.shape,c.texData.texShape).uniformShape;switch(m.length){case 1:e.gl.uniform1iv(h,new Int32Array(m));break;case 2:e.gl.uniform2iv(h,new Int32Array(m));break;case 3:e.gl.uniform3iv(h,new Int32Array(m));break;case 4:e.gl.uniform4iv(h,new Int32Array(m))}}if(f&&e.gl.uniform2i(f,c.texData.texShape[0],c.texData.texShape[1]),null!=d)if(c.isUniform)if(i.Lf.sizeFromShape(c.shape)<2)e.gl.uniform1f(d,c.uniformValues[0]);else{var v=c.uniformValues;v instanceof Float32Array||(v=new Float32Array(v)),e.gl.uniform1fv(d,v)}else null!=c.texData.slice&&null!=p&&e.gl.uniform1i(p,c.texData.slice.flatOffset),e.setInputMatrixTexture(c.texData.texture.texture,d,u)}var g=t.outShapeLocation;if(g)switch(r.shape.length){case 1:e.gl.uniform1iv(g,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(g,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(g,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(g,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var A=i.Lf.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(A));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(A));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(A))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a)for(var y=0;y<t.program.customUniforms.length;++y){var b=t.program.customUniforms[y],x=t.customUniformLocations[y],w=a[y];if("float"===b.type)e.gl.uniform1fv(x,w);else if("vec2"===b.type)e.gl.uniform2fv(x,w);else if("vec3"===b.type)e.gl.uniform3fv(x,w);else if("vec4"===b.type)e.gl.uniform4fv(x,w);else if("int"===b.type)e.gl.uniform1iv(x,w);else if("ivec2"===b.type)e.gl.uniform2iv(x,w);else if("ivec3"===b.type)e.gl.uniform3iv(x,w);else{if("ivec4"!==b.type)throw Error("uniform type ".concat(b.type," is not supported yet."));e.gl.uniform4iv(x,w)}}e.executeProgram()}(this.gpgpu,v,p,f,r),d.forEach(function(e){return a.disposeIntermediateTensorInfo(e)}),g&&(h=this.endTimer(h),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(h)}));var A=Object(i.he)().get("WEBGL_FLUSH_THRESHOLD");if(A>0){var y=i.Lf.now();y-this.lastGlFlushTime>A&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=y)}if(!Object(i.he)().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&!1===o){var b=this.unpackTensor(u);return this.disposeIntermediateTensorInfo(u),b}return u}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return n=n||t[0].dtype,this.runWebGLProgram(e,t,n,r,a)}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!Object(i.he)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach(function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]});this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Object(i.Ef)(function(){if(!Object(i.he)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=Object(i.he)().getBool("DEBUG");Object(i.he)().set("DEBUG",!1);var n=e.abs(Object(i.ef)(1e-8)).dataSync()[0];if(Object(i.he)().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.values,s=t.texture,u=t.usage,c=t.isPacked;if(null==s){var l,d=null!=this.activeTimers;d&&(l=i.Lf.now());var p=t.texShape;if(null==p&&(p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(i.he)().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=Object(i.he)().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&Object(i.he)().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map(function(t,n){return n>=e.length-2?i.Lf.nearestLargerEven(e[n]):e[n]})).length&&(e=[2,e[0]])),2!==e.length){var a=i.Lf.squeezeShape(e);e=a.newShape}var s=i.Lf.sizeFromShape(e),u=null;e.length<=1&&s<=n?u=[1,s]:2===e.length&&e[0]<=n&&e[1]<=n?u=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?u=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?u=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?u=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(u=[e[0],e[1]*e[2]*e[3]]);var c=null!=u&&Math.max.apply(Math,Object(Kn.a)(u))>r&&Math.min.apply(Math,Object(Kn.a)(u))<=(t?2:1)&&Math.min.apply(Math,Object(Kn.a)(u))>0;if(null==u||c)if(t){var l=YA(e),d=2,p=2;if(e.length){var h=$A(e),f=Object(o.a)(h,2);d=f[0],p=f[1]}s=l*(d/2)*(p/2),u=i.Lf.sizeToSquarishShape(s).map(function(e){return 2*e})}else u=i.Lf.sizeToSquarishShape(s);return u}(n,c),t.texShape=p),null!=a){var h,f=ZA(n),m=p[1],v=p[0],g=a instanceof Uint8Array||a instanceof Uint8ClampedArray;if(c||!g){var A=jA(p[0],p[1]),y=Object(o.a)(A,2);m=y[0],v=y[1]}h=c?new Ly(f,g):new Py(f,g);var b=g?[v,m]:p,x=this.makeTensorInfo(b,r),w=this.texData.get(x.dataId);w.usage=g?kA.PIXELS:kA.UPLOAD,w.texShape=b,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),m,v,a);var _=[[v,m]],k=this.runWebGLProgram(h,[x],r,_,!0),O=this.texData.get(k.dataId);t.texShape=O.texShape,t.isPacked=O.isPacked,t.usage=O.usage,Object(i.he)().get("ENGINE_COMPILE_ONLY")?this.disposeData(k.dataId):(t.texture=O.texture,t.values=null,this.texData.delete(k.dataId)),this.disposeIntermediateTensorInfo(x),d&&(this.uploadWaitMs+=i.Lf.now()-l)}else{var E=this.acquireTexture(p,u,r,c);t.texture=E}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*i.Lf.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=t[e],r=Object(o.a)(n,2)[1];this.checkCompletion_(r)}}},{key:"checkCompileCompletionAsync",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(){var t,n,r,a,i,s,u,c,l,d=this;return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.gpgpu.parallelCompilationExtension){e.next=6;break}for(n=0,r=Object.entries(this.binaryCache);n<r.length;n++)a=r[n],i=Object(o.a)(a,2),s=i[1],t.push(this.checkCompletionAsync_(s));return e.abrupt("return",Promise.all(t));case 6:for(u=function(){var e=l[c],n=Object(o.a)(e,2)[1],r=new Promise(function(e){try{d.checkCompletion_(n),e(!0)}catch(t){throw t}});t.push(r)},c=0,l=Object.entries(this.binaryCache);c<l.length;c++)u();return e.abrupt("return",Promise.all(t));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"checkCompletionAsync_",value:function(){var e=Object(Oo.a)(ko.a.mark(function e(t){return ko.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)){e.next=4;break}return e.abrupt("return",this.checkCompletion_(t));case 4:return e.next=6,Object(i.Oe)();case 6:return e.abrupt("return",this.checkCompletionAsync_(t));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw UA(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){for(var e=0,t=Object.values(this.binaryCache);e<t.length;e++){var n=t[e];this.gpgpu.buildVao(n.webGLProgram);var r=Cy(this.gpgpu,n.program,n.webGLProgram),a=r.variablesLocations,i=r.customUniformLocations,o=r.infLoc,s=r.nanLoc,u=r.outShapeLocation,c=r.outShapeStridesLocation,l=r.outTexShapeLocation;n.variablesLocations=a,n.customUniformLocations=i,n.infLoc=o,n.nanLoc=s,n.outShapeLocation=u,n.outShapeStridesLocation=c,n.outTexShapeLocation=l}}},{key:"createTensorFromGPUData",value:function(e,t,n){e.channels=e.channels||"RGBA";var r=e.texture,a=e.height,o=e.width,s=e.channels,u=Object(i.ge)().backend;if(!u.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");var c=u.writeTexture(r,t,n,a,o,s);return Object(i.ge)().makeTensorFromDataId(c,t,n,u)}}]),t}(i.Ab);Ax.nextDataId=0;i.be.isBrowser()&&Object(i.Ze)("webgl",function(){return new Ax},2);var yx=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["A","B"],this.outputShape=i.Ed.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=Iy(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")},bx="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n",xx=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(Jr.a)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i.Ed.assertAndGetBroadcastShape(n,r);var o=this.outputShape.length;this.enableShapeUniforms=Iy(o);var s="";if(a)if(0===o||1===i.Lf.sizeFromShape(this.outputShape))s="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var u=_y(o);if(s="\n          ".concat(u," coords = getOutputCoords();\n        "),1===o)this.enableShapeUniforms?s+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":s+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var c=Hb("coords",o);this.enableShapeUniforms?s+="\n            bool nextRowOutOfBounds =\n              (".concat(c[o-2]," + 1) >= outShape[").concat(o," - 2];\n            bool nextColOutOfBounds =\n              (").concat(c[o-1]," + 1) >= outShape[").concat(o," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):s+="\n            bool nextRowOutOfBounds =\n              (".concat(c[o-2]," + 1) >= ").concat(this.outputShape[o-2],";\n            bool nextColOutOfBounds =\n              (").concat(c[o-1]," + 1) >= ").concat(this.outputShape[o-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(s,"\n\n        setOutput(result);\n      }\n    ")};function wx(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var _x={kernelName:i.vb,backendName:"webgl",kernelFunc:wx};function kx(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),s=wx({inputs:{x:r},backend:n}),u=wx({inputs:{x:a},backend:n});return o.complexTensorInfos={real:s,imag:u},i}var Ox={kernelName:i.A,backendName:"webgl",kernelFunc:kx},Ex="return (a < 0.) ? b * a : a;",Sx="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var Cx={kernelName:i.Db,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha,s=n.makeTensorInfo([],"float32",i.Lf.createScalarValue(o,"float32")),u=Object(i.he)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xx(Sx,a.shape,s.shape):new yx(Ex,a.shape,s.shape),c=n.runWebGLProgram(u,[a,s],"float32");return n.disposeIntermediateTensorInfo(s),c}},Tx="return (a < 0.) ? b * a : a;",Ix="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var jx={kernelName:i.lc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,o=Object(i.he)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xx(Ix,r.shape,a.shape):new yx(Tx,r.shape,a.shape);return n.runWebGLProgram(o,[r,a],"float32")}};function Mx(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,a=e.dtype;return function(e){var o,s=e.inputs,u=e.backend,c=s.x,l=u,d=a||c.dtype;if(l.shouldExecuteOnCPU([c])&&null!=r){var p=l.texData.get(c.dataId),h=r(p.values,d);return l.makeTensorInfo(c.shape,d,h)}return o=Object(i.he)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new px(c.shape,n):new Zb(c.shape,t),l.runWebGLProgram(o,[c],d)}}function Nx(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,a=void 0!==r&&r,s=e.supportsComplex,u=void 0!==s&&s,c=e.cpuKernelImpl,l=e.dtype;return function(e){var r=e.inputs,s=e.backend,d=r.a,p=r.b,h=s;if(u&&"complex64"===d.dtype){var f=h.texData.get(d.dataId),m=h.texData.get(p.dataId),v=[[f.complexTensorInfos.real,m.complexTensorInfos.real],[f.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(function(e){var n=Object(o.a)(e,2),r=n[0],a=n[1],s={dataId:r.dataId,dtype:r.dtype,shape:d.shape},u={dataId:a.dataId,dtype:a.dtype,shape:p.shape},c=new yx(t,d.shape,p.shape);return h.runWebGLProgram(c,[s,u],Object(i.Kf)(r.dtype,a.dtype))}),g=Object(o.a)(v,2),A=g[0],y=g[1],b=kx({inputs:{real:A,imag:y},backend:h});return h.disposeIntermediateTensorInfo(A),h.disposeIntermediateTensorInfo(y),b}var x,w=l||Object(i.Kf)(d.dtype,p.dtype);if(("string"===d.dtype||"string"===p.dtype||h.shouldExecuteOnCPU([d,p]))&&null!=c){var _=h.texData.get(d.dataId).values,k=h.texData.get(p.dataId).values,O="string"===d.dtype?i.Ed.fromUint8ToStringArray(_):_,E="string"===d.dtype?i.Ed.fromUint8ToStringArray(k):k,S=c(d.shape,p.shape,O,E,w),C=Object(o.a)(S,2),T=C[0],I=C[1],j=h.makeTensorInfo(I,w);return h.texData.get(j.dataId).values=T,j}return x=Object(i.he)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new xx(n,d.shape,p.shape,a):new yx(t,d.shape,p.shape),h.runWebGLProgram(x,[d,p],w)}}function Dx(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?sx:ex;if("relu"===e)return t?cx:rx;if("elu"===e)return t?ux:nx;if("relu6"===e)return t?lx:ax;if("prelu"===e)return t?Ix:Tx;if("leakyrelu"===e)return t?Sx:Ex;if("sigmoid"===e)return t?dx:ox;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var Rx=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Object(Jr.a)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Iy(this.outputShape.length);var l=a?t[1]:t[2],d=Math.ceil(l/2),p=a?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",f=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],v="",g="";s&&(v=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),g="result = activation(result);");var A=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");var y="rc.x",b="rc.x";t[0]<n[0]?y="imod(rc.x, ".concat(t[0],")"):n[0]<t[0]&&(b="imod(rc.x, ".concat(n[0],")")),this.userCode="\n      ".concat(v,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ").concat(y,";\n        int batchB = ").concat(b,";\n        for (int i = 0; i < ").concat(d,"; i++) {\n          vec4 a = getMatrixA(batchA, ").concat(p,");\n          vec4 b = getMatrixB(batchB, ").concat(h,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(f[0]," * ").concat(m[0],");\n          result += (").concat(f[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(A,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")},Px={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},Lx=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=i.Ed.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")},Fx="return a * b;";function Bx(e){var t,n=e.inputs,r=e.backend,a=n.a,s=n.b,u=i.Ed.upcastType(a.dtype,s.dtype);if("complex64"===a.dtype){var c=r.texData.get(a.dataId),l=r.texData.get(s.dataId),d=new Lx(Px.REAL,a.shape,s.shape),p=new Lx(Px.IMAG,a.shape,s.shape),h=[{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:a.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],f=r.runWebGLProgram(d,h,"float32"),m=r.runWebGLProgram(p,h,"float32"),v=kx({inputs:{real:f,imag:m},backend:r});return r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(m),v}if(r.shouldExecuteOnCPU([a,s])){var g=r.texData.get(a.dataId),A=r.texData.get(s.dataId),y=gb(a.shape,s.shape,g.values,A.values,u),b=Object(o.a)(y,2),x=b[0],w=b[1],_=r.makeTensorInfo(w,u);return r.texData.get(_.dataId).values=x,_}return t=Object(i.he)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xx(Fx,a.shape,s.shape):new yx(Fx,a.shape,s.shape),r.runWebGLProgram(t,[a,s],u)}var zx={kernelName:i.Zb,backendName:"webgl",kernelFunc:Bx};function Ux(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,s=n,u=i.Lf.sizeFromShape(a.shape),c=i.Lf.inferFromImplicitShape(o,u),l=i.Lf.sizeFromShape(c);i.Lf.assert(u===l,function(){return"The new shape (".concat(c,") has ").concat(l," elements and the old ")+"shape (".concat(a.shape,") has ").concat(u," elements. The new shape and old ")+"shape must have the same number of elements."});var d=s.texData.get(a.dataId);return!d.isPacked||ey(a.shape,c)||null!==d.texture&&ey(d.shape,c)?(s.incRef(a.dataId),{dataId:a.dataId,shape:c,dtype:a.dtype}):function(e,t,n){var r=[YA(e.shape)].concat(Object(Kn.a)($A(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[YA(t)].concat(Object(Kn.a)($A(t))),o=new Kb(i,r),s=[r],u=n.runWebGLProgram(o,[a],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(a,c,s)}var Vx={kernelName:i.wc,backendName:"webgl",kernelFunc:Ux},Wx=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,o=t.inSize,s=t.outSize;this.outputShape=[a,s];var u=4*Math.floor(r/4),c=r%4,l="sumValue += dot(values, ones);";if(null!=n){var d=1/n;l="sumValue += dot(values * ".concat(i.Lf.isInt(d)?d.toPrecision(2):d,", ones);")}var p="";o%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")},Gx=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");var l=4*Math.floor(r/4),d=r%4,p="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(u,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(u,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),h="vec4";"all"===n?(s="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===n&&(s="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var f="";i%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(p,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===d,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(2===d,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(3===d,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(p,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")};function Hx(e,t,n,r){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=i.Ed.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),o=e,s=0;s<a.length;s++){var u,c=a[s],l=c.inSize,d=c.windowSize,p=c.outSize,h=void 0;h="mean"===n?0===s?new Wx({windowSize:d,inSize:l,batchSize:e.shape[0],outSize:p},l):new Wx({windowSize:d,inSize:l,batchSize:e.shape[0],outSize:p}):new Gx({windowSize:d,inSize:l,batchSize:e.shape[0],outSize:p},n),u=o,o=r.runWebGLProgram(h,[o],t),u.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(u)}return o}var qx=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var i=_y(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(i," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")};var Kx=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var i=_y(this.rank),o=Gb("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=o[u];var c="vec2(".concat(s.slice(-2).join(),")"),l="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),d="getChannel(getA(".concat(s.join(),"), ").concat(c,")");this.userCode="\n    void main() {\n      ".concat(i," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(d,";\n      if(").concat(l,") {\n        result[1] = ").concat(d,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(d,";\n        if(").concat(l,") {\n          result[3] = ").concat(d,";\n        }\n      }\n      setOutput(result);\n    }\n    ")};function Xx(e,t,n){var r=Object(i.he)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Kx(e.shape,t):new qx(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function Qx(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var a=t,s=e.shape.length,u=i.Lf.parseAxisParam(a,e.shape),c=u,l=i.Ed.getAxesPermutation(c,s),d=null!=l,p=e;d&&(p=Xx(e,l,r),c=i.Ed.getInnerMostAxes(c.length,s)),i.Ed.assertAxesAreInnerMostDims("sum",c,s);var h=i.Ed.computeOutAndReduceShapes(p.shape,c),f=Object(o.a)(h,2),m=f[0],v=f[1],g=m;n&&(g=i.Ed.expandShapeToKeepDim(m,u));var A=i.Lf.sizeFromShape(v),y=Ux({inputs:{x:p},attrs:{shape:[i.Lf.sizeFromShape(e.shape)/A,A]},backend:r}),b=Hx(y,Object(i.yf)(e.dtype),"sum",r),x=Ux({inputs:{x:b},attrs:{shape:g},backend:r});return r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(b),d&&r.disposeIntermediateTensorInfo(p),x}(t.x,r.axis,r.keepDims,n)}var Yx={kernelName:i.hd,backendName:"webgl",kernelFunc:Qx};function $x(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.perm,s=r,u=i.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=i.shape[o[l]];if(s.shouldExecuteOnCPU([i])){var d=s.texData.get(i.dataId).values,p=Vb(d,i.shape,i.dtype,o,c);t=s.makeTensorInfo(c,i.dtype),s.texData.get(t.dataId).values=p}else t=Xx(i,o,s);return t}var Zx={kernelName:i.qd,backendName:"webgl",kernelFunc:$x},Jx=1e3;function ew(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,o=e.backend,s=e.bias,u=void 0===s?null:s,c=e.preluActivationWeights,l=void 0===c?null:c,d=e.leakyreluAlpha,p=void 0===d?0:d,h=e.activation,f=void 0===h?null:h,m=t.shape.length,v=n.shape.length,g=r?t.shape[m-2]:t.shape[m-1],A=a?n.shape[v-1]:n.shape[v-2],y=r?t.shape[m-1]:t.shape[m-2],b=a?n.shape[v-2]:n.shape[v-1],x=t.shape.slice(0,-2),w=n.shape.slice(0,-2),_=i.Lf.sizeFromShape(x),k=i.Lf.sizeFromShape(w),O=i.Jd.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([y,b]);i.Lf.assert(g===A,function(){return"Error in matMul: inner shapes (".concat(g,") and (")+"".concat(A,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")});var E,S=r?[_,g,y]:[_,y,g],C=a?[k,b,A]:[k,A,b],T=Ux({inputs:{x:t},backend:o,attrs:{shape:S}}),I=Ux({inputs:{x:n},backend:o,attrs:{shape:C}}),j=[T,I],M=Math.max(_,k),N=r?T.shape[1]:T.shape[2],D=null!=u,R=null!=l,P="leakyrelu"===f,L=null!=f?Dx(f,!0):null;if((1===y||1===b)&&N>Jx&&!1===(D||R||P||null!=L)){var F=T,B=I;r&&(F=$x({inputs:{x:T},backend:o,attrs:{perm:[0,2,1]}}),j.push(F)),a&&(B=$x({inputs:{x:I},backend:o,attrs:{perm:[0,2,1]}}),j.push(B));var z=1===b,U=F;1!==b&&(U=Ux({inputs:{x:F},backend:o,attrs:{shape:[M,N,1]}}),j.push(U));var V=1===b?2:1,W=B;z&&(W=Ux({inputs:{x:B},backend:o,attrs:{shape:[M,1,N]}}),j.push(W));var G=Bx({inputs:{a:U,b:W},backend:o});E=Qx({inputs:{x:G},backend:o,attrs:{axis:V,keepDims:!0}}),j.push(G)}else{var H=Object(i.Kf)(t.dtype,n.dtype),q=new Rx(S,C,[M,y,b],r,a,D,L,R,P),K=[T,I];if(null!=u&&K.push(u),R&&K.push(l),P){var X=o.makeTensorInfo([],"float32",i.Lf.createScalarValue(p,"float32"));K.push(X),j.push(X)}E=o.runWebGLProgram(q,K,H)}var Q=Ux({inputs:{x:E},backend:o,attrs:{shape:O}});j.push(E);for(var Y=0,$=j;Y<$.length;Y++){var Z=$[Y];o.disposeIntermediateTensorInfo(Z)}return Q}var tw={kernelName:i.vd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=t.bias,s=t.preluActivationWeights,u=r.transposeA,c=r.transposeB,l=r.activation;return ew({a:a,b:i,transposeA:u,transposeB:c,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:l})}},nw="return abs(x);";var rw={kernelName:i.a,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var o=r.texData.get(a.dataId),s=Cb(o.values);return r.makeTensorInfo(a.shape,a.dtype,s)}return t=Object(i.he)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new px(a.shape,nw):new Zb(a.shape,nw),r.runWebGLProgram(t,[a],a.dtype)}},aw=Mx({opSnippet:Jb+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),iw={kernelName:i.b,backendName:"webgl",kernelFunc:aw},ow=Mx({opSnippet:Jb+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),sw={kernelName:i.c,backendName:"webgl",kernelFunc:ow},uw="return a + b;",cw=Nx({opSnippet:uw,packedOpSnippet:uw,supportsComplex:!0,cpuKernelImpl:Qy}),lw={kernelName:i.d,backendName:"webgl",kernelFunc:cw},dw=function e(t,n){Object(Jr.a)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map(function(e,t){return"T".concat(t)});var r=[];this.variableNames.forEach(function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))});var a=this.variableNames.map(function(e){return"v".concat(e)}).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")},pw=function e(t,n){Object(Jr.a)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map(function(e,t){return"T".concat(t)});var r=[];this.variableNames.forEach(function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))});var a=this.variableNames.map(function(e){return"v".concat(e)}).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")};var hw={kernelName:i.e,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n;if(1===a.length)return wx({inputs:{x:a[0]},backend:r});if(a.length>Object(i.he)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(a.length/2),s=e({inputs:a.slice(0,o),backend:r}),u=e({inputs:a.slice(o),backend:r});return e({inputs:[s,u],backend:r})}var c=a.map(function(e){return e.dtype}).reduce(function(e,t){return Object(i.Kf)(e,t)}),l=a.map(function(e){return e.shape}),d=Object(i.he)().getBool("WEBGL_PACK")?new pw(a[0].shape,l):new dw(a[0].shape,l);return r.runWebGLProgram(d,a,c)}};var fw={kernelName:i.f,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.axis,u=r.keepDims,c=a.shape.length,l=i.Lf.parseAxisParam(s,a.shape),d=l,p=i.Ed.getAxesPermutation(d,c),h=a;null!=p&&(h=$x({inputs:{x:a},backend:n,attrs:{perm:p}}),d=i.Ed.getInnerMostAxes(d.length,c)),i.Ed.assertAxesAreInnerMostDims("all",d,c);var f,m=i.Ed.computeOutAndReduceShapes(h.shape,d),v=Object(o.a)(m,2),g=v[0],A=v[1],y=Ux({inputs:{x:h},backend:n,attrs:{shape:[-1,i.Lf.sizeFromShape(A)]}}),b=Hx(y,y.dtype,"all",n);return f=Ux(u?{inputs:{x:b},backend:n,attrs:{shape:i.Ed.expandShapeToKeepDim(g,l)}}:{inputs:{x:b},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),null!=p&&n.disposeIntermediateTensorInfo(h),f}};var mw={kernelName:i.g,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.axis,u=r.keepDims,c=a.shape.length,l=i.Lf.parseAxisParam(s,a.shape),d=l,p=i.Ed.getAxesPermutation(d,c),h=a;null!=p&&(h=$x({inputs:{x:a},backend:n,attrs:{perm:p}}),d=i.Ed.getInnerMostAxes(d.length,c)),i.Ed.assertAxesAreInnerMostDims("any",d,c);var f,m=i.Ed.computeOutAndReduceShapes(h.shape,d),v=Object(o.a)(m,2),g=v[0],A=v[1],y=Ux({inputs:{x:h},backend:n,attrs:{shape:[-1,i.Lf.sizeFromShape(A)]}}),b=Hx(y,y.dtype,"any",n);return f=Ux(u?{inputs:{x:b},backend:n,attrs:{shape:i.Ed.expandShapeToKeepDim(g,l)}}:{inputs:{x:b},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),null!=p&&n.disposeIntermediateTensorInfo(h),f}},vw=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["A"];var a=t.windowSize,i=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(u,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")},gw=function e(t,n,r,a){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,i.Lf.assert(t.length>2,function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")});var o=t[t.length-1],s=Math.ceil(o/n);this.outputShape=t.slice(0,-1),s>1&&this.outputShape.push(s),a||this.variableNames.push("bestIndicesA");var u,c,l=this.outputShape,d=l.length,p=_y(d),h=Hb("coords",d);if(1===s){var f=_y(c=d+1);u="\n        ".concat(f," sourceLocR = ").concat(f,"(").concat(h.join(),", 0);\n        ++").concat(h[d-1],";\n        ").concat(f," sourceLocG = ").concat(f,"(").concat(h.join(),", 0);\n        ++").concat(h[d-2],";\n        ").concat(f," sourceLocA = ").concat(f,"(").concat(h.join(),", 0);\n        --").concat(h[d-1],";\n        ").concat(f," sourceLocB = ").concat(f,"(").concat(h.join(),", 0);\n        --").concat(h[d-2],";")}else c=d,u="\n        ".concat(p," sourceLocR = coords;\n        ++").concat(h[d-1],";\n        ").concat(p," sourceLocG = coords;\n        ++").concat(h[d-2],";\n        ").concat(p," sourceLocA = coords;\n        --").concat(h[d-1],";\n        ").concat(p," sourceLocB = coords;\n        --").concat(h[d-2],";");var m=["x","y","z","w","u","v"].slice(0,c),v="."+m[c-1],g=m.map(function(e){return"int "+e}),A=Hb("sourceLocR",c-1).concat("inIdx.r"),y=Hb("sourceLocG",c-1).concat("inIdx.g"),b=Hb("sourceLocB",c-1).concat("inIdx.b"),x=Hb("sourceLocA",c-1).concat("inIdx.a"),w="max"===r?"greaterThan":"lessThan",_=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(A.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),")));"),k="vec4(\n            getAChannel(".concat(A.join(),"),\n            hasNextCol ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(b.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(x.join(),") : 0.)"),O=a?"":"\n      float getBestIndicesAChannel(".concat(g.join(),") {\n        return getChannel(getBestIndicesA(").concat(m.join(),"),\n                                          vec2(").concat(m.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(g.join(),") {\n        return getChannel(getA(").concat(m.join(),"),\n                               vec2(").concat(m.slice(-2).join(),"));\n      }\n      ").concat(O,"\n      void main() {\n        ").concat(p," coords = getOutputCoords();\n        bool hasNextCol = ").concat(h[d-1]," < ").concat(l[d-1]-1,";\n        bool hasNextRow = ").concat(h[d-2]," < ").concat(l[d-2]-1,";\n        ").concat(u,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(v,", sourceLocG").concat(v,",\n          sourceLocB").concat(v,", sourceLocA").concat(v,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(k,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(_,"\n          vec4 candidate = ").concat(k,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(w,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")};function Aw(e,t,n,r){var a=[n];if(i.Ed.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!Object(i.he)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var s=[],u=e.texData.get(t.dataId),c=t;null!==u&&u.isPacked&&(c=e.unpackTensor(t),s.push(c));var l=i.Ed.computeOutAndReduceShapes(c.shape,a),d=Object(o.a)(l,2),p=d[0],h=d[1],f=i.Lf.sizeFromShape(h),m=Ux({inputs:{x:c},backend:e,attrs:{shape:[-1,f]}});s.push(m);var v=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n.shape[0],s=n.shape[1];null!=a&&(o=a.shape[0],s=a.shape[1]);var u=i.Ed.computeOptimalWindowSize(s),c={windowSize:u,inSize:s,batchSize:o,outSize:Math.ceil(s/u)},l=new vw(c,r,null==a),d=[n];null!=a&&d.push(a);var p=t.runWebGLProgram(l,d,"int32");if(1===p.shape[1])return p;var h=e(t,n,r,p);return t.disposeIntermediateTensorInfo(p),h}(e,m,r);s.push(v);var g=Ux({inputs:{x:v},backend:e,attrs:{shape:p}});return s.forEach(function(t){return e.disposeIntermediateTensorInfo(t)}),g}return function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=null!=a?a.shape:n.shape,s=o[o.length-1],u=i.Ed.computeOptimalWindowSize(s),c=new gw(o,u,r,null==a),l=null==a?[n]:[n,a],d=t.runWebGLProgram(c,l,"int32");if(d.shape.length===n.shape.length){var p=e(t,n,r,d);return t.disposeIntermediateTensorInfo(d),p}return d}(e,t,r)}var yw={kernelName:i.h,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=i.Lf.parseAxisParam(o,a.shape),u=i.Ed.getAxesPermutation(s,a.shape.length),c=a,l=[];null!=u&&(c=$x({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(c),s=i.Ed.getInnerMostAxes(s.length,c.shape.length)),i.Ed.assertAxesAreInnerMostDims("argMax",[s[0]],c.shape.length);var d=Aw(n,c,s[0],"max");return l.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),d}};var bw={kernelName:i.i,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=i.Lf.parseAxisParam(o,a.shape),u=i.Ed.getAxesPermutation(s,a.shape.length),c=a,l=[];null!=u&&(c=$x({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(c),s=i.Ed.getInnerMostAxes(s.length,c.shape.length)),i.Ed.assertAxesAreInnerMostDims("argMin",[s[0]],c.shape.length);var d=Aw(n,c,s[0],"min");return l.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),d}},xw=Mx({opSnippet:Jb+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),ww={kernelName:i.j,backendName:"webgl",kernelFunc:xw},_w=Mx({opSnippet:Jb+"return log(x + sqrt(x * x + 1.0));"}),kw={kernelName:i.k,backendName:"webgl",kernelFunc:_w},Ow=Mx({opSnippet:Jb+"\n  return atan(x);\n"}),Ew={kernelName:i.l,backendName:"webgl",kernelFunc:Ow},Sw=Nx({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n"}),Cw={kernelName:i.m,backendName:"webgl",kernelFunc:Sw},Tw=Mx({opSnippet:Jb+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),Iw={kernelName:i.n,backendName:"webgl",kernelFunc:Tw},jw=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(Jr.a)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,h=t.padInfo.top,f=t.padInfo.left;this.outputShape=t.outShape;var m="avg"===n,v="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),g="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),A="0.0";if(m||(A="-1.0 / 1e-20"),r){this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n        const ivec2 pads = ivec2(").concat(h,", ").concat(f,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(">="," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?i?v:g:"wR * ".concat(p," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var y="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(y="avgValue / max(count, 1.0)");var b=4*Math.floor(o/4),x=o%4,w="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(h,", ").concat(f,");\n      const float initializationValue = ").concat(A,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(A,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(b,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(w,"\n          }\n\n          int xC = xCCorner + ").concat(b,";\n          if (").concat(1===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(2===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(3===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(w,"\n          }\n        }\n        setOutput(").concat(y,");\n      }\n    ")}},Mw=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(Jr.a)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideDepth,u=t.strideHeight,c=t.strideWidth,l=t.dilationDepth,d=t.dilationHeight,p=t.dilationWidth,h=t.effectiveFilterDepth,f=t.effectiveFilterHeight,m=t.effectiveFilterWidth,v=t.padInfo.front,g=t.padInfo.top,A=t.padInfo.left;this.outputShape=t.outShape;var y="avg"===n,b="0.0";if(y||(b="-1.0 / 1e-20"),r){this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(v,", ").concat(g,", ").concat(A,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(h,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(f,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(p,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(">="," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?i?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(f," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var x="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(x="avgValue / max(count, 1.0)");var w=4*Math.floor(o/4),_=o%4,k="\n      if (".concat(y,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(v,", ").concat(g,", ").concat(A,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(h,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(f,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(p,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(p,", ch)\n              );\n\n              ").concat(k,"\n            }\n\n            int xC = xCCorner + ").concat(w,";\n            if (").concat(1===_,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(k,"\n            } else if (").concat(2===_,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(k,"\n            } else if (").concat(3===_,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                initializationValue\n              );\n\n              ").concat(k,"\n            }\n          }\n        }\n        setOutput(").concat(x,");\n      }\n    ")}};var Nw={kernelName:i.o,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;iy(a,"avgPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.Lf.assert(i.Ed.eitherStridesOrDilationsAreOne(s,1),function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")});var l=i.Ed.computePool2DInfo(a.shape,o,s,1,u,c);if(1===l.filterWidth&&1===l.filterHeight&&i.Lf.arraysEqual(l.inShape,l.outShape))return wx({inputs:{x:a},backend:n});var d=new jw(l,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}};var Dw={kernelName:i.p,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=r.dataFormat,d=i.Ed.computePool3DInfo(a.shape,o,s,[1,1,1],u,c,l),p=new Mw(d,"avg",!1);return n.runWebGLProgram(p,[a],"float32")}},Rw=function e(t){Object(Jr.a)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=u-1-t.padInfo.top,d=c-1-t.padInfo.left,p=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(d,");\n      const float avgMultiplier = float(").concat(p,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Pw=function e(t){Object(Jr.a)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,d=t.effectiveFilterDepth,p=t.effectiveFilterHeight,h=t.effectiveFilterWidth,f=d-1-t.padInfo.front,m=p-1-t.padInfo.top,v=h-1-t.padInfo.left,g=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(f,", ").concat(m,", ").concat(v,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(u,") {\n          float dyD = float(dyDCorner + wD) / ").concat(i,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(p,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var Lw={kernelName:i.q,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode,d=i.Ed.computePool3DInfo(o.shape,s,u,[1,1,1],c,l),p=new Pw(d);return n.runWebGLProgram(p,[a],o.dtype)}};var Fw={kernelName:i.r,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=o;iy([a,o],"avgPoolGrad");var u=r.filterSize,c=r.strides,l=r.pad,d=i.Ed.computePool2DInfo(s.shape,u,c,1,l),p=new Rw(d);return n.runWebGLProgram(p,[a],s.dtype)}};var Bw={kernelName:i.s,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return ew({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},zw=function e(t,n,r,a,o,s){Object(Jr.a)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],i.Ed.assertAndGetBroadcastShape(t,n),i.Ed.assertAndGetBroadcastShape(t,r);var u="0.0";null!=a&&(i.Ed.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var c="1.0";null!=o&&(i.Ed.assertAndGetBroadcastShape(t,o),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(u,";\n        float scale = ").concat(c,";\n        float inv = scale * inversesqrt(variance + float(").concat(s,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")},Uw=function e(t,n,r,a,o,s){Object(Jr.a)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],i.Ed.assertAndGetBroadcastShape(t,n),i.Ed.assertAndGetBroadcastShape(t,r);var u="vec4(0.0)";null!=a&&(i.Ed.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var c="vec4(1.0)";null!=o&&(i.Ed.assertAndGetBroadcastShape(t,o),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(u,";\n        vec4 scale = ").concat(c,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(s,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")},Vw={kernelName:i.nb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.mean,s=t.variance,u=t.offset,c=t.scale;i.Lf.assert(o.shape.length===s.shape.length,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),i.Lf.assert(null==u||o.shape.length===u.shape.length,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),i.Lf.assert(null==c||o.shape.length===c.shape.length,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var l=r.varianceEpsilon;null==l&&(l=.001);var d=[a,o,s],p=null;null!=u&&(p=u.shape,d.push(u));var h=null;null!=c&&(h=c.shape,d.push(c));var f=Object(i.he)().getBool("WEBGL_PACK_NORMALIZATION")?new Uw(a.shape,o.shape,s.shape,p,h,l):new zw(a.shape,o.shape,s.shape,p,h,l);return n.runWebGLProgram(f,d,d[0].dtype)}},Ww=function e(t){Object(Jr.a)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=_y(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return Gw.slice(0,e).map(function(e){return"sourceLoc."+e}).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),i=t.map(function(e,t){return"sourceLoc.".concat(Gw[t]," = start[").concat(t,"] + coords.").concat(Gw[t],";")});r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(i.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(a,"));\n      }\n    ")},Gw=["x","y","z","w","u","v"];var Hw=function e(t){Object(Jr.a)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=_y(this.rank),r=Hb("coords",this.rank),a=Hb("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),o="getChannel(getSource(".concat(a.join(),"), ").concat(i,")"),s="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(a[this.rank-1],";\n      }\n    "),u=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map(function(e,t){return"start[".concat(t,"]")}).join(),");"):t.map(function(e,t){return"".concat(a[t]," = ").concat(r[t]," + start[").concat(t,"];")}).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")};function qw(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.begin,u=r.size,c=i.pf.parseSliceParams(a,s,u),l=Object(o.a)(c,2),d=l[0],p=l[1];if(i.pf.assertParamsValid(a,d,p),0===i.Lf.sizeFromShape(p))return n.makeTensorInfo(p,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){var h=n.texData.get(a.dataId),f=Tb(h.values,d,p,a.shape,a.dtype);return n.makeTensorInfo(p,a.dtype,f)}var m=n.texData.get(a.dataId).isPacked,v=i.pf.isSliceContinous(a.shape,d,p);if(m||!v){var g=Object(i.he)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Hw(p):new Ww(p),A=[d];return n.runWebGLProgram(g,[a],a.dtype,A)}return n.uploadToGPU(a.dataId),function(e,t,n,r){var a=r.texData.get(e.dataId),o=r.makeTensorInfo(n,e.dtype),s=r.texData.get(o.dataId);Object.assign(s,a),s.refCount=1,s.shape=n,s.dtype=e.dtype;var u=i.pf.computeFlatOffset(t,i.Lf.computeStrides(e.shape));a.slice&&(u+=a.slice.flatOffset),s.slice={flatOffset:u,origDataId:a.slice&&a.slice.origDataId||e.dataId};var c=r.dataRefCount.get(s.slice.origDataId)||1;return r.dataRefCount.set(s.slice.origDataId,c+1),o}(a,d,p,n)}var Kw={kernelName:i.Nc,backendName:"webgl",kernelFunc:qw},Xw={kernelName:i.t,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.crops;i.Lf.assert(a.shape.length<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var u=o.reduce(function(e,t){return e*t}),c=i.Ed.getReshaped(a.shape,o,u),l=i.Ed.getPermuted(c.length,o.length),d=i.Ed.getReshapedPermuted(a.shape,o,u),p=i.Ed.getSliceBeginCoords(s,o.length),h=i.Ed.getSliceSize(d,s,o.length),f=[],m=Ux({inputs:{x:a},backend:n,attrs:{shape:c}}),v=$x({inputs:{x:m},backend:n,attrs:{perm:l}}),g=Ux({inputs:{x:v},backend:n,attrs:{shape:d}}),A=qw({inputs:{x:g},backend:n,attrs:{begin:p,size:h}});return f.push(m),f.push(v),f.push(g),f.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),A}};var Qw={kernelName:i.u,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=n.readSync(a.dataId),u=n.readSync(i.dataId),c=Yy(s,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}},Yw="\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",$w="\n  return float(int(a.r) & int(b.r));\n";var Zw={kernelName:i.v,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.a,s=n.b,u=Object(i.he)().getBool("WEBGL_PACK_BINARY_OPERATIONS"),c=Object(i.he)().getNumber("WEBGL_VERSION");if(r.shouldExecuteOnCPU([a,s])||1===c){var l=r.texData.get(a.dataId).values,d=r.texData.get(s.dataId).values,p=Zy(a.shape,s.shape,l,d,a.dtype),h=Object(o.a)(p,2),f=h[0],m=h[1],v=r.makeTensorInfo(m,a.dtype);return r.texData.get(v.dataId).values=f,v}return t=u?new xx(Yw,a.shape,s.shape,!1):new yx($w,a.shape,s.shape),r.runWebGLProgram(t,[a,s],a.dtype)}};var Jw={kernelName:i.w,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.readSync(r.dataId),s=n.readSync(a.dataId),u=i.Ed.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},e_=Nx({opSnippet:"return float(a != b);",cpuKernelImpl:yb,dtype:"bool"}),t_={kernelName:i.ec,backendName:"webgl",kernelFunc:e_};function n_(e){var t=e.inputs,n=e.backend,r=t.input;return wx({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var r_={kernelName:i.rc,backendName:"webgl",kernelFunc:n_},a_="return float(int(x));";var i_={kernelName:i.x,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,s=n.x,u=a.dtype;if("complex64"===u){if("complex64"===s.dtype)return wx({inputs:{x:s},backend:r});var c=i.Qf(s.shape),l=e({inputs:{x:s},backend:r,attrs:{dtype:"float32"}}),d=kx({inputs:{real:l,imag:c},backend:r});return c.dispose(),r.disposeIntermediateTensorInfo(l),d}if("complex64"===s.dtype){var p=n_({inputs:{input:s},backend:r}),h=e({inputs:{x:p},backend:r,attrs:{dtype:u}});return r.disposeIntermediateTensorInfo(p),h}if(!i.Lf.hasEncodingLoss(s.dtype,u)){var f=wx({inputs:{x:s},backend:r});return{dataId:f.dataId,shape:f.shape,dtype:u}}if(r.shouldExecuteOnCPU([s])){var m=r.texData.get(s.dataId).values,v=Jy(m,s.shape,s.dtype,u),g=Object(o.a)(v,3),A=g[0],y=g[1],b=g[2];return r.makeTensorInfo(A,y,b)}if("int32"===u)return function(e,t){var n=new Zb(e.shape,a_),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(s,r);if("bool"===u){var x=r.makeTensorInfo([],"bool",i.Lf.getTypedArrayFromDType("bool",1)),w=e_({inputs:{a:s,b:x},backend:r});return r.disposeIntermediateTensorInfo(x),w}throw new Error("Error in Cast: failed to cast ".concat(s.dtype," to ").concat(u))}},o_="return ceil(x);",s_=Mx({opSnippet:o_,packedOpSnippet:o_,cpuKernelImpl:eb}),u_={kernelName:i.y,backendName:"webgl",kernelFunc:s_},c_=function e(t){Object(Jr.a)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "},l_=function e(t){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "};var d_={kernelName:i.z,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,s=a.clipValueMin,u=a.clipValueMax;t=Object(i.he)().getBool("WEBGL_PACK_CLIP")?new l_(o.shape):new c_(o.shape);var c=[[s],[u]];return r.runWebGLProgram(t,[o],o.dtype,c)}},p_=function e(t){Object(Jr.a)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "};function h_(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var f_={kernelName:i.B,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),i=new p_(r.shape),o=[h_(r,a.complexTensorInfos.real),h_(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}},m_=function e(t){Object(Jr.a)(this,e),this.outputShape=[],this.outputShape=i.Ed.computeOutShape(t,1),this.variableNames=t.map(function(e,t){return"T".concat(t)});var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var a=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],o=1;o<n.length;o++){var s=n[o-1];a.push("else if (yC < ".concat(n[o],") ")+"setOutput(getT".concat(o,"(yR, yC-").concat(s,"));"))}var u=n.length,c=n[n.length-1];a.push("else setOutput(getT".concat(u,"(yR, yC-").concat(c,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(a.join("\n        "),"\n      }\n    ")},v_=function e(t,n){Object(Jr.a)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=i.Ed.computeOutShape(t,n);var r=this.outputShape,a=r.length,o=_y(a),s=Hb("coords",a),u=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map(function(e,t){return"T".concat(t)});var c=new Array(t.length-1);c[0]=t[0][n];for(var l=1;l<c.length;l++)c[l]=c[l-1]+t[l][n];for(var d=u[n],p=u.slice(-2),h=u.join(),f="if (".concat(d," < ").concat(c[0],") {\n        return getChannel(\n            getT0(").concat(h,"), vec2(").concat(p.join(),"));\n        }"),m=1;m<c.length;m++){var v=c[m-1];f+="\n        if (".concat(d," < ").concat(c[m],"  && ").concat(d," >= ").concat(c[m-1],") {\n          return getChannel(\n            getT").concat(m,"(").concat(g_(u,d,v),"),\n            vec2(").concat(g_(p,d,v),"));\n        }")}var g=c.length,A=c[c.length-1];f+="\n        return getChannel(\n          getT".concat(g,"(").concat(g_(u,d,A),"),\n          vec2(").concat(g_(p,d,A),"));"),this.userCode="\n      float getValue(".concat(u.map(function(e){return"int "+e}),") {\n        ").concat(f,"\n      }\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(s,"), 0., 0., 0.);\n\n        ").concat(s[a-1]," = ").concat(s[a-1]," + 1;\n        if (").concat(s[a-1]," < ").concat(r[a-1],") {\n          result.g = getValue(").concat(s,");\n        }\n\n        ").concat(s[a-2]," = ").concat(s[a-2]," + 1;\n        if (").concat(s[a-2]," < ").concat(r[a-2],") {\n          result.a = getValue(").concat(s,");\n        }\n\n        ").concat(s[a-1]," = ").concat(s[a-1]," - 1;\n        if (").concat(s[a-2]," < ").concat(r[a-2]," &&\n            ").concat(s[a-1]," < ").concat(r[a-1],") {\n          result.b = getValue(").concat(s,");\n        }\n        setOutput(result);\n      }\n    ")};function g_(e,t,n){var r=e.indexOf(t);return e.map(function(e,t){return t===r?"".concat(e," - ").concat(n):e}).join()}function A_(e){var t=e.inputs,n=e.backend,r=t.input;return wx({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var y_={kernelName:i.wb,backendName:"webgl",kernelFunc:A_};function b_(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map(function(e){return n_({inputs:{input:e},backend:n})}),o=e.map(function(e){return A_({inputs:{input:e},backend:n})}),s=b_(a,t,n),u=b_(o,t,n),c=kx({inputs:{real:s,imag:u},backend:n});return a.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),o.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}var l=n.shouldExecuteOnCPU(e);if("string"===r&&(l=!0),l){var d=e.map(function(e){var r=i.Lf.sizeFromShape(e.shape.slice(t));return Ux({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})}),p=d.map(function(e){return{vals:n.readSync(e.dataId),shape:e.shape}}),h=i.Ed.computeOutShape(d.map(function(e){return e.shape}),1),f=1===d[0].shape[0],m=tb(p,h,r,f),v=i.Ed.computeOutShape(e.map(function(e){return e.shape}),t),g=n.makeTensorInfo(v,r,m);return d.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),g}var A=e.filter(function(e){return i.Lf.sizeFromShape(e.shape)>0}),y=Object(i.he)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&A[0].shape.length>1;if(1===A.length){var b=y?new Zb(e[0].shape,ix):new px(e[0].shape,ix);return n.runWebGLProgram(b,e,r)}var x=Object(i.he)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(A.length>x){for(var w=[],_=0;_<A.length;_+=x){var k=A.slice(_,_+x);w.push(b_(k,t,n))}for(var O=b_(w,t,n),E=0,S=w;E<S.length;E++){var C=S[E];n.disposeIntermediateTensorInfo(C)}return O}if(y){var T=new v_(A.map(function(e){return e.shape}),t);return n.runWebGLProgram(T,A,r)}var I=function(e,t,n){var r=i.Ed.computeOutShape(e.map(function(e){return e.shape}),t);return{tensors2D:e.map(function(e){return Ux({inputs:{x:e},attrs:{shape:[-1,i.Lf.sizeFromShape(e.shape.slice(t))]},backend:n})}),outShape:r}}(A,t,n),j=I.tensors2D,M=I.outShape,N=new m_(j.map(function(e){return e.shape})),D=n.runWebGLProgram(N,j,r);j.forEach(function(e){return n.disposeIntermediateTensorInfo(e)});var R=Ux({inputs:{x:D},attrs:{shape:M},backend:n});return n.disposeIntermediateTensorInfo(D),R}function x_(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=i.Lf.parseAxisParam(r,t[0].shape)[0],o=t.map(function(e){return e.shape});i.Ed.assertParamsConsistent(o,a);var s=i.Ed.computeOutShape(t.map(function(e){return e.shape}),a);if(0===i.Lf.sizeFromShape(s))return n.makeTensorInfo(s,t[0].dtype,[]);var u=t.filter(function(e){return i.Lf.sizeFromShape(e.shape)>0});return 1===u.length?wx({inputs:{x:u[0]},backend:n}):b_(u,a,n)}var w_={kernelName:i.C,backendName:"webgl",kernelFunc:x_},__=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Jr.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,d=t.dilationWidth,p=t.filterHeight,h=t.filterWidth,f=4*Math.floor(t.inChannels/4),m=t.inChannels%4,v="channelsLast"===t.dataFormat,g=v?1:2,A=v?2:3,y=v?3:1,b="",x="";r&&(b=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),x="result = activation(result);");var w=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(b,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(y,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(A,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(p,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(h,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(f,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(v,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===m,") {\n\n              if (").concat(v,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(f,") *\n                    getW(wR, wC, ").concat(f,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(f,", xR, xC) *\n                    getW(wR, wC, ").concat(f,", d2);\n              }\n\n            } else if (").concat(2===m,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(f,", d2),\n                getW(wR, wC, ").concat(f," + 1, d2)\n              );\n\n              if (").concat(v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(f,"),\n                  getX(batch, xR, xC, ").concat(f," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(f,", xR, xC),\n                  getX(batch, ").concat(f," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===m,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(f,", d2),\n                getW(wR, wC, ").concat(f," + 1, d2),\n                getW(wR, wC, ").concat(f," + 2, d2)\n              );\n\n              if (").concat(v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(f,"),\n                  getX(batch, xR, xC, ").concat(f," + 1),\n                  getX(batch, xR, xC, ").concat(f," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(f,", xR, xC),\n                  getX(batch, ").concat(f," + 1, xR, xC),\n                  getX(batch, ").concat(f," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(w,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")},k_=function e(t){Object(Jr.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,d=t.filterDepth,p=t.filterHeight,h=t.filterWidth,f=4*Math.floor(t.inChannels/4),m=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(i,", ").concat(o,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(u,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(f,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===m,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(f,") *\n                  getW(wF, wR, wC, ").concat(f,", d2);\n              } else if (").concat(2===m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(f,"),\n                  getX(batch, xF, xR, xC, ").concat(f," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(f,", d2),\n                  getW(wF, wR, wC, ").concat(f," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(f,"),\n                  getX(batch, xF, xR, xC, ").concat(f," + 1),\n                  getX(batch, xF, xR, xC, ").concat(f," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(f,", d2),\n                  getW(wF, wR, wC, ").concat(f," + 1, d2),\n                  getW(wF, wR, wC, ").concat(f," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},O_=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Jr.a)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Iy(this.outputShape.length);for(var s=t.padInfo.left,u=t.strideWidth,c=t.dilationWidth,l=t.filterHeight,d=t.filterWidth,p=d,h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;",f=0;f<d;f++)h+="\n           vec4 xTexelC".concat(2*f,";\n           int xTexelC").concat(2*f,"Ready;\n           vec4 xTexelC").concat(2*f+1,";\n           int xTexelC").concat(2*f+1,"Ready;\n           vec4 xC").concat(f,";");h+="\n     for (int r = 0; r < ".concat(l,"; r++) {\n      for (int d1 = 0; d1 < ").concat(t.inChannels,"; d1 += 2) {\n       ");for(var m=0;m<d;m++)h+="\n           xTexelC".concat(2*m," = vec4(0.0);\n           xTexelC").concat(2*m,"Ready = 0;\n           xTexelC").concat(2*m+1," = vec4(0.0);\n           xTexelC").concat(2*m+1,"Ready = 0;\n           xC").concat(m," = vec4(0.0);");h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(var v=0;v<(p+1)/2;v++){var g=2*v;if(h+="\n           xC = xCCorner + ".concat(g*c,";\n           "),1===u){if(g<d&&(s%2===1?(h+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n               "),h+=1===c&&g>0?"\n                 xC".concat(g," = vec4(xTexelC").concat(g-2,".zw, xTexelC").concat(g,".xy);\n                 "):"\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(g," = vec4(previous.zw, xTexelC").concat(g,".xy);\n                   } else {\n                     xC").concat(g," = vec4(0.0, 0.0, xTexelC").concat(g,".xy);\n                   }\n                   ")):h+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 xC").concat(g," = xTexelC").concat(g,";\n                 "),g+1<d)){var A=s%2===0?i.Lf.nearestLargerEven(c):c;c%2===0&&s%2===1||c%2!==0&&s%2!==1?(h+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(A,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                     xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(g+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(g+1,"Ready = 1;\n                   }\n                   "),h+=c>1?"\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(g+1," = vec4(previous.zw, xTexelC").concat(g+1,".xy);\n                     } else {\n                      xC").concat(g+1," = vec4(0.0, 0.0, xTexelC").concat(g+1,".xy);\n                     }\n                     "):"\n                     xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".xy);\n                     ")):h+=1===A?"\n                     xC".concat(g+1," = xTexelC").concat(g,";\n                     "):"\n                     xCOffset = xC + ".concat(A,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                       xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(g+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(g+1,"Ready = 1;\n                     }\n\n                     xC").concat(g+1," = xTexelC").concat(g+1,";\n                     ")}}else g<d&&(s%2===1?(h+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                   xTexelC").concat(g+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(g+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g+1,"Ready = 1;\n                 }\n\n                 xC").concat(g," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n               "),g+1<d&&(h+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(g+1," = vec4(xTexelC").concat(g+1,".xy, final.xy);\n                 "))):(h+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                   xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(g,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(g,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                   xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(g+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(g+1,"Ready = 1;\n                 }\n\n                 xC").concat(g," = vec4(\n                   xTexelC").concat(g,".xy, xTexelC").concat(g+1,".xy);\n               "),g+1<d&&(h+="\n                   xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n                 "))));g<d&&(h+="\n             wTexel = getW(r, ".concat(g,", d1, d2);\n             dotProd += xC").concat(g,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(t.inChannels,") {\n               dotProd += xC").concat(g,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),g+1<d&&(h+="\n               wTexel = getW(r, ".concat(g+1,", d1, d2);\n               dotProd += xC").concat(g+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(t.inChannels,") {\n                 dotProd += xC").concat(g+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";var y="",b="";r&&(y=a?"vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(r,"\n         }"):o?"vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(r,"\n         }"):"vec4 activation(vec4 x) {\n           ".concat(r,"\n         }"),b="result = activation(result);");var x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(y,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(h,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(x,"\n         ").concat(b,"\n         setOutput(result);\n       }\n     ")},E_=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=Iy(this.outputShape.length);for(var r=n.dataFormat,a=sy(),i="channelsLast"===r,o=i?1:2,s=i?2:3,u=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(t[2]," && pos < ").concat(t[1],") {"),c="",l=0;l<=1;l++)for(var d=0;d<=1;d++)c+="\n          blockIndex = rc.z + ".concat(d,";\n          pos = rc.y + ").concat(l,";\n\n          ").concat(u,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(i,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+d,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+d,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(a.output," = result;\n      }\n    ")};function S_(e,t){var n=e.length;return n>=3?[].concat(Object(Kn.a)(e.slice(0,-3)),t?[e[n-3]*e[n-2],e[n-1]]:[e[n-3],e[n-2]*e[n-1]]):!t&&1===n&&e[0]>1?[e[0],1]:null}function C_(e){var t,n=e.x,r=e.filter,a=e.convInfo,o=e.backend,s=e.bias,u=void 0===s?null:s,c=e.preluActivationWeights,l=void 0===c?null:c,d=e.leakyreluAlpha,p=void 0===d?0:d,h=e.activation,f=void 0===h?null:h,m=n.shape,v=o.texData.get(n.dataId),g=a.inChannels,A=m[0]*m[1]*m[2],y=a.outChannels,b="channelsLast"===a.dataFormat,x=[];if(null!=l){var w=S_(l.shape,b);null!=w&&(l=Ux({inputs:{x:l},backend:o,attrs:{shape:w}}),x.push(l))}if(null!=u){var _=S_(u.shape,b);null!=_&&(u=Ux({inputs:{x:u},backend:o,attrs:{shape:_}}),x.push(u))}if(!((1===A||1===y)&&g>Jx)&&v.isPacked&&b&&null!=v.texture&&m[2]%2!==0&&i.Lf.arraysEqual(v.shape.slice(-3),m.slice(-3))){var k=m[0]*m[1]*(m[2]+1),O={dataId:n.dataId,shape:[1,k,a.inChannels],dtype:n.dtype},E=v.shape;v.shape=v.shape.slice(),v.shape[v.shape.length-2]++,i.Lf.assert(ey(v.shape,O.shape),function(){return"packed reshape ".concat(v.shape," to ").concat(O.shape," isn't free")});var S=Ux({inputs:{x:r},backend:o,attrs:{shape:[1,a.inChannels,a.outChannels]}});x.push(S);var C=ew({a:O,b:S,backend:o,transposeA:!1,transposeB:!1,bias:u,activation:f,preluActivationWeights:l,leakyreluAlpha:p}),T=o.texData.get(C.dataId);i.Lf.assert(T.isPacked,function(){return"batchMatMul result is expected to be packed"}),v.shape=E,T.shape=a.outShape,(t=wx({inputs:{x:C},backend:o})).shape=a.outShape,x.push(C)}else{var I=a.outHeight*a.outWidth,j=Ux({inputs:{x:n},backend:o,attrs:{shape:b?[a.batchSize,I,a.inChannels]:[a.batchSize,a.inChannels,I]}}),M=Ux({inputs:{x:r},backend:o,attrs:{shape:[1,a.inChannels,a.outChannels]}}),N=ew({a:b?j:M,b:b?M:j,transposeA:!b,transposeB:!1,backend:o,bias:u,activation:f,preluActivationWeights:l,leakyreluAlpha:p});t=Ux({inputs:{x:N},backend:o,attrs:{shape:a.outShape}}),x.push(j),x.push(M),x.push(N)}for(var D=0,R=x;D<R.length;D++){var P=R[D];o.disposeIntermediateTensorInfo(P)}return t}function T_(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,o=e.bias,s=void 0===o?null:o,u=e.preluActivationWeights,c=void 0===u?null:u,l=e.leakyreluAlpha,d=void 0===l?0:l,p=e.activation,h=void 0===p?null:p,f=r.filterWidth,m=r.filterHeight,v=r.inChannels,g=r.outWidth,A=r.outHeight,y="channelsLast"===r.dataFormat,b=f*m*v,x=A*g,w=[r.batchSize,b,x],_=[];if(null!=c){var k=S_(c.shape,y);null!=k&&(c=Ux({inputs:{x:c},backend:a,attrs:{shape:k}}),_.push(c))}if(null!=s){var O=S_(s.shape,y);null!=O&&(s=Ux({inputs:{x:s},backend:a,attrs:{shape:O}}),_.push(s))}var E=Ux({inputs:{x:n},backend:a,attrs:{shape:[1,b,i.Lf.sizeFromShape(n.shape)/b]}});_.push(E);var S=new E_(w,r),C=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],T=a.runWebGLProgram(S,[t],"float32",C),I=Ux({inputs:{x:T},backend:a,attrs:{shape:w}});_.push(T),_.push(I);var j=null!=s,M=null!=c,N="leakyrelu"===h,D=h?Dx(h,!0):null,R=new Rx(y?I.shape:E.shape,y?E.shape:I.shape,y?[r.batchSize,x,r.outChannels]:[r.batchSize,r.outChannels,x],!0,!1,j,D,M,N),P=y?[I,E]:[E,I];if(s&&P.push(s),M&&P.push(c),N){var L=a.makeTensorInfo([],"float32",i.Lf.createScalarValue(d,"float32"));P.push(L),_.push(L)}var F=a.runWebGLProgram(R,P,"float32"),B=Ux({inputs:{x:F},backend:a,attrs:{shape:r.outShape}});_.push(F);for(var z=0,U=_;z<U.length;z++){var V=U[z];a.disposeIntermediateTensorInfo(V)}return B}var I_={kernelName:i.D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,s=n.filter,u=a.strides,c=a.pad,l=a.dataFormat,d=a.dilations,p=a.dimRoundingMode,h=i.Ed.convertConv2DDataFormat(l),f=i.Ed.computeConv2DInfo(o.shape,s.shape,u,d,c,p,!1,h);if(1!==f.filterHeight||1!==f.filterWidth||1!==f.dilationHeight||1!==f.dilationWidth||1!==f.strideHeight||1!==f.strideWidth||"SAME"!==f.padInfo.type&&"VALID"!==f.padInfo.type)if(f.strideWidth<=2&&"channelsLast"===h&&Object(i.he)().getBool("WEBGL_EXP_CONV")){var m=new O_(f),v=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];t=r.runWebGLProgram(m,[o,s],"float32",v)}else if(Object(i.he)().getBool("WEBGL_CONV_IM2COL"))t=T_({x:o,filter:s,convInfo:f,backend:r});else{var g=new __(f);t=r.runWebGLProgram(g,[o,s],"float32")}else t=C_({x:o,filter:s,convInfo:f,backend:r});var A=Ux({inputs:{x:t},backend:r,attrs:{shape:f.outShape}});return r.disposeIntermediateTensorInfo(t),A}},j_=function e(t){Object(Jr.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              ").concat(o?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);","\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},M_=function e(t){Object(Jr.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,c=o?1:2,l=o?2:3,d=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},N_=function e(t){Object(Jr.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(i,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},D_=function e(t){Object(Jr.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,c=r-1-t.padInfo.top,l=a-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(i,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var R_={kernelName:i.E,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dimRoundingMode,d=r.filterShape,p=i.Ed.convertConv2DDataFormat(c),h=i.Ed.computeConv2DInfo(a.shape,d,s,1,u,l,!1,p),f=new j_(h);return n.runWebGLProgram(f,[a,o],"float32")}},P_=function e(t){Object(Jr.a)(this,e),this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=Iy(this.outputShape.length);var n=t.filterHeight,r=t.filterWidth,a=n-1-t.padInfo.top,i=r-1-t.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(i,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ").concat(t.outWidth,".0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ").concat(t.outWidth,".0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    ")};var L_={kernelName:i.F,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.inputShape,u=r.strides,c=r.pad,l=r.dataFormat,d=r.dimRoundingMode,p=i.Ed.convertConv2DDataFormat(l),h=i.Ed.computeConv2DInfo(s,o.shape,u,1,c,d,!1,p);if(Object(i.he)().getBool("WEBGL_PACK")&&"channelsLast"===p){var f=[[h.strideHeight,h.strideWidth]],m=new P_(h);return n.runWebGLProgram(m,[a,o],"float32",f)}var v=new M_(h);return n.runWebGLProgram(v,[a,o],"float32")}};var F_={kernelName:i.G,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=i.Ed.computeConv3DInfo(a.shape,o.shape,s,c,u),d=new k_(l);return n.runWebGLProgram(d,[a,o],"float32")}};var B_={kernelName:i.H,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.pad,c=r.filterShape,l=i.Ed.computeConv3DInfo(a.shape,c,s,1,u),d=new N_(l);return n.runWebGLProgram(d,[a,o],"float32")}};var z_,U_={kernelName:i.I,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.pad,u=r.strides,c=r.inputShape,l=i.Ed.computeConv3DInfo(c,o.shape,u,1,s),d=new D_(l);return n.runWebGLProgram(d,[a,o],"float32")}},V_=Mx({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n",packedOpSnippet:"\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(bx,"\n  return result;\n")}),W_={kernelName:i.J,backendName:"webgl",kernelFunc:V_},G_=Mx({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),H_={kernelName:i.K,backendName:"webgl",kernelFunc:G_},q_=function e(t,n,r,a,i){Object(Jr.a)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var s=Object(o.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3],p=Object(o.a)(n,1)[0],h=Object(o.a)(r,2),f=h[0],m=h[1];this.outputShape=[p,f,m,d];var v="bilinear"===a?1:0,g="".concat(c-1,".0"),A="".concat(l-1,".0"),y=f>1?["".concat((c-1)/(f-1)),"(y2-y1) * height_ratio","y1*".concat(g," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(g)],b=Object(o.a)(y,3),x=b[0],w=b[1],_=b[2],k=m>1?["".concat((l-1)/(m-1)),"(x2-x1) * width_ratio","x1*".concat(A," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(A)],O=Object(o.a)(k,3),E=O[0],S=O[1],C=O[2];this.userCode="\n      const float height_ratio = float(".concat(x,");\n      const float width_ratio = float(").concat(E,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(u,") {\n          return;\n        }\n\n        float height_scale = ").concat(w,";\n        float width_scale = ").concat(S,";\n\n        float in_y = ").concat(_,";\n        if( in_y < 0.0 || in_y > ").concat(g," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n        float in_x = ").concat(C,";\n        if( in_x < 0.0 || in_x > ").concat(A," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(v," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")},K_={kernelName:i.L,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,c=r.extrapolationValue,l=new q_(a.shape,i.shape,s,u,c);return n.runWebGLProgram(l,[a,i,o],"float32")}};!function(e){e.Prod="*",e.Sum="+"}(z_||(z_={}));var X_=function e(t,n,r,a){Object(Jr.a)(this,e),this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var i=this.outputShape.length,o=this.op===z_.Prod?"1.0":"0.0",s=r?o:"getX(".concat(Q_(i,"coords",this.op),")"),u=this.outputShape[this.outputShape.length-1],c="",l="";r?(c=a?"end != ".concat(u-1):"end != 0",l=a?"end + 1":"end - 1"):(c=a?"end + pow2 < ".concat(u):"end >= pow2",l=a?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(_y(i)," coords = getOutputCoords();\n        int end = ").concat(Y_(i,"coords",this.op),";\n        float val = ").concat(s,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(l,";\n          ").concat(Y_(i,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(Q_(i,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")};function Q_(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function Y_(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function $_(e,t,n,r,a,o){var s=t.shape.length,u=i.Ed.getAxesPermutation([r],s),c=t;null!=u&&(c=$x({inputs:{x:t},backend:n,attrs:{perm:u}}));var l=i.Ed.getInnerMostAxes(1,s)[0];if(l!==s-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(r));for(var d=c.shape[l],p=wx({inputs:{x:c},backend:n}),h=0;h<=Math.ceil(Math.log2(d))-1;h++){var f=new X_(e,c.shape,!1,o),m=[[h]],v=p;p=n.runWebGLProgram(f,[p],p.dtype,m),n.disposeIntermediateTensorInfo(v)}if(a){var g=new X_(e,c.shape,a,o),A=p;p=n.runWebGLProgram(g,[p],p.dtype),n.disposeIntermediateTensorInfo(A)}if(null!=u){var y=$x({inputs:{x:p},backend:n,attrs:{perm:i.Ed.getUndoAxesPermutation(u)}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(c),y}return p}var Z_={kernelName:i.M,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse;return $_(z_.Prod,a,n,i,o,s)}};var J_={kernelName:i.N,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse;return $_(z_.Sum,a,n,i,o,s)}};var ek={kernelName:i.P,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=n.readSync(a.dataId),c=n.readSync(i.dataId),l=Yy(u,c,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}if(2===a.shape.length){var d=n.bufferSync(a),p=n.bufferSync(i),h=$y(d,p,o,s);return n.makeTensorInfo(h.shape,i.dtype,h.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}},tk=function(){function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return Object(ea.a)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var nk={kernelName:i.Q,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,o=r.dataFormat,s=a.shape[0],u=("NHWC"===o?a.shape[1]:a.shape[2])*i,c=("NHWC"===o?a.shape[2]:a.shape[3])*i,l=("NHWC"===o?a.shape[3]:a.shape[1])/(i*i),d=new tk("NHWC"===o?[s,u,c,l]:[s,l,u,c],i,o);return n.runWebGLProgram(d,[a],a.dtype)}},rk=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Jr.a)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Iy(this.outputShape.length);var o=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,c="",l="";r&&(c=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),l="result = activation(result);");var d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")},ak=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Jr.a)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Iy(this.outputShape.length);for(var s=t.outChannels/t.inChannels,u=t.padInfo.left,c=t.strideWidth,l=t.dilationWidth,d=t.filterHeight,p=t.filterWidth,h=p,f="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",m=0;m<p;m++)f+="\n          vec4 xTexelC".concat(2*m,";\n          int xTexelC").concat(2*m,"Ready;\n          vec4 xTexelC").concat(2*m+1,";\n          int xTexelC").concat(2*m+1,"Ready;\n          vec4 xC").concat(m,";");f+="\n    for (int r = 0; r < ".concat(d,"; r++) {\n      ");for(var v=0;v<p;v++)f+="\n          xTexelC".concat(2*v," = vec4(0.0);\n          xTexelC").concat(2*v,"Ready = 0;\n          xTexelC").concat(2*v+1," = vec4(0.0);\n          xTexelC").concat(2*v+1,"Ready = 0;\n          xC").concat(v," = vec4(0.0);");f+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var g=0;g<(h+1)/2;g++){var A=2*g;if(f+="\n          xC = xCCorner + ".concat(A*l,";\n          "),1===c){if(A<p&&(u%2===1?(f+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(A,"Ready == 0) {\n                  xTexelC").concat(A," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(A,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(A,"Ready = 1;\n                }\n              "),f+=1===l&&A>0?"\n                xC".concat(A," = vec4(xTexelC").concat(A-2,".zw, xTexelC").concat(A,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(A," = vec4(previous.zw, xTexelC").concat(A,".xy);\n                  } else {\n                    xC").concat(A," = vec4(0.0, 0.0, xTexelC").concat(A,".xy);\n                  }\n                  ")):f+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(A,"Ready == 0) {\n                  xTexelC").concat(A," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(A,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(A,"Ready = 1;\n                }\n\n                xC").concat(A," = xTexelC").concat(A,";\n                "),A+1<p)){var y=u%2===0?i.Lf.nearestLargerEven(l):l;l%2===0&&u%2===1||l%2!==0&&u%2!==1?(f+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(A+1,"Ready == 0) {\n                    xTexelC").concat(A+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(A+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(A+1,"Ready = 1;\n                  }\n                  "),f+=l>1?"\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(A+1," = vec4(previous.zw, xTexelC").concat(A+1,".xy);\n                    } else {\n                     xC").concat(A+1," = vec4(0.0, 0.0, xTexelC").concat(A+1,".xy);\n                    }\n                    "):"\n                    xC".concat(A+1," = vec4(xTexelC").concat(A,".zw, xTexelC").concat(A+1,".xy);\n                    ")):f+=1===y?"\n                    xC".concat(A+1," = xTexelC").concat(A,";\n                    "):"\n                    xCOffset = xC + ".concat(y,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(A+1,"Ready == 0) {\n                      xTexelC").concat(A+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(A+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(A+1,"Ready = 1;\n                    }\n\n                    xC").concat(A+1," = xTexelC").concat(A+1,";\n                    ")}}else A<p&&(u%2===1?(f+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(A,"Ready == 0) {\n                  xTexelC").concat(A," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(A,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(A,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(A+1,"Ready == 0) {\n                  xTexelC").concat(A+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(A+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(A+1,"Ready = 1;\n                }\n\n                xC").concat(A," = vec4(xTexelC").concat(A,".zw, xTexelC").concat(A+1,".zw);\n              "),A+1<p&&(f+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(A+1," = vec4(xTexelC").concat(A+1,".xy, final.xy);\n                "))):(f+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(A,"Ready == 0) {\n                  xTexelC").concat(A," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(A,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(A,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(A+1,"Ready == 0) {\n                  xTexelC").concat(A+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(A+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(A+1,"Ready = 1;\n                }\n\n                xC").concat(A," = vec4(\n                  xTexelC").concat(A,".xy, xTexelC").concat(A+1,".xy);\n              "),A+1<p&&(f+="\n                  xC".concat(A+1," = vec4(xTexelC").concat(A,".zw, xTexelC").concat(A+1,".zw);\n                "))));A<p&&(f+="\n            wTexel = getW(r, ".concat(A,", d1, q);\n            dotProd += xC").concat(A," * vec4(wTexel.xz, wTexel.xz);\n          "),A+1<p&&(f+="\n              wTexel = getW(r, ".concat(A+1,", d1, q);\n              dotProd += xC").concat(A+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}f+="\n    }\n  ",f+="\n      }\n    ";var b="",x="";r&&(b=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),x="result = activation(result);");var w=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(b,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(f,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(w,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")};var ik={kernelName:i.R,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=r.dimRoundingMode,d=c;null==d&&(d=[1,1]),i.Lf.assert(i.Ed.eitherStridesOrDilationsAreOne(s,d),function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(d,"'")});var p,h=i.Ed.computeConv2DInfo(a.shape,o.shape,s,d,u,l,!0);p=Object(i.he)().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels===1?new ak(h):new rk(h);var f=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return n.runWebGLProgram(p,[a,o],"float32",f)}},ok=function e(t){Object(Jr.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},sk=function e(t){Object(Jr.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(u,"; dm++) {\n              int d2 = d1 * ").concat(u," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var uk={kernelName:i.S,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.dilations,c=r.pad,l=r.dimRoundingMode,d=r.filterShape,p=i.Ed.computeConv2DInfo(a.shape,d,s,u,c,l,!0),h=new ok(p);return n.runWebGLProgram(h,[a,o],"float32")}};var ck={kernelName:i.T,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.strides,u=r.dilations,c=r.pad,l=r.dimRoundingMode,d=r.inputShape,p=i.Ed.computeConv2DInfo(d,o.shape,s,u,c,l,!0),h=new sk(p);return n.runWebGLProgram(h,[a,o],"float32")}},lk=function e(t){Object(Jr.a)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "};var dk={kernelName:i.U,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=[].concat(Object(Kn.a)(r.shape),Object(Kn.a)(r.shape)),o=i.Lf.sizeFromShape(r.shape),s=Ux({inputs:{x:r},backend:n,attrs:{shape:[o]}}),u=new lk(o),c=n.runWebGLProgram(u,[s],s.dtype),l=Ux({inputs:{x:c},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),l}},pk=function e(t){Object(Jr.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,i=t.strideHeight,o=t.strideWidth,s=t.filterHeight,u=t.filterWidth,c=t.dilationHeight,l=t.dilationWidth,d=a.top,p=a.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(i,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(p,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(u,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")};var hk={kernelName:i.V,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,s=n.filter,u=a.strides,c=a.pad,l=a.dilations,d=i.Ed.computeDilation2DInfo(o.shape,s.shape,u,c,"NHWC",l),p=new pk(d),h=Ux({inputs:{x:t=r.runWebGLProgram(p,[o,s],"float32")},backend:r,attrs:{shape:d.outShape}});return r.disposeIntermediateTensorInfo(t),h}};var fk={kernelName:i.Z,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,o=i.Ed.decodeEinsumEquation(r,a.length),s=o.allDims,u=o.summedDims,c=o.idDims;i.Ed.checkEinsumDimSizes(s.length,c,a);for(var l=i.Ed.getEinsumComputePath(u,c),d=l.path,p=l.steps,h=p.length,f=null,m=s.length,v=[],g=0;g<h;++g){var A=!0,y=!1,b=void 0;try{for(var x,w=p[g][Symbol.iterator]();!(A=(x=w.next()).done);A=!0){var _=x.value,k=i.Ed.getEinsumPermutation(m,c[_]),O=k.permutationIndices,E=k.expandDims,S=void 0;i.Ed.isIdentityPermutation(O)?S=a[_]:(S=$x({inputs:{x:a[_]},backend:n,attrs:{perm:O}}),v.push(S));for(var C=S.shape.slice(),T=0;T<E.length;++T)C.splice(E[T],0,1);i.Lf.arraysEqual(S.shape,C)||(S=Ux({inputs:{x:S},backend:n,attrs:{shape:C}}),v.push(S)),null===f?f=S:(f=Bx({inputs:{a:S,b:f},backend:n}),v.push(f))}}catch(N){y=!0,b=N}finally{try{A||null==w.return||w.return()}finally{if(y)throw b}}g<h-1&&(d[g]>=0&&(f=Qx({inputs:{x:f},backend:n,attrs:{axis:d[g]-(s.length-m),keepDims:!1}}),v.push(f)),m--)}for(var I=0,j=v;I<j.length;I++){var M=j[I];M!==f&&n.disposeIntermediateTensorInfo(M)}return f}},mk=Mx({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),vk={kernelName:i.ab,backendName:"webgl",kernelFunc:mk},gk={kernelName:i.bb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y,o=Object(i.he)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xx("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new yx("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(o,[r,a],r.dtype)}},Ak=Nx({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:nb}),yk={kernelName:i.cb,backendName:"webgl",kernelFunc:Ak},bk=Mx({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(i.Ed.ERF_P,";\n  float a1 = ").concat(i.Ed.ERF_A1,";\n  float a2 = ").concat(i.Ed.ERF_A2,";\n  float a3 = ").concat(i.Ed.ERF_A3,";\n  float a4 = ").concat(i.Ed.ERF_A4,";\n  float a5 = ").concat(i.Ed.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),xk={kernelName:i.db,backendName:"webgl",kernelFunc:bk},wk=Mx({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:rb,dtype:"float32"}),_k={kernelName:i.eb,backendName:"webgl",kernelFunc:wk};function kk(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,o=t.input,s=o.shape.length,u=o.shape.slice(),c=a;return a<0&&(i.Lf.assert(-(s+1)<=a,function(){return"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")}),c=s+a+1),u.splice(c,0,1),Ux({inputs:{x:o},backend:r,attrs:{shape:u}})}var Ok={kernelName:i.fb,backendName:"webgl",kernelFunc:kk},Ek="return exp(x) - 1.0;",Sk=Mx({opSnippet:Ek,packedOpSnippet:Ek,cpuKernelImpl:ab}),Ck={kernelName:i.gb,backendName:"webgl",kernelFunc:Sk},Tk=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var i,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(a,".0"):"1.0";if("real"===t)i="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));i="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(i,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")};function Ik(e,t,n){var r=n.texData.get(e.dataId),a=i.Lf.sizeFromShape(e.shape),o=e.shape[e.shape.length-1],s=Ux({inputs:{x:e},backend:n,attrs:{shape:[a/o,o]}}),u=s.shape,c=new Tk("real",u,t),l=new Tk("imag",u,t),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:u},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:u}],p=n.runWebGLProgram(c,d,"float32"),h=n.runWebGLProgram(l,d,"float32"),f=kx({inputs:{real:p,imag:h},backend:n});n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h);var m=Ux({inputs:{x:f},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(f),m}var jk={kernelName:i.hb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Ik(t.input,!1,n)}},Mk=function e(t,n){Object(Jr.a)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "};function Nk(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype;if("string"===(o=o||i.Lf.inferDtype(a))){var s=i.Lf.getArrayFromDType(o,i.Lf.sizeFromShape(r));return s.fill(a),t.makeTensorInfo(r,o,s)}var u=new Mk(r,a),c=[[a]];return t.runWebGLProgram(u,[],o,c)}var Dk,Rk={kernelName:i.ib,backendName:"webgl",kernelFunc:Nk},Pk=function e(t){Object(Jr.a)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")},Lk={kernelName:i.jb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,i=new Pk(r.shape);return a.runWebGLProgram(i,[r],r.dtype)}},Fk="return floor(x);",Bk=Mx({opSnippet:Fk,packedOpSnippet:Fk,cpuKernelImpl:ib}),zk={kernelName:i.kb,backendName:"webgl",kernelFunc:Bk},Uk=Nx({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),Vk={kernelName:i.lb,backendName:"webgl",kernelFunc:Uk},Wk=function e(t){Object(Jr.a)(this,e),this.variableNames=["A"];var n=sy(),r=Object(o.a)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(i,".0, ").concat(a,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")},Gk=function e(t){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=sy(),r=Object(o.a)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(i,".0, ").concat(a,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")},Hk={kernelName:i.mb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,s=r.numChannels,u="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,c="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,l=u?[a.videoWidth,a.videoHeight]:[a.width,a.height],d=Object(o.a)(l,2),p=d[0],h=d[1],f=[h,p],m=[h,p,s];if(c||u){var v=Object(i.he)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=Dk&&v===qk||(qk=v,Dk=document.createElement("canvas").getContext("2d",{willReadFrequently:qk})),Dk.canvas.width=p,Dk.canvas.height=h,Dk.drawImage(a,0,0,p,h),a=Dk.canvas}var g=n.makeTensorInfo(f,"int32");n.texData.get(g.dataId).usage=kA.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(g.dataId),a);var A=Object(i.he)().getBool("WEBGL_PACK")?new Gk(m):new Wk(m),y=n.runWebGLProgram(A,[g],"int32");return n.disposeData(g.dataId),y}},qk=Object(i.he)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");var Kk={kernelName:i.ob,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,s=n.filter,u=n.bias,c=n.preluActivationWeights,l=a.strides,d=a.pad,p=a.dataFormat,h=a.dilations,f=a.dimRoundingMode,m=a.activation,v=a.leakyreluAlpha,g=i.Ed.convertConv2DDataFormat(p),A=i.Ed.computeConv2DInfo(o.shape,s.shape,l,h,d,f,!1,g),y=[],b=null!=u,x=null!=c,w="leakyrelu"===m,_=function(){var e=[o,s],t=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var n=Ux({inputs:{x:e},backend:r,attrs:{shape:[e.shape[0],1,1]}});return y.push(n),n}return e};if(b&&e.push(t(u,p)),x&&e.push(t(c,p)),w){var n=r.makeTensorInfo([],"float32",i.Lf.createScalarValue(v,"float32"));e.push(n),y.push(n)}return e};if(1!==A.filterHeight||1!==A.filterWidth||1!==A.dilationHeight||1!==A.dilationWidth||1!==A.strideHeight||1!==A.strideWidth||"SAME"!==A.padInfo.type&&"VALID"!==A.padInfo.type)if(A.strideWidth<=2&&"channelsLast"===g&&Object(i.he)().getBool("WEBGL_EXP_CONV")){var k=m?Dx(m,!0):null,O=new O_(A,b,k,x,w),E=[[A.padInfo.top,A.padInfo.left],[A.strideHeight,A.strideWidth],[A.dilationHeight,A.dilationWidth],[A.inHeight,A.inWidth]],S=_();t=r.runWebGLProgram(O,S,"float32",E)}else if(Object(i.he)().getBool("WEBGL_CONV_IM2COL"))t=T_({x:o,filter:s,convInfo:A,backend:r,bias:u,activation:m,preluActivationWeights:c,leakyreluAlpha:v});else{var C=m?Dx(m,!1):null,T=new __(A,b,C,x,w),I=_();t=r.runWebGLProgram(T,I,"float32")}else t=C_({x:o,filter:s,convInfo:A,backend:r,bias:u,activation:m,preluActivationWeights:c,leakyreluAlpha:v});var j=Ux({inputs:{x:t},backend:r,attrs:{shape:A.outShape}});return y.push(t),y.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),j}};var Xk={kernelName:i.pb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=t.bias,u=t.preluActivationWeights,c=r.strides,l=r.pad,d=r.dilations,p=r.dimRoundingMode,h=r.activation,f=r.leakyreluAlpha,m=[],v=d;null==v&&(v=[1,1]),i.Lf.assert(i.Ed.eitherStridesOrDilationsAreOne(c,v),function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(v,"'")});var g,A=i.Ed.computeConv2DInfo(a.shape,o.shape,c,v,l,p,!0),y=Object(i.he)().getBool("WEBGL_PACK_DEPTHWISECONV")&&A.strideWidth<=2&&A.outChannels/A.inChannels===1,b=h?Dx(h,y):null,x=[a,o],w=null!=s,_=null!=u,k="leakyrelu"===h;if(w&&x.push(s),_&&x.push(u),k){var O=n.makeTensorInfo([],"float32",i.Lf.createScalarValue(f,"float32"));x.push(O),m.push(O)}g=y?new ak(A,w,b,_,k):new rk(A,w,b,_,k);var E=[[A.padInfo.top,A.padInfo.left],[A.strideHeight,A.strideWidth],[A.dilationHeight,A.dilationWidth],[A.inHeight,A.inWidth]],S=n.runWebGLProgram(g,x,"float32",E);return m.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),S}},Qk=function e(t,n,r,a){Object(Jr.a)(this,e),this.sliceDim=t,this.strides=n,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=r;for(var i=_y(r.length),o="\n    int index;",s=0;s<this.sliceDim;s++)o+="\n          index = round(getIndices(coords[0], ".concat(s,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[s],";\n          flattenIndex += index * ").concat(this.strides[s],";");this.userCode="\n         void main() {\n          ".concat(i," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(o,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")};var Yk={kernelName:i.qb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,s=a.shape,u=s[s.length-1],c=i.Lf.sizeFromShape(r.shape),l=i.Ed.prepareAndValidate(r,a),d=Object(o.a)(l,4),p=d[0],h=d[1],f=d[2],m=d[3],v=Ux({inputs:{x:a},backend:n,attrs:{shape:[h,u]}}),g=Ux({inputs:{x:r},backend:n,attrs:{shape:[i.Lf.sizeFromShape(r.shape)/f,f]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){var A=n.readSync(a.dataId),y=n.bufferSync(r),b=ob(A,y,r.dtype,h,u,f,m,r.shape,c);return n.makeTensorInfo(p,r.dtype,b.values)}var x=new Qk(u,m,[h,f],r.shape),w=n.runWebGLProgram(x,[g,v],g.dtype),_=Ux({inputs:{x:w},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(w),_}},$k=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=_y(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("index"):r.push("".concat(n[a]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(a,"));\n      }\n    ")};function Zk(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,s=r.axis,u=r.batchDims,c=i.Lf.parseAxisParam(s,a.shape)[0];Object(i.he)().get("DEBUG")&&function(){for(var e=n.readSync(o.dataId),t=a.shape[c],r=function(n){var r=e[n];i.Lf.assert(r<=t-1&&r>=0,function(){return"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")})},s=0;s<e.length;++s)r(s)}();var l=i.Ed.segment_util.collectGatherOpShapeInfo(a,o,c,u),d=i.Lf.sizeFromShape(o.shape),p=[],h=Ux({inputs:{x:a},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),f=Ux({inputs:{x:o},backend:n,attrs:{shape:[l.batchSize,d/l.batchSize]}});p.push(h),p.push(f);var m=[l.batchSize,l.outerSize,d/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([a,o])||"string"===a.dtype){var v=n.bufferSync(f),g=n.bufferSync(h),A=sb(g,v,m);return p.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),n.makeTensorInfo(l.outputShape,A.dtype,A.values)}var y=new $k(h.shape,m),b=n.runWebGLProgram(y,[h,f],h.dtype);p.push(b);var x=Ux({inputs:{x:b},backend:n,attrs:{shape:l.outputShape}});return p.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),x}var Jk={kernelName:i.rb,backendName:"webgl",kernelFunc:Zk},eO=Nx({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:ub,dtype:"bool"}),tO={kernelName:i.sb,backendName:"webgl",kernelFunc:eO},nO=Nx({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:cb}),rO={kernelName:i.tb,backendName:"webgl",kernelFunc:nO};var aO={kernelName:i.ub,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Ik(t.input,!0,n)}},iO=Mx({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),oO={kernelName:i.xb,backendName:"webgl",kernelFunc:iO},sO=Mx({opSnippet:"return float(isinf(x));",dtype:"bool"}),uO={kernelName:i.yb,backendName:"webgl",kernelFunc:sO},cO=Mx({opSnippet:"return float(isnan(x));",dtype:"bool"}),lO={kernelName:i.zb,backendName:"webgl",kernelFunc:cO},dO=Nx({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:lb,dtype:"bool"}),pO={kernelName:i.Eb,backendName:"webgl",kernelFunc:dO},hO=Nx({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:db,dtype:"bool"}),fO={kernelName:i.Fb,backendName:"webgl",kernelFunc:hO};var mO={kernelName:i.Gb,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.num,o=pb(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}},vO=Mx({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:hb}),gO={kernelName:i.Hb,backendName:"webgl",kernelFunc:vO},AO=Mx({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),yO={kernelName:i.Ib,backendName:"webgl",kernelFunc:AO},bO=Nx({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),xO={kernelName:i.Jb,backendName:"webgl",kernelFunc:bO},wO=Mx({opSnippet:"return float(!(x >= 1.0));"}),_O={kernelName:i.Kb,backendName:"webgl",kernelFunc:wO},kO=Nx({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),OO={kernelName:i.Lb,backendName:"webgl",kernelFunc:kO},EO=function e(t,n,r,a,i){Object(Jr.a)(this,e),this.variableNames=["x"],this.outputShape=[];var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(c,")"):1===i?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(u,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")},SO=function e(t,n,r,a,i){Object(Jr.a)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(c,")"):1===i?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(u,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")},CO={kernelName:i.Bb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,s=r.bias,u=r.alpha,c=r.beta,l=Object(i.he)().getBool("WEBGL_PACK_NORMALIZATION")?new SO(a.shape,o,s,u,c):new EO(a.shape,o,s,u,c);return n.runWebGLProgram(l,[a],a.dtype)}},TO=function e(t,n,r,a,i){Object(Jr.a)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(i,")\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(i,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")},IO={kernelName:i.Cb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,o=t.dy,s=r.depthRadius,u=r.bias,c=r.alpha,l=r.beta,d=new TO(a.shape,s,u,c,l);return n.runWebGLProgram(d,[a,i,o],a.dtype)}};function jO(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.reductionIndices,u=r.keepDims,c=a.shape.length,l=i.Lf.parseAxisParam(s,a.shape),d=l,p=i.Ed.getAxesPermutation(d,c),h=null!=p,f=n.shouldExecuteOnCPU([a]),m=a;if(h){if(f){for(var v=n.texData.get(m.dataId).values,g=new Array(c),A=0;A<g.length;A++)g[A]=a.shape[p[A]];var y=Vb(v,a.shape,a.dtype,p,g);m=n.makeTensorInfo(g,a.dtype),n.texData.get(m.dataId).values=y}else m=Xx(a,p,n);d=i.Ed.getInnerMostAxes(d.length,c)}i.Ed.assertAxesAreInnerMostDims("max",d,c);var b,x=i.Ed.computeOutAndReduceShapes(m.shape,d),w=Object(o.a)(x,2),_=w[0],k=w[1],O=_;if(u&&(O=i.Ed.expandShapeToKeepDim(_,l)),f){var E=n.texData.get(m.dataId).values,S=fb(E,i.Lf.sizeFromShape(k),O,a.dtype);b=n.makeTensorInfo(O,a.dtype),n.texData.get(b.dataId).values=S}else b=function(e,t,n,r){var a=i.Lf.sizeFromShape(t),o=Ux({inputs:{x:e},attrs:{shape:[i.Lf.sizeFromShape(e.shape)/a,a]},backend:r}),s=Hx(o,e.dtype,"max",r),u=Ux({inputs:{x:s},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),u}(m,k,O,n);return h&&n.disposeIntermediateTensorInfo(m),b}var MO={kernelName:i.Mb,backendName:"webgl",kernelFunc:jO},NO=Nx({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:mb}),DO={kernelName:i.Sb,backendName:"webgl",kernelFunc:NO};var RO={kernelName:i.Nb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;iy(a,"maxPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.Lf.assert(i.Ed.eitherStridesOrDilationsAreOne(s,1),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")});var l=i.Ed.computePool2DInfo(a.shape,o,s,1,u,c);if(1===l.filterWidth&&1===l.filterHeight&&i.Lf.arraysEqual(l.inShape,l.outShape))return wx({inputs:{x:a},backend:n});var d=new jw(l,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}};var PO={kernelName:i.Ob,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dimRoundingMode,d=i.Ed.computePool3DInfo(a.shape,o,s,[1,1,1],u,l,c),p=new Mw(d,"max",!1);return n.runWebGLProgram(p,[a],a.dtype)}},LO=function e(t){Object(Jr.a)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=i-1-t.padInfo.top,u=o-1-t.padInfo.left,c=i*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},FO=function e(t){Object(Jr.a)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,d=u-1-t.padInfo.front,p=c-1-t.padInfo.top,h=l-1-t.padInfo.left,f=u*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(p,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n           wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(f," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var BO={kernelName:i.Pb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode,d=i.Ed.computePool3DInfo(o.shape,s,u,[1,1,1],c,l),p=new Mw(d,"max",!0),h=n.runWebGLProgram(p,[o],o.dtype),f=new FO(d),m=n.runWebGLProgram(f,[a,h],o.dtype);return n.disposeIntermediateTensorInfo(h),m}};var zO={kernelName:i.Qb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=o;iy([o,t.output],"maxPoolGrad");var u=r.filterSize,c=r.strides,l=r.pad,d=r.dimRoundingMode,p=i.Ed.computePool2DInfo(s.shape,u,c,1,l,d),h=new jw(p,"max",!0),f=n.runWebGLProgram(h,[s],s.dtype),m=new LO(p),v=n.runWebGLProgram(m,[a,f],s.dtype);return n.disposeIntermediateTensorInfo(f),v}};var UO={kernelName:i.Rb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,s=n.filterSize,u=n.strides,c=n.pad,l=n.includeBatchInIndex,d=r;i.Lf.assert(4===a.shape.length,function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")});var p=[1,1];i.Lf.assert(i.Ed.eitherStridesOrDilationsAreOne(u,p),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(p,"'")});var h=i.Ed.computePool2DInfo(a.shape,s,u,p,c),f=function(e,t,n,r){var a=new jw(n,"max",!1),i=r.runWebGLProgram(a,[e],"float32");return a=new jw(n,"max",!0,!0,t),[i,r.runWebGLProgram(a,[e],"float32")]}(a,l,h,d),m=Object(o.a)(f,2);return[m[0],m[1]]}};var VO={kernelName:i.Tb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,s=n.keepDims,u=n.axis,c=r,l=a.shape.length,d=i.Lf.parseAxisParam(u,a.shape),p=d,h=i.Ed.getAxesPermutation(p,l),f=null!=h,m=c.shouldExecuteOnCPU([a]),v=[],g=a;if(f){if(m){for(var A=c.texData.get(g.dataId).values,y=new Array(l),b=0;b<y.length;b++)y[b]=a.shape[h[b]];var x=Vb(A,a.shape,a.dtype,h,y);g=c.makeTensorInfo(y,a.dtype),c.texData.get(g.dataId).values=x}else g=Xx(a,h,c);v.push(g),p=i.Ed.getInnerMostAxes(p.length,l)}i.Ed.assertAxesAreInnerMostDims("sum",p,l);var w=i.Ed.computeOutAndReduceShapes(g.shape,p),_=Object(o.a)(w,2),k=_[0],O=_[1],E=k;s&&(E=i.Ed.expandShapeToKeepDim(k,d));for(var S=function(e,t,n,r){var a=i.Lf.sizeFromShape(t),o=Ux({inputs:{x:e},attrs:{shape:[i.Lf.sizeFromShape(e.shape)/a,a]},backend:r}),s=Hx(o,"float32","mean",r),u=Ux({inputs:{x:s},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),u}(g,O,E,c),C=0,T=v;C<T.length;C++){var I=T[C];c.disposeIntermediateTensorInfo(I)}return S}};var WO={kernelName:i.Ub,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.axis,u=r.keepDims,c=a.shape.length,l=i.Lf.parseAxisParam(s,a.shape),d=l,p=i.Ed.getAxesPermutation(d,c),h=a;null!=p&&(h=$x({inputs:{x:a},backend:n,attrs:{perm:p}}),d=i.Ed.getInnerMostAxes(d.length,a.shape.length)),i.Ed.assertAxesAreInnerMostDims("min",d,c);var f,m=i.Ed.computeOutAndReduceShapes(h.shape,d),v=Object(o.a)(m,2),g=v[0],A=v[1],y=Ux({inputs:{x:h},backend:n,attrs:{shape:[-1,i.Lf.sizeFromShape(A)]}}),b=Hx(y,y.dtype,"min",n);return f=Ux(u?{inputs:{x:b},backend:n,attrs:{shape:i.Ed.expandShapeToKeepDim(g,l)}}:{inputs:{x:b},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),null!=p&&n.disposeIntermediateTensorInfo(h),f}},GO=Nx({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:vb}),HO={kernelName:i.Vb,backendName:"webgl",kernelFunc:GO},qO=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["x"],this.outputShape=n.map(function(e,n){return e[0]+t[n]+e[1]});var a=t.length,i=_y(a),o=n.map(function(e){return e[0]}).join(","),s=n.map(function(e,n){return e[0]+t[n]}).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),c="reflect"===r?0:1;this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(i," coords = outC - start;\n        setOutput(getX(").concat(u,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")},KO=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map(function(e,n){return e[0]+t[n]+e[1]});var a=t.length,i=_y(a),o=n.map(function(e){return e[0]}).join(","),s=n.map(function(e,n){return e[0]+t[n]}).join(","),u=Hb("rc",a),c=Hb("source",a),l="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),p="reflect"===r?0:1,h="";if(1===a){var f="\n        ".concat(i," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(p,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(p,";\n        }\n        source -= start;\n      ");h="\n        ".concat(i," rc = outputLoc;\n        ").concat(f,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(f,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ")}else{var m="\n        ".concat(i," source = rc;\n        ").concat(i," lt = ").concat(i,"(lessThan(source, start));\n        ").concat(i," gte = ").concat(i,"(greaterThanEqual(source, end));\n        ").concat(i," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(p,") +\n                gte * ((end - 1) * 2 - source + ").concat(p,");\n        source -= start;\n      ");h="\n        ".concat(i," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(u[a-2]," += 1;\n        if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(m,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          ").concat(u[a-1]," += 1;\n          if(").concat(l,") {\n            ").concat(m,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")},XO={kernelName:i.Wb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.mode,u=Object(i.he)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new KO(a.shape,o,s):new qO(a.shape,o,s);return n.runWebGLProgram(u,[a],a.dtype)}},QO=Nx({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n"}),YO={kernelName:i.Xb,backendName:"webgl",kernelFunc:QO},$O=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")},ZO=Nx({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),JO={kernelName:i.sc,backendName:"webgl",kernelFunc:ZO},eE="return a - b;",tE=Nx({opSnippet:eE,packedOpSnippet:eE,supportsComplex:!0,cpuKernelImpl:Bb}),nE={kernelName:i.gd,backendName:"webgl",kernelFunc:tE};function rE(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.dim,s=i.Lf.parseAxisParam([o],a.shape),u=jO({inputs:{x:a},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),c=i.Ed.expandShapeToKeepDim(u.shape,s),l=Ux({inputs:{x:u},backend:n,attrs:{shape:c}}),d=tE({inputs:{a:a,b:l},backend:n}),p=wk({inputs:{x:d},backend:n}),h=Qx({inputs:{x:p},backend:n,attrs:{axis:s,keepDims:!1}}),f=Ux({inputs:{x:h},backend:n,attrs:{shape:c}}),m=ZO({inputs:{a:p,b:f},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}var aE={kernelName:i.Oc,backendName:"webgl",kernelFunc:rE};var iE={kernelName:i.Yb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,o=r.seed,s=r.normalized,u=s?a:rE({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),c=u.shape[0],l=u.shape[1],d=new $O(c,l,i),p=[[o]],h=n.runWebGLProgram(d,[u],"int32",p);return s||n.disposeIntermediateTensorInfo(u),h}},oE=Jb+"\n  return -x;\n",sE="\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n";var uE={kernelName:i.ac,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])){var s=r.texData.get(a.dataId),u=Ab(s.values,a.shape,a.dtype),c=Object(o.a)(u,2),l=c[0],d=c[1];return r.makeTensorInfo(d,a.dtype,l)}return t=Object(i.he)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new px(a.shape,sE):new Zb(a.shape,oE),r.runWebGLProgram(t,[a],a.dtype)}},cE=i.ve.nonMaxSuppressionV3Impl;var lE={kernelName:i.bc,backendName:"webgl",kernelFunc:function(e){i.Ed.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,s=r.maxOutputSize,u=r.iouThreshold,c=r.scoreThreshold,l=n.readSync(a.dataId),d=n.readSync(o.dataId),p=cE(l,d,s,u,c).selectedIndices;return n.makeTensorInfo([p.length],"int32",new Int32Array(p))}},dE=i.ve.nonMaxSuppressionV4Impl;var pE={kernelName:i.cc,backendName:"webgl",kernelFunc:function(e){i.Ed.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,s=r.maxOutputSize,u=r.iouThreshold,c=r.scoreThreshold,l=r.padToMaxOutputSize,d=n.readSync(a.dataId),p=n.readSync(o.dataId),h=dE(d,p,s,u,c,l),f=h.selectedIndices,m=h.validOutputs;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}},hE=i.ve.nonMaxSuppressionV5Impl;var fE={kernelName:i.dc,backendName:"webgl",kernelFunc:function(e){i.Ed.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,s=r.maxOutputSize,u=r.iouThreshold,c=r.scoreThreshold,l=r.softNmsSigma,d=n.readSync(a.dataId),p=n.readSync(o.dataId),h=hE(d,p,s,u,c,l),f=h.selectedIndices,m=h.selectedScores;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}},mE=function e(t,n,r,a){Object(Jr.a)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")},vE={kernelName:i.fc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.dtype,s=r.depth,u=r.onValue,c=r.offValue,l=i.Lf.sizeFromShape(a.shape),d=new mE(l,s,u,c),p=Ux({inputs:{x:a},backend:n,attrs:{shape:[l]}}),h=n.runWebGLProgram(d,[p],o);n.disposeIntermediateTensorInfo(p);var f=Ux({inputs:{x:h},backend:n,attrs:{shape:[].concat(Object(Kn.a)(a.shape),[s])}});return n.disposeIntermediateTensorInfo(h),f}};function gE(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=n_({inputs:{input:r},backend:n}),i=gE({inputs:{x:a},backend:n}),o=A_({inputs:{input:r},backend:n}),s=gE({inputs:{x:o},backend:n}),u=kx({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return Nk({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var AE={kernelName:i.ud,backendName:"webgl",kernelFunc:gE};var yE={kernelName:i.gc,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var i=n_({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=A_({inputs:{input:a},backend:r}),u=gE({inputs:{x:s},backend:r}),c=kx({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return Nk({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var bE={kernelName:i.ic,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return kk({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach(function(e){i.Lf.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),i.Lf.assert(o===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var s=[],u=x_({inputs:t.map(function(e){var t=kk({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t}),backend:n,attrs:{axis:r}});return s.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),u}},xE=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map(function(e,n){return e[0]+t[n]+e[1]});var a=t.length,i=_y(a),o=n.map(function(e){return e[0]}).join(","),s=n.map(function(e,n){return e[0]+t[n]}).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(i," coords = outC - start;\n          setOutput(getX(").concat(u,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")},wE=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map(function(e,n){return e[0]+t[n]+e[1]});for(var a=t.length,i=_y(a),o=n.map(function(e){return e[0]}).join(","),s=n.map(function(e,n){return e[0]+t[n]}).join(","),u=Hb("rc",a),c=Hb("source",a),l="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),p=["".concat(i," rc = outputLoc;"),"".concat(u[a-1]," += 1;\n       if(").concat(l,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(u[a-2]," += 1;\n       if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(u[a-1]," += 1;\n         if(").concat(l,") {")],h=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",m=0,v=1===a?2:4;m<v;m++)f+="\n        ".concat(p[m],"\n        if (").concat(h,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(i," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ");f+=1===a?"} ":"}}",this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")},_E=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.constantValue;if(0===i.Lf.sizeFromShape(a.shape))return Nk({backend:n,attrs:{shape:o.map(function(e,t){return e[0]+a.shape[t]+e[1]}),value:s,dtype:a.dtype}});var u=Object(i.he)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wE(a.shape,o,s):new xE(a.shape,o,s),c=[[s]];return n.runWebGLProgram(u,[a],a.dtype,c)},kE={kernelName:i.jc,backendName:"webgl",kernelFunc:_E},OE=Nx({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n"}),EE={kernelName:i.kc,backendName:"webgl",kernelFunc:OE};var SE={kernelName:i.mc,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,s=n.x,u=a.axis,c=a.keepDims,l=s.shape.length,d=[],p=i.Lf.parseAxisParam(u,s.shape),h=p,f=i.Ed.getAxesPermutation(h,l),m=s;if(null!=f&&(m=$x({inputs:{x:s},backend:r,attrs:{perm:f}}),h=i.Ed.getInnerMostAxes(h.length,l),d.push(m)),i.Ed.assertAxesAreInnerMostDims("prod",h,l),r.shouldExecuteOnCPU([m])){var v=r.texData.get(m.dataId).values,g=bb(m.shape,m.dtype,v,h),A=g.outVals,y=g.outShape,b=g.outDtype;t=r.makeTensorInfo(y,b,A)}else{var x=i.Ed.computeOutAndReduceShapes(m.shape,h),w=Object(o.a)(x,2),_=w[0],k=w[1],O=i.Lf.sizeFromShape(k),E=Ux({inputs:{x:m},backend:r,attrs:{shape:[-1,O]}}),S=Hx(E,Object(i.yf)(s.dtype),"prod",r);t=Ux({inputs:{x:S},backend:r,attrs:{shape:_}}),d.push(E),d.push(S)}if(c){d.push(t);var C=i.Ed.expandShapeToKeepDim(t.shape,p);t=Ux({inputs:{x:t},backend:r,attrs:{shape:C}})}return d.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),t}};var CE={kernelName:i.nc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.paramsNestedSplits,i=t.paramsDenseValues,s=t.indices,u=r.outputRaggedRank,c=a.map(function(e){return n.readSync(e.dataId)}),l=a.map(function(e){return e.shape}),d=n.readSync(i.dataId),p=n.readSync(s.dataId),h=xb(c,l,d,i.shape,i.dtype,p,s.shape,u),f=Object(o.a)(h,3),m=f[0],v=f[1],g=f[2],A=m.map(function(e){return n.makeTensorInfo([e.length],"int32",e)}),y=n.makeTensorInfo(g,i.dtype,v);return A.concat([y])}};var TE={kernelName:i.oc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.starts,a=t.limits,i=t.deltas,s=n.readSync(r.dataId),u=n.readSync(a.dataId),c=n.readSync(i.dataId),l=wb(s,r.shape,r.dtype,u,a.shape,c,i.shape),d=Object(o.a)(l,2),p=d[0],h=d[1];return[n.makeTensorInfo([p.length],"int32",p),n.makeTensorInfo([h.length],r.dtype,h)]}};var IE={kernelName:i.pc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.shape,i=t.values,s=t.defaultValue,u=t.rowPartitionTensors,c=r.rowPartitionTypes,l=n.readSync(a.dataId),d=n.readSync(i.dataId),p=n.readSync(s.dataId),h=u.map(function(e){return n.readSync(e.dataId)}),f=u.map(function(e){return e.shape}),m=_b(l,a.shape,d,i.shape,i.dtype,p,s.shape,h,f,c),v=Object(o.a)(m,2),g=v[0],A=v[1];return n.makeTensorInfo(g,i.dtype,A)}},jE=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.step,o=n.dtype,s=kb(r,a,i,o);return t.makeTensorInfo([s.length],o,s)},ME={kernelName:i.qc,backendName:"webgl",kernelFunc:jE},NE=Mx({opSnippet:"return 1.0 / x;"}),DE={kernelName:i.tc,backendName:"webgl",kernelFunc:NE},RE=Mx({opSnippet:Jb+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),PE={kernelName:i.uc,backendName:"webgl",kernelFunc:RE},LE=Mx({opSnippet:Jb+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),FE={kernelName:i.vc,backendName:"webgl",kernelFunc:LE},BE=function e(t,n,r,a,i){Object(Jr.a)(this,e),this.variableNames=["A"],this.outputShape=[];var s=Object(o.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3];this.outputShape=[u,n,r,d];var p,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];p=i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/f[0],",\n          ").concat(h[1]/f[1],");\n      const vec2 inputShapeRC = vec2(").concat(c,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")},zE=function e(t,n,r,a,i){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var s=Object(o.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3];this.outputShape=[u,n,r,d];var p,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];p=i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/f[0],",\n          ").concat(h[1]/f[1],",\n          ").concat(h[1]/f[1],");\n      const vec3 inputShapeRC = vec3(").concat(c,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")};var UE={kernelName:i.xc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,s=r.alignCorners,u=r.halfPixelCenters,c=r.size,l=Object(o.a)(c,2),d=l[0],p=l[1],h=Object(i.he)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new zE(a.shape,d,p,s,u):new BE(a.shape,d,p,s,u);return n.runWebGLProgram(h,[a],"float32")}},VE=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=Object(o.a)(n,3),i=a[1],s=a[2],u=Object(o.a)(t,3),c=u[1],l=u[2],d=[r&&c>1?i-1:i,r&&l>1?s-1:s],p=[r&&c>1?c-1:c,r&&l>1?l-1:l],h=d[0]/p[0],f=d[1]/p[1],m=1/h,v=1/f,g=2*Math.ceil(m)+2,A=2*Math.ceil(v)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(f,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(v,");\n\n        const int winHeight = int(").concat(g,");\n        const int winWidth = int(").concat(A,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(i-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(s-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")};var WE={kernelName:i.yc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new VE(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},GE=function e(t,n,r,a,i){Object(Jr.a)(this,e),this.variableNames=["A"],this.outputShape=[];var s=Object(o.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3];this.outputShape=[u,n,r,d];var p,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],m=a?"0.5":"0.0";p=i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/f[0],",\n          ").concat(h[1]/f[1],");\n      const vec2 inputShapeRC = vec2(").concat(c,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")},HE=function e(t,n,r,a,i){Object(Jr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var s=Object(o.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3];this.outputShape=[u,n,r,d];var p,h=[a&&n>1?c-1:c,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],m=a?"0.5":"0.0";p=i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/f[0],",\n          ").concat(h[1]/f[1],",\n          ").concat(h[1]/f[1],");\n      const vec3 inputShapeRC = vec3(").concat(c,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")};var qE={kernelName:i.zc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,s=r.alignCorners,u=r.halfPixelCenters,c=r.size,l=Object(o.a)(c,2),d=l[0],p=l[1],h=Object(i.he)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new HE(a.shape,d,p,s,u):new GE(a.shape,d,p,s,u);return n.runWebGLProgram(h,[a],a.dtype)}},KE=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=Object(o.a)(n,3),i=a[1],s=a[2],u=Object(o.a)(t,3),c=u[1],l=u[2],d=[r&&c>1?i-1:i,r&&l>1?s-1:s],p=[r&&c>1?c-1:c,r&&l>1?l-1:l],h=d[0]/p[0],f=d[1]/p[1],m=1/h,v=1/f,g=2*Math.ceil(m)+2,A=2*Math.ceil(v)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(f,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(v,");\n\n        const int winHeight = int(").concat(g,");\n        const int winWidth = int(").concat(A,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(d[0],") *\n                (float(dyR) / float(").concat(p[0],"));\n\n            float sourceFracCol =\n                float(").concat(d[1],") *\n                  (float(dyC) / float(").concat(p[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(s,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")};var XE={kernelName:i.Ac,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new KE(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},QE=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var a=t.map(function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)}).join(","),i=_y(r);this.userCode="\n      void main() {\n        ".concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")},YE=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var a=Hb("rc",r),i="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=_y(r);function u(e){var r=t.map(function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(a,e)}),a=r.join(","),i=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(i,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(i,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return u(e)}(a.slice()),";\n          if(").concat(i,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(a.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            if(").concat(i,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")};var $E={kernelName:i.Bc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims,s=a.shape.length,u=i.Lf.parseAxisParam(o,a.shape);if(0===s)return wx({inputs:{x:a},backend:n});var c=Object(i.he)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new YE(a.shape,u):new QE(a.shape,u);return n.runWebGLProgram(c,[a],a.dtype)}},ZE=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],a=t[2];this.outputShape=t;var i="";i="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(i,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")},JE={kernelName:i.Cc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,s=n.radians,u=n.fillValue,c=n.center,l=r,d=new ZE(a.shape,u),p=i.Ed.getImageCenter(c,a.shape[1],a.shape[2]),h=Object(o.a)(p,2),f=[[h[0],h[1],Math.sin(s),Math.cos(s)]];return l.runWebGLProgram(d,[a],a.dtype,f)}},eS=Mx({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),tS={kernelName:i.Dc,backendName:"webgl",kernelFunc:eS},nS=Mx({opSnippet:"return inversesqrt(x);",cpuKernelImpl:Ob}),rS={kernelName:i.Ec,backendName:"webgl",kernelFunc:nS},aS=function e(t,n,r,a,i,o){!(arguments.length>6&&void 0!==arguments[6])||arguments[6];var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Object(Jr.a)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var u=_y(i.length),c=_y(o.length),l="";1===r?l="i":2===r&&(l="i, j");var d="getIndices(".concat(l,")"),p="";1===a?p="i":2===a&&(p="i, coords[1]");var h="getUpdates(".concat(p,")"),f="";s&&(f="coords[0], coords[1]");var m="getDefaultValue(".concat(f,")"),v=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(u," strides = ").concat(u,"(").concat(i,");\n\n        void main() {\n          ").concat(c," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(d,");\n              flattenedIndex += index * ").concat(v,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(h,";\n              found = true;\n            }\n          }\n          setOutput(mix(").concat(m,", sum, float(found)));\n        }\n      ")},iS=function e(t,n,r,a,i,o){!(arguments.length>6&&void 0!==arguments[6])||arguments[6];var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Object(Jr.a)(this,e),this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o;var u=_y(i.length),c=_y(o.length),l="";1===r?l="i":2===r&&(l="i, j");var d="getIndices(".concat(l,")"),p="";1===a?p="i":2===a&&(p="i, coords[1]");var h="getUpdates(".concat(p,")"),f="";s&&(f="coords[0], coords[1]");var m="getDefaultValue(".concat(f,")"),v=n>1?"strides[j]":"strides",g=n>1?"strides[j + 1]":"strides";this.userCode="\n        ".concat(u," strides = ").concat(u,"(").concat(i,");\n\n        void main() {\n          ").concat(c," coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ").concat(t,"; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ").concat(n,"; j+=2) {\n              ivec4 index = round(").concat(d,");\n              flattenedIndex += index.xz * ").concat(v,";\n              if (j + 1 < ").concat(n,") {\n                flattenedIndex += index.yw * ").concat(g,";\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ").concat(h,";\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(").concat(m,", sum, found));\n        }\n      ")};var oS={kernelName:i.Fc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,s=r.shape,u=i.Ed.calculateShapes(o,a,s),c=u.sliceRank,l=u.numUpdates,d=u.sliceSize,p=u.strides,h=u.outputSize,f=[h/d,d];if(0===h)return n.makeTensorInfo(s,a.dtype);var m,v=Ux({inputs:{x:a},backend:n,attrs:{shape:[l,c]}}),g=Ux({inputs:{x:o},backend:n,attrs:{shape:[l,d]}}),A=n.makeTensorInfo([],"float32",new Float32Array([0]));m=Object(i.he)().getBool("WEBGL_PACK")?new iS(l,c,v.shape.length,g.shape.length,p,f):new aS(l,c,v.shape.length,g.shape.length,p,f);var y=n.runWebGLProgram(m,[g,v,A],g.dtype),b=Ux({inputs:{x:y},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(A),b}},sS=function e(t,n,r,a){Object(Jr.a)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];var o="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),s=2===Object(i.he)().getNumber("WEBGL_VERSION")?"while (left < right) {":o,u="left"===a?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(s,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(u," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")};var uS={kernelName:i.Gc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,i=t.values,o=r.side,s=new sS(a.shape[0],a.shape[1],i.shape[1],o),u=[[a.shape[1]]];return n.runWebGLProgram(s,[a,i],"int32",u)}},cS=function e(t,n,r){var a,i;if(Object(Jr.a)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)i="resRC",a="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],c=0;c<n.length;c++)u.push("".concat(o[c])),c<t&&s.push("".concat(o[c]));a=s.join(),i=u.join()}var l=_y(r);this.userCode="\n      void main() {\n        ".concat(l," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(i,"));\n        } else {\n          setOutput(getB(").concat(i,"));\n        }\n      }\n    ")};var lS={kernelName:i.Hc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e,s=new cS(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(s,[r,a,o],Object(i.Kf)(a.dtype,o.dtype))}},dS=Mx({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(i.Ed.SELU_SCALEALPHA,";\n  float scale = ").concat(i.Ed.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),pS={kernelName:i.Ic,backendName:"webgl",kernelFunc:dS},hS=Mx({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Sb}),fS={kernelName:i.Jc,backendName:"webgl",kernelFunc:hS},mS=Mx({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),vS={kernelName:i.Kc,backendName:"webgl",kernelFunc:mS},gS=Mx({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n",packedOpSnippet:"\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(bx,"\n  return result;\n")}),AS={kernelName:i.Lc,backendName:"webgl",kernelFunc:gS},yS=Mx({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),bS={kernelName:i.Mc,backendName:"webgl",kernelFunc:yS},xS=Mx({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),wS={kernelName:i.Pc,backendName:"webgl",kernelFunc:xS},_S={kernelName:i.Qc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.paddings;i.Lf.assert(a.shape.length<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var u=o.reduce(function(e,t){return e*t}),c=[[0,0]];c.push.apply(c,Object(Kn.a)(s));for(var l=1+o.length;l<a.shape.length;++l)c.push([0,0]);var d=[],p=_E({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),h=i.Ed.getReshaped(p.shape,o,u,!1),f=i.Ed.getPermuted(h.length,o.length,!1),m=i.Ed.getReshapedPermuted(p.shape,o,u,!1),v=Ux({inputs:{x:p},backend:n,attrs:{shape:h}}),g=$x({inputs:{x:v},backend:n,attrs:{perm:f}}),A=Ux({inputs:{x:g},backend:n,attrs:{shape:m}});return d.push(p),d.push(v),d.push(g),d.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),A}};var kS={kernelName:i.Rc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,s=t.defaultValue;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(a.shape));if(0!==s.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));var u=n.readSync(r.dataId),c=n.readSync(a.dataId),l=n.readSync(i.dataId),d=n.readSync(s.dataId)[0],p=Ib(u,r.shape,r.dtype,c,a.dtype,l,d),h=Object(o.a)(p,5),f=h[0],m=h[1],v=h[2],g=h[3],A=h[4];return[n.makeTensorInfo(m,r.dtype,f),n.makeTensorInfo([m[0]],a.dtype,v),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map(function(e){return Number(e)}))),n.makeTensorInfo([A.length],r.dtype,new Int32Array(A))]}};var OS={kernelName:i.Sc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var s=Array.from(n.readSync(a.dataId)),u=n.readSync(r.dataId),c=Array.from(n.readSync(i.dataId)),l=jb(u,r.shape,r.dtype,s,c),d=Object(o.a)(l,3),p=d[0],h=d[1],f=d[2];return[n.makeTensorInfo(h,r.dtype,p),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}};var ES={kernelName:i.Tc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(i.shape));var s=n.readSync(r.dataId),u=n.readSync(a.dataId),c=n.readSync(i.dataId),l=Mb(s,r.shape,r.dtype,u,c,!0),d=Object(o.a)(l,2),p=d[0],h=d[1];return n.makeTensorInfo(h,r.dtype,p)}};var SS={kernelName:i.Uc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(i.shape));var s=n.readSync(r.dataId),u=n.readSync(a.dataId),c=n.readSync(i.dataId),l=Mb(s,r.shape,r.dtype,u,c),d=Object(o.a)(l,2),p=d[0],h=d[1];return n.makeTensorInfo(h,r.dtype,p)}};var CS={kernelName:i.Vc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,o=t.sparseValues,s=t.defaultValue,u=r.outputShape,c=i.Ed.calculateShapes(o,a,u),l=c.sliceRank,d=c.numUpdates,p=c.sliceSize,h=c.strides,f=c.outputSize;if("string"===o.dtype){var m=n.bufferSync(a),v=n.bufferSync(o),g=i.Lf.decodeString(n.readSync(s.dataId)[0]),A=Eb(m,v,u,f,p,d,l,h,g,!1);return n.makeTensorInfo(u,A.dtype,A.values)}var y=new aS(d,l,a.shape.length,o.shape.length,h,[f,1],!1),b=n.runWebGLProgram(y,[o,a,s],o.dtype),x=Ux({inputs:{x:b},backend:n,attrs:{shape:u}});return n.disposeIntermediateTensorInfo(b),x}};var TS={kernelName:i.Wc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,s=r.axis,u=i.Lf.parseAxisParam(s,a.shape)[0],c=i.Ed.prepareSplitSize(a,o,u),l=a.shape.length,d=new Array(l).fill(0),p=a.shape.slice();return c.map(function(e){var t=Object(Kn.a)(p);t[u]=e;var r=qw({inputs:{x:a},backend:n,attrs:{begin:d,size:t}});return d[u]+=e,r})}},IS="return sqrt(x);",jS=Mx({opSnippet:IS,packedOpSnippet:IS,cpuKernelImpl:Nb}),MS={kernelName:i.Xc,backendName:"webgl",kernelFunc:jS},NS=Mx({opSnippet:"return x * x;"}),DS={kernelName:i.Yc,backendName:"webgl",kernelFunc:NS},RS=Nx({opSnippet:"return (a - b) * (a - b);",packedOpSnippet:"return (a - b) * (a - b);"}),PS={kernelName:i.Zc,backendName:"webgl",kernelFunc:RS};var LS={kernelName:i.ad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;if("string"!==a.dtype)throw new Error("Input must be of datatype string");var o=n.readSync(a.dataId),s=i.Ed.fromUint8ToStringArray(o),u=Db(s,"string",r);return n.makeTensorInfo(a.shape,"string",u)}};var FS={kernelName:i.bd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=Jb+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new Zb(a.shape,i);return r.runWebGLProgram(o,[a],a.dtype)}},BS=function e(t,n,r){Object(Jr.a)(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,i=_y(r.length),o=_y(r.length),s="";if(1===a)s="coords * strides + begin";else{var u=0;s=r.map(function(e,t){return u++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(u-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")}).join(",")}this.userCode="\n      ".concat(i," begin = ").concat(i,"(").concat(t,");\n      ").concat(i," strides = ").concat(i,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")};var zS={kernelName:i.cd,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,s=a.begin,u=a.end,c=a.strides,l=a.beginMask,d=a.endMask,p=a.ellipsisMask,h=a.newAxisMask,f=a.shrinkAxisMask,m=i.pf.sliceInfo(o.shape,s,u,c,l,d,p,h,f),v=m.finalShapeSparse,g=m.finalShape,A=m.isIdentity,y=m.sliceDim0,b=m.isSimpleSlice,x=m.begin,w=m.end,_=m.strides;if(A)t=Ux({inputs:{x:o},backend:r,attrs:{shape:g}});else if(y||b){i.Lf.assert(o.shape.length>=1,function(){return"Input must have rank at least 1, got: ".concat(o.shape.length)});var k=i.pf.computeOutShape(x,w,_),O=qw({inputs:{x:o},backend:r,attrs:{begin:x,size:k}});t=Ux({inputs:{x:O},backend:r,attrs:{shape:g}}),r.disposeIntermediateTensorInfo(O)}else if(r.shouldExecuteOnCPU([o])){var E=r.readSync(o.dataId),S=Object(i.Ld)(o.shape,o.dtype,E),C=Rb(v,S,_,x);t=r.makeTensorInfo(g,o.dtype,C.values)}else{var T=new BS(x,_,v);t=r.runWebGLProgram(T,[o],o.dtype)}var I=Ux({inputs:{x:t},backend:r,attrs:{shape:g}});return r.disposeIntermediateTensorInfo(t),I}};var US={kernelName:i.dd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,s=r.leftPad,u=r.rightPad,c=r.padWidth,l=r.preserveShortSequences,d=t.data,p=t.dataSplits,h=n.readSync(d.dataId),f=n.readSync(p.dataId),m=Pb(h,f,a,i,s,u,c,l),v=Object(o.a)(m,2),g=v[0],A=v[1];return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(p.shape,"int32",A)]}};var VS={kernelName:i.ed,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));var s=n.readSync(a.dataId),u=n.readSync(i.dataId)[0],c=Lb(s,u,r),l=Object(o.a)(c,3),d=l[0],p=l[1],h=l[2],f=p.length;return[n.makeTensorInfo([f,2],"int32",d),n.makeTensorInfo([f],"string",p),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};var WS={kernelName:i.fd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=n.readSync(a.dataId),o=Fb(i,r);return n.makeTensorInfo(a.shape,"int32",o)}},GS=Mx({opSnippet:"return tan(x);"}),HS={kernelName:i.id,backendName:"webgl",kernelFunc:GS},qS=Mx({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),KS={kernelName:i.jd,backendName:"webgl",kernelFunc:qS};var XS={kernelName:i.md,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.tensor,o=t.indices,s=t.updates;!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(r);var u=i.Ed.calculateShapes(s,o,a.shape),c=u.sliceRank,l=u.numUpdates,d=u.sliceSize,p=u.strides,h=u.outputSize,f=[h/d,d];if(0===h)return n.makeTensorInfo(a.shape,o.dtype);var m=Ux({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),v=Ux({inputs:{x:s},backend:n,attrs:{shape:[l,d]}}),g=Ux({inputs:{x:a},backend:n,attrs:{shape:f}}),A=new aS(l,c,m.shape.length,v.shape.length,p,f,!1,!0),y=n.runWebGLProgram(A,[v,m,g],g.dtype),b=Ux({inputs:{x:y},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),b}},QS=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var i=_y(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")};function YS(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reps;if("string"===a.dtype||a.shape.length>5){var s=n.readSync(a.dataId),u="string"===a.dtype?s.map(function(e){return i.Lf.decodeString(e)}):s,c=Object(i.Ld)(a.shape,a.dtype,u),l=zb(c,o);return n.makeTensorInfo(l.shape,l.dtype,l.values)}var d=new QS(a.shape,o);return n.runWebGLProgram(d,[a],a.dtype)}var $S={kernelName:i.nd,backendName:"webgl",kernelFunc:YS},ZS=function e(t){Object(Jr.a)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "},JS=function e(t){Object(Jr.a)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "};function eC(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function tC(e){for(var t=1;t<e;)t*=2;return t}var nC={kernelName:i.od,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,s=r.k,u=r.sorted,c=Object(i.he)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Object(i.he)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),d=a.shape,p=d[d.length-1];if(n.shouldExecuteOnCPU([a])||p<c||s>l){var h=n.readSync(a.dataId),f=Ub(h,d,a.dtype,s,u),m=Object(o.a)(f,2),v=m[0],g=m[1];return[n.makeTensorInfo(v.shape,v.dtype,v.values),n.makeTensorInfo(g.shape,g.dtype,g.values)]}if(0===s)return d[d.length-1]=0,[n.makeTensorInfo(d,a.dtype,[]),n.makeTensorInfo(d,"int32",[])];if(1===p)return[a,Nk({attrs:{shape:d,dtype:"int32",value:0},backend:n})];var A=n.texData.get(a.dataId),y=null!==A&&A.isPacked,b=y?n.unpackTensor(a):a,x=i.Lf.sizeFromShape(d)/p,w=Ux({inputs:{x:b},attrs:{shape:[x,p]},backend:n});y&&eC(n,b);for(var _=tC(s),k=tC(p),O=null,E=function(){return null===O?[w,w]:[w,O]},S=function(e,t,r){var a=E(),i=new ZS(r),o=[[p],[null===O?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=O;O=n.runWebGLProgram(i,a,"int32",o),eC(n,s)},C=1;C<_;C*=2)for(var T=2*C,I=C;I>=1;I/=2)S(T,I,[x,k]);for(var j=k;j>_;j/=2){var M=E(),N=new JS([x,j/2]),D=[[p],[null===O?1:0],[_]],R=O;O=n.runWebGLProgram(N,M,"int32",D),eC(n,R);for(var P=_/2,L=2*P,F=P;F>=1;F/=2)S(L,F,O.shape)}var B=O;O=qw({inputs:{x:O},backend:n,attrs:{begin:0,size:[x,s]}}),eC(n,B);var z=Zk({inputs:{x:w,indices:O},backend:n,attrs:{axis:1,batchDims:1}});eC(n,w);var U=d.slice(0,-1);U.push(s),B=O,O=Ux({inputs:{x:O},attrs:{shape:U},backend:n}),eC(n,B);var V=z;return z=Ux({inputs:{x:z},attrs:{shape:U},backend:n}),eC(n,V),[z,O]}},rC=function e(t,n,r,a,i,o){Object(Jr.a)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var s,u="nearest"===r?1:2;switch(a){case"constant":s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4;break;default:s=1}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(i,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(i,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(u," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")};var aC={kernelName:i.pd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.transforms,s=r.interpolation,u=r.fillMode,c=r.fillValue,l=r.outputShape,d=Object(o.a)(a.shape,4),p=d[0],h=d[1],f=d[2],m=d[3],v=null!=l?l:[h,f],g=Object(o.a)(v,2),A=g[0],y=g[1],b=new rC(h,f,s,u,c,[p,A,y,m]);return n.runWebGLProgram(b,[a,i],"float32")}};var iC={kernelName:i.rd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;iy(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(i.dataId),s=Wb(o,a,i.shape,i.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,i.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var oC={kernelName:i.sd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a,s=o.shape.length,u=a.shape[i],c=new Array(s-1),l=0,d=0;d<s;d++)d!==i&&(c[l++]=o.shape[d]);var p=[],h=new Array(s).fill(0),f=o.shape.slice();f[i]=1;for(var m=new Array(u),v=0;v<m.length;v++){h[i]=v;var g=qw({inputs:{x:o},backend:n,attrs:{begin:h,size:f}}),A=Ux({inputs:{x:g},backend:n,attrs:{shape:c}});m[v]=A,p.push(g)}return p.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),m}},sC=function e(t,n){Object(Jr.a)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.numSegments,s=o*Math.ceil(i/r);this.outputShape=[a,s];var u=4*Math.floor(r/4),c=r%4,l="\n        sumValue += dot(values, segFilter);\n    ",d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      "));var p="";i%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(p,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")};for(var uC=0,cC=[tw,rw,iw,sw,lw,hw,fw,mw,yw,bw,ww,kw,Ew,Cw,Iw,Nw,Dw,Lw,Fw,Bw,Vw,Xw,Qw,Zw,Jw,i_,u_,d_,Ox,f_,w_,I_,R_,L_,F_,B_,U_,W_,H_,K_,Z_,J_,ek,nk,ik,uk,ck,dk,hk,fk,vk,gk,yk,xk,_k,Ok,Ck,jk,Rk,Lk,zk,Vk,Hk,Kk,Xk,Yk,Jk,tO,rO,_x,aO,y_,oO,uO,lO,Cx,pO,fO,mO,gO,yO,xO,_O,OO,CO,IO,MO,DO,RO,PO,BO,zO,UO,VO,WO,HO,XO,YO,iE,zx,uE,lE,pE,fE,t_,vE,yE,bE,kE,EE,jx,SE,CE,TE,IE,ME,r_,JO,DE,PE,FE,Vx,UE,WE,qE,XE,$E,JE,tS,rS,oS,uS,lS,pS,fS,vS,AS,bS,Kw,aE,wS,_S,kS,OS,ES,SS,CS,TS,MS,DS,PS,LS,FS,zS,US,VS,WS,nE,Yx,HS,KS,XS,$S,nC,aC,Zx,iC,oC,{kernelName:i.td,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,s=r.numSegments,u=a.shape.length,c=[],l=0,d=i.Ed.getAxesPermutation([l],u),p=a;null!=d&&(p=$x({inputs:{x:a},backend:n,attrs:{perm:d}}),c.push(p),l=i.Ed.getInnerMostAxes(1,u)[0]);var h=i.Ed.segment_util.computeOutShape(p.shape,l,s),f=i.Lf.sizeFromShape([p.shape[l]]),m=Ux({inputs:{x:p},backend:n,attrs:{shape:[-1,f]}});c.push(m);var v=Ux({inputs:{x:function e(t,r,a,o,s){var u=t.shape[0],l=t.shape[1],d=i.Ed.segment_util.segOpComputeOptimalWindowSize(l,s),p=new sC({windowSize:d,inSize:l,batchSize:u,numSegments:s},r),h=n.compileAndRun(p,[t,a],o);if(c.push(h),h.shape[1]===s)return h;var f=jE({backend:n,attrs:{start:0,stop:s,step:1,dtype:"float32"}}),m=YS({inputs:{x:f},backend:n,attrs:{reps:[l/d]}});return c.push(f),c.push(m),e(h,r,m,o,s)}(m,"unsortedSegmentSum",o,Object(i.yf)(a.dtype),s)},backend:n,attrs:{shape:h}}),g=v;if(null!=d){c.push(v);var A=i.Ed.getUndoAxesPermutation(d);g=$x({inputs:{x:g},backend:n,attrs:{perm:A}})}return c.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),g}},AE];uC<cC.length;uC++){var lC=cC[uC];Object(i.af)(lC)}n.d(t,"c",function(){return i.Cf}),n.d(t,"b",function(){return Hs}),n.d(t,"a",function(){return r});i.Of},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(45),o=n.n(i),s=n(15),u=n.n(s),c=n(1),l=n.n(c),d=n(52),p=n.n(d),h=n(14),f=n(40),m=n(22),v=n(806),g=n(231),A=n(66),y=n.n(A),b=n(57),x=n.n(b),w=n(58),_=n.n(w),k=n(59),O=n.n(k),E=n(60),S=n.n(E),C=n(61),T=n.n(C),I=n(834),j=n(190);var M=function(e){var t=e.classes,n=e.className,r=e.pulsate,i=void 0!==r&&r,s=e.rippleX,c=e.rippleY,d=e.rippleSize,p=u()(e,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),f=l.a.useState(!1),m=o()(f,2),v=m[0],g=m[1],A=l.a.useState(!1),y=o()(A,2),b=y[0],x=y[1],w=Object(h.a)(t.ripple,n,v&&t.rippleVisible,i&&t.ripplePulsate),_={width:d,height:d,top:-d/2+c,left:-d/2+s},k=Object(h.a)(t.child,b&&t.childLeaving,i&&t.childPulsate);return l.a.createElement(j.a,a()({onEnter:function(){g(!0)},onExit:function(){x(!0)}},p),l.a.createElement("span",{className:w,style:_},l.a.createElement("span",{className:k})))},N=550,D=80,R=function(e){function t(){var e,n;x()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=O()(this,(e=S()(t)).call.apply(e,[this].concat(a)))).state={nextKey:0,ripples:[]},n.container=l.a.createRef(),n.pulsate=function(){n.start({},{pulsate:!0})},n.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=t.pulsate,i=void 0!==a&&a,o=t.center,s=void 0===o?n.props.center||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&n.ignoringMouseDown)n.ignoringMouseDown=!1;else{"touchstart"===e.type&&(n.ignoringMouseDown=!0);var l,d,p,h=c?null:n.container.current,f=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(f.width/2),d=Math.round(f.height/2);else{var m=e.clientX?e.clientX:e.touches[0].clientX,v=e.clientY?e.clientY:e.touches[0].clientY;l=Math.round(m-f.left),d=Math.round(v-f.top)}if(s)(p=Math.sqrt((2*Math.pow(f.width,2)+Math.pow(f.height,2))/3))%2===0&&(p+=1);else{var g=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,A=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;p=Math.sqrt(Math.pow(g,2)+Math.pow(A,2))}e.touches?(n.startTimerCommit=function(){n.startCommit({pulsate:i,rippleX:l,rippleY:d,rippleSize:p,cb:r})},n.startTimer=setTimeout(function(){n.startTimerCommit&&(n.startTimerCommit(),n.startTimerCommit=null)},D)):n.startCommit({pulsate:i,rippleX:l,rippleY:d,rippleSize:p,cb:r})}},n.startCommit=function(e){var t=e.pulsate,r=e.rippleX,a=e.rippleY,i=e.rippleSize,o=e.cb;n.setState(function(e){return{nextKey:e.nextKey+1,ripples:[].concat(y()(e.ripples),[l.a.createElement(M,{key:e.nextKey,classes:n.props.classes,timeout:{exit:N,enter:N},pulsate:t,rippleX:r,rippleY:a,rippleSize:i})])}},o)},n.stop=function(e,t){clearTimeout(n.startTimer);var r=n.state.ripples;if("touchend"===e.type&&n.startTimerCommit)return e.persist(),n.startTimerCommit(),n.startTimerCommit=null,void(n.startTimer=setTimeout(function(){n.stop(e,t)}));n.startTimerCommit=null,r&&r.length&&n.setState({ripples:r.slice(1)},t)},n}return T()(t,e),_()(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimer)}},{key:"render",value:function(){var e=this.props,t=(e.center,e.classes),n=e.className,r=u()(e,["center","classes","className"]);return l.a.createElement("span",a()({className:Object(h.a)(t.root,n),ref:this.container},r),l.a.createElement(I.a,{component:null,enter:!0,exit:!0},this.state.ripples))}}]),t}(l.a.PureComponent);R.defaultProps={center:!1};var P=Object(m.a)(function(e){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter ".concat(N,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-enter"},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"mui-ripple-exit ".concat(N,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-exit"},childPulsate:{position:"absolute",left:0,top:0,animation:"mui-ripple-pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite"),animationName:"$mui-ripple-pulsate"},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},{flip:!1,name:"MuiTouchRipple"})(R),L="undefined"!==typeof window?l.a.useLayoutEffect:l.a.useEffect;function F(e){var t=l.a.useRef(e);return L(function(){t.current=e}),l.a.useCallback(function(e){return(0,t.current)(e)},[])}var B=l.a.forwardRef(function(e,t){var n=e.action,r=e.buttonRef,i=e.centerRipple,s=void 0!==i&&i,c=e.children,d=e.classes,m=e.className,A=e.component,y=void 0===A?"button":A,b=e.disabled,x=e.disableRipple,w=void 0!==x&&x,_=e.disableTouchRipple,k=void 0!==_&&_,O=e.focusRipple,E=void 0!==O&&O,S=e.focusVisibleClassName,C=e.onBlur,T=e.onClick,I=e.onFocus,j=e.onFocusVisible,M=e.onKeyDown,N=e.onKeyUp,D=e.onMouseDown,R=e.onMouseLeave,L=e.onMouseUp,B=e.onTouchEnd,z=e.onTouchMove,U=e.onTouchStart,V=e.onDragEnd,W=e.tabIndex,G=void 0===W?0:W,H=e.TouchRippleProps,q=e.type,K=void 0===q?"button":q,X=u()(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragEnd","tabIndex","TouchRippleProps","type"]),Q=l.a.useRef(null);var Y=l.a.useRef(null),$=l.a.useState(!1),Z=o()($,2),J=Z[0],ee=Z[1];b&&J&&ee(!1);var te=Object(g.a)(),ne=te.isFocusVisible,re=te.onBlurVisible,ae=te.ref;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return F(function(r){return t&&t(r),!(r.defaultPrevented||n)&&Y.current&&Y.current[e](r),!0})}l.a.useImperativeHandle(n,function(){return{focusVisible:function(){ee(!0),Q.current.focus()}}},[]),l.a.useEffect(function(){J&&E&&!w&&Y.current.pulsate()},[w,E,J]);var oe=ie("start",D),se=ie("stop",V),ue=ie("stop",L),ce=ie("stop",function(e){J&&e.preventDefault(),R&&R(e)}),le=ie("start",U),de=ie("stop",B),pe=ie("stop",z),he=ie("stop",function(e){J&&(re(e),ee(!1)),C&&C(e)},!1),fe=F(function(e){b||(Q.current||(Q.current=e.currentTarget),ne(e)&&(ee(!0),j&&j(e)),I&&I(e))}),me=l.a.useRef(!1),ve=F(function(e){E&&!me.current&&J&&Y.current&&" "===e.key&&(me.current=!0,e.persist(),Y.current.stop(e,function(){Y.current.start(e)})),M&&M(e);var t=p.a.findDOMNode(Q.current);e.target!==e.currentTarget||!y||"button"===y||" "!==e.key&&"Enter"!==e.key||"A"===t.tagName&&t.href||(e.preventDefault(),T&&T(e))}),ge=F(function(e){E&&" "===e.key&&Y.current&&J&&(me.current=!1,e.persist(),Y.current.stop(e,function(){Y.current.pulsate(e)})),N&&N(e)}),Ae=Object(h.a)(d.root,m,J&&[d.focusVisible,S],b&&d.disabled),ye=y;"button"===ye&&X.href&&(ye="a");var be={};"button"===ye?(be.type=K,be.disabled=b):(be.role="button",be["aria-disabled"]=b);var xe=Object(f.c)(r,t),we=Object(f.c)(ae,Q),_e=Object(f.c)(xe,we);return l.a.createElement(ye,a()({className:Ae,onBlur:he,onClick:T,onFocus:fe,onKeyDown:ve,onKeyUp:ge,onMouseDown:oe,onMouseLeave:ce,onMouseUp:ue,onDragEnd:se,onTouchEnd:de,onTouchMove:pe,onTouchStart:le,ref:_e,tabIndex:b?-1:G},be,X),c,w||b?null:l.a.createElement(v.a,null,l.a.createElement(P,a()({ref:Y,center:s},H))))});t.a=Object(m.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(B)},,,function(e,t,n){"use strict";(function(e){n(10);var t=n(269),r=n(42),a=Object(r.b)();a.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),a.registerFlag("IS_BROWSER",function(){return t.isBrowser()}),a.registerFlag("IS_NODE",function(){return"undefined"!==typeof e&&"undefined"!==typeof e.versions&&"undefined"!==typeof e.versions.node}),a.registerFlag("IS_CHROME",function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),a.registerFlag("IS_SAFARI",function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)}),a.registerFlag("PROD",function(){return!1}),a.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return a.getBool("DEBUG")}),a.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),a.registerFlag("IS_TEST",function(){return!1}),a.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",function(){return a.getBool("DEBUG")}),a.registerFlag("WRAP_TO_IMAGEBITMAP",function(){return!1}),a.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",function(){return!1}),a.registerFlag("USE_SETTIMEOUTCUSTOM",function(){return!1})}).call(this,n(197))},function(e,t,n){"use strict";e.exports=n(545)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(5),a=n(11),i=function(){function e(t,n){Object(r.a)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return Object(a.a)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"refCount",value:function(e){return s("refCount")}},{key:"incRef",value:function(e){return s("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return s("time")}},{key:"read",value:function(e){return s("read")}},{key:"readSync",value:function(e){return s("readSync")}},{key:"readToGPU",value:function(e,t){return s("readToGPU")}},{key:"numDataIds",value:function(){return s("numDataIds")}},{key:"disposeData",value:function(e,t){return s("disposeData")}},{key:"write",value:function(e,t,n){return s("write")}},{key:"move",value:function(e,t,n,r,a){return s("move")}},{key:"createTensorFromGPUData",value:function(e,t,n){return s("createTensorFromGPUData")}},{key:"memory",value:function(){return s("memory")}},{key:"floatPrecision",value:function(){return s("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return s("dispose")}}]),e}();function s(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({tanh_:function(e){var t={x:Object(i.a)(e,"x","tanh","float32")};return r.a.runKernel(a.id,t)}})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=1.7580993408473768,a=1.0507009873554805},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"copyModel",function(){return X.b}),n.d(r,"listModels",function(){return X.c}),n.d(r,"moveModel",function(){return X.d}),n.d(r,"removeModel",function(){return X.e}),n.d(r,"browserFiles",function(){return k}),n.d(r,"browserHTTPRequest",function(){return B}),n.d(r,"CompositeArrayBuffer",function(){return g.a}),n.d(r,"concatenateArrayBuffers",function(){return m.d}),n.d(r,"decodeWeights",function(){return m.e}),n.d(r,"encodeWeights",function(){return m.f}),n.d(r,"fromMemory",function(){return W}),n.d(r,"fromMemorySync",function(){return G}),n.d(r,"getLoadHandlers",function(){return v.b}),n.d(r,"getModelArtifactsForJSON",function(){return m.g}),n.d(r,"getModelArtifactsForJSONSync",function(){return m.h}),n.d(r,"getModelArtifactsInfoForJSON",function(){return m.i}),n.d(r,"getSaveHandlers",function(){return v.c}),n.d(r,"getWeightSpecs",function(){return m.k}),n.d(r,"http",function(){return F}),n.d(r,"isHTTPScheme",function(){return P}),n.d(r,"loadWeights",function(){return j}),n.d(r,"registerLoadRouter",function(){return v.d}),n.d(r,"registerSaveRouter",function(){return v.e}),n.d(r,"weightsLoaderFactory",function(){return N}),n.d(r,"withSaveHandler",function(){return H}),n.d(r,"withSaveHandlerSync",function(){return q});var a={};n.r(a),n.d(a,"fromPixelsAsync",function(){return se}),n.d(a,"toPixels",function(){return le}),n.d(a,"draw",function(){return pe}),n.d(a,"fromPixels",function(){return he});var i={};n.r(i),n.d(i,"segOpComputeOptimalWindowSize",function(){return Lt}),n.d(i,"computeOutShape",function(){return Ft}),n.d(i,"collectGatherOpShapeInfo",function(){return Bt});var o={};n.r(o),n.d(o,"slice_util",function(){return fe}),n.d(o,"upcastType",function(){return ye.d}),n.d(o,"segment_util",function(){return i}),n.d(o,"fromUint8ToStringArray",function(){return zt}),n.d(o,"fromStringArrayToUint8",function(){return Ut}),n.d(o,"axesAreInnerMostDims",function(){return Me.b}),n.d(o,"combineLocations",function(){return Me.c}),n.d(o,"computeOutAndReduceShapes",function(){return Me.d}),n.d(o,"expandShapeToKeepDim",function(){return Me.e}),n.d(o,"assertAxesAreInnerMostDims",function(){return Me.a}),n.d(o,"getAxesPermutation",function(){return Me.f}),n.d(o,"getUndoAxesPermutation",function(){return Me.h}),n.d(o,"getInnerMostAxes",function(){return Me.g}),n.d(o,"getBroadcastDims",function(){return Q.getBroadcastDims}),n.d(o,"getReductionAxes",function(){return Q.getReductionAxes}),n.d(o,"assertAndGetBroadcastShape",function(){return Q.assertAndGetBroadcastShape}),n.d(o,"assertParamsConsistent",function(){return Ne}),n.d(o,"computeOutShape",function(){return De}),n.d(o,"computeDilation2DInfo",function(){return Pe.e}),n.d(o,"computePool2DInfo",function(){return Pe.f}),n.d(o,"computePool3DInfo",function(){return Pe.g}),n.d(o,"computeConv2DInfo",function(){return Pe.b}),n.d(o,"computeConv3DInfo",function(){return Pe.c}),n.d(o,"computeDefaultPad",function(){return Pe.d}),n.d(o,"tupleValuesAreOne",function(){return Pe.k}),n.d(o,"eitherStridesOrDilationsAreOne",function(){return Pe.i}),n.d(o,"stridesOrDilationsArePositive",function(){return Pe.j}),n.d(o,"convertConv2DDataFormat",function(){return Pe.h}),n.d(o,"checkPadOnDimRoundingMode",function(){return Pe.a}),n.d(o,"getFusedDyActivation",function(){return Le.c}),n.d(o,"getFusedBiasGradient",function(){return Le.b}),n.d(o,"applyActivation",function(){return Le.a}),n.d(o,"shouldFuse",function(){return Le.d}),n.d(o,"RowPartitionType",function(){return Re}),n.d(o,"combineRaggedTensorToTensorShapes",function(){return Fe}),n.d(o,"getRowPartitionTypesHelper",function(){return Be}),n.d(o,"getRaggedRank",function(){return ze}),n.d(o,"validateDefaultValueShape",function(){return Ue}),n.d(o,"PARALLELIZE_THRESHOLD",function(){return Ve}),n.d(o,"computeOptimalWindowSize",function(){return We}),n.d(o,"getImageCenter",function(){return Ge}),n.d(o,"getReshaped",function(){return He}),n.d(o,"getPermuted",function(){return qe}),n.d(o,"getReshapedPermuted",function(){return Ke}),n.d(o,"getSliceBeginCoords",function(){return Xe}),n.d(o,"getSliceSize",function(){return Qe}),n.d(o,"prepareAndValidate",function(){return Ye}),n.d(o,"validateUpdateShape",function(){return $e.c}),n.d(o,"validateInput",function(){return $e.b}),n.d(o,"calculateShapes",function(){return $e.a}),n.d(o,"SELU_SCALEALPHA",function(){return Ze.b}),n.d(o,"SELU_SCALE",function(){return Ze.a}),n.d(o,"ERF_P",function(){return Je}),n.d(o,"ERF_A1",function(){return et}),n.d(o,"ERF_A2",function(){return tt}),n.d(o,"ERF_A3",function(){return nt}),n.d(o,"ERF_A4",function(){return rt}),n.d(o,"ERF_A5",function(){return at}),n.d(o,"warn",function(){return it.b}),n.d(o,"log",function(){return it.a}),n.d(o,"mergeRealAndImagArrays",function(){return ot}),n.d(o,"splitRealAndImagArrays",function(){return st}),n.d(o,"complexWithEvenIndex",function(){return ut}),n.d(o,"complexWithOddIndex",function(){return ct}),n.d(o,"getComplexWithIndex",function(){return lt}),n.d(o,"assignToTypedArray",function(){return dt}),n.d(o,"exponents",function(){return pt}),n.d(o,"exponent",function(){return ht}),n.d(o,"decodeEinsumEquation",function(){return At}),n.d(o,"getEinsumPermutation",function(){return yt}),n.d(o,"checkEinsumDimSizes",function(){return bt}),n.d(o,"getEinsumComputePath",function(){return xt}),n.d(o,"isIdentityPermutation",function(){return wt}),n.d(o,"prepareSplitSize",function(){return kt}),n.d(o,"getSparseFillEmptyRowsIndicesDenseShapeMismatch",function(){return Ot}),n.d(o,"getSparseFillEmptyRowsNegativeIndexErrorMessage",function(){return Et}),n.d(o,"getSparseFillEmptyRowsOutOfRangeIndexErrorMessage",function(){return St}),n.d(o,"getSparseReshapeMultipleNegativeOneOutputDimErrorMessage",function(){return Ct}),n.d(o,"getSparseReshapeNegativeOutputDimErrorMessage",function(){return Tt}),n.d(o,"getSparseReshapeEmptyTensorZeroOutputDimErrorMessage",function(){return It}),n.d(o,"getSparseReshapeInputOutputMultipleErrorMessage",function(){return jt}),n.d(o,"getSparseReshapeInputOutputMismatchErrorMessage",function(){return Mt}),n.d(o,"getSparseSegmentReductionNegativeSegmentIdsErrorMessage",function(){return Nt}),n.d(o,"getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage",function(){return Dt}),n.d(o,"getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage",function(){return Rt}),n.d(o,"getSparseSegmentReductionIndicesOutOfRangeErrorMessage",function(){return Pt});var s={};n.r(s),n.d(s,"nonMaxSuppressionV3Impl",function(){return Wt.a}),n.d(s,"nonMaxSuppressionV4Impl",function(){return Wt.b}),n.d(s,"nonMaxSuppressionV5Impl",function(){return Wt.c}),n.d(s,"whereImpl",function(){return Gt.a});n(329),n(330);var u=n(25),c=n(7),l=n.n(c),d=n(16),p=n(5),h=n(11),f=(n(244),n(42)),m=n(64),v=n(80),g=n(95),A="model",y=".json",b=".weights.bin";function x(e){return new Promise(function(e){return setTimeout(e)}).then(e)}var w=function(){function e(t){if(Object(p.a)(this,e),!Object(f.b)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t=A),this.modelJsonFileName=t+y,this.weightDataFileName=t+b}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var n,r,a,i,o,s,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=g.a.join(t.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=8;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 8:return a=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],i=Object(m.j)(t,a),o=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),(s=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,s.href=o,e.next=16,x(function(){return s.dispatchEvent(new MouseEvent("click"))});case 16:if(null==t.weightData){e.next=22;break}return(u=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,u.href=r,e.next=22,x(function(){return u.dispatchEvent(new MouseEvent("click"))});case 22:return e.abrupt("return",{modelArtifactsInfo:Object(m.i)(t)});case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();w.URL_SCHEME="downloads://";var _=function(){function e(t){if(Object(p.a)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return Object(h.a)(e,[{key:"load",value:function(){var e=Object(d.a)(l.a.mark(function e(){var t=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var r=new FileReader;r.onload=function(r){var a=JSON.parse(r.target.result),i=a.modelTopology;if(null!=i)if(null!=a.weightsManifest)if(0!==t.weightsFiles.length){var o=Object(m.g)(a,function(e){return t.loadWeights(e)});e(o)}else e({modelTopology:i});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t=this,n=[],r=[],a=!0,i=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;n.push.apply(n,Object(u.a)(l.weights)),r.push.apply(r,Object(u.a)(l.paths))}}catch(h){i=!0,o=h}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}var d=this.checkManifestAndWeightFiles(e),p=r.map(function(e){return t.loadWeightsFile(e,d[e])});return Promise.all(p).then(function(e){return[n,e]})}},{key:"loadWeightsFile",value:function(e,t){return new Promise(function(n,r){var a=new FileReader;a.onload=function(e){var t=e.target.result;n(t)},a.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)})}},{key:"checkManifestAndWeightFiles",value:function(e){var t=this,n=[],r=this.weightsFiles.map(function(e){return Object(m.c)(e.name)}),a={},i=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){u.value.paths.forEach(function(e){var i=Object(m.c)(e);if(-1!==n.indexOf(i))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(i,"'"));if(n.push(i),-1===r.indexOf(i))throw new Error("Weight file with basename '".concat(i,"' is not provided."));a[e]=t.weightsFiles[r.indexOf(i)]})}}catch(l){o=!0,s=l}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}if(n.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(n.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}]),e}();function k(e){return new _(e)}v.a.registerSaveRouter(function(e){return Object(f.b)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(w.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new w(e)}(e.slice(w.URL_SCHEME.length)):null});var O=n(6),E=n(20);function S(e,t,n,r){!function(e){Object(E.c)(null!=e&&Array.isArray(e)&&e.length>0,function(){return"promises must be a none empty array"})}(e),function(e,t){Object(E.c)(e>=0&&e<=1,function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)}),Object(E.c)(t>=0&&t<=1,function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)}),Object(E.c)(t>=e,function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)})}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map(function(i){return i.then(function(i){var o=n+ ++a/e.length*(r-n);return t(o),i}),i}))}var C=n(252);function T(e,t){return I.apply(this,arguments)}function I(){return(I=Object(d.a)(l.a.mark(function e(t,n){var r,a,i,o,s,u,c,d,p;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?Object(f.b)().platform.fetch:n.fetchFunc,a=t.map(function(e){return r(e,n.requestInit,{isBinary:!0})}),i=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,S(a,n.onProgress,i,o);case 13:e.t0=e.sent;case 14:if(s=e.t0,u=s.map(function(e){return e.arrayBuffer()}),c=.5,d=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(u);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,S(u,n.onProgress,c,d);case 26:e.t1=e.sent;case 27:return p=e.t1,e.abrupt("return",p);case 29:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(e){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(l.a.mark(function e(t){var n,r,a,i,o=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,a=o.length>3?o[3]:void 0,i=N(function(e){return T(e,{requestInit:a})}),e.abrupt("return",i(t,n,r));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e){return function(){var t=Object(d.a)(l.a.mark(function t(n){var r,a,i,o,s,u,c,d,p,h,f,v,A=arguments;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=A.length>1&&void 0!==A[1]?A[1]:"",a=A.length>2?A[2]:void 0,i=n.map(function(){return!1}),o={},s=null!=a?a.map(function(){return!1}):[],u=[],n.forEach(function(e,t){var n=0;e.weights.forEach(function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,c=C.a[r]*E.O(e.shape),l=function(){i[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=a?a.forEach(function(t,n){t===e.name&&(l(),s[n]=!0)}):l(),u.push(e.name),n+=c})}),s.every(function(e){return e})){t.next=10;break}throw c=a.filter(function(e,t){return!s[t]}),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(u.join(", "),"."));case 10:return d=i.reduce(function(e,t,n){return t&&e.push(n),e},[]),p=[],d.forEach(function(e){n[e].paths.forEach(function(e){var t=r+(r.endsWith("/")?"":"/")+e;p.push(t)})}),t.next=15,e(p);case 15:return h=t.sent,f={},v=0,d.forEach(function(e){var t=n[e].paths.length,r=new g.a(h.slice(v,v+t));o[e].forEach(function(e){var t=r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),n=Object(m.e)(t,[e.manifestEntry]);for(var a in n)f[a]=n[a]}),v+=t}),t.abrupt("return",f);case 20:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}var D=function(){function e(t,n){if(Object(p.a)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(Object(E.c)("function"===typeof n.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=n.fetchFunc):this.fetch=Object(f.b)().platform.fetch,Object(E.c)(null!=t&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&Object(E.c)(2===t.length,function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")}),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return Object(h.a)(e,[{key:"save",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var n,r,a,i,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=Object(m.j)(t,r),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&(i=g.a.join(t.weightData),n.body.append("model.weights.bin",new Blob([i],{type:"application/octet-stream"}),"model.weights.bin")),e.next=10,this.fetch(this.path,n);case 10:if(!(o=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:Object(m.i)(t),responses:[o]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(o.status,"."));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(d.a)(l.a.mark(function e(){var t,n,r,a,i,o=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,i=n.weightsManifest,null!=a||null!=i){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",Object(m.g)(n,function(e){return o.loadWeights(e)}));case 21:case"end":return e.stop()}},e,this,[[5,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var n,r,a,i,o,s,c,d,p,h,f,v,g,A,y,b,x,w,_,k,E,S;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=R(n),a=Object(O.a)(r,2),i=a[0],o=a[1],s=this.weightPathPrefix||i,c=Object(m.k)(t),d=[],p=[],h=!0,f=!1,v=void 0,e.prev=9,g=t[Symbol.iterator]();case 11:if(h=(A=g.next()).done){e.next=35;break}for(y=A.value,b=!0,x=!1,w=void 0,e.prev=16,_=y.paths[Symbol.iterator]();!(b=(k=_.next()).done);b=!0)E=k.value,null!=this.weightUrlConverter?p.push(this.weightUrlConverter(E)):d.push(s+E+o);e.next=24;break;case 20:e.prev=20,e.t0=e.catch(16),x=!0,w=e.t0;case 24:e.prev=24,e.prev=25,b||null==_.return||_.return();case 27:if(e.prev=27,!x){e.next=30;break}throw w;case 30:return e.finish(27);case 31:return e.finish(24);case 32:h=!0,e.next=11;break;case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(9),f=!0,v=e.t1;case 41:e.prev=41,e.prev=42,h||null==g.return||g.return();case 44:if(e.prev=44,!f){e.next=47;break}throw v;case 47:return e.finish(44);case 48:return e.finish(41);case 49:if(!this.weightUrlConverter){e.next=58;break}return e.t2=d.push,e.t3=d,e.t4=u.a,e.next=55,Promise.all(p);case 55:e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.t2.apply.call(e.t2,e.t3,e.t6);case 58:return e.next=60,T(d,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 60:return S=e.sent,e.abrupt("return",[c,S]);case 62:case"end":return e.stop()}},e,this,[[9,37,41,49],[16,20,24,32],[25,,27,31],[42,,44,48]])}));return function(t){return e.apply(this,arguments)}}()}]),e}();function R(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function P(e){return null!=e.match(D.URL_SCHEME_REGEX)}D.URL_SCHEME_REGEX=/^https?:\/\//;var L=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every(function(e){return P(e)}):P(e))?F(e,t):null};function F(e,t){return new D(e,t)}function B(e,t){return F(e,t)}v.a.registerSaveRouter(L),v.a.registerLoadRouter(L);var z=function(){function e(t){Object(p.a)(this,e),this.modelArtifacts=t}return Object(h.a)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),U=function(){function e(t){Object(p.a)(this,e),this.saveHandler=t}return Object(h.a)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),V=function e(t){Object(p.a)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})};function W(e,t,n,r){var a=arguments;return new V(G.apply(void 0,Object(u.a)(a)))}function G(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new z(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new z({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new z({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function H(e){return new U(e)}function q(e){return new U(e)}var K,X=n(161),Q=n(35),Y=n(10),$=n(4),Z=n(109),J=n(13),ee=n(3),te=n(28),ne=n(8),re=n(300),ae=!1;function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(null!=Object(Z.b)($.mb,Y.a.backendName)){var u={pixels:e},c={numChannels:t};return Y.a.runKernel($.mb,u,c)}var l,d,p=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],h=Object(O.a)(p,2),f=h[0],m=h[1];if(o)l=e.getContext("2d").getImageData(0,0,f,m).data;else if(r||n)l=e.data;else if(i||a||s){if(null==K)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");K=new OffscreenCanvas(1,1).getContext("2d")}else K=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});K.canvas.width=f,K.canvas.height=m,K.drawImage(e,0,0,f,m),l=K.getImageData(0,0,f,m).data}if(4===t)d=new Int32Array(l);else{var v=f*m;d=new Int32Array(v*t);for(var g=0;g<v;g++)for(var A=0;A<t;++A)d[g*t+A]=l[4*g+A]}var y=[m,f,t];return Object(re.a)(d,y,"int32")}function oe(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function se(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(d.a)(l.a.mark(function e(t){var n,r,a,i=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:3,r=null,!Object(f.b)().getBool("WRAP_TO_IMAGEBITMAP")||!oe(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=null;case 12:r=null!=a&&a.width===t.width&&a.height===t.height?a:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",ie(r,n));case 17:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function ce(e){if(2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(e.rank,"."));var t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(t));if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error("Unsupported type for toPixels: ".concat(e.dtype,".")+" Please use float32 or int32 tensors.")}function le(e,t){return de.apply(this,arguments)}function de(){return(de=Object(d.a)(l.a.mark(function e(t,n){var r,a,i,o,s,u,c,d,p,h,f,m,v,g,A,y,b;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ee.a)(t,"img","toPixels"),t instanceof J.a||(a=r,r=Object(te.a)(a,"int32"),a.dispose()),ce(r),i=r.shape.slice(0,2),o=Object(O.a)(i,2),s=o[0],u=o[1],c=2===r.rank?1:r.shape[2],e.next=7,r.data();case 7:d=e.sent,p="float32"===r.dtype?255:1,h=new Uint8ClampedArray(u*s*4),f=0;case 11:if(!(f<s*u)){e.next=36;break}m=[0,0,0,255],v=0;case 14:if(!(v<c)){e.next=28;break}if(g=d[f*c+v],"float32"!==r.dtype){e.next=21;break}if(!(g<0||g>1)){e.next=19;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(g,"."));case 19:e.next=24;break;case 21:if("int32"!==r.dtype){e.next=24;break}if(!(g<0||g>255)){e.next=24;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(g,"."));case 24:1===c?(m[0]=g*p,m[1]=g*p,m[2]=g*p):m[v]=g*p;case 25:v++,e.next=14;break;case 28:h[(A=4*f)+0]=Math.round(m[0]),h[A+1]=Math.round(m[1]),h[A+2]=Math.round(m[2]),h[A+3]=Math.round(m[3]);case 33:++f,e.next=11;break;case 36:return null!=n&&(ae||null!=Object(Z.b)($.Y,Y.a.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),ae=!0),n.width=u,n.height=s,y=n.getContext("2d"),b=new ImageData(h,u,s),y.putImageData(b,0,0)),r!==t&&r.dispose(),e.abrupt("return",h);case 39:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(e,t,n){var r=Object(ee.a)(e,"img","draw");if(!(e instanceof J.a)){var a=r;r=Object(te.a)(a,"int32"),a.dispose()}ce(r),function(e){var t=(null===e||void 0===e?void 0:e.alpha)||1;if(t>1||t<0)throw new Error("Alpha value ".concat(t," is suppoed to be in range [0 - 1]."))}(null===n||void 0===n?void 0:n.imageOptions);var i={image:r},o={canvas:t,options:n};Y.a.runKernel($.Y,i,o)}var he=Object(ne.b)({fromPixels_:ie}),fe=n(199),me=n(202),ve=n(47),ge=n(24),Ae=n(105),ye=n(103),be=n(44),xe=n(200),we=n(203),_e=n(204),ke=n(205),Oe=n(206),Ee=n(207),Se=n(164),Ce=function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,null,[{key:"sgd",value:function(e){return new Se.a(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Oe.a(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Ee.a(e,t,n,r,a)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new _e.a(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new xe.a(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new ke.a(e,t,n,r,a)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new we.a(e,t)}}]),e}(),Te=n(49),Ie=n(69),je=n(450),Me=n(74);function Ne(e,t){var n=e[0].length;e.forEach(function(e,t){E.c(e.length===n,function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")})}),E.c(t>=0&&t<n,function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")});var r=e[0];e.forEach(function(e,a){for(var i=0;i<n;i++)E.c(i===t||e[i]===r[i],function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")})})}function De(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var Re,Pe=n(43),Le=n(83);function Fe(e,t,n){var r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(r.length));for(var a=1;a<n.length;++a){var i=n[a],o=r[r.length-n.length+a],s=r[o];if(i>=0)if(s>=0){if(s!==i)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(a+e,"] = ").concat(i," but shape[").concat(a+e,"] = ").concat(s))}else r[o]=i}return r}function Be(e){var t={FIRST_DIM_SIZE:Re.FIRST_DIM_SIZE,VALUE_ROWIDS:Re.VALUE_ROWIDS,ROW_LENGTHS:Re.ROW_LENGTHS,ROW_SPLITS:Re.ROW_SPLITS,ROW_LIMITS:Re.ROW_LIMITS,ROW_STARTS:Re.ROW_STARTS},n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(!(u in t))break;n.push(t[u])}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}function ze(e){return 0===e.length?0:e[0]===Re.FIRST_DIM_SIZE?e.length-1:e.length}function Ue(e,t){if(null!=e&&null!=t){var n=e.length,r=t.length;if(n>=r)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(r,")"));for(var a=0;a<Math.min(n,r-1);++a){var i=e[a],o=t[a+1];if(i>=0&&o>=0&&1!==i&&i!==o)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(a-e.length,"] = ").concat(i," but ragged tensor input.flatValues.shape[").concat(a-e.length,"] = ").concat(o))}}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(Re||(Re={}));var Ve=30;function We(e){return e<=Ve?e:Object(E.G)(e,Math.floor(Math.sqrt(e)))}function Ge(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function He(e,t,n){var r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])(r=r.concat(t.slice(0))).push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);for(var a=t.length,i=0;i<a;++i)r=r.concat([e[i+1]/t[i],t[i]]);r=r.concat(e.slice(a+1))}return r}function qe(e,t){var n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(var r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{for(var a=[],i=[],o=1;o<e;++o)o>=2*t+1||o%2===1?i.push(o):a.push(o);n.push.apply(n,a),n.push(0),n.push.apply(n,i)}return n}function Ke(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function Xe(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Qe(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function Ye(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===Object(E.O)(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,i=a[a.length-1],o=1,s=0;s<a.length-1;++s)o*=a[s];var c=e.shape,l=a.slice();l.pop();for(var d=1,p=i;p<n;++p)d*=c[p],l.push(c[p]);var h=[].concat(Object(u.a)(Object(E.k)(e.shape).map(function(e){return e/d})),[1]).slice(0,i);return[l,o,d,h]}var $e=n(162),Ze=n(248),Je=.3275911,et=.254829592,tt=-.284496736,nt=1.421413741,rt=-1.453152027,at=1.061405429,it=n(133);function ot(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function st(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function ut(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function ct(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function lt(e,t){return{real:e[2*t],imag:e[2*t+1]}}function dt(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function pt(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function ht(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var ft="->",mt=/->/g,vt=",",gt="...";function At(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(mt,"").length)/ft.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(ft,'").'));var r=e.split(ft),a=Object(O.a)(r,2),i=a[0],o=a[1];Object(E.c)(-1===i.indexOf(gt),function(){return'The ellipsis notation ("'.concat(gt,'") is not supported yet.')});var s=i.split(vt),u=s.length;if(t!==u)throw new Error("Expected ".concat(u," input tensors, received ").concat(t));if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],l=function(e){var t=o[e];if(!s.some(function(e){return-1!==e.indexOf(t)}))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===c.indexOf(t)&&c.push(t)},d=0;d<o.length;++d)l(d);for(d=0;d<i.length;++d){var p=i[d];-1===c.indexOf(p)&&p!==vt&&c.push(p)}for(var h=new Array(s.length),f=0;f<u;++f){if(new Set(s[f].split("")).size!==s[f].length)throw new Error("Found duplicate axes in input component ".concat(s[f],". ")+"Support for duplicate axes in input is not implemented yet.");h[f]=[];for(var m=0;m<s[f].length;++m)h[f].push(c.indexOf(s[f][m]))}for(var v=c.length,g=[],A=o.length;A<v;++A)g.push(A);return{allDims:c,summedDims:g,idDims:h}}function yt(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var a=[],i=0;i<e;++i)-1===n[i]&&a.push(i);return{permutationIndices:n=n.filter(function(e){return-1!==e}),expandDims:a}}function bt(e,t,n){for(var r=new Array(e),a=function(e){for(var a=n[e].shape,i=function(n){void 0===r[t[e][n]]?r[t[e][n]]=a[n]:Object(E.c)(r[t[e][n]]===a[n],function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(a),", ")+"but got dimension ".concat(a[n])})},o=0;o<t[e].length;++o)i(o)},i=0;i<n.length;++i)a(i)}function xt(e,t){var n,r=e,a=[];0===e.length&&r.push(-1),n=e.length+1;for(var i=0;i<n;++i)a.push([]);for(var o=[],s=0;s<r.length;++s){var u=_t(t,r[s]),c=!0,l=!1,d=void 0;try{for(var p,h=u[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var f=p.value;-1===o.indexOf(f)&&(a[s].push(f),o.push(f))}}catch(m){l=!0,d=m}finally{try{c||null==h.return||h.return()}finally{if(l)throw d}}}return{path:r,steps:a}}function wt(e){return e.every(function(e,t){return e===t})}function _t(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function kt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)Object(E.c)(e.shape[n]%t===0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(e.shape[n]/t);else{var a=t.reduce(function(e,t){return-1===t&&(e+=1),e},0);Object(E.c)(a<=1,function(){return"There should be only one negative value in split array."});var i=t.indexOf(-1);if(-1!==i){var o=t.reduce(function(e,t){return t>0?e+t:e});t[i]=e.shape[n]-o}Object(E.c)(e.shape[n]===t.reduce(function(e,t){return e+t}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t}return r}function Ot(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function Et(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function St(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function Ct(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function Tt(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function It(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function jt(e,t){var n=Object(E.O)(e),r=Object(E.O)(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function Mt(e,t){var n=Object(E.O)(e),r=Object(E.O)(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function Nt(){return"segment ids must be >= 0"}function Dt(){return"segment ids are not increasing"}function Rt(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function Pt(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function Lt(e,t){var n,r=!1;for(e<=Ve?(n=e,r=!0):n=Object(E.G)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Object(E.G)(e,n+1);return n}function Ft(e,t,n){for(var r=[],a=e.length,i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function Bt(e,t,n,r){var a=t.shape.length,i=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>i)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(i,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var s=e.shape[n],u=[],c=1,l=1,d=1,p=0;p<r;++p)u.push(e.shape[p]),c*=e.shape[p];for(var h=r;h<n;h++)u.push(e.shape[h]),l*=e.shape[h];for(var f=r;f<a;f++)u.push(t.shape[f]);for(var m=n+1;m<i;m++)u.push(e.shape[m]),d*=e.shape[m];return{batchSize:c,sliceSize:d,outerSize:l,dimSize:s,outputShape:u}}function zt(e){try{return e.map(function(e){return Object(ge.decodeString)(e)})}catch(t){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(t))}}function Ut(e){return e.map(function(e){return Object(ge.encodeString)(e)})}var Vt=n(269),Wt=n(135),Gt=n(303),Ht=n(246);n.d(t,"hc",function(){return Ae.a}),n.d(t,"kd",function(){return J.a}),n.d(t,"ld",function(){return J.b}),n.d(t,"yf",function(){return ye.c}),n.d(t,"Kf",function(){return ye.d}),n.d(t,"wd",function(){return be.b}),n.d(t,"xd",function(){return be.e}),n.d(t,"yd",function(){return be.g}),n.d(t,"zd",function(){return be.h}),n.d(t,"Ad",function(){return be.i}),n.d(t,"Bd",function(){return be.p}),n.d(t,"Cd",function(){return be.q}),n.d(t,"Fd",function(){return be.t}),n.d(t,"Gd",function(){return be.u}),n.d(t,"Hd",function(){return be.v}),n.d(t,"Id",function(){return be.B}),n.d(t,"Ld",function(){return be.C}),n.d(t,"Md",function(){return be.D}),n.d(t,"Nd",function(){return be.F}),n.d(t,"Od",function(){return be.G}),n.d(t,"Pd",function(){return be.I}),n.d(t,"Qd",function(){return be.J}),n.d(t,"Rd",function(){return be.K}),n.d(t,"Sd",function(){return be.L}),n.d(t,"Td",function(){return be.M}),n.d(t,"Ud",function(){return be.N}),n.d(t,"Vd",function(){return be.O}),n.d(t,"Wd",function(){return be.P}),n.d(t,"Xd",function(){return be.Q}),n.d(t,"Yd",function(){return be.R}),n.d(t,"Zd",function(){return be.X}),n.d(t,"ae",function(){return be.Z}),n.d(t,"de",function(){return be.cb}),n.d(t,"fe",function(){return be.hb}),n.d(t,"ie",function(){return be.kb}),n.d(t,"je",function(){return be.nb}),n.d(t,"ke",function(){return be.ob}),n.d(t,"le",function(){return be.qb}),n.d(t,"me",function(){return be.sb}),n.d(t,"ne",function(){return be.tb}),n.d(t,"pe",function(){return be.wb}),n.d(t,"qe",function(){return be.yb}),n.d(t,"re",function(){return be.zb}),n.d(t,"we",function(){return be.Ib}),n.d(t,"ye",function(){return be.Ob}),n.d(t,"ze",function(){return be.Pb}),n.d(t,"Ae",function(){return be.Rb}),n.d(t,"Be",function(){return be.Tb}),n.d(t,"Ce",function(){return be.Zb}),n.d(t,"De",function(){return be.ac}),n.d(t,"Ee",function(){return be.bc}),n.d(t,"Fe",function(){return be.cc}),n.d(t,"Ge",function(){return be.ec}),n.d(t,"He",function(){return be.fc}),n.d(t,"Je",function(){return be.hc}),n.d(t,"Ke",function(){return be.ic}),n.d(t,"Le",function(){return be.lc}),n.d(t,"Me",function(){return be.nc}),n.d(t,"Ne",function(){return be.qc}),n.d(t,"Pe",function(){return be.sc}),n.d(t,"Qe",function(){return be.tc}),n.d(t,"Re",function(){return be.uc}),n.d(t,"Se",function(){return be.vc}),n.d(t,"Te",function(){return be.yc}),n.d(t,"Ue",function(){return be.Ec}),n.d(t,"Ve",function(){return be.Fc}),n.d(t,"We",function(){return be.Nc}),n.d(t,"Xe",function(){return be.Pc}),n.d(t,"Ye",function(){return be.Rc}),n.d(t,"bf",function(){return be.Uc}),n.d(t,"cf",function(){return be.Wc}),n.d(t,"df",function(){return be.Xc}),n.d(t,"ef",function(){return be.fd}),n.d(t,"ff",function(){return be.id}),n.d(t,"gf",function(){return be.jd}),n.d(t,"jf",function(){return be.ld}),n.d(t,"kf",function(){return be.qd}),n.d(t,"lf",function(){return be.rd}),n.d(t,"mf",function(){return be.sd}),n.d(t,"nf",function(){return be.td}),n.d(t,"of",function(){return be.ud}),n.d(t,"qf",function(){return be.vd}),n.d(t,"rf",function(){return be.wd}),n.d(t,"sf",function(){return be.Bd}),n.d(t,"tf",function(){return be.Cd}),n.d(t,"uf",function(){return be.Fd}),n.d(t,"vf",function(){return be.Gd}),n.d(t,"wf",function(){return be.Kd}),n.d(t,"xf",function(){return be.Ld}),n.d(t,"zf",function(){return be.Nd}),n.d(t,"Af",function(){return be.Od}),n.d(t,"Bf",function(){return be.Pd}),n.d(t,"Cf",function(){return be.Qd}),n.d(t,"Ff",function(){return be.Wd}),n.d(t,"If",function(){return be.Zd}),n.d(t,"Jf",function(){return be.ce}),n.d(t,"Mf",function(){return be.ee}),n.d(t,"Pf",function(){return be.fe}),n.d(t,"Qf",function(){return be.he}),n.d(t,"Rf",function(){return be.ie}),n.d(t,"se",function(){return be.Cb}),n.d(t,"xe",function(){return be.Lb}),n.d(t,"oe",function(){return be.vb}),n.d(t,"Hf",function(){return be.Yd}),n.d(t,"ee",function(){return be.fb}),n.d(t,"Gf",function(){return Ce}),n.d(t,"ge",function(){return Te.c}),n.d(t,"Ie",function(){return Te.e}),n.d(t,"Ef",function(){return Te.h}),n.d(t,"ce",function(){return Te.b}),n.d(t,"ue",function(){return Te.d}),n.d(t,"if",function(){return Te.g}),n.d(t,"Ze",function(){return Te.f}),n.d(t,"Dd",function(){return Te.a}),n.d(t,"af",function(){return Z.e}),n.d(t,"Nf",function(){return Ie.b}),n.d(t,"he",function(){return f.b}),n.d(t,"Of",function(){return"4.8.0"}),n.d(t,"Oe",function(){return je.a}),n.d(t,"Kd",function(){return a}),n.d(t,"te",function(){return r}),n.d(t,"hf",function(){return me}),n.d(t,"Lf",function(){return ge}),n.d(t,"Ed",function(){return o}),n.d(t,"Jd",function(){return Q}),n.d(t,"Df",function(){return ve}),n.d(t,"pf",function(){return fe}),n.d(t,"be",function(){return Vt}),n.d(t,"ve",function(){return s}),n.d(t,"Ab",function(){return Ht.b}),n.d(t,"O",function(){return Ht.a}),n.d(t,"a",function(){return $.a}),n.d(t,"b",function(){return $.b}),n.d(t,"c",function(){return $.c}),n.d(t,"d",function(){return $.d}),n.d(t,"e",function(){return $.e}),n.d(t,"f",function(){return $.f}),n.d(t,"g",function(){return $.g}),n.d(t,"h",function(){return $.h}),n.d(t,"i",function(){return $.i}),n.d(t,"j",function(){return $.j}),n.d(t,"k",function(){return $.k}),n.d(t,"l",function(){return $.l}),n.d(t,"n",function(){return $.n}),n.d(t,"m",function(){return $.m}),n.d(t,"o",function(){return $.o}),n.d(t,"r",function(){return $.r}),n.d(t,"p",function(){return $.p}),n.d(t,"q",function(){return $.q}),n.d(t,"s",function(){return $.s}),n.d(t,"t",function(){return $.t}),n.d(t,"u",function(){return $.u}),n.d(t,"v",function(){return $.v}),n.d(t,"w",function(){return $.w}),n.d(t,"x",function(){return $.y}),n.d(t,"y",function(){return $.z}),n.d(t,"z",function(){return $.A}),n.d(t,"A",function(){return $.B}),n.d(t,"B",function(){return $.C}),n.d(t,"C",function(){return $.D}),n.d(t,"D",function(){return $.E}),n.d(t,"E",function(){return $.F}),n.d(t,"F",function(){return $.G}),n.d(t,"G",function(){return $.H}),n.d(t,"H",function(){return $.I}),n.d(t,"I",function(){return $.J}),n.d(t,"J",function(){return $.K}),n.d(t,"K",function(){return $.L}),n.d(t,"M",function(){return $.N}),n.d(t,"N",function(){return $.O}),n.d(t,"L",function(){return $.M}),n.d(t,"P",function(){return $.P}),n.d(t,"Q",function(){return $.Q}),n.d(t,"R",function(){return $.R}),n.d(t,"S",function(){return $.S}),n.d(t,"T",function(){return $.T}),n.d(t,"U",function(){return $.U}),n.d(t,"V",function(){return $.V}),n.d(t,"X",function(){return $.X}),n.d(t,"W",function(){return $.W}),n.d(t,"Y",function(){return $.Y}),n.d(t,"sc",function(){return $.rc}),n.d(t,"Z",function(){return $.Z}),n.d(t,"ab",function(){return $.ab}),n.d(t,"bb",function(){return $.bb}),n.d(t,"db",function(){return $.db}),n.d(t,"cb",function(){return $.cb}),n.d(t,"eb",function(){return $.eb}),n.d(t,"fb",function(){return $.fb}),n.d(t,"gb",function(){return $.gb}),n.d(t,"hb",function(){return $.hb}),n.d(t,"ib",function(){return $.ib}),n.d(t,"jb",function(){return $.jb}),n.d(t,"kb",function(){return $.kb}),n.d(t,"lb",function(){return $.lb}),n.d(t,"nb",function(){return $.nb}),n.d(t,"rb",function(){return $.rb}),n.d(t,"qb",function(){return $.qb}),n.d(t,"sb",function(){return $.sb}),n.d(t,"tb",function(){return $.tb}),n.d(t,"vb",function(){return $.vb}),n.d(t,"ub",function(){return $.ub}),n.d(t,"wb",function(){return $.wb}),n.d(t,"xb",function(){return $.xb}),n.d(t,"yb",function(){return $.yb}),n.d(t,"zb",function(){return $.zb}),n.d(t,"Db",function(){return $.Cb}),n.d(t,"Eb",function(){return $.Db}),n.d(t,"Fb",function(){return $.Eb}),n.d(t,"Gb",function(){return $.Fb}),n.d(t,"Hb",function(){return $.Gb}),n.d(t,"Ib",function(){return $.Hb}),n.d(t,"Jb",function(){return $.Jb}),n.d(t,"Kb",function(){return $.Kb}),n.d(t,"Lb",function(){return $.Lb}),n.d(t,"Bb",function(){return $.Ab}),n.d(t,"Cb",function(){return $.Bb}),n.d(t,"Mb",function(){return $.Mb}),n.d(t,"Sb",function(){return $.Sb}),n.d(t,"Nb",function(){return $.Nb}),n.d(t,"Qb",function(){return $.Qb}),n.d(t,"Ob",function(){return $.Ob}),n.d(t,"Pb",function(){return $.Pb}),n.d(t,"Rb",function(){return $.Rb}),n.d(t,"Tb",function(){return $.Tb}),n.d(t,"Ub",function(){return $.Ub}),n.d(t,"Vb",function(){return $.Vb}),n.d(t,"Wb",function(){return $.Wb}),n.d(t,"Xb",function(){return $.Xb}),n.d(t,"Yb",function(){return $.Yb}),n.d(t,"Zb",function(){return $.Zb}),n.d(t,"ac",function(){return $.ac}),n.d(t,"ec",function(){return $.ec}),n.d(t,"bc",function(){return $.bc}),n.d(t,"cc",function(){return $.cc}),n.d(t,"dc",function(){return $.dc}),n.d(t,"gc",function(){return $.gc}),n.d(t,"fc",function(){return $.fc}),n.d(t,"ic",function(){return $.hc}),n.d(t,"jc",function(){return $.ic}),n.d(t,"kc",function(){return $.jc}),n.d(t,"lc",function(){return $.kc}),n.d(t,"mc",function(){return $.lc}),n.d(t,"nc",function(){return $.mc}),n.d(t,"oc",function(){return $.nc}),n.d(t,"pc",function(){return $.oc}),n.d(t,"qc",function(){return $.pc}),n.d(t,"rc",function(){return $.qc}),n.d(t,"tc",function(){return $.sc}),n.d(t,"uc",function(){return $.tc}),n.d(t,"wc",function(){return $.vc}),n.d(t,"zc",function(){return $.yc}),n.d(t,"Ac",function(){return $.zc}),n.d(t,"xc",function(){return $.wc}),n.d(t,"yc",function(){return $.xc}),n.d(t,"vc",function(){return $.uc}),n.d(t,"Bc",function(){return $.Ac}),n.d(t,"Dc",function(){return $.Cc}),n.d(t,"Ec",function(){return $.Dc}),n.d(t,"Fc",function(){return $.Ec}),n.d(t,"md",function(){return $.jd}),n.d(t,"Gc",function(){return $.Fc}),n.d(t,"Hc",function(){return $.Gc}),n.d(t,"Ic",function(){return $.Hc}),n.d(t,"Nc",function(){return $.Mc}),n.d(t,"Lc",function(){return $.Kc}),n.d(t,"Mc",function(){return $.Lc}),n.d(t,"Kc",function(){return $.Jc}),n.d(t,"Jc",function(){return $.Ic}),n.d(t,"Pc",function(){return $.Oc}),n.d(t,"Xc",function(){return $.Wc}),n.d(t,"hd",function(){return $.gd}),n.d(t,"Qc",function(){return $.Pc}),n.d(t,"Wc",function(){return $.Vc}),n.d(t,"Oc",function(){return $.Nc}),n.d(t,"Rc",function(){return $.Qc}),n.d(t,"Sc",function(){return $.Rc}),n.d(t,"Tc",function(){return $.Sc}),n.d(t,"Uc",function(){return $.Tc}),n.d(t,"Vc",function(){return $.Uc}),n.d(t,"Zc",function(){return $.Yc}),n.d(t,"Yc",function(){return $.Xc}),n.d(t,"ad",function(){return $.Zc}),n.d(t,"cd",function(){return $.bd}),n.d(t,"dd",function(){return $.cd}),n.d(t,"ed",function(){return $.dd}),n.d(t,"fd",function(){return $.ed}),n.d(t,"gd",function(){return $.fd}),n.d(t,"id",function(){return $.hd}),n.d(t,"jd",function(){return $.id}),n.d(t,"nd",function(){return $.kd}),n.d(t,"od",function(){return $.ld}),n.d(t,"pd",function(){return $.md}),n.d(t,"qd",function(){return $.nd}),n.d(t,"rd",function(){return $.od}),n.d(t,"sd",function(){return $.pd}),n.d(t,"td",function(){return $.qd}),n.d(t,"ud",function(){return $.rd}),n.d(t,"bd",function(){return $.ad}),n.d(t,"mb",function(){return $.mb}),n.d(t,"Cc",function(){return $.Bc}),n.d(t,"vd",function(){return $.sd}),n.d(t,"ob",function(){return $.ob}),n.d(t,"pb",function(){return $.pb})},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(67);t.a=Object(i.a)(a.a.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(67);t.a=Object(i.a)(a.a.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(9),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=(n(53),n(22)),d=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.component,s=void 0===i?"div":i,l=e.square,d=void 0!==l&&l,p=e.elevation,h=void 0===p?1:p,f=a()(e,["classes","className","component","square","elevation"]),m=Object(c.a)(n.root,n["elevation".concat(h)],r,!d&&n.rounded);return u.a.createElement(s,o()({className:m,ref:t},f))});t.a=Object(l.a)(function(e){var t={};return e.shadows.forEach(function(e,n){t["elevation".concat(n)]={boxShadow:e}}),o()({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius}},t)},{name:"MuiPaper"})(d)},,,function(e,t,n){"use strict";(function(e){var r=n(564),a=n(565),i=n(566);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),a=(e=s(e,r)).write(t,n);a!==r&&(e=e.slice(0,a));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,a){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,a);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,a){var i,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*o}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var d=!0,p=0;p<u;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function A(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function y(e,t,n,r){return V(z(t,e.length-n),e,n,r)}function b(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return b(e,t,n,r)}function w(e,t,n,r){return V(U(t),e,n,r)}function _(e,t,n,r){return V(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,s,u,c=e[a],l=null,d=c>239?4:c>223?3:c>191?2:1;if(a+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128===(192&(i=e[a+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[a+1],o=e[a+2],128===(192&i)&&128===(192&o)&&(u=(15&c)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128===(192&i)&&128===(192&o)&&128===(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),a+=d}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,a){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(r,a),l=e.slice(t,n),d=0;d<s;++d)if(c[d]!==l[d]){i=c[d],o=l[d];break}return i<o?-1:o<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function S(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=B(e[i]);return a}function I(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function j(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,a,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-n,2);a<i;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-n,4);a<i;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function R(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,i){return i||R(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||R(e,0,n,8),a.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var a=t-e;n=new u(a,void 0);for(var i=0;i<a;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},u.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),a.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),a.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),a.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),a.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,i=r-n;if(this===e&&n<t&&t<r)for(a=i-1;a>=0;--a)e[a+t]=this[a+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=u.isBuffer(e)?e:z(new u(e,r).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(this,n(91))},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(584),a=n(414);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t,n){"use strict";e.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},function(e,t,n){var r=n(660),a=n(663),i=n(68),o=n(263),s=[i.meta.FEATURE,i.meta.MIDPOINT,i.meta.VERTEX];function u(e,t,n,i){if(null===n.map)return[];var u=e?a(e,i):t,c={};n.options.styles&&(c.layers=n.options.styles.map(function(e){return e.id}));var l=n.map.queryRenderedFeatures(u,c).filter(function(e){return-1!==s.indexOf(e.properties.meta)}),d=new o,p=[];return l.forEach(function(e){var t=e.properties.id;d.has(t)||(d.add(t),p.push(e))}),r(p)}e.exports={click:function(e,t,n){return u(e,t,n,n.options.clickBuffer)},touch:function(e,t,n){return u(e,t,n,n.options.touchBuffer)}}},function(e,t){function n(e){if(this._items={},this._nums={},this._length=e?e.length:0,e)for(var t=0,n=e.length;t<n;t++)this.add(e[t]),void 0!==e[t]&&("string"===typeof e[t]?this._items[e[t]]=t:this._nums[e[t]]=t)}n.prototype.add=function(e){return this.has(e)?this:(this._length++,"string"===typeof e?this._items[e]=this._length:this._nums[e]=this._length,this)},n.prototype.delete=function(e){return!1===this.has(e)?this:(this._length--,delete this._items[e],delete this._nums[e],this)},n.prototype.has=function(e){return("string"===typeof e||"number"===typeof e)&&(void 0!==this._items[e]||void 0!==this._nums[e])},n.prototype.values=function(){var e=this,t=[];return Object.keys(this._items).forEach(function(n){t.push({k:n,v:e._items[n]})}),Object.keys(this._nums).forEach(function(n){t.push({k:JSON.parse(n),v:e._nums[n]})}),t.sort(function(e,t){return e.v-t.v}).map(function(e){return e.k})},n.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this},e.exports=n},function(e,t,n){var r=n(363),a=n(68),i=function(e,t){this.ctx=e,this.properties=t.properties||{},this.coordinates=t.geometry.coordinates,this.id=t.id||r(),this.type=t.geometry.type};i.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},i.prototype.incomingCoords=function(e){this.setCoordinates(e)},i.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},i.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},i.prototype.setProperty=function(e,t){this.properties[e]=t},i.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:a.geojsonTypes.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},i.prototype.internal=function(e){var t={id:this.id,meta:a.meta.FEATURE,"meta:type":this.type,active:a.activeStates.INACTIVE,mode:e};if(this.ctx.options.userProperties)for(var n in this.properties)t["user_".concat(n)]=this.properties[n];return{type:a.geojsonTypes.FEATURE,properties:t,geometry:{coordinates:this.getCoordinates(),type:this.type}}},e.exports=i},function(e,t,n){var r=n(264),a=n(68),i=n(363),o={MultiPoint:n(362),MultiLineString:n(364),MultiPolygon:n(365)},s=function(e,t,n,r,a){var i=n.split("."),o=parseInt(i[0],10),s=i[1]?i.slice(1).join("."):null;return e[o][t](s,r,a)},u=function(e,t){if(r.call(this,e,t),delete this.coordinates,this.model=o[t.geometry.type],void 0===this.model)throw new TypeError("".concat(t.geometry.type," is not a valid type"));this.features=this._coordinatesToFeatures(t.geometry.coordinates)};(u.prototype=Object.create(r.prototype))._coordinatesToFeatures=function(e){var t=this,n=this.model.bind(this);return e.map(function(e){return new n(t.ctx,{id:i(),type:a.geojsonTypes.FEATURE,properties:{},geometry:{coordinates:e,type:t.type.replace("Multi","")}})})},u.prototype.isValid=function(){return this.features.every(function(e){return e.isValid()})},u.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()},u.prototype.getCoordinate=function(e){return s(this.features,"getCoordinate",e)},u.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(function(e){return e.type===a.geojsonTypes.POLYGON?e.getCoordinates():e.coordinates})))},u.prototype.updateCoordinate=function(e,t,n){s(this.features,"updateCoordinate",e,t,n),this.changed()},u.prototype.addCoordinate=function(e,t,n){s(this.features,"addCoordinate",e,t,n),this.changed()},u.prototype.removeCoordinate=function(e){s(this.features,"removeCoordinate",e),this.changed()},u.prototype.getFeatures=function(){return this.features},e.exports=u},function(e,t){e.exports={enable:function(e){setTimeout(function(){e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()},0)},disable:function(e){setTimeout(function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()},0)}}},function(e,t,n){"use strict";n.r(t);var r=n(185),a=n(230),i=n(229),o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},s={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},u=n(228),c={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},l={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},d={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"},p={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"},h={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},f={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"},m={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"},v={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"},g={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},A={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"},x=n(227),w={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"};n.d(t,"common",function(){return r.a}),n.d(t,"red",function(){return a.a}),n.d(t,"pink",function(){return i.a}),n.d(t,"purple",function(){return o}),n.d(t,"deepPurple",function(){return s}),n.d(t,"indigo",function(){return u.a}),n.d(t,"blue",function(){return c}),n.d(t,"lightBlue",function(){return l}),n.d(t,"cyan",function(){return d}),n.d(t,"teal",function(){return p}),n.d(t,"green",function(){return h}),n.d(t,"lightGreen",function(){return f}),n.d(t,"lime",function(){return m}),n.d(t,"yellow",function(){return v}),n.d(t,"amber",function(){return g}),n.d(t,"orange",function(){return A}),n.d(t,"deepOrange",function(){return y}),n.d(t,"brown",function(){return b}),n.d(t,"grey",function(){return x.a}),n.d(t,"blueGrey",function(){return w})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(497),a=n(142);function i(){return Object(r.a)()||a.a}},function(e,t,n){"use strict";var r;function a(e){r=e}function i(e){if(void 0!==r)return r;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function o(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}n.r(t),n.d(t,"mockIsMobile",function(){return a}),n.d(t,"isMobile",function(){return i}),n.d(t,"isBrowser",function(){return o})},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","all","bool")},s={axis:t,keepDims:n};return r.a.runKernel(a.f,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","any","bool")},s={axis:t,keepDims:n};return r.a.runKernel(a.g,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Object(i.a)(e,"x","argMax")},o={axis:t};return r.a.runKernel(a.h,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Object(i.a)(e,"x","argMin")},o={axis:t};return r.a.runKernel(a.i,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(8);var c=Object(u.b)({atan2_:function(e,t){var n=Object(s.a)(e,"a","atan2"),u=Object(s.a)(t,"b","atan2"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.m,d)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(3),a=n(20),i=n(119),o=n(43),s=n(8),u=n(19);var c=Object(s.b)({conv1d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,d=arguments.length>6?arguments[6]:void 0,p=Object(r.a)(e,"x","conv1d"),h=Object(r.a)(t,"filter","conv1d"),f=p,m=!1;2===p.rank&&(m=!0,f=Object(u.a)(p,[1,p.shape[0],p.shape[1]])),a.c(3===f.rank,function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(f.rank,".")}),a.c(3===h.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(h.rank,".")}),o.a("conv1d",s,d),a.c(f.shape[2]===h.shape[1],function(){return"Error in conv1d: depth of input (".concat(f.shape[2],") must match ")+"input depth for filter ".concat(h.shape[1],".")}),a.c(o.i(n,l),function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(l,"'")}),a.c(o.j(l),function(){return"Error in conv1D: Dilated rates should be larger than 0."}),a.c(o.j(n),function(){return"Error in conv1D: Stride should be larger than 0."}),a.c("NWC"===c,function(){return"Error in conv1d: got dataFormat of ".concat(c," but only NWC is currently supported.")});var v=Object(u.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),g=Object(u.a)(f,[f.shape[0],1,f.shape[1],f.shape[2]]),A=[1,n],y=[1,l],b=Object(i.a)(g,v,A,s,"NHWC",y,d);return m?Object(u.a)(b,[b.shape[2],b.shape[3]]):Object(u.a)(b,[b.shape[0],b.shape[2],b.shape[3]])}})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(3),a=n(235),i=n(8);var o=Object(i.b)({conv2dTranspose_:function(e,t,n,i,o,s){var u=Object(r.a)(e,"x","conv2dTranspose"),c=Object(r.a)(t,"filter","conv2dTranspose");return Object(a.a)(n,u,c,i,o,"NHWC",s)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({cosh_:function(e){var t={x:Object(i.a)(e,"x","cosh","float32")};return r.a.runKernel(a.L,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",s=Object(i.a)(e,"x","depthToSpace","float32"),u="NHWC"===n?s.shape[1]:s.shape[2],c="NHWC"===n?s.shape[2]:s.shape[3],l="NHWC"===n?s.shape[3]:s.shape[1];o.c(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)}),o.c(u*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(u," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(s.shape)}),o.c(c*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(c," and ").concat(t," for depthToSpace with input shape\n        ").concat(s.shape)}),o.c(l%(t*t)===0,function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(l," for depthToSpace with input shape ").concat(s.shape)});var d={x:s},p={blockSize:t,dataFormat:n};return r.a.runKernel(a.Q,d,p)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8),u=n(19);var c=Object(s.b)({dilation2d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=Object(i.a)(e,"x","dilation2d"),p=Object(i.a)(t,"filter","dilation2d");o.c(3===d.rank||4===d.rank,function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(d.rank,".")}),o.c(3===p.rank,function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(p.rank,".")}),o.c("NHWC"===l,function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(l)});var h=d,f=!1;3===d.rank&&(h=Object(u.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),f=!0),o.c(h.shape[3]===p.shape[2],function(){return"Error in dilation2d:  input and filter must have the same depth: ".concat(h.shape[3]," vs ").concat(p.shape[2])});var m={x:h,filter:p},v={strides:n,pad:s,dilations:c},g=r.a.runKernel(a.V,m,v);return f?Object(u.a)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(6),a=n(47),i=n(3),o=n(34),s=n(167),u=n(8),c=n(63),l=n(41);var d=Object(u.b)({divNoNan_:function(e,t){var n=Object(i.a)(e,"a","div"),u=Object(i.a)(t,"b","div"),d=Object(a.makeTypesMatch)(n,u),p=Object(r.a)(d,2);n=p[0],u=p[1];var h=Object(o.a)(n,u),f=Object(l.a)(h),m=Object(s.a)(u,f);return Object(c.a)(m,f,h)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(3),a=n(20),i=n(50),o=n(8),s=n(19);var u=Object(o.b)({dot_:function(e,t){var n=Object(r.a)(e,"t1","dot"),o=Object(r.a)(t,"t2","dot");a.c((1===n.rank||2===n.rank)&&(1===o.rank||2===o.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(o.rank,".")});var u=1===n.rank?n.size:n.shape[1],c=1===o.rank?o.size:o.shape[0];if(a.c(u===c,function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(u," and ").concat(c,".")}),1===n.rank&&1===o.rank){var l=Object(s.a)(n,[1,-1]),d=Object(s.a)(o,[-1,1]),p=Object(i.a)(l,d);return Object(s.a)(p,[])}if(1===n.rank&&2===o.rank){var h=Object(s.a)(n,[1,-1]),f=Object(s.a)(o,[o.shape[0],o.shape[1]]),m=Object(i.a)(h,f);return Object(s.a)(m,[m.size])}if(2===n.rank&&1===o.rank){var v=Object(s.a)(o,[-1,1]),g=Object(i.a)(n,v);return Object(s.a)(g,[g.size])}var A=Object(s.a)(o,[o.shape[0],o.shape[1]]);return Object(i.a)(n,A)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(168),a=n(8);var i=Object(a.b)({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(r.a)(e,"euclidean",t,n)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8),u=n(19);var c=Object(s.b)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,l=Object(i.a)(e,"x","localResponseNormalization");o.c(4===l.rank||3===l.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(l.rank,".")}),o.c(o.w(t),function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")});var d=l,p=!1;3===l.rank&&(p=!0,d=Object(u.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]]));var h={x:d},f={depthRadius:t,bias:n,alpha:s,beta:c},m=r.a.runKernel(a.Ab,h,f);return p?Object(u.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({log1p_:function(e){var t={x:Object(i.a)(e,"x","log1p")};return r.a.runKernel(a.Hb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({softplus_:function(e){var t={x:Object(i.a)(e,"x","softplus")};return r.a.runKernel(a.Oc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(3),a=n(35),i=n(112),o=n(171),s=n(215),u=n(8);var c=Object(u.b)({logicalXor_:function(e,t){var n=Object(r.a)(e,"a","logicalXor","bool"),u=Object(r.a)(t,"b","logicalXor","bool");return Object(a.assertAndGetBroadcastShape)(n.shape,u.shape),Object(i.a)(Object(s.a)(e,t),Object(o.a)(Object(i.a)(e,t)))}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(8);var u=Object(s.b)({mirrorPad_:function(e,t,n){o.c("reflect"===n||"symmetric"===n,function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")});var s=Object(i.a)(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.c(t.length===s.rank,function(){return"Padding doesn't match input. Must be ".concat(s.rank,". ")+"Got ".concat(t.length,".")});for(var u="reflect"===n?1:0,c=function(e){o.c(2===t[e].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),o.c(t[e][0]>=0&&t[e][0]<=s.shape[e]-u&&t[e][1]>=0&&t[e][1]<=s.shape[e]-u,function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(s.shape[e]-u," or less than 0 for input of ")+"shape ".concat(s.shape)})},l=0;l<s.rank;l++)c(l);var d={paddings:t,mode:n},p={x:s};return r.a.runKernel(a.Wb,p,d)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(6),a=n(10),i=n(4),o=n(47),s=n(3),u=n(8);var c=Object(u.b)({mod_:function(e,t){var n=Object(s.a)(e,"a","mod"),u=Object(s.a)(t,"b","mod"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.Xb,d)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var u={indices:Object(i.a)(e,"indices","oneHot","int32")},c={dtype:s,depth:t,onValue:n,offValue:o};return r.a.runKernel(a.fc,u,c)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(6),a=n(3),i=n(20),o=n(208),s=n(165),u=n(43),c=n(216),l=n(8),d=n(19),p=n(172);var h=Object(l.b)({pool_:function(e,t,n,l,h,f,m){null==h&&(h=[1,1]),null==f&&(f=1),0===l&&(l="valid");var v=Object(a.a)(e,"x","maxPool"),g=v,A=!1;3===v.rank&&(A=!0,g=Object(d.a)(v,[1,v.shape[0],v.shape[1],v.shape[2]])),i.c(u.i(f,h),function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(f," and dilations '").concat(h,"'")});var y,b=u.f(g.shape,t,f,h,l),x=[b.dilationHeight,b.dilationWidth];y="same"===l?function(e,t){var n=e.map(function(e,n){return e+(e-1)*(t[n]-1)}).map(function(e){return e-1}),r=n.map(function(e){return Math.floor(e/2)}),a=n.map(function(e,t){return e-r[t]});return n.map(function(e,t){return[r[t],a[t]]})}([b.filterHeight,b.filterWidth],x):[[0,0],[0,0]];var w=1===x[0]&&1===x[1],_=function(e,t,n){var r=n.map(function(e){return e[0]}),a=n.map(function(e){return e[1]}),i=e.concat(r,a),o=t.map(function(e,t){return(e-i[t]%e)%e}),s=a.map(function(e,t){return e+o[t]}),u=t.map(function(e,t){return[r[t],s[t]]}),c=t.map(function(e,t){return[0,o[t]]});return[u,c]}([b.inHeight,b.inWidth],x,y),k=Object(r.a)(_,2),O=k[0],E=k[1],S=w?l:"valid",C=w?g:Object(p.a)(g,x,O),T=("avg"===n?function(){return Object(o.a)(C,t,f,S,m)}:function(){return Object(c.a)(C,t,f,S,m)})(),I=w?T:Object(s.a)(T,x,E);return A?Object(d.a)(I,[I.shape[1],I.shape[2],I.shape[3]]):I}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(3),o=n(28),s=n(8);var u=Object(s.b)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object(i.a)(e,"x","prod");"bool"===s.dtype&&(s=Object(o.a)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.a.runKernel(a.lc,u,c)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({round_:function(e){var t={x:Object(i.a)(e,"x","round")};return r.a.runKernel(a.Cc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({rsqrt_:function(e){var t={x:Object(i.a)(e,"x","rsqrt","float32")};return r.a.runKernel(a.Dc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({selu_:function(e){var t={x:Object(i.a)(e,"x","selu")};return r.a.runKernel(a.Hc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(3),a=n(20),i=n(119),o=n(166),s=n(8),u=n(19);var c=Object(s.b)({separableConv2d_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",p=Object(r.a)(e,"x","separableConv2d"),h=Object(r.a)(t,"depthwiseFilter","separableConv2d"),f=Object(r.a)(n,"pointwiseFilter","separableConv2d"),m=p,v=!1;if(3===p.rank&&(v=!0,m=Object(u.a)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),"NCHW"===d)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");a.c(4===m.rank,function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")}),a.c(4===h.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(h.rank,".")}),a.c(4===f.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(h.rank,".")}),a.c(1===f.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(f.shape[0],".")}),a.c(1===f.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(f.shape[1],".")});var g=h.shape[2],A=h.shape[3];a.c(f.shape[2]===g*A,function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(g*A,", ")+"but got ".concat(f.shape[2],".")});var y=Object(o.a)(m,h,s,c,d,l),b=Object(i.a)(y,f,1,"valid",d);return v?Object(u.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({sin_:function(e){var t={x:Object(i.a)(e,"x","sin","float32")};return r.a.runKernel(a.Kc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({sinh_:function(e){var t={x:Object(i.a)(e,"x","sinh")};return r.a.runKernel(a.Lc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(100),a=n(62),i=n(170),o=n(21),s=n(8),u=n(156),c=n(19),l=n(88),d=n(37),p=n(51),h=n(184);var f=Object(s.b)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],s=e.size/n;if(n<=2){var f=Object(c.a)(e,[s,n]);t=Object(h.a)(f)}else{var m=[s,2*(n-1)],v=Object(c.a)(Object(u.a)(e),[s,n]),g=Object(c.a)(Object(i.a)(e),[s,n]),A=Object(l.a)(Object(p.a)(v,[0,1],[s,n-2]),1),y=Object(o.a)(Object(l.a)(Object(p.a)(g,[0,1],[s,n-2]),1),Object(d.a)(-1)),b=Object(a.a)([v,A],1),x=Object(a.a)([g,y],1),w=Object(c.a)(Object(r.a)(b,x),[m[0],m[1]]);t=Object(h.a)(w)}if(t=Object(u.a)(t),3===e.rank&&0!==e.shape[0]){var _=t,k=e.shape[0];t=Object(c.a)(t,[k,t.shape[0]/k,t.shape[1]]),_.dispose()}return t}})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(3),a=n(20),i=n(96);function o(e,t,n){if(Object(a.e)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=Object(r.c)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Object(i.a)(e,t,o,n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(6),a=n(10),i=n(4),o=n(3),s=n(8);var u=Object(s.b)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Object(o.a)(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var u=s.shape[s.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>u)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(u,") ")+"but got ".concat(t));var c={x:s},l={k:t,sorted:n},d=a.a.runKernel(i.ld,c,l),p=Object(r.a)(d,2);return{values:p[0],indices:p[1]}}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(6),a=n(10),i=n(4),o=n(3),s=n(20),u=n(8);var c=Object(u.b)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(o.a)(e,"x","unique","string_or_numeric");Object(s.c)(n.rank>0,function(){return"The input tensor must be at least 1D"});var u={x:n},c={axis:t},l=a.a.runKernel(i.od,u,c),d=Object(r.a)(l,2);return{values:d[0],indices:d[1]}}})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(87);function a(e,t){for(var n=[],a=0;a<t.length;a++)t[a]&&n.push(a);for(var i=Object(r.a)(e,"int32"),o=Object(r.a)([n.length,e.length],"int32"),s=0;s<n.length;s++){var u=i.indexToLoc(n[s]),c=s*e.length;o.values.set(u,c)}return o.toTensor()}},function(e,t,n){"use strict";var r=n(38),a=n.n(r),i=n(9),o=n.n(i),s=n(15),u=n.n(s),c=n(143),l=n.n(c);function d(e){return!0===(null!=(t=e)&&"object"===typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}function p(e){var t,n;return!1!==d(e)&&("function"===typeof(t=e.constructor)&&(!1!==d(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}n(53);var h=n(78);function f(e,t,n){var r;return o()({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()({paddingLeft:t(2),paddingRight:t(2)},n,a()({},e.up("sm"),o()({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},a()(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),a()(r,e.up("sm"),{minHeight:64}),r)},n)}var m=n(228),v=n(229),g=n(227),A=n(230),y=n(185),b=n(39),x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:y.a.white,default:g.a[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},w={text:{primary:y.a.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:g.a[800],default:"#303030"},action:{active:y.a.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function _(e,t,n,r){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(b.i)(e.main,r):"dark"===t&&(e.dark=Object(b.a)(e.main,1.5*r)))}function k(e){return Math.round(1e5*e)/1e5}var O={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function S(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,a=void 0===r?E:r,i=n.fontSize,s=void 0===i?14:i,c=n.fontWeightLight,d=void 0===c?300:c,p=n.fontWeightRegular,h=void 0===p?400:p,f=n.fontWeightMedium,m=void 0===f?500:f,v=n.fontWeightBold,g=void 0===v?700:v,A=n.htmlFontSize,y=void 0===A?16:A,b=n.allVariants,x=u()(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants"]),w=s/14,_=function(e){return"".concat(e/y*w,"rem")},S=function(e,t,n,r,i){return o()({fontFamily:a,fontWeight:e,fontSize:_(t),lineHeight:n},a===E?{letterSpacing:"".concat(k(r/t),"em")}:{},i,b)},C={h1:S(d,96,1,-1.5),h2:S(d,60,1,-.5),h3:S(h,48,1.04,0),h4:S(h,34,1.17,.25),h5:S(h,24,1.33,0),h6:S(m,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(m,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(m,14,1.75,.4,O),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,O)};return l()(o()({htmlFontSize:y,pxToRem:_,round:k,fontFamily:a,fontSize:s,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:g},C),x,{clone:!1})}var C=.2,T=.14,I=.12;function j(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(C,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(T,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(I,")")].join(",")}var M=["none",j(0,1,3,0,0,1,1,0,0,2,1,-1),j(0,1,5,0,0,2,2,0,0,3,1,-2),j(0,1,8,0,0,3,4,0,0,3,3,-2),j(0,2,4,-1,0,4,5,0,0,1,10,0),j(0,3,5,-1,0,5,8,0,0,1,14,0),j(0,3,5,-1,0,6,10,0,0,1,18,0),j(0,4,5,-2,0,7,10,1,0,2,16,1),j(0,5,5,-3,0,8,10,1,0,3,14,2),j(0,5,6,-3,0,9,12,1,0,3,16,2),j(0,6,6,-3,0,10,14,1,0,4,18,3),j(0,6,7,-4,0,11,15,1,0,4,20,3),j(0,7,8,-4,0,12,17,2,0,5,22,4),j(0,7,8,-4,0,13,19,2,0,5,24,4),j(0,7,9,-4,0,14,21,2,0,5,26,4),j(0,8,9,-5,0,15,22,2,0,6,28,5),j(0,8,10,-5,0,16,24,2,0,6,30,5),j(0,8,11,-5,0,17,26,2,0,6,32,5),j(0,9,11,-5,0,18,28,2,0,7,34,6),j(0,9,12,-6,0,19,29,2,0,7,36,6),j(0,10,13,-6,0,20,31,3,0,8,38,7),j(0,10,13,-6,0,21,33,3,0,8,40,7),j(0,10,14,-6,0,22,35,3,0,8,42,7),j(0,11,14,-7,0,23,36,3,0,9,44,8),j(0,11,15,-7,0,24,38,3,0,9,46,8)],N={borderRadius:4};var D=n(65),R=n(308);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,a=void 0===r?{}:r,i=e.palette,s=void 0===i?{}:i,c=e.shadows,d=e.spacing,k=e.typography,O=void 0===k?{}:k,E=u()(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),C=function(e){var t=e.primary,n=void 0===t?{light:m.a[300],main:m.a[500],dark:m.a[700]}:t,r=e.secondary,a=void 0===r?{light:v.a.A200,main:v.a.A400,dark:v.a.A700}:r,i=e.error,s=void 0===i?{light:A.a[300],main:A.a[500],dark:A.a[700]}:i,c=e.type,d=void 0===c?"light":c,p=e.contrastThreshold,h=void 0===p?3:p,f=e.tonalOffset,k=void 0===f?.2:f,O=u()(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function E(e){return Object(b.e)(e,w.text.primary)>=h?w.text.primary:x.text.primary}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(e=o()({},e)).main&&e[t]&&(e.main=e[t]),_(e,"light",n,k),_(e,"dark",r,k),e.contrastText||(e.contrastText=E(e.main)),e}var C={dark:w,light:x};return l()(o()({common:y.a,type:d,primary:S(n),secondary:S(a,"A400","A200","A700"),error:S(s),grey:g.a,contrastThreshold:h,getContrastText:E,augmentColor:S,tonalOffset:k},C[d]),O,{clone:!1})}(s),T=Object(h.a)(n),I=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;e="function"===typeof t?t:function(e){return t*e};var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map(function(t){var n=e(t);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}(d);return o()({breakpoints:T,direction:"ltr",mixins:f(T,I,a),overrides:{},palette:C,props:{},shadows:c||M,typography:S(C,O),spacing:I},l()({shape:N,transitions:D.a,zIndex:R.a},E,{isMergeableObject:p}))}},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(85),d=n.n(l),p=n(738);var h=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.name,s=o()(r,["name"]),l=i,h="function"===typeof t?function(e){return{root:function(n){return t(a()({theme:e},n))}}}:{root:t},f=Object(p.a)(h,a()({Component:e,name:i||e.displayName,classNamePrefix:l},s));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var m=u.a.forwardRef(function(t,r){var i=t.children,s=t.className,l=t.clone,d=t.component,p=o()(t,["children","className","clone","component"]),h=f(t),m=Object(c.a)(h.root,s);if(l)return u.a.cloneElement(i,{className:Object(c.a)(i.props.className,m)});var v=p;if(n&&(v=function(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n}(v,n)),"function"===typeof i)return i(a()({className:m},v));var g=d||e;return u.a.createElement(g,a()({ref:r,className:m},v),i)});return d()(m,e),m}},f=n(142);t.a=function(e){var t=h(e);return function(e,n){return t(e,a()({defaultTheme:f.a},n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(541);Object.defineProperty(t,"SnackbarProvider",{enumerable:!0,get:function(){return o(r).default}});var a=n(554);Object.defineProperty(t,"withSnackbar",{enumerable:!0,get:function(){return o(a).default}});var i=n(556);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"useSnackbar",{enumerable:!0,get:function(){return o(i).default}})},function(e,t,n){"use strict";var r=n(1),a=n.n(r).a.createContext(null);t.a=a},function(e,t,n){"use strict";t.a={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(30),p=u.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.className,s=e.color,l=void 0===s?"inherit":s,p=e.component,h=void 0===p?"svg":p,f=e.fontSize,m=void 0===f?"default":f,v=e.htmlColor,g=e.titleAccess,A=e.viewBox,y=void 0===A?"0 0 24 24":A,b=o()(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return u.a.createElement(h,a()({className:Object(c.a)(r.root,i,"inherit"!==l&&r["color".concat(Object(d.a)(l))],"default"!==m&&r["fontSize".concat(Object(d.a)(m))]),focusable:"false",viewBox:y,color:v,"aria-hidden":g?"false":"true",role:g?"img":"presentation",ref:t},b),n,g?u.a.createElement("title",null,g):null)});p.muiName="SvgIcon",t.a=Object(l.a)(function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},{name:"MuiSvgIcon"})(p)},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r="function"===typeof Symbol;t.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};t.default=r},function(e,t,n){"use strict";function r(e,t){return function(){return e.apply(t,arguments)}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";t.a=null},function(e,t,n){"use strict";t.a=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}},function(e,t,n){"use strict";var r=n(86);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=Object(r.a)(e);return n.defaultView||n.parentView||t}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(67);t.a=Object(i.a)(a.a.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.disabled,s=e.IconComponent,l=e.inputRef,d=e.name,p=e.onChange,h=e.value,f=e.variant,m=o()(e,["classes","className","disabled","IconComponent","inputRef","name","onChange","value","variant"]);return u.a.createElement("div",{className:n.root},u.a.createElement("select",a()({className:Object(c.a)(n.select,r,"filled"===f&&n.filled,"outlined"===f&&n.outlined,i&&n.disabled),name:d,disabled:i,onChange:p,value:h,ref:l||t},m)),u.a.createElement(s,{className:n.icon}))});t.a=l},function(e,t,n){var r,a;!function(i){"use strict";void 0===(a="function"===typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=a)}(function(){"use strict";if("undefined"===typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,r,a,i,o,s,u,c,l,d,p,h,f,m,v,g,A,y,b,x,w,_,k,O,E,S,C=[],T=!1,I=!1,j=!1,M=[],N=!1,D=!1,R=[],P=/\s+/g,L="Sortable"+(new Date).getTime(),F=window,B=F.document,z=F.parseInt,U=F.setTimeout,V=F.jQuery||F.Zepto,W=F.Polymer,G={capture:!1,passive:!1},H=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),q=!!navigator.userAgent.match(/Edge/i),K=!!navigator.userAgent.match(/firefox/i),X=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),Q=!!navigator.userAgent.match(/iP(ad|od|hone)/i),Y=q||H?"cssFloat":"float",$="draggable"in B.createElement("div"),Z=function(){if(H)return!1;var e=B.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),J=!1,ee=!1,te=Math.abs,ne=Math.min,re=Math.max,ae=[],ie=function(e,t){var n=ke(e),r=z(n.width)-z(n.paddingLeft)-z(n.paddingRight)-z(n.borderLeftWidth)-z(n.borderRightWidth),a=je(e,0,t),i=je(e,1,t),o=a&&ke(a),s=i&&ke(i),u=o&&z(o.marginLeft)+z(o.marginRight)+Ve(a).width,c=s&&z(s.marginLeft)+z(s.marginRight)+Ve(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&"none"!==o.float){var l="left"===o.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return a&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||u>=r&&"none"===n[Y]||i&&"none"===n[Y]&&u+c>r)?"vertical":"horizontal"},oe=function(e,t,n,r,a){var i=Ve(n),o="vertical"===r?i.left:i.top,s="vertical"===r?i.right:i.bottom,u="vertical"===r?e:t;return o<u&&u<s},se=function(e,t){if(!e||!e.getBoundingClientRect)return ue();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=ke(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n||!n.getBoundingClientRect||n===B.body)return ue();if(r||t)return n;r=!0}}}while(n=n.parentNode);return ue()},ue=function(){return H?B.documentElement:B.scrollingElement},ce=function(e,t,n){e.scrollLeft+=t,e.scrollTop+=n},le=Le(function(e,t,n,r){if(t.scroll){var a=n?n[L]:window,i=t.scrollSensitivity,o=t.scrollSpeed,l=e.clientX,d=e.clientY,p=ue(),h=!1;u!==n&&(de(),s=t.scroll,c=t.scrollFn,!0===s&&(s=se(n,!0),u=s));var f=0,m=s;do{var v,g,A,y,x,w,_,k,O,E=m,S=Ve(E),I=S.top,j=S.bottom,M=S.left,N=S.right,D=S.width,R=S.height;if(v=E.scrollWidth,g=E.scrollHeight,A=ke(E),k=E.scrollLeft,O=E.scrollTop,E===p?(w=D<v&&("auto"===A.overflowX||"scroll"===A.overflowX||"visible"===A.overflowX),_=R<g&&("auto"===A.overflowY||"scroll"===A.overflowY||"visible"===A.overflowY)):(w=D<v&&("auto"===A.overflowX||"scroll"===A.overflowX),_=R<g&&("auto"===A.overflowY||"scroll"===A.overflowY)),y=w&&(te(N-l)<=i&&k+D<v)-(te(M-l)<=i&&!!k),x=_&&(te(j-d)<=i&&O+R<g)-(te(I-d)<=i&&!!O),!C[f])for(var P=0;P<=f;P++)C[P]||(C[P]={});C[f].vx==y&&C[f].vy==x&&C[f].el===E||(C[f].el=E,C[f].vx=y,C[f].vy=x,clearInterval(C[f].pid),!E||0==y&&0==x||(h=!0,C[f].pid=setInterval(function(){r&&0===this.layer&&(Ae.active._emulateDragOver(!0),Ae.active._onTouchMove(b,!0));var t=C[this.layer].vy?C[this.layer].vy*o:0,n=C[this.layer].vx?C[this.layer].vx*o:0;"function"===typeof c&&"continue"!==c.call(a,n,t,e,b,C[this.layer].el)||ce(C[this.layer].el,n,t)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&m!==p&&(m=se(m,!1)));T=h}},30),de=function(){C.forEach(function(e){clearInterval(e.pid)}),C=[]},pe=function(e){function t(e,n){return function(r,a,i,o){var s=r.options.group.name&&a.options.group.name&&r.options.group.name===a.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,a,i,o),n)(r,a,i,o);var u=(n?r:a).options.group.name;return!0===e||"string"===typeof e&&e===u||e.join&&e.indexOf(u)>-1}}var n={},r=e.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},he=function(t){e&&e.parentNode&&e.parentNode[L]&&e.parentNode[L]._computeIsAligned(t)},fe=function(){!Z&&n&&ke(n,"display","none")},me=function(){!Z&&n&&ke(n,"display","")};B.addEventListener("click",function(e){if(j)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),j=!1,!1},!0);var ve,ge=function(t){if(e){var n=function(e,t){for(var n=0;n<M.length;n++)if(!Me(M[n])){var r=Ve(M[n]),a=M[n][L].options.emptyInsertThreshold,i=e>=r.left-a&&e<=r.right+a,o=t>=r.top-a&&t<=r.bottom+a;if(a&&i&&o)return M[n]}}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(n){var r={};for(var a in t)r[a]=t[a];r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[L]._onDragOver(r)}}};function Ae(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Fe({},t),e[L]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ie(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:z(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ae.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in n)!(r in t)&&(t[r]=n[r]);for(var a in pe(t),this)"_"===a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&$,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?xe(e,"pointerdown",this._onTapStart):(xe(e,"mousedown",this._onTapStart),xe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(xe(e,"dragover",this),xe(e,"dragenter",this)),M.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function ye(e,t,n,r){if(e){n=n||B;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Pe(e,t):Pe(e,t))||r&&e===n)return e;if(e===n)break}while(e=be(e))}return null}function be(e){return e.host&&e!==B&&e.host.nodeType?e.host:e.parentNode}function xe(e,t,n){e.addEventListener(t,n,!H&&G)}function we(e,t,n){e.removeEventListener(t,n,!H&&G)}function _e(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(P," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(P," ")}}function ke(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return B.defaultView&&B.defaultView.getComputedStyle?n=B.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function Oe(e){var t="";do{var n=ke(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function Ee(e,t,n){if(e){var r=e.getElementsByTagName(t),a=0,i=r.length;if(n)for(;a<i;a++)n(r[a],a);return r}return[]}function Se(e,t,n,a,i,o,s,u,c,l,d){var p,h=(e=e||t[L]).options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||H||q?(p=B.createEvent("Event")).initEvent(n,!0,!0):p=new CustomEvent(n,{bubbles:!0,cancelable:!0}),p.to=i||t,p.from=o||t,p.item=a||t,p.clone=r,p.oldIndex=s,p.newIndex=u,p.oldDraggableIndex=c,p.newDraggableIndex=l,p.originalEvent=d,p.pullMode=m?m.lastPutMode:void 0,t&&t.dispatchEvent(p),h[f]&&h[f].call(e,p)}function Ce(e,t,n,r,a,i,o,s){var u,c,l=e[L],d=l.options.onMove;return!window.CustomEvent||H||q?(u=B.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=a||t,u.relatedRect=i||Ve(t),u.willInsertAfter=s,u.originalEvent=o,e.dispatchEvent(u),d&&(c=d.call(l,u,o)),c}function Te(e){e.draggable=!1}function Ie(){J=!1}function je(t,r,a){for(var i=0,o=0,s=t.children;o<s.length;){if("none"!==s[o].style.display&&s[o]!==n&&s[o]!==e&&ye(s[o],a.draggable,t,!1)){if(i===r)return s[o];i++}o++}return null}function Me(e){for(var t=e.lastElementChild;t&&(t===n||"none"===ke(t,"display"));)t=t.previousElementSibling;return t||null}function Ne(t){return Re(e)<Re(t)?1:-1}function De(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Re(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||e===r||t&&!Pe(e,t)||n++;return n}function Pe(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function Le(e,t){return function(){if(!ve){var n=arguments,r=this;ve=U(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),ve=void 0},t)}}}function Fe(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Be(e){return W&&W.dom?W.dom(e).cloneNode(!0):V?V(e).clone(!0)[0]:e.cloneNode(!0)}function ze(e){return U(e,0)}function Ue(e){return clearTimeout(e)}function Ve(e,t,n,r){if(e.getBoundingClientRect||e===F){var a,i,o,s,u,c,l;if(e!==F&&e!==ue()?(i=(a=e.getBoundingClientRect()).top,o=a.left,s=a.bottom,u=a.right,c=a.height,l=a.width):(i=0,o=0,s=window.innerHeight,u=window.innerWidth,c=window.innerHeight,l=window.innerWidth),r&&e!==F&&(n=n||e.parentNode,!H))do{if(n&&n.getBoundingClientRect&&"none"!==ke(n,"transform")){var d=n.getBoundingClientRect();i-=d.top+z(ke(n,"border-top-width")),o-=d.left+z(ke(n,"border-left-width")),s=i+a.height,u=o+a.width;break}}while(n=n.parentNode);if(t&&e!==F){var p=Oe(n||e),h=p&&p.a,f=p&&p.d;p&&(s=(i/=f)+(c/=f),u=(o/=h)+(l/=h))}return{top:i,left:o,bottom:s,right:u,width:l,height:c}}}function We(e,t){for(var n=se(e,!0),r=Ve(e)[t];n;){var a=Ve(n)[t];if(!("top"===t||"left"===t?r>=a:r<=a))return n;if(n===ue())break;n=se(n,!1)}return!1}function Ge(e){var t=0,n=0,r=ue();if(e)do{var a=Oe(e),i=a.a,o=a.d;t+=e.scrollLeft*i,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}return Ae.prototype={constructor:Ae,_computeIsAligned:function(t){var r;if(n&&!Z?(fe(),r=B.elementFromPoint(t.clientX,t.clientY),me()):r=t.target,r=ye(r,this.options.draggable,this.el,!1),!ee&&e&&e.parentNode===this.el){for(var a=this.el.children,i=0;i<a.length;i++)ye(a[i],this.options.draggable,this.el,!1)&&a[i]!==r&&(a[i].sortableMouseAligned=oe(t.clientX,t.clientY,a[i],this._getDirection(t,null),this.options));ye(r,this.options.draggable,this.el,!0)||(w=null),ee=!0,U(function(){ee=!1},30)}},_getDirection:function(t,n){return"function"===typeof this.options.direction?this.options.direction.call(this,t,n,e):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n,r,a=this,i=this.el,s=this.options,u=s.preventOnFilter,c=t.type,l=t.touches&&t.touches[0],d=(l||t).target,p=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,h=s.filter;if(function(e){ae.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&ae.push(r)}}(i),!e&&!(/mousedown|pointerdown/.test(c)&&0!==t.button||s.disabled)&&!p.isContentEditable&&(d=ye(d,s.draggable,i,!1),o!==d)){if(n=Re(d),r=Re(d,s.draggable),"function"===typeof h){if(h.call(this,t,d,this))return Se(a,p,"filter",d,i,i,n,void 0,r),void(u&&t.cancelable&&t.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=ye(p,e.trim(),i,!1))return Se(a,e,"filter",d,i,i,n,void 0,r),!0})))return void(u&&t.cancelable&&t.preventDefault());s.handle&&!ye(p,s.handle,i,!1)||this._prepareDragStart(t,l,d,n,r)}}},_handleAutoScroll:function(t,n){if(e&&this.options.scroll){var r=t.clientX,a=t.clientY,i=B.elementFromPoint(r,a),o=this;if(n||q||H||X){le(t,o.options,i,n);var s=se(i,!0);!T||v&&r===g&&a===A||(v&&clearInterval(v),v=setInterval(function(){if(e){var i=se(B.elementFromPoint(r,a),!0);i!==s&&(s=i,de(),le(t,o.options,s,n))}},10),g=r,A=a)}else{if(!o.options.bubbleScroll||se(i,!0)===ue())return void de();le(t,o.options,se(i,!1),!1)}}},_prepareDragStart:function(n,r,s,u,c){var d,h=this,m=h.el,v=h.options,g=m.ownerDocument;s&&!e&&s.parentNode===m&&(a=m,t=(e=s).parentNode,i=e.nextSibling,o=s,f=v.group,l=u,p=c,y={target:e,clientX:(r||n).clientX,clientY:(r||n).clientY},this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",d=function(){h._disableDelayedDragEvents(),!K&&h.nativeDraggable&&(e.draggable=!0),h._triggerDragStart(n,r),Se(h,a,"choose",e,a,a,l,void 0,p),_e(e,v.chosenClass,!0)},v.ignore.split(",").forEach(function(t){Ee(e,t.trim(),Te)}),xe(g,"dragover",ge),xe(g,"mousemove",ge),xe(g,"touchmove",ge),xe(g,"mouseup",h._onDrop),xe(g,"touchend",h._onDrop),xe(g,"touchcancel",h._onDrop),K&&this.nativeDraggable&&(this.options.touchStartThreshold=4,e.draggable=!0),!v.delay||v.delayOnTouchOnly&&!r||this.nativeDraggable&&(q||H)?d():(xe(g,"mouseup",h._disableDelayedDrag),xe(g,"touchend",h._disableDelayedDrag),xe(g,"touchcancel",h._disableDelayedDrag),xe(g,"mousemove",h._delayedDragTouchMoveHandler),xe(g,"touchmove",h._delayedDragTouchMoveHandler),v.supportPointer&&xe(g,"pointermove",h._delayedDragTouchMoveHandler),h._dragStartTimer=U(d,v.delay)))},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;re(te(t.clientX-this._lastX),te(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){e&&Te(e),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;we(e,"mouseup",this._disableDelayedDrag),we(e,"touchend",this._disableDelayedDrag),we(e,"touchcancel",this._disableDelayedDrag),we(e,"mousemove",this._delayedDragTouchMoveHandler),we(e,"touchmove",this._delayedDragTouchMoveHandler),we(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||("touch"==t.pointerType?t:null),!this.nativeDraggable||n?this.options.supportPointer?xe(B,"pointermove",this._onTouchMove):xe(B,n?"touchmove":"mousemove",this._onTouchMove):(xe(e,"dragend",this),xe(a,"dragstart",this._onDragStart));try{B.selection?ze(function(){B.selection.empty()}):window.getSelection().removeAllRanges()}catch(r){}},_dragStarted:function(t,n){if(I=!1,a&&e){this.nativeDraggable&&(xe(B,"dragover",this._handleAutoScroll),xe(B,"dragover",he));var r=this.options;!t&&_e(e,r.dragClass,!1),_e(e,r.ghostClass,!0),ke(e,"transform",""),Ae.active=this,t&&this._appendGhost(),Se(this,a,"start",e,a,a,l,void 0,p,void 0,n)}else this._nulling()},_emulateDragOver:function(t){if(b){if(this._lastX===b.clientX&&this._lastY===b.clientY&&!t)return;this._lastX=b.clientX,this._lastY=b.clientY,fe();for(var n=B.elementFromPoint(b.clientX,b.clientY),r=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(b.clientX,b.clientY))!==r;)r=n;if(r)do{if(r[L])if(r[L]._onDragOver({clientX:b.clientX,clientY:b.clientY,target:n,rootEl:r})&&!this.options.dragoverBubble)break;n=r}while(r=r.parentNode);e.parentNode[L]._computeIsAligned(b),me()}},_onTouchMove:function(e,t){if(y){var r=this.options,a=r.fallbackTolerance,i=r.fallbackOffset,o=e.touches?e.touches[0]:e,s=n&&Oe(n),u=n&&s&&s.a,c=n&&s&&s.d,l=Q&&E&&Ge(E),d=(o.clientX-y.clientX+i.x)/(u||1)+(l?l[0]-R[0]:0)/(u||1),p=(o.clientY-y.clientY+i.y)/(c||1)+(l?l[1]-R[1]:0)/(c||1),h=e.touches?"translate3d("+d+"px,"+p+"px,0)":"translate("+d+"px,"+p+"px)";if(!Ae.active&&!I){if(a&&ne(te(o.clientX-this._lastX),te(o.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}!t&&this._handleAutoScroll(o,!0),x=!0,b=o,ke(n,"webkitTransform",h),ke(n,"mozTransform",h),ke(n,"msTransform",h),ke(n,"transform",h),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!n){var t=this.options.fallbackOnBody?B.body:a,r=Ve(e,!0,t,!Q),i=(ke(e),this.options);if(Q){for(E=t;"static"===ke(E,"position")&&"none"===ke(E,"transform")&&E!==B;)E=E.parentNode;if(E!==B){var o=Ve(E,!0);r.top-=o.top,r.left-=o.left}E!==B.body&&E!==B.documentElement?(E===B&&(E=ue()),r.top+=E.scrollTop,r.left+=E.scrollLeft):E=ue(),R=Ge(E)}_e(n=e.cloneNode(!0),i.ghostClass,!1),_e(n,i.fallbackClass,!0),_e(n,i.dragClass,!0),ke(n,"box-sizing","border-box"),ke(n,"margin",0),ke(n,"top",r.top),ke(n,"left",r.left),ke(n,"width",r.width),ke(n,"height",r.height),ke(n,"opacity","0.8"),ke(n,"position",Q?"absolute":"fixed"),ke(n,"zIndex","100000"),ke(n,"pointerEvents","none"),t.appendChild(n)}},_onDragStart:function(t,n){var i=this,o=t.dataTransfer,s=i.options;(r=Be(e)).draggable=!1,r.style["will-change"]="",this._hideClone(),_e(r,i.options.chosenClass,!1),i._cloneId=ze(function(){i.options.removeCloneOnHide||a.insertBefore(r,e),Se(i,a,"clone",e)}),!n&&_e(e,s.dragClass,!0),n?(j=!0,i._loopId=setInterval(i._emulateDragOver,50)):(we(B,"mouseup",i._onDrop),we(B,"touchend",i._onDrop),we(B,"touchcancel",i._onDrop),o&&(o.effectAllowed="move",s.setData&&s.setData.call(i,o,e)),xe(B,"drop",i),ke(e,"transform","translateZ(0)")),I=!0,i._dragStartId=ze(i._dragStarted.bind(i,n,t)),xe(B,"selectstart",i),X&&ke(B.body,"user-select","none")},_onDragOver:function(n){var r,o,s,u=this.el,c=n.target,d=this.options,h=d.group,v=Ae.active,g=f===h,A=d.sort,y=this;if(!J){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),x=!0,c=ye(c,d.draggable,u,!0),e.contains(n.target)||c.animated)return G(!1);if(c!==e&&(j=!1),v&&!d.disabled&&(g?A||(s=!a.contains(e)):m===this||(this.lastPutMode=f.checkPull(this,v,e,n))&&h.checkPut(this,v,e,n))){var b=this._getDirection(n,c);if(r=Ve(e),s)return this._hideClone(),t=a,i?a.insertBefore(e,i):a.appendChild(e),G(!0);var E=Me(u);if(!E||function(e,t,n){var r=Ve(Me(n)),a="vertical"===t?e.clientY:e.clientX,i="vertical"===t?e.clientX:e.clientY,o="vertical"===t?r.bottom:r.right,s="vertical"===t?r.left:r.top,u="vertical"===t?r.right:r.bottom;return"vertical"===t?i>u+10||i<=u&&a>o&&i>=s:a>o&&i>s||a<=o&&i>u+10}(n,b,u)&&!E.animated){if(E&&u===n.target&&(c=E),c&&(o=Ve(c)),g?v._hideClone():v._showClone(this),!1!==Ce(a,u,e,r,c,o,n,!!c))return u.appendChild(e),t=u,S=null,H(),G(!0)}else if(c&&c!==e&&c.parentNode===u){var C,T=0,I=c.sortableMouseAligned,M=e.parentNode!==u,R="vertical"===b?"top":"left",P=We(c,"top")||We(e,"top"),F=P?P.scrollTop:void 0;if(w!==c&&(k=null,C=Ve(c)[R],N=!1),function(t,n,r){var a=t===e&&S||Ve(t),i=n===e&&S||Ve(n),o="vertical"===r?a.left:a.top,s="vertical"===r?a.right:a.bottom,u="vertical"===r?a.width:a.height,c="vertical"===r?i.left:i.top,l="vertical"===r?i.right:i.bottom,d="vertical"===r?i.width:i.height;return o===c||s===l||o+u/2===c+d/2}(e,c,b)&&I||M||P||d.invertSwap||"insert"===k||"swap"===k?("swap"!==k&&(D=d.invertSwap||M),T=function(t,n,r,a,i,o,s){var u=Ve(n),c="vertical"===r?t.clientY:t.clientX,l="vertical"===r?u.height:u.width,d="vertical"===r?u.top:u.left,p="vertical"===r?u.bottom:u.right,h=Ve(e),f=!1;if(!o)if(s&&O<l*a)if(!N&&(1===_?c>d+l*i/2:c<p-l*i/2)&&(N=!0),N)f=!0;else{"vertical"===r?h.top:h.left,"vertical"===r?h.bottom:h.right;if(1===_?c<d+O:c>p-O)return-1*_}else if(c>d+l*(1-a)/2&&c<p-l*(1-a)/2)return Ne(n);if((f=f||o)&&(c<d+l*i/2||c>p-l*i/2))return c>d+l/2?1:-1;return 0}(n,c,b,d.swapThreshold,null==d.invertedSwapThreshold?d.swapThreshold:d.invertedSwapThreshold,D,w===c),k="swap"):(T=Ne(c),k="insert"),0===T)return G(!1);S=null,w=c,_=T,o=Ve(c);var z=c.nextElementSibling,V=!1,W=Ce(a,u,e,r,c,o,n,V=1===T);if(!1!==W)return 1!==W&&-1!==W||(V=1===W),J=!0,U(Ie,30),g?v._hideClone():v._showClone(this),V&&!z?u.appendChild(e):c.parentNode.insertBefore(e,V?z:c),P&&ce(P,0,F-P.scrollTop),t=e.parentNode,void 0===C||D||(O=te(C-Ve(c)[R])),H(),G(!0)}if(u.contains(e))return G(!1)}return!1}function G(t){return t&&(g?v._hideClone():v._showClone(y),v&&(_e(e,m?m.options.ghostClass:v.options.ghostClass,!1),_e(e,d.ghostClass,!0)),m!==y&&y!==Ae.active?m=y:y===Ae.active&&(m=null),r&&y._animate(r,e),c&&o&&y._animate(o,c)),(c===e&&!e.animated||c===u&&!c.animated)&&(w=null),d.dragoverBubble||n.rootEl||c===B||(y._handleAutoScroll(n),e.parentNode[L]._computeIsAligned(n),!t&&ge(n)),!d.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function H(){Se(y,a,"change",c,u,a,l,Re(e),p,Re(e,d.draggable),n)}},_animate:function(t,n){var r=this.options.animation;if(r){var a=Ve(n);if(n===e&&(S=a),1===t.nodeType&&(t=Ve(t)),t.left+t.width/2!==a.left+a.width/2||t.top+t.height/2!==a.top+a.height/2){var i=Oe(this.el),o=i&&i.a,s=i&&i.d;ke(n,"transition","none"),ke(n,"transform","translate3d("+(t.left-a.left)/(o||1)+"px,"+(t.top-a.top)/(s||1)+"px,0)"),this._repaint(n),ke(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),ke(n,"transform","translate3d(0,0,0)")}"number"===typeof n.animated&&clearTimeout(n.animated),n.animated=U(function(){ke(n,"transition",""),ke(n,"transform",""),n.animated=!1},r)}},_repaint:function(e){return e.offsetWidth},_offMoveEvents:function(){we(B,"touchmove",this._onTouchMove),we(B,"pointermove",this._onTouchMove),we(B,"dragover",ge),we(B,"mousemove",ge),we(B,"touchmove",ge)},_offUpEvents:function(){var e=this.el.ownerDocument;we(e,"mouseup",this._onDrop),we(e,"touchend",this._onDrop),we(e,"pointerup",this._onDrop),we(e,"touchcancel",this._onDrop),we(B,"selectstart",this)},_onDrop:function(o){var s=this.el,u=this.options;I=!1,T=!1,D=!1,N=!1,clearInterval(this._loopId),clearInterval(v),de(),clearTimeout(ve),ve=void 0,clearTimeout(this._dragStartTimer),Ue(this._cloneId),Ue(this._dragStartId),we(B,"mousemove",this._onTouchMove),this.nativeDraggable&&(we(B,"drop",this),we(s,"dragstart",this._onDragStart),we(B,"dragover",this._handleAutoScroll),we(B,"dragover",he)),X&&ke(B.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),o&&(x&&(o.cancelable&&o.preventDefault(),!u.dropBubble&&o.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(a===t||m&&"clone"!==m.lastPutMode)&&r&&r.parentNode&&r.parentNode.removeChild(r),e&&(this.nativeDraggable&&we(e,"dragend",this),Te(e),e.style["will-change"]="",_e(e,m?m.options.ghostClass:this.options.ghostClass,!1),_e(e,this.options.chosenClass,!1),Se(this,a,"unchoose",e,t,a,l,null,p,null,o),a!==t?(d=Re(e),h=Re(e,u.draggable),d>=0&&(Se(null,t,"add",e,t,a,l,d,p,h,o),Se(this,a,"remove",e,t,a,l,d,p,h,o),Se(null,t,"sort",e,t,a,l,d,p,h,o),Se(this,a,"sort",e,t,a,l,d,p,h,o)),m&&m.save()):e.nextSibling!==i&&(d=Re(e),h=Re(e,u.draggable),d>=0&&(Se(this,a,"update",e,t,a,l,d,p,h,o),Se(this,a,"sort",e,t,a,l,d,p,h,o))),Ae.active&&(null!=d&&-1!==d||(d=l,h=p),Se(this,a,"end",e,t,a,l,d,p,h,o),this.save()))),this._nulling()},_nulling:function(){a=e=t=n=i=r=o=s=u=C.length=v=g=A=y=b=x=d=l=w=_=S=m=f=Ae.active=null,ae.forEach(function(e){e.checked=!0}),ae.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,a=n.length,i=this.options;r<a;r++)ye(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||De(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,r){var a=n.children[r];ye(a,this.options.draggable,n,!1)&&(t[e]=a)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ye(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&pe(n)},destroy:function(){var e=this.el;e[L]=null,we(e,"mousedown",this._onTapStart),we(e,"touchstart",this._onTapStart),we(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(we(e,"dragover",this),we(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),M.splice(M.indexOf(this.el),1),this.el=e=null},_hideClone:function(){r.cloneHidden||(ke(r,"display","none"),r.cloneHidden=!0,r.parentNode&&this.options.removeCloneOnHide&&r.parentNode.removeChild(r))},_showClone:function(t){"clone"===t.lastPutMode?r.cloneHidden&&(a.contains(e)&&!this.options.group.revertClone?a.insertBefore(r,e):i?a.insertBefore(r,i):a.appendChild(r),this.options.group.revertClone&&this._animate(e,r),ke(r,"display",""),r.cloneHidden=!1):this._hideClone()}},xe(B,"touchmove",function(e){(Ae.active||I)&&e.cancelable&&e.preventDefault()}),Ae.utils={on:xe,off:we,css:ke,find:Ee,is:function(e,t){return!!ye(e,t,e,!1)},extend:Fe,throttle:Le,closest:ye,toggleClass:_e,clone:Be,index:Re,nextTick:ze,cancelNextTick:Ue,detectDirection:ie,getChild:je},Ae.create=function(e,t){return new Ae(e,t)},Ae.version="1.9.0",Ae})},function(e,t,n){e.exports=n(575)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(32);function a(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(r.a)(e);return!isNaN(t)}},function(e,t,n){"use strict";function r(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function a(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var i={p:a,P:function(e,t){var n,i=e.match(/(P+)(p+)?/),o=i[1],s=i[2];if(!s)return r(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(o,t)).replace("{{time}}",a(s,t))}};t.a=i},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(32),a=n(146);function i(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(r.a)(e),n=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var o=Object(a.a)(i),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var u=Object(a.a)(s);return t.getTime()>=o.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=6e4;function a(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();t.setSeconds(0,0);var a=t.getTime()%r;return n*r+a}},function(e,t,n){"use strict";function r(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return y});var r=n(7),a=n.n(r),i=n(5),o=n(11),s=n(16),u=(n(244),n(42)),c=n(64),l=n(80),d=n(95),p="tensorflowjs",h="models_store",f="model_info_store";function m(){if(!Object(u.b)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function v(e){var t=e.result;t.createObjectStore(h,{keyPath:"modelPath"}),t.createObjectStore(f,{keyPath:"modelPath"})}var g=function(){function e(t){if(Object(i.a)(this,e),this.indexedDB=m(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return Object(o.a)(e,[{key:"save",value:function(){var e=Object(s.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(s.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise(function(e,r){var a=n.indexedDB.open(p,1);a.onupgradeneeded=function(){return v(a)},a.onsuccess=function(){var i=a.result;if(null==t){var o=i.transaction(h,"readonly"),s=o.objectStore(h).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},o.oncomplete=function(){return i.close()}}else{t.weightData=d.a.join(t.weightData);var u,l,p=Object(c.i)(t),m=i.transaction(f,"readwrite"),v=m.objectStore(f);try{u=v.put({modelPath:n.modelPath,modelArtifactsInfo:p})}catch(g){return r(g)}u.onsuccess=function(){var a,o=(l=i.transaction(h,"readwrite")).objectStore(h);try{a=o.put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:p})}catch(g){return r(g)}a.onsuccess=function(){return e({modelArtifactsInfo:p})},a.onerror=function(e){var t=(v=m.objectStore(f)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(a.error)},t.onerror=function(e){return i.close(),r(a.error)}}},u.onerror=function(e){return i.close(),r(u.error)},m.oncomplete=function(){null==l?i.close():l.oncomplete=function(){return i.close()}}}},a.onerror=function(e){return r(a.error)}})}}]),e}();g.URL_SCHEME="indexeddb://";var A=function(e){return Object(u.b)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(g.URL_SCHEME)?(t=e.slice(g.URL_SCHEME.length),new g(t)):null;var t};l.a.registerSaveRouter(A),l.a.registerLoadRouter(A);var y=function(){function e(){Object(i.a)(this,e),this.indexedDB=m()}return Object(o.a)(e,[{key:"listModels",value:function(){var e=Object(s.a)(a.a.mark(function e(){var t=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var r=t.indexedDB.open(p,1);r.onupgradeneeded=function(){return v(r)},r.onsuccess=function(){var t=r.result,a=t.transaction(f,"readonly"),i=a.objectStore(f).getAll();i.onsuccess=function(){var t={},n=!0,r=!1,a=void 0;try{for(var o,s=i.result[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;t[u.modelPath]=u.modelArtifactsInfo}}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}e(t)},i.onerror=function(e){return t.close(),n(i.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Object(s.a)(a.a.mark(function e(t){var n=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(g.URL_SCHEME)?r.slice(g.URL_SCHEME.length):r,e.abrupt("return",new Promise(function(e,r){var a=n.indexedDB.open(p,1);a.onupgradeneeded=function(){return v(a)},a.onsuccess=function(){var n,i=a.result,o=i.transaction(f,"readwrite"),s=o.objectStore(f),u=s.get(t);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var a=s.delete(t),o=function(){var a=(n=i.transaction(h,"readwrite")).objectStore(h).delete(t);a.onsuccess=function(){return e(u.result.modelArtifactsInfo)},a.onerror=function(e){return r(u.error)}};a.onsuccess=o,a.onerror=function(e){return o(),i.close(),r(u.error)}},u.onerror=function(e){return i.close(),r(u.error)},o.oncomplete=function(){null==n?i.close():n.oncomplete=function(){return i.close()}}},a.onerror=function(e){return r(a.error)}}));case 2:case"end":return e.stop()}var r},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return O});var r=n(7),a=n.n(r),i=n(16),o=n(5),s=n(11),u=(n(244),n(42)),c=n(20),l=n(64),d=n(95),p=n(80),h="/",f="tensorflowjs_models",m="info",v="model_topology",g="weight_specs",A="weight_data",y="model_metadata";function b(e){return{info:[f,e,m].join(h),topology:[f,e,v].join(h),weightSpecs:[f,e,g].join(h),weightData:[f,e,A].join(h),modelMetadata:[f,e,y].join(h)}}function x(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function w(e){var t=e.split(h);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(h)}var _=function(){function e(t){if(Object(o.a)(this,e),!Object(u.b)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=b(this.modelPath)}return Object(s.a)(e,[{key:"save",value:function(){var e=Object(i.a)(a.a.mark(function e(t){var n,r,i,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),i=Object(l.i)(t),o=d.a.join(t.weightData),e.prev=8,this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Object(l.a)(o)),s={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,initializerSignature:null!=t.initializerSignature?t.initializerSignature:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),e.abrupt("return",{modelArtifactsInfo:i});case 18:throw e.prev=18,e.t0=e.catch(8),x(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(i.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(i.weightSpecsBytes,", ")+"weightDataBytes=".concat(i.weightDataBytes,"."));case 22:case"end":return e.stop()}},e,this,[[8,18]])}));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(i.a)(a.a.mark(function e(){var t,n,r,i,o,s,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(i=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=i,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(s=JSON.parse(o),n.format=s.format,n.generatedBy=s.generatedBy,n.convertedBy=s.convertedBy,null!=s.signature&&(n.signature=s.signature),null!=s.userDefinedMetadata&&(n.userDefinedMetadata=s.userDefinedMetadata),null!=s.modelInitializer&&(n.modelInitializer=s.modelInitializer),null!=s.initializerSignature&&(n.initializerSignature=s.initializerSignature),null!=s.trainingConfig&&(n.trainingConfig=s.trainingConfig)),null!=(u=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=Object(l.b)(u),e.abrupt("return",n);case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();_.URL_SCHEME="localstorage://";var k=function(e){return Object(u.b)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(_.URL_SCHEME)?(t=e.slice(_.URL_SCHEME.length),new _(t)):null;var t};p.a.registerSaveRouter(k),p.a.registerLoadRouter(k);var O=function(){function e(){Object(o.a)(this,e),Object(c.c)(Object(u.b)().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),Object(c.c)("undefined"===typeof window||"undefined"!==typeof window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return Object(s.a)(e,[{key:"listModels",value:function(){var e=Object(i.a)(a.a.mark(function e(){var t,n,r,i,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=f+h,r=h+m,i=0;i<this.LS.length;++i)(o=this.LS.key(i)).startsWith(n)&&o.endsWith(r)&&(s=w(o),t[s]=JSON.parse(this.LS.getItem(o)));return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Object(i.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a=t).startsWith(_.URL_SCHEME)?a.slice(_.URL_SCHEME.length):a,n=b(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),x(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var a},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),a=n(4),i=n(20),o=n(8),s=n(19);var u=Object(o.b)({conv3DBackpropInput_:function(e,t,n,o,u){i.c(e.length===t.rank,function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")});var c=e,l=t,d=!1;4===t.rank&&(d=!0,l=Object(s.a)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,e[0],e[1],e[2],e[3]]);var p=c[4],h=l.shape[4];i.c(5===c.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(c.length,".")}),i.c(5===l.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(l.rank)}),i.c(5===n.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)}),i.c(p===n.shape[3],function(){return"Error in conv3dDerInput: depth of input (".concat(p,") must ")+"match input depth for filter ".concat(n.shape[3],".")}),i.c(h===n.shape[4],function(){return"Error in conv3dDerInput: depth of output (".concat(h,") must ")+"match output depth for filter ".concat(n.shape[4],".")});var f={dy:l,filter:n},m={pad:u,strides:o,inputShape:c},v=r.a.runKernel(a.J,f,m);return d?Object(s.a)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(333),a=n(10),i=n(4),o=n(3),s=n(20),u=n(8),c=n(19);var l=Object(u.b)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=Object(o.a)(e,"images","resizeNearestNeighbor");s.c(3===l.rank||4===l.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")}),s.c(2===t.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")}),s.c("float32"===l.dtype||"int32"===l.dtype,function(){return"`images` must have `int32` or `float32` as dtype"}),s.c(!1===u||!1===n,function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."});var d=l,p=!1;3===l.rank&&(p=!0,d=Object(c.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Object(r.a)(t);var h={images:d},f={alignCorners:n,halfPixelCenters:u,size:t},m=a.a.runKernel(i.yc,h,f);return p?Object(c.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(315),a=n(310),i=n(316);function o(e){return Object(r.a)(e)||Object(a.a)(e)||Object(i.a)()}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(333),a=n(10),i=n(4),o=n(3),s=n(20),u=n(8),c=n(19);var l=Object(u.b)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=Object(o.a)(e,"images","resizeBilinear");s.c(3===l.rank||4===l.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")}),s.c(2===t.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")}),s.c(!1===u||!1===n,function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."});var d=l,p=!1;3===l.rank&&(p=!0,d=Object(c.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Object(r.a)(t);var h={images:d},f={alignCorners:n,halfPixelCenters:u,size:t},m=a.a.runKernel(i.wc,h,f);return p?Object(c.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(8),o=n(19);var s=Object(i.b)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,i,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=t,d=!1;3===t.rank&&(d=!0,l=Object(o.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var p={dy:l,filter:n},h={strides:i,pad:s,dimRoundingMode:c,dilations:u,inputShape:e},f=r.a.runKernel(a.T,p,h);return d?Object(o.a)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(8),o=n(19);var s=Object(i.b)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,i,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=e;3===e.rank&&(l=Object(o.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var d=t;3===d.rank&&(d=Object(o.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var p={x:l,dy:d},h={strides:i,pad:s,dimRoundingMode:c,dilations:u,filterShape:n};return r.a.runKernel(a.S,p,h)}})},function(e,t,n){"use strict";var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var i={date:a({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:a({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:a({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},o={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function s(e){return function(t,n){var r,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=a.width?String(a.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,u=a.width?String(a.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function u(e){return function(t,n){var r=String(t),a=n||{},i=a.width,o=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=r.match(o);if(!s)return null;var u,c=s[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(l)?l.findIndex(function(e){return e.test(r)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(l,function(e){return e.test(r)}),u=e.valueCallback?e.valueCallback(u):u,{value:u=a.valueCallback?a.valueCallback(u):u,rest:r.slice(c.length)}}}var c,l={formatDistance:function(e,t,n){var a;return n=n||{},a="string"===typeof r[e]?r[e]:1===t?r[e].one:r[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+a:a+" ago":a},formatLong:i,formatRelative:function(e,t,n,r){return o[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(c={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},a=n.match(c.matchPattern);if(!a)return null;var i=a[0],o=n.match(c.parsePattern);if(!o)return null;var s=c.valueCallback?c.valueCallback(o[0]):o[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(i.length)}}),era:u({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:u({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:u({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:u({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};t.a=l},function(e,t,n){"use strict";var r=n(46),a=n(32);function i(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e).getTime(),i=Object(r.a)(t);return new Date(n+i)}(e,-Object(r.a)(t))}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var r=n(32),a=n(132),i=n(46),o=n(234);n.d(t,"a",function(){return u});var s=6048e5;function u(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e),u=Object(a.a)(n,t).getTime()-function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,s=r&&r.options&&r.options.firstWeekContainsDate,u=null==s?1:Object(i.a)(s),c=null==n.firstWeekContainsDate?u:Object(i.a)(n.firstWeekContainsDate),l=Object(o.a)(e,t),d=new Date(0);return d.setUTCFullYear(l,0,c),d.setUTCHours(0,0,0,0),Object(a.a)(d,t)}(n,t).getTime();return Math.round(u/s)+1}},function(e,t,n){"use strict";var r=n(32),a=n(146),i=n(326);n.d(t,"a",function(){return s});var o=6048e5;function s(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(r.a)(e),n=Object(a.a)(t).getTime()-function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(i.a)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Object(a.a)(n)}(t).getTime();return Math.round(n/o)+1}},function(e,t,n){e.exports=n(602)},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.min(Math.max(e,t),n)}n.d(t,"a",function(){return r})},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1),i=(r=a)&&r.__esModule?r:{default:r};t.default=i.default.createContext()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGES=t.TRANSITION_DOWN_DURATION=t.TRANSITION_DELAY=t.defaultAnchorOrigin=t.iconVariant=void 0;var r=i(n(1)),a=i(n(193));function i(e){return e&&e.__esModule?e:{default:e}}var o={opacity:.9,fontSize:20,marginRight:8};t.iconVariant={success:r.default.createElement(function(e){return r.default.createElement(a.default,e,r.default.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}))},{style:o}),warning:r.default.createElement(function(e){return r.default.createElement(a.default,e,r.default.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},{style:o}),error:r.default.createElement(function(e){return r.default.createElement(a.default,e,r.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41, 20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53, 2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16, 14.59L13.41,12L16,9.41L14.59,8Z"}))},{style:o}),info:r.default.createElement(function(e){return r.default.createElement(a.default,e,r.default.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}))},{style:o})},t.defaultAnchorOrigin={vertical:"bottom",horizontal:"left"},t.TRANSITION_DELAY=150,t.TRANSITION_DOWN_DURATION=200,t.MESSAGES={NO_PERSIST_ALL:"WARNING - notistack: Reached maxSnack while all enqueued snackbars have 'persist' flag. Notistack will dismiss the oldest snackbar anyway to allow other ones in the queue to be presented."}},function(e,t,n){"use strict";n.r(t);var r=n(368);n.d(t,"default",function(){return r.a})},function(e,t,n){"use strict";var r=n(73);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MTableAction",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MTableActions",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"MTableBody",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"MTableBodyRow",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"MTableGroupbar",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"MTableGroupRow",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"MTableCell",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"MTableEditRow",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"MTableEditField",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"MTableFilterRow",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"MTableHeader",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"MTablePagination",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"MTableSteppedPagination",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"MTableToolbar",{enumerable:!0,get:function(){return g.default}});var a=r(n(570)),i=r(n(571)),o=r(n(572)),s=r(n(573)),u=r(n(574)),c=r(n(610)),l=r(n(611)),d=r(n(612)),p=r(n(613)),h=r(n(615)),f=r(n(616)),m=r(n(617)),v=r(n(618)),g=r(n(619))},function(e,t,n){var r=n(258);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(410),a=n(411);e.exports=function(e){return r(a(e))}},function(e,t,n){var r=n(264),a=function(e,t){r.call(this,e,t)};(a.prototype=Object.create(r.prototype)).isValid=function(){return"number"===typeof this.coordinates[0]&&"number"===typeof this.coordinates[1]},a.prototype.updateCoordinate=function(e,t,n){3===arguments.length?this.coordinates=[t,n]:this.coordinates=[e,t],this.changed()},a.prototype.getCoordinate=function(){return this.getCoordinates()},e.exports=a},function(e,t){var n=e.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),e<=0)return"0";for(var r=Math.log(Math.pow(2,e))/Math.log(t),a=2;r===1/0;a*=2)r=Math.log(Math.pow(2,e/a))/Math.log(t)*a;var i=r-Math.floor(r),o="";for(a=0;a<Math.floor(r);a++){o=Math.floor(Math.random()*t).toString(t)+o}if(i){var s=Math.pow(t,i);o=Math.floor(Math.random()*s).toString(t)+o}var u=parseInt(o,t);return u!==1/0&&u>=Math.pow(2,e)?n(e,t):o};n.rack=function(e,t,r){var a=function(a){var o=0;do{if(o++>10){if(!r)throw new Error("too many ID collisions, use more bits");e+=r}var s=n(e,t)}while(Object.hasOwnProperty.call(i,s));return i[s]=a,s},i=a.hats={};return a.get=function(e){return a.hats[e]},a.set=function(e,t){return a.hats[e]=t,a},a.bits=e||128,a.base=t||16,a}},function(e,t,n){var r=n(264),a=function(e,t){r.call(this,e,t)};(a.prototype=Object.create(r.prototype)).isValid=function(){return this.coordinates.length>1},a.prototype.addCoordinate=function(e,t,n){this.changed();var r=parseInt(e,10);this.coordinates.splice(r,0,[t,n])},a.prototype.getCoordinate=function(e){var t=parseInt(e,10);return JSON.parse(JSON.stringify(this.coordinates[t]))},a.prototype.removeCoordinate=function(e){this.changed(),this.coordinates.splice(parseInt(e,10),1)},a.prototype.updateCoordinate=function(e,t,n){var r=parseInt(e,10);this.coordinates[r]=[t,n],this.changed()},e.exports=a},function(e,t,n){var r=n(264),a=function(e,t){r.call(this,e,t),this.coordinates=this.coordinates.map(function(e){return e.slice(0,-1)})};(a.prototype=Object.create(r.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every(function(e){return e.length>2})},a.prototype.incomingCoords=function(e){this.coordinates=e.map(function(e){return e.slice(0,-1)}),this.changed()},a.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},a.prototype.addCoordinate=function(e,t,n){this.changed();var r=e.split(".").map(function(e){return parseInt(e,10)});this.coordinates[r[0]].splice(r[1],0,[t,n])},a.prototype.removeCoordinate=function(e){this.changed();var t=e.split(".").map(function(e){return parseInt(e,10)}),n=this.coordinates[t[0]];n&&(n.splice(t[1],1),n.length<3&&this.coordinates.splice(t[0],1))},a.prototype.getCoordinate=function(e){var t=e.split(".").map(function(e){return parseInt(e,10)}),n=this.coordinates[t[0]];return JSON.parse(JSON.stringify(n[t[1]]))},a.prototype.getCoordinates=function(){return this.coordinates.map(function(e){return e.concat([e[0]])})},a.prototype.updateCoordinate=function(e,t,n){this.changed();var r=e.split("."),a=parseInt(r[0],10),i=parseInt(r[1],10);void 0===this.coordinates[a]&&(this.coordinates[a]=[]),this.coordinates[a][i]=[t,n]},e.exports=a},function(e,t,n){var r=n(68);e.exports=function(e,t,n,a){return{type:r.geojsonTypes.FEATURE,properties:{meta:r.meta.VERTEX,parent:e,coord_path:n,active:a?r.activeStates.ACTIVE:r.activeStates.INACTIVE},geometry:{type:r.geojsonTypes.POINT,coordinates:t}}}},function(e,t,n){"use strict";n.r(t);var r=n(323),a=n.n(r);function i(){return(i=a.a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(1),s=n.n(o);function u(e,t){var n=Object(o.useState)(function(){return{inputs:t,result:e()}})[0],r=Object(o.useRef)(n),a=Boolean(t&&r.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,r.current.inputs))?r.current:{inputs:t,result:e()};return Object(o.useEffect)(function(){r.current=a},[a]),a.result}var c=u,l=function(e,t){return u(function(){return e},t)},d=n(464),p=n.n(d);function h(e,t){e.prototype=p()(t.prototype),e.prototype.constructor=e,e.__proto__=t}var f=n(26),m=n(372),v=function(){return Math.random().toString(36).substring(7).split("").join(".")},g={INIT:"@@redux/INIT"+v(),REPLACE:"@@redux/REPLACE"+v(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+v()}};function A(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function y(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(y)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var a=e,i=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function d(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,c();var n=s.indexOf(e);s.splice(n,1)}}}function p(e){if(!A(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=a(i,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:g.INIT}),(r={dispatch:p,subscribe:d,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,p({type:g.REPLACE})}})[m.a]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[m.a]=function(){return this},e},r}function b(e,t){return function(){return t(e.apply(this,arguments))}}function x(e,t){if("function"===typeof e)return b(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},a=0;a<n.length;a++){var i=n[a],o=e[i];"function"===typeof o&&(r[i]=b(o,t))}return r}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(a)});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}({},n,{dispatch:r=_.apply(void 0,i)(n.dispatch)})}}}var O=n(23),E=n.n(O),S=s.a.createContext(null);var C=function(e){e()},T=function(){return C},I=null,j={notify:function(){}};var M=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=j,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=T(),t=[],n=[];return{clear:function(){n=I,t=I},notify:function(){var r=t=n;e(function(){for(var e=0;e<r.length;e++)r[e]()})},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==I&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=j)},e}(),N=function(e){var t,n;function r(t){var n;n=e.call(this,t)||this;var r=t.store;n.notifySubscribers=n.notifySubscribers.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));var a=new M(r);return a.onStateChange=n.notifySubscribers,n.state={store:r,subscription:a},n.previousState=r.getState(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},a.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},a.componentDidUpdate=function(e){if(this.props.store!==e.store){this.state.subscription.tryUnsubscribe();var t=new M(this.props.store);t.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:t})}},a.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},a.render=function(){var e=this.props.context||S;return s.a.createElement(e.Provider,{value:this.state},this.props.children)},r}(o.Component);N.propTypes={store:E.a.shape({subscribe:E.a.func.isRequired,dispatch:E.a.func.isRequired,getState:E.a.func.isRequired}),context:E.a.object,children:E.a.any};var D=N;function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var L=n(85),F=n.n(L),B=n(158),z=n.n(B),U=n(245),V=[],W=[null,null];function G(e,t){var n=e[1];return[t.payload,n+1]}var H=function(){return[null,0]},q="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?o.useLayoutEffect:o.useEffect;function K(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,u=void 0===i?"connectAdvanced":i,c=n.renderCountProp,l=void 0===c?void 0:c,d=n.shouldHandleStateChanges,p=void 0===d||d,h=n.storeKey,f=void 0===h?"store":h,m=n.withRef,v=void 0!==m&&m,g=n.forwardRef,A=void 0!==g&&g,y=n.context,b=void 0===y?S:y,x=P(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);z()(void 0===l,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),z()(!v,"withRef is removed. To access the wrapped instance, use a ref on the connected component");z()("store"===f,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var w=b;return function(t){var n=t.displayName||t.name||"Component",r=a(n),i=R({},x,{getDisplayName:a,methodName:u,renderCountProp:l,shouldHandleStateChanges:p,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=x.pure;var d=c?o.useMemo:function(e){return e()};function h(n){var a=Object(o.useMemo)(function(){var e=n.forwardedRef,t=P(n,["forwardedRef"]);return[n.context,e,t]},[n]),u=a[0],c=a[1],l=a[2],h=Object(o.useMemo)(function(){return u&&u.Consumer&&Object(U.isContextConsumer)(s.a.createElement(u.Consumer,null))?u:w},[u,w]),f=Object(o.useContext)(h),m=Boolean(n.store),v=Boolean(f)&&Boolean(f.store);z()(m||v,'Could not find "store" in the context of "'+r+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+r+" in connect options.");var g=n.store||f.store,A=Object(o.useMemo)(function(){return function(t){return e(t.dispatch,i)}(g)},[g]),y=Object(o.useMemo)(function(){if(!p)return W;var e=new M(g,m?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[g,m,f]),b=y[0],x=y[1],_=Object(o.useMemo)(function(){return m?f:R({},f,{subscription:b})},[m,f,b]),k=Object(o.useReducer)(G,V,H),O=k[0][0],E=k[1];if(O&&O.error)throw O.error;var S=Object(o.useRef)(),C=Object(o.useRef)(l),T=Object(o.useRef)(),I=Object(o.useRef)(!1),j=d(function(){return T.current&&l===C.current?T.current:A(g.getState(),l)},[g,O,l]);q(function(){C.current=l,S.current=j,I.current=!1,T.current&&(T.current=null,x())}),q(function(){if(p){var e=!1,t=null,n=function(){if(!e){var n,r,a=g.getState();try{n=A(a,C.current)}catch(i){r=i,t=i}r||(t=null),n===S.current?I.current||x():(S.current=n,T.current=n,I.current=!0,E({type:"STORE_UPDATED",payload:{latestStoreState:a,error:r}}))}};b.onStateChange=n,b.trySubscribe(),n();return function(){if(e=!0,b.tryUnsubscribe(),t)throw t}}},[g,b,A]);var N=Object(o.useMemo)(function(){return s.a.createElement(t,R({},j,{ref:c}))},[c,t,j]);return Object(o.useMemo)(function(){return p?s.a.createElement(h.Provider,{value:_},N):N},[h,N,_])}var m=c?s.a.memo(h):h;if(m.WrappedComponent=t,m.displayName=r,A){var v=s.a.forwardRef(function(e,t){return s.a.createElement(m,R({},e,{forwardedRef:t}))});return v.displayName=r,v.WrappedComponent=t,F()(v,t)}return F()(m,t)}}var X=Object.prototype.hasOwnProperty;function Q(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Y(e,t){if(Q(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!X.call(t,n[a])||!Q(e[n[a]],t[n[a]]))return!1;return!0}function $(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function Z(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function J(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Z(e);var a=r(t,n);return"function"===typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=Z(a),a=r(t,n)),a},r}}var ee=[function(e){return"function"===typeof e?J(e):void 0},function(e){return e?void 0:$(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?$(function(t){return x(e,t)}):void 0}];var te=[function(e){return"function"===typeof e?J(e):void 0},function(e){return e?void 0:$(function(){return{}})}];function ne(e,t,n){return R({},n,e,t)}var re=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,i=n.areMergedPropsEqual,o=!1;return function(t,n,s){var u=e(t,n,s);return o?a&&i(u,r)||(r=u):(o=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return ne}}];function ae(e,t,n,r){return function(a,i){return n(e(a,i),t(r,i),i)}}function ie(e,t,n,r,a){var i,o,s,u,c,l=a.areStatesEqual,d=a.areOwnPropsEqual,p=a.areStatePropsEqual,h=!1;function f(a,h){var f=!d(h,o),m=!l(a,i);return i=a,o=h,f&&m?(s=e(i,o),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):f?(e.dependsOnOwnProps&&(s=e(i,o)),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):m?function(){var t=e(i,o),r=!p(t,s);return s=t,r&&(c=n(s,u,o)),c}():c}return function(a,l){return h?f(a,l):(s=e(i=a,o=l),u=t(r,o),c=n(s,u,o),h=!0,c)}}function oe(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=P(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,i),s=r(e,i),u=a(e,i);return(i.pure?ie:ae)(o,s,u,e,i)}function se(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function ue(e,t){return e===t}var ce=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?K:n,a=t.mapStateToPropsFactories,i=void 0===a?te:a,o=t.mapDispatchToPropsFactories,s=void 0===o?ee:o,u=t.mergePropsFactories,c=void 0===u?re:u,l=t.selectorFactory,d=void 0===l?oe:l;return function(e,t,n,a){void 0===a&&(a={});var o=a,u=o.pure,l=void 0===u||u,p=o.areStatesEqual,h=void 0===p?ue:p,f=o.areOwnPropsEqual,m=void 0===f?Y:f,v=o.areStatePropsEqual,g=void 0===v?Y:v,A=o.areMergedPropsEqual,y=void 0===A?Y:A,b=P(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=se(e,i,"mapStateToProps"),w=se(t,s,"mapDispatchToProps"),_=se(n,c,"mergeProps");return r(d,R({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:w,initMergeProps:_,pure:l,areStatesEqual:h,areOwnPropsEqual:m,areStatePropsEqual:g,areMergedPropsEqual:y},b))}}();"undefined"!==typeof window?o.useLayoutEffect:o.useEffect;var le,de=n(52);le=de.unstable_batchedUpdates,C=le;var pe=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},he=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},fe=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},me={top:0,right:0,bottom:0,left:0},ve=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?me:n,a=e.border,i=void 0===a?me:a,o=e.padding,s=void 0===o?me:o,u=pe(he(t,r)),c=pe(fe(t,i)),l=pe(fe(c,s));return{marginBox:u,borderBox:pe(t),paddingBox:c,contentBox:l,margin:r,border:i,padding:s}},ge=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&Object(f.a)(!1),n},Ae=function(e,t){var n,r,a=e.borderBox,i=e.border,o=e.margin,s=e.padding,u=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return ve({borderBox:u,border:i,margin:o,padding:s})},ye=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Ae(e,t)},be=function(e,t){var n={top:ge(t.marginTop),right:ge(t.marginRight),bottom:ge(t.marginBottom),left:ge(t.marginLeft)},r={top:ge(t.paddingTop),right:ge(t.paddingRight),bottom:ge(t.paddingBottom),left:ge(t.paddingLeft)},a={top:ge(t.borderTopWidth),right:ge(t.borderRightWidth),bottom:ge(t.borderBottomWidth),left:ge(t.borderLeftWidth)};return ve({borderBox:e,margin:n,padding:r,border:a})},xe=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return be(t,n)};function we(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var _e=function(e,t){var n;void 0===t&&(t=we);var r,a=[],i=!1;return function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return i&&n===this&&t(s,a)?r:(r=e.apply(this,s),i=!0,n=this,a=s,r)}},ke=n(466),Oe=n.n(ke),Ee=n(341),Se=n.n(Ee),Ce=n(373),Te=n.n(Ce),Ie=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t=a,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};n(467);n.d(t,"DragDropContext",function(){return Qr}),n.d(t,"Draggable",function(){return Ai}),n.d(t,"Droppable",function(){return wa}),n.d(t,"resetServerContext",function(){return Xr});function je(e){return-1!==e.message.indexOf("Invariant failed")}var Me=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onError=void 0,t.setOnError=function(e){t.onError=e},t.onFatalError=function(e){t.onError&&t.onError(),je(e)&&t.setState({})},t}h(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("error",this.onFatalError)},n.componentWillUnmount=function(){window.removeEventListener("error",this.onFatalError)},n.componentDidCatch=function(e){if(this.onFatalError(e),!je(e))throw e},n.render=function(){return this.props.children(this.setOnError)},t}(s.a.Component),Ne={x:0,y:0},De=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Re=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Pe=function(e,t){return e.x===t.x&&e.y===t.y},Le=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Fe=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Be=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},ze=function(e,t){return Math.min.apply(Math,t.map(function(t){return Be(e,t)}))},Ue=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Ve=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},We=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Ge=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=pe({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):pe(e)},He=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,o=function(e,t,n){var r;return n&&n.increasedBy?i({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(function(e,t){return t?Ve(e,t.scroll.diff.displacement):e}(t.marginBox,a),r,n);return{page:t,withPlaceholder:n,active:Ge(o,a)}},qe=function(e,t){e.frame||Object(f.a)(!1);var n=e.frame,r=Re(t,n.scroll.initial),a=Le(r),o=i({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}});return i({},e,{frame:o,subject:He({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})},Ke=function(e){},Xe=function(e){},Qe=function(e){var t=e.merge,n=e.destination;return n?n.droppableId:t?t.combine.droppableId:null};function Ye(e){return Oe()(e)}function $e(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Ze(e,t){if(e.find)return e.find(t);var n=$e(e,t);return-1!==n?e[n]:void 0}var Je=_e(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),et=_e(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),tt=_e(function(e){return Ye(e)}),nt=_e(function(e){return Ye(e)}),rt=function(e,t){return function(n){return e<=n&&n<=t}},at=function(e){var t=rt(e.top,e.bottom),n=rt(e.left,e.right);return function(e){return t(e.y)&&t(e.y)&&n(e.x)&&n(e.x)}},it=_e(function(e,t){return nt(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index})}),ot={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},st={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ut=function(e,t){return e===ot?"down"===t.vertical:"right"===t.horizontal},ct=function(e,t){return Boolean(t.wasDisplaced[e])},lt=function(e){var t=e.displaced,n=e.onLift,r=e.combineWith,a=e.displacedBy,i=Boolean(t[r]);return ct(r,n)?i?Ne:Le(a.point):i?a.point:Ne},dt=function(e,t,n){return n?e!==n.combine.draggableId?t:n.whenEntered:t},pt=function(e){var t=e.pageBorderBoxCenterWithDroppableScrollChange,n=e.previousImpact,r=e.destination,a=e.insideDestinationWithoutDraggable,o=e.userDirection,s=e.onLift;if(!r.isCombineEnabled)return null;var u=r.axis,c=n.movement.map,l=n.movement.displacedBy,d=n.merge,p=Ze(a,function(e){var n=e.descriptor.id,r=lt({displaced:c,onLift:s,combineWith:n,displacedBy:l});return function(e){var t=e.id,n=e.currentCenter,r=e.axis,a=e.borderBox,i=e.displaceBy,o=e.currentUserDirection,s=e.oldMerge,u=a[r.start]+i[r.line],c=a[r.end]+i[r.line],l=.666*a[r.size],d=dt(t,o,s),p=ut(r,d),h=n[r.line];return p?rt(u,u+l)(h):rt(c-l,c)(h)}({id:n,currentCenter:t,axis:u,borderBox:e.page.borderBox,displaceBy:r,currentUserDirection:o,oldMerge:d})});return p?i({},n,{destination:null,merge:{whenEntered:dt(p.descriptor.id,o,d),combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}):null},ht=function(e){var t=rt(e.top,e.bottom),n=rt(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(a&&i)return!0;var o=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!o||!s)||(o&&i||s&&a)}},ft=function(e){var t=rt(e.top,e.bottom),n=rt(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},mt=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,o=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Ne;return Ve(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(o,n,i)&&function(e,t,n){return n(t)(e)}(o,r,i)},vt=function(e){return mt(i({},e,{isVisibleThroughFrameFn:ht}))},gt=function(e){return mt(i({},e,{isVisibleThroughFrameFn:ft}))},At=function(e){var t=e.draggable,n=e.destination,r=e.previousImpact,a=e.viewport,i=e.onLift,o=e.forceShouldAnimate,s=t.descriptor.id,u=r.movement.map,c=function(e,t){var n=e.page.marginBox;if(!ct(e.descriptor.id,t))return n;var r={top:t.displacedBy.point.y,right:t.displacedBy.point.x,bottom:0,left:0};return pe(he(n,r))}(t,i),l=vt({target:c,destination:n,viewport:a,withDroppableDisplacement:!0});return{draggableId:s,isVisible:l,shouldAnimate:function(e,t,n){return"boolean"===typeof e?e:!!t&&(!n||n.shouldAnimate)}(o,l,u[s])}},yt=_e(function(e){return e.reduce(function(e,t){return e[t.draggableId]=t,e},{})}),bt=_e(function(e,t){var n=t[e.line];return{value:n,point:Fe(e.line,n)}}),xt={displaced:[],map:{},displacedBy:{point:Ne,value:0}},wt={movement:xt,destination:null,merge:null},_t=_e(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),kt=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,s=e.userDirection,u=e.onLift,c=function(e){var t=e.target,n=e.droppables,r=Ze(tt(n),function(e){if(!e.isEnabled)return!1;var n=e.subject.active;return!!n&&at(n)(t)});return r?r.descriptor.id:null}({target:t,droppables:a});if(!c)return wt;var l=a[c],d=it(l.descriptor.id,r),p=_t(n,d),h=function(e,t){var n=e.frame;return n?De(t,n.scroll.diff.value):t}(l,t),f=pt({pageBorderBoxCenterWithDroppableScrollChange:h,previousImpact:i,destination:l,insideDestinationWithoutDraggable:p,userDirection:s,onLift:u});return f||function(e){var t=e.pageBorderBoxCenterWithDroppableScrollChange,n=e.draggable,r=e.destination,a=e.insideDestinationWithoutDraggable,i=e.previousImpact,o=e.viewport,s=e.userDirection,u=e.onLift,c=r.axis,l=ut(r.axis,s),d=bt(r.axis,n.displaceBy),p=t[c.line],h=d.value,f=a.filter(function(e){var t=e.page.borderBox,n=t[c.start],r=t[c.end],a=ct(e.descriptor.id,u);return l?a?p<n:p<n+h:a?p<=r-h:p<=r}).map(function(e){return At({draggable:e,destination:r,previousImpact:i,viewport:o.frame,onLift:u})}),m=a.length-f.length;return{movement:{displacedBy:d,displaced:f,map:yt(f)},destination:{droppableId:r.descriptor.id,index:m},merge:null}}({pageBorderBoxCenterWithDroppableScrollChange:h,destination:l,draggable:n,insideDestinationWithoutDraggable:p,previousImpact:i,viewport:o,userDirection:s,onLift:u})},Ot=function(e){var t,n=e.draggable,r=e.home,a=e.draggables,i=e.viewport,o=bt(r.axis,n.displaceBy),s=it(r.descriptor.id,a).slice(n.descriptor.index+1),u={displacedBy:o,wasDisplaced:s.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{})},c=s.map(function(e){return At({draggable:e,destination:r,previousImpact:wt,viewport:i.frame,forceShouldAnimate:!1,onLift:u})});return{impact:{movement:{displaced:c,map:yt(c),displacedBy:o},destination:(t=n.descriptor,{index:t.index,droppableId:t.droppableId}),merge:null},onLift:u}},Et=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=Ae(t.client,n),o=ye(a,r);return i({},t,{placeholder:i({},t.placeholder,{client:a}),client:a,page:o})},St=function(e){var t=e.updatedDroppables,n=e.criticalId,r=e.existing,a=e.additions,o=e.removals,s=e.viewport,u=function(e){var t=e.existing,n=e.droppables,r=e.additions,a=e.removals,o=e.viewport,s={};return tt(n).forEach(function(e){var n=e.axis,u=it(e.descriptor.id,t),c={},l=function(e,t){var n=c[e];c[e]=n?{indexChange:n.indexChange+t.indexChange,offset:De(n.offset,t.offset)}:t},d=et(a.map(function(e){var n=t[e];return n||Object(f.a)(!1),n}).filter(function(t){return t.descriptor.droppableId===e.descriptor.id})),p=u.filter(function(e,t){if(!Boolean(d[e.descriptor.id]))return!0;var r=Le(Fe(n.line,e.displaceBy[n.line]));return u.slice(t).forEach(function(e){d[e.descriptor.id]||l(e.descriptor.id,{indexChange:-1,offset:r})}),!1}),h=r.filter(function(t){return t.descriptor.droppableId===e.descriptor.id}),m=p.slice(0);h.forEach(function(e){m.splice(e.descriptor.index,0,e)});var v=et(h);m.forEach(function(e,t){if(Boolean(v[e.descriptor.id])){var r=Fe(n.line,e.client.marginBox[n.size]);m.slice(t).forEach(function(e){v[e.descriptor.id]||l(e.descriptor.id,{indexChange:1,offset:r})})}}),m.forEach(function(e){if(!v[e.descriptor.id]){var t=c[e.descriptor.id];if(t){var n=Et({draggable:e,offset:t.offset,initialWindowScroll:o.scroll.initial}),r=e.descriptor.index+t.indexChange,a=i({},n,{descriptor:i({},e.descriptor,{index:r})});s[n.descriptor.id]=a}}})}),i({},t,s)}({droppables:t,existing:r,additions:a,removals:o,viewport:s}),c=u[n],l=t[c.descriptor.droppableId],d=function(e){var t=e.additions,n=e.dragging,r=e.home,a=e.viewport,i=bt(r.axis,n.displaceBy);return t.map(function(e){return e.descriptor.droppableId!==r.descriptor.id?e:e.descriptor.index<n.descriptor.index?e:Et({draggable:e,offset:i.point,initialWindowScroll:a.scroll.initial})})}({additions:function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,i=n[t].frame;i||Object(f.a)(!1);var o=i.scroll.diff.value,s=De(a,o);return Et({draggable:e,offset:s,initialWindowScroll:r.scroll.initial})})}({additions:a,updatedDroppables:t,viewport:s}),dragging:c,home:l,viewport:s}),p=i({},u,et(d));return o.forEach(function(e){delete p[e]}),p},Ct=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,i=Re({x:n,y:t},{x:a,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Tt=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,s=e.page,u=e.closest,c=function(){if(!u)return null;var e=u.scrollSize,t=u.client,n=Ct({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:n,diff:{value:Ne,displacement:Ne}}}}(),l="vertical"===i?ot:st;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:l,isEnabled:n,client:o,page:s,frame:c,subject:He({page:s,withPlaceholder:null,axis:l,frame:c})}},It=function(e,t){return e.descriptor.droppableId===t.descriptor.id},jt=function(e,t){return i({},e,{scroll:i({},e.scroll,{max:t})})},Mt=function(e,t,n){var r=e.frame;It(t,e)&&Object(f.a)(!1),e.subject.withPlaceholder&&Object(f.a)(!1);var a=bt(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis,a=e.subject.page.contentBox[r.size],i=it(e.descriptor.id,n).reduce(function(e,t){return e+t.client.marginBox[r.size]},0)+t[r.line]-a;return i<=0?null:Fe(r.line,i)}(e,a,n),s={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return i({},e,{subject:He({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame})});var u=o?De(r.scroll.max,o):r.scroll.max,c=jt(r,u);return i({},e,{subject:He({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:c}),frame:c})},Nt=function(e){var t=e.subject.withPlaceholder;t||Object(f.a)(!1);var n=e.frame;if(!n)return i({},e,{subject:He({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Object(f.a)(!1);var a=jt(n,r);return i({},e,{subject:He({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null}),frame:a})},Dt=function(e){var t=e.frame;return t||Object(f.a)(!1),t},Rt=function(e,t){var n;return i({},e,((n={})[t.descriptor.id]=t,n))},Pt=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,i=e.impact,o=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=Qe(t),i=Qe(n);if(!a)return r;if(a===i)return r;var o=r[a];if(!o.subject.withPlaceholder)return r;var s=Nt(o);return Rt(r,s)}({previousImpact:a,impact:i,droppables:r}),s=Qe(i);if(!s)return o;var u=r[s];if(It(t,u))return o;if(u.subject.withPlaceholder)return o;var c=Mt(u,t,n);return Rt(o,c)},Lt=function(e){var t,n,r=e.state,a=e.published;Ke("Processing dynamic changes");var o=function(e){var t=e.modified,n=e.existing,r=e.viewport;if(!t.length)return n;var a=t.map(function(e){var t=n[e.descriptor.id];t||Object(f.a)(!1);var a,i,o=Boolean(t.subject.withPlaceholder)?Nt(t):t,s=o.client,u=e.client,c=Dt(o),l=Dt(e),d=ve({borderBox:(o.axis,a=s.borderBox,i=u.borderBox,{top:a.top,left:a.left,right:a.left+i.width,bottom:a.top+i.height}),margin:s.margin,border:s.border,padding:s.padding}),p={client:c.frameClient,page:ye(c.frameClient,r.scroll.initial),shouldClipSubject:c.shouldClipSubject,scrollSize:l.scrollSize,scroll:c.scroll.initial},h=Tt({descriptor:e.descriptor,isEnabled:e.isEnabled,isCombineEnabled:e.isCombineEnabled,isFixedOnPage:e.isFixedOnPage,direction:e.axis.direction,client:d,page:ye(d,r.scroll.initial),closest:p});return qe(h,l.scroll.current)});return i({},n,Je(a))}({modified:a.modified,existing:r.dimensions.droppables,viewport:r.viewport}),s=St({updatedDroppables:o,criticalId:r.critical.draggable.id,existing:r.dimensions.draggables,additions:a.additions,removals:a.removals,viewport:r.viewport}),u={draggable:s[r.critical.draggable.id].descriptor,droppable:o[r.critical.droppable.id].descriptor},c=r.dimensions.draggables[u.draggable.id],l=s[u.draggable.id],d={draggables:s,droppables:Pt({draggable:l,draggables:s,droppables:o,previousImpact:r.impact,impact:r.impact})},p=function(e){var t=e.initial,n=e.current,r=e.oldClientBorderBoxCenter,a=e.newClientBorderBoxCenter,i=e.viewport,o=Re(a,r),s=function(){var e={selection:De(t.client.selection,o),borderBoxCenter:a,offset:Ne};return{client:e,page:{selection:De(e.selection,i.scroll.initial),borderBoxCenter:De(e.selection,i.scroll.initial)}}}();return{current:function(){var e=Le(o),t=De(n.client.offset,e),r={selection:De(s.client.selection,t),borderBoxCenter:De(s.client.borderBoxCenter,t),offset:t},a={selection:De(r.selection,i.scroll.current),borderBoxCenter:De(r.borderBoxCenter,i.scroll.current)};return Pe(n.client.borderBoxCenter,r.borderBoxCenter)||Object(f.a)(!1),{client:r,page:a}}(),initial:s}}({initial:r.initial,current:r.current,oldClientBorderBoxCenter:c.client.borderBox.center,newClientBorderBoxCenter:l.client.borderBox.center,viewport:r.viewport}),h=p.initial,m=p.current,v=Ot({draggable:l,home:d.droppables[u.droppable.id],draggables:d.draggables,viewport:r.viewport}),g=v.impact,A=v.onLift,y=function(e){var t=e.movement.displaced;if(!t.length)return e;var n=t.map(function(e){return e.isVisible&&e.shouldAnimate?i({},e,{shouldAnimate:!1}):e});return i({},e,{movement:i({},e.movement,{displaced:n,map:yt(n)})})}(kt({pageBorderBoxCenter:m.page.borderBoxCenter,draggable:l,draggables:d.draggables,droppables:d.droppables,previousImpact:g,viewport:r.viewport,userDirection:r.userDirection,onLift:A}));Boolean("SNAP"===r.movementMode&&!Qe(y))&&Object(f.a)(!1),Xe("Processing dynamic changes");var b=i({phase:"DRAGGING"},r,((t={}).phase="DRAGGING",t.critical=u,t.current=m,t.initial=h,t.impact=y,t.dimensions=d,t.onLift=A,t.onLiftImpact=g,t.forceShouldAnimate=!1,t));return"COLLECTING"===r.phase?b:i({phase:"DROP_PENDING"},b,((n={}).phase="DROP_PENDING",n.reason=r.reason,n.isWaiting=!1,n))},Ft={vertical:"down",horizontal:"right"},Bt={vertical:"up",horizontal:"left"},zt=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,s=e.previousImpact,u=e.onLift,c=s.destination?function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.insideDestination,i=e.location,o=a.slice(),s=i.index;!n&&o.splice(i.index,0,r);var u=t?s+1:s-1;return u<0?null:u>o.length-1?null:{proposedIndex:u,modifyDisplacement:!0}}({isMovingForward:t,isInHomeList:n,draggable:r,location:s.destination,insideDestination:o}):s.merge?function(e){var t=e.isMovingForward,n=e.destination,r=e.previousImpact,a=e.draggables,i=e.merge,o=e.onLift;if(!n.isCombineEnabled)return null;var s=r.movement,u=i.combine.draggableId,c=a[u].descriptor.index;return ct(u,o)?s.map[u]?t?{proposedIndex:c,modifyDisplacement:!0}:{proposedIndex:c-1,modifyDisplacement:!1}:t?{proposedIndex:c,modifyDisplacement:!1}:{proposedIndex:c-1,modifyDisplacement:!0}:Boolean(s.map[u])?t?{proposedIndex:c+1,modifyDisplacement:!0}:{proposedIndex:c,modifyDisplacement:!1}:t?{proposedIndex:c+1,modifyDisplacement:!1}:{proposedIndex:c,modifyDisplacement:!0}}({isMovingForward:t,destination:i,previousImpact:s,draggables:a,merge:s.merge,onLift:u}):null;if(null==c)return null;var l=c.proposedIndex,d=c.modifyDisplacement,p=bt(i.axis,r.displaceBy),h=function(){var e=s.movement.displaced;return d?t?function(e){return e.slice(1)}(e):function(e,t){return[{draggableId:e.descriptor.id,isVisible:!0,shouldAnimate:!0}].concat(t)}(_t(r,o)[l],e):e}();return{movement:{displacedBy:p,displaced:h,map:yt(h)},destination:{droppableId:i.descriptor.id,index:l},merge:null}},Ut=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Vt=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Wt=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Fe(t.line,n.marginBox[t.end]+Ut(t,r),Vt(t,n.marginBox,r))},Gt=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Fe(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Vt(t,n.marginBox,r))},Ht=function(e){var t=e.movement,n=e.draggable,r=e.draggables,a=e.droppable,i=e.onLift,o=it(a.descriptor.id,r),s=n.page,u=a.axis;if(!o.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Fe(t.line,n.contentBox[t.start]+Ut(t,r),Vt(t,n.contentBox,r))}({axis:u,moveInto:a.page,isMoving:s});var c=t.displaced,l=t.displacedBy;if(c.length){var d=r[c[0].draggableId];if(ct(d.descriptor.id,i))return Gt({axis:u,moveRelativeTo:d.page,isMoving:s});var p=Ae(d.page,l.point);return Gt({axis:u,moveRelativeTo:p,isMoving:s})}var h=o[o.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(ct(h.descriptor.id,i)){var f=Ae(h.page,Le(i.displacedBy.point));return Wt({axis:u,moveRelativeTo:f,isMoving:s})}return Wt({axis:u,moveRelativeTo:h.page,isMoving:s})},qt=function(e,t){var n=e.frame;return n?De(t,n.scroll.diff.displacement):t},Kt=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.onLift,o=t.merge,s=t.destination,u=n.page.borderBox.center;return r?s?Ht({movement:t.movement,draggable:n,draggables:a,droppable:r,onLift:i}):o?function(e){var t=e.combine,n=e.onLift,r=e.movement,a=e.draggables,i=t.draggableId,o=a[i].page.borderBox.center,s=lt({displaced:r.map,onLift:n,combineWith:i,displacedBy:r.displacedBy});return De(o,s)}({movement:t.movement,combine:o.combine,draggables:a,onLift:i}):u:u},Xt=function(e){var t=Kt(e),n=e.droppable;return n?qt(n,t):t},Qt=function(e,t){var n=Re(t,e.scroll.initial),r=Le(n);return{frame:pe({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}},Yt=function(e,t){return i({},e,{movement:i({},e.movement,{displaced:t,map:yt(t)})})},$t=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return De(e.scroll.diff.displacement,t)}(e.viewport,t),a=Re(r,n.page.borderBox.center);return De(n.client.borderBox.center,a)},Zt=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,o=e.withDroppableDisplacement,s=e.onlyOnMainAxis,u=void 0!==s&&s,c=Re(r,t.page.borderBox.center),l={target:Ve(t.page.borderBox,c),destination:n,withDroppableDisplacement:o,viewport:a};return u?function(e){return mt(i({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=rt(e.top,e.bottom),r=rt(e.left,e.right);return function(e){return t===ot?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(l):gt(l)},Jt=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,u=e.previousClientSelection,c=e.onLift;if(!r.isEnabled)return null;var l=it(r.descriptor.id,a),d=It(n,r),p=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.destination,i=e.insideDestination,o=e.previousImpact;if(!a.isCombineEnabled)return null;if(o.merge)return null;var s=o.destination;s||Object(f.a)(!1);var u=s.index,c=function(){var e=i.slice();return n&&e.splice(r.descriptor.index,1),e.splice(s.index,0,r),e}(),l=t?u+1:u-1;if(l<0)return null;if(l>c.length-1)return null;var d=c[l];d===r&&Object(f.a)(!1);var p={whenEntered:t?Ft:Bt,combine:{draggableId:d.descriptor.id,droppableId:a.descriptor.id}};return{movement:o.movement,destination:null,merge:p}}({isInHomeList:d,isMovingForward:t,draggable:n,destination:r,insideDestination:l,previousImpact:i})||zt({isMovingForward:t,isInHomeList:d,draggable:n,draggables:a,destination:r,insideDestination:l,previousImpact:i,onLift:c});if(!p)return null;var h=Xt({impact:p,draggable:n,droppable:r,draggables:a,onLift:c});if(Zt({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:$t({pageBorderBoxCenter:h,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null};var m=Re(h,s);return{clientSelection:u,impact:function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,i=e.maxScrollChange,o=e.onLift,s=t.movement.displaced,u=Qt(n,De(n.scroll.current,i)),c=r.frame?qe(r,De(r.frame.scroll.current,i)):r,l=s.map(function(e){if(e.isVisible)return e;var i=a[e.draggableId],s=At({draggable:i,destination:r,previousImpact:t,viewport:u.frame,onLift:o,forceShouldAnimate:!1});if(s.isVisible)return s;var l=At({draggable:i,destination:c,previousImpact:t,viewport:n.frame,onLift:o,forceShouldAnimate:!1});return l.isVisible?l:e});return Yt(t,l)}({impact:p,viewport:o,destination:r,draggables:a,maxScrollChange:m,onLift:c}),scrollJumpRequest:m}},en=function(e){var t=e.subject.active;return t||Object(f.a)(!1),t},tn=function(e,t){var n=e.page.borderBox.center;return ct(e.descriptor.id,t)?Re(n,t.displacedBy.point):n},nn=function(e,t){var n=e.page.borderBox;return ct(e.descriptor.id,t)?Ve(n,Le(t.displacedBy.point)):n},rn=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,s=e.previousImpact,u=e.viewport,c=e.onLift,l=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,o=r.subject.active;if(!o)return null;var s=r.axis,u=rt(o[s.start],o[s.end]),c=tt(a).filter(function(e){return e!==r}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return ht(i.frame)(en(e))}).filter(function(e){var n=en(e);return t?o[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(e){var t=en(e),n=rt(t[s.start],t[s.end]);return u(t[s.start])||u(t[s.end])||n(o[s.start])||n(o[s.end])}).sort(function(e,n){var r=en(e)[s.crossAxisStart],a=en(n)[s.crossAxisStart];return t?r-a:a-r}).filter(function(e,t,n){return en(e)[s.crossAxisStart]===en(n[0])[s.crossAxisStart]});if(!c.length)return null;if(1===c.length)return c[0];var l=c.filter(function(e){return rt(en(e)[s.start],en(e)[s.end])(n[s.line])});return 1===l.length?l[0]:l.length>1?l.sort(function(e,t){return en(e)[s.start]-en(t)[s.start]})[0]:c.sort(function(e,t){var r=ze(n,We(en(e))),a=ze(n,We(en(t)));return r!==a?r-a:en(e)[s.start]-en(t)[s.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:o,viewport:u});if(!l)return null;var d=it(l.descriptor.id,i),p=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,s=e.previousImpact,u=e.viewport,c=e.onLift;if(!n){if(r.length)return null;var l={movement:xt,destination:{droppableId:o.descriptor.id,index:0},merge:null},d=Xt({impact:l,draggable:a,droppable:o,draggables:i,onLift:c}),p=It(a,o)?o:Mt(o,a,i);return Zt({draggable:a,destination:p,newPageBorderBoxCenter:d,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}var h=Boolean(t[o.axis.line]<n.page.borderBox.center[o.axis.line]),m=r.indexOf(n);-1===m&&Object(f.a)(!1);var v=n.descriptor.id===a.descriptor.id?m:h?m:m+1,g=_t(a,r).slice(v).map(function(e){return At({draggable:e,destination:o,viewport:u.frame,previousImpact:s,onLift:c})});return{movement:{displacedBy:bt(o.axis,a.displaceBy),displaced:g,map:yt(g)},destination:{droppableId:o.descriptor.id,index:v},merge:null}}({previousPageBorderBoxCenter:n,destination:l,draggable:r,draggables:i,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,i=e.onLift;return a.filter(function(e){return gt({target:nn(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(e,n){var a=Be(t,qt(r,tn(e,i))),o=Be(t,qt(r,tn(n,i)));return a<o?-1:o<a?1:e.descriptor.index-n.descriptor.index})[0]||null}({pageBorderBoxCenter:n,viewport:u,destination:l,insideDestination:d,onLift:c}),insideDestination:d,previousImpact:s,viewport:u,onLift:c});if(!p)return null;var h=Xt({impact:p,draggable:r,droppable:l,draggables:i,onLift:c});return{clientSelection:$t({pageBorderBoxCenter:h,draggable:r,viewport:u}),impact:p,scrollJumpRequest:null}},an=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Qe(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],o=r||i,s=o.axis.direction,u="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(u&&!a)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,l=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,h=p.draggables,f=p.droppables;return u?Jt({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:l,destination:o,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,onLift:t.onLift}):rn({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:l,isOver:o,draggables:h,droppables:f,previousImpact:t.impact,viewport:t.viewport,onLift:t.onLift})};function on(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}var sn=function(e,t){return 0===t?e:t>0?"down":"up"},un=function(e,t){return 0===t?e:t>0?"right":"left"},cn=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,o=e.impact,s=e.scrollJumpRequest,u=a||t.viewport,c=u.scroll.current,l=r||t.dimensions,d=n||t.current.client.selection,p=Re(d,t.initial.client.selection),h={offset:p,selection:d,borderBoxCenter:De(t.initial.client.borderBoxCenter,p)},f={selection:De(h.selection,c),borderBoxCenter:De(h.borderBoxCenter,c)},m={client:h,page:f},v=function(e,t,n){var r=Re(n,t);return{horizontal:un(e.horizontal,r.x),vertical:sn(e.vertical,r.y)}}(t.userDirection,t.current.page.borderBoxCenter,m.page.borderBoxCenter);if("COLLECTING"===t.phase)return i({phase:"COLLECTING"},t,{dimensions:l,viewport:u,current:m,userDirection:v});var g=l.draggables[t.critical.draggable.id],A=o||kt({pageBorderBoxCenter:f.borderBoxCenter,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:u,userDirection:v,onLift:t.onLift}),y=Pt({draggable:g,impact:A,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return i({},t,{current:m,userDirection:v,dimensions:{draggables:l.draggables,droppables:y},impact:A,viewport:u,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})},ln=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,i=e.onLift,o=e.forceShouldAnimate,s=t.movement.displaced.map(function(e){return At({draggable:a[e.draggableId],destination:r,previousImpact:t,viewport:n.frame,onLift:i,forceShouldAnimate:o})});return Yt(t,s)},dn=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,o=e.onLift,s=Xt({impact:t,draggable:n,draggables:a,droppable:r,onLift:o});return $t({pageBorderBoxCenter:s,draggable:n,viewport:i})},pn=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Object(f.a)(!1);var a=t.impact,i=r||t.viewport,o=n||t.dimensions,s=o.draggables,u=o.droppables,c=s[t.critical.draggable.id],l=Qe(a);l||Object(f.a)(!1);var d=u[l],p=ln({impact:a,viewport:i,destination:d,draggables:s,onLift:t.onLift}),h=dn({impact:p,draggable:c,droppable:d,draggables:s,viewport:i,onLift:t.onLift});return cn({impact:p,clientSelection:h,state:t,dimensions:o,viewport:i})},hn=function(e){return"SNAP"===e.movementMode},fn=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Rt(e.droppables,t)}}(e.dimensions,t);return!hn(e)||n?cn({state:e,dimensions:r}):pn({state:e,dimensions:r})},mn={phase:"IDLE",completed:null,shouldFlush:!1},vn=function(e,t){if(void 0===e&&(e=mn),"CLEAN"===t.type)return i({},mn,{shouldFlush:t.payload.shouldFlush});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Object(f.a)(!1);var n=t.payload,r=n.critical,a=n.clientSelection,o=n.viewport,s=n.dimensions,u=n.movementMode,c=s.draggables[r.draggable.id],l=s.droppables[r.droppable.id],d={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Ne},p={client:d,page:{selection:De(d.selection,o.scroll.initial),borderBoxCenter:De(d.selection,o.scroll.initial)}},h=tt(s.droppables).every(function(e){return!e.isFixedOnPage}),m=Ot({draggable:c,home:l,draggables:s.draggables,viewport:o}),v=m.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:u,dimensions:s,initial:p,current:p,isWindowScrollAllowed:h,impact:v,onLift:m.onLift,onLiftImpact:v,viewport:o,userDirection:Ft,scrollJumpRequest:null,forceShouldAnimate:null}}var g;if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Object(f.a)(!1),i({phase:"COLLECTING"},e,((g={}).phase="COLLECTING",g)));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Object(f.a)(!1),Lt({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;on(e)||Object(f.a)(!1);var A=t.payload.client;return Pe(A,e.current.client.selection)?e:cn({state:e,clientSelection:A,impact:hn(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return e;if("COLLECTING"===e.phase)return e;on(e)||Object(f.a)(!1);var y=t.payload,b=y.id,x=y.offset,w=e.dimensions.droppables[b];if(!w)return e;var _=qe(w,x);return fn(e,_,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;on(e)||Object(f.a)(!1);var k=t.payload,O=k.id,E=k.isEnabled,S=e.dimensions.droppables[O];S||Object(f.a)(!1),S.isEnabled===E&&Object(f.a)(!1);var C=i({},S,{isEnabled:E});return fn(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;on(e)||Object(f.a)(!1);var T=t.payload,I=T.id,j=T.isCombineEnabled,M=e.dimensions.droppables[I];M||Object(f.a)(!1),M.isCombineEnabled===j&&Object(f.a)(!1);var N=i({},M,{isCombineEnabled:j});return fn(e,N,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;on(e)||Object(f.a)(!1),e.isWindowScrollAllowed||Object(f.a)(!1);var D=t.payload.newScroll;if(Pe(e.viewport.scroll.current,D))return e;var R=Qt(e.viewport,D);return hn(e)?pn({state:e,viewport:R}):cn({state:e,viewport:R})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!on(e))return e;var P=t.payload.maxScroll;if(Pe(P,e.viewport.scroll.max))return e;var L=i({},e.viewport,{scroll:i({},e.viewport.scroll,{max:P})});return i({phase:"DRAGGING"},e,{viewport:L})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Object(f.a)(!1);var F=an({state:e,type:t.type});return F?cn({state:e,impact:F.impact,clientSelection:F.clientSelection,scrollJumpRequest:F.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var B,z=t.payload.reason;return"COLLECTING"!==e.phase&&Object(f.a)(!1),i({phase:"DROP_PENDING"},e,((B={}).phase="DROP_PENDING",B.isWaiting=!0,B.reason=z,B))}if("DROP_ANIMATE"===t.type){var U=t.payload,V=U.completed,W=U.dropDuration,G=U.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Object(f.a)(!1),{phase:"DROP_ANIMATING",dimensions:e.dimensions,completed:V,dropDuration:W,newHomeClientOffset:G}}if("DROP_COMPLETE"===t.type){var H=t.payload;return{phase:"IDLE",completed:H.completed,shouldFlush:H.shouldFlush}}return e},gn=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},An=function(){return{type:"COLLECTION_STARTING",payload:null}},yn=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},bn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},xn=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},wn=function(e){return{type:"MOVE",payload:e}},_n=function(e){return void 0===e&&(e={shouldFlush:!1}),{type:"CLEAN",payload:e}},kn=function(e){return{type:"DROP_COMPLETE",payload:e}},On=function(e){return{type:"DROP",payload:e}},En="cubic-bezier(.2,1,.1,1)",Sn={drop:0,combining:.7},Cn={drop:.75},Tn=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",In={fluid:"opacity "+Tn,snap:"transform "+Tn+", opacity "+Tn,drop:function(e){var t=e+"s "+En;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Tn,placeholder:"height "+Tn+", width "+Tn+", margin "+Tn},jn=function(e){return Pe(e,Ne)?null:"translate("+e.x+"px, "+e.y+"px)"},Mn={moveTo:jn,drop:function(e,t){var n=jn(e);return n?t?n+" scale("+Cn.drop+")":n:null}},Nn=.33,Dn=.55,Rn=Dn-Nn,Pn=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),o=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&Object(f.a)(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Object(f.a)(!1);var s=a.critical,u=a.dimensions,c=function(e){var t=e.reason,n=e.lastImpact,r=e.home,a=e.viewport,o=e.draggables,s=e.onLiftImpact,u=e.onLift,c="DROP"===t&&Boolean(Qe(n));return c?n.destination?{impact:n,didDropInsideDroppable:c}:{impact:i({},n,{movement:xt}),didDropInsideDroppable:c}:{impact:ln({impact:s,destination:r,viewport:a,draggables:o,onLift:u,forceShouldAnimate:!0}),didDropInsideDroppable:c}}({reason:o,lastImpact:a.impact,onLift:a.onLift,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),l=c.impact,d=c.didDropInsideDroppable,p=u.draggables[a.critical.draggable.id],h=d?l.destination:null,m=d&&l.merge?l.merge.combine:null,v={index:s.draggable.index,droppableId:s.droppable.id},g={draggableId:p.descriptor.id,type:p.descriptor.type,source:v,reason:o,mode:a.movementMode,destination:h,combine:m},A=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,i=e.onLift,o=r.draggables,s=r.droppables,u=Qe(t),c=u?s[u]:null,l=s[n.descriptor.droppableId],d=dn({impact:t,draggable:n,draggables:o,onLift:i,droppable:c||l,viewport:a}),p=Re(d,n.client.borderBox.center),h=t.merge;return h&&ct(h.combine.draggableId,i)?Re(p,i.displacedBy.point):p}({impact:l,draggable:p,dimensions:u,viewport:a.viewport,onLift:a.onLift}),y={critical:a.critical,result:g,impact:l};if(!Pe(a.current.client.offset,A)||Boolean(g.combine)){var b=function(e){var t=e.current,n=e.destination,r=e.reason,a=Be(t,n);if(a<=0)return Nn;if(a>=1500)return Dn;var i=Nn+Rn*(a/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:a.current.client.offset,destination:A,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:A,dropDuration:b,completed:y}))}else n(kn({completed:y,shouldFlush:!1}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},Ln=function(e){return e+1},Fn=function(e,t){var n=e.droppableId===t.droppableId,r=Ln(e.index),a=Ln(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},Bn=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},zn=function(e){return"\n  The item has returned to its starting position\n  of "+Ln(e.index)+"\n"},Un=function(e){return"\n  You have lifted an item in position "+Ln(e.source.index)+".\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\n"},Vn=function(e){var t=e.destination;if(t)return Fn(e.source,t);var n=e.combine;return n?Bn(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Wn=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+zn(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Fn(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Bn(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+zn(e.source)+"\n  "},Gn=function(){var e=[];return{add:function(t){var n=setTimeout(function(){return function(t){var n=$e(e,function(e){return e.timerId===t});-1===n&&Object(f.a)(!1),e.splice(n,1)[0].callback()}(n)}),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}},Hn=function(e,t){Ke(e),t(),Xe(e)},qn=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Kn=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},Xn=function(e,t){var n=function(e,t){var n=Gn(),r=null,a=function(n){r||Object(f.a)(!1),r=null,Hn("onDragEnd",function(){return Kn(e().onDragEnd,n,t,Wn)})};return{beforeStart:function(t,n){r&&Object(f.a)(!1),Hn("onBeforeDragStart",function(){var r=e().onBeforeDragStart;r&&r(qn(t,n))})},start:function(a,i){r&&Object(f.a)(!1);var o=qn(a,i);r={mode:i,lastCritical:a,lastLocation:o.source,lastCombine:null},n.add(function(){Hn("onDragStart",function(){return Kn(e().onDragStart,o,t,Un)})})},update:function(a,o){var s=o.destination,u=o.merge?o.merge.combine:null;r||Object(f.a)(!1);var c=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(a,r.lastCritical);c&&(r.lastCritical=a);var l,d,p=(l=r.lastLocation,d=s,!(null==l&&null==d||null!=l&&null!=d&&l.droppableId===d.droppableId&&l.index===d.index));p&&(r.lastLocation=s);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,u);if(h&&(r.lastCombine=u),c||p||h){var m=i({},qn(a,r.mode),{combine:u,destination:s});n.add(function(){Hn("onDragUpdate",function(){return Kn(e().onDragUpdate,m,t,Vn)})})}},flush:function(){r||Object(f.a)(!1),n.flush()},drop:a,abort:function(){if(r){var e=i({},qn(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(r){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"CLEAN"!==r.type){var o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}else n.abort()}}}},Qn=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Object(f.a)(!1),e.dispatch(kn({completed:r.completed,shouldFlush:!1}))}else t(n)}}},Yn=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(On({reason:r.reason})))}}}},$n=_,Zn=function(e){var t,n=e.dimensionMarshal,r=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return y(vn,$n(k((t=r,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"CLEAN"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"CLEAN"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var i=a.payload,o=i.id,s=i.clientSelection,u=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(kn({completed:c.completed,shouldFlush:!0})),"IDLE"!==n().phase&&Object(f.a)(!1);var l={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===u}},d=e.startPublishing(l),p=d.critical,h=d.dimensions,m=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:h,clientSelection:s,movementMode:u,viewport:m}})}else t(a)}}}}(n),Pn,Qn,Yn,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"CLEAN"===e.type}(r))return e.stop(),void n(r);if(function(e){return"COLLECTION_STARTING"===e.type}(r))return e.cancelPending(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&Object(f.a)(!1),void e.start(a)}n(r),e.scroll(t.getState())}}}}(o),Xn(a,i))))},Jn=function(){return{x:window.pageXOffset,y:window.pageYOffset}},er=function(){var e=document.documentElement;return e||Object(f.a)(!1),e},tr=function(){var e=er();return Ct({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},nr=function(e){var t=e.critical,n=e.scrollOptions,r=e.entries;Ke("Initial collection from DOM");var a=function(){var e=Jn(),t=tr(),n=e.y,r=e.x,a=er(),i=a.clientWidth,o=a.clientHeight;return{frame:pe({top:n,left:r,right:r+i,bottom:n+o}),scroll:{initial:e,current:e,max:t,diff:{value:Ne,displacement:Ne}}}}(),i=a.scroll.current,o=t.droppable,s=Ye(r.droppables).filter(function(e){return e.descriptor.type===o.type}).map(function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)}),u=Ye(r.draggables).filter(function(e){return e.descriptor.type===t.draggable.type}).map(function(e){return e.getDimension(i)}),c={draggables:et(u),droppables:Je(s)};return Xe("Initial collection from DOM"),{dimensions:c,critical:t,viewport:a}},rr=function(e,t){e.critical.draggable.type!==t.type&&Object(f.a)(!1)},ar=function(e){var t={droppables:{},draggables:{}},n=null,r=function(e){var t=e.getEntries,n=e.callbacks,r=function(){},a={additions:{},removals:{},modified:{}},i=null,o=function(){r(),i||(i=requestAnimationFrame(function(){i=null,n.collectionStarting();var e=n.getCritical();Ke("Publish collection from DOM");var r=t(),o=a,s=o.additions,u=o.removals,c=o.modified,l=Se()(s).map(function(e){return r.draggables[e].getDimension(Ne)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),d=Se()(c).map(function(t){var n=r.droppables[t];n||Object(f.a)(!1);var a={withoutPlaceholder:!(n.descriptor.id===e.droppable.id)};return n.callbacks.recollect(a)}),p={additions:l,removals:Se()(u),modified:d};a={additions:{},removals:{},modified:{}},Xe("Publish collection from DOM"),n.publish(p)}))};return{add:function(e){a.additions[e.id]=e,a.modified[e.droppableId]=!0,a.removals[e.id]&&delete a.removals[e.id],o()},remove:function(e){a.removals[e.id]=e,a.modified[e.droppableId]=!0,a.additions[e.id]&&delete a.additions[e.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,a={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting,getCritical:function(){return n||Object(f.a)(!1),n.critical}},getEntries:function(){return t}});return{registerDraggable:function(e,a){var i={descriptor:e,getDimension:a};t.draggables[e.id]=i,n&&(rr(n,e),r.add(e))},updateDraggable:function(e,n,r){var a=t.draggables[e.id];a||Object(f.a)(!1),a.descriptor===e&&delete t.draggables[e.id];var i={descriptor:n,getDimension:r};t.draggables[n.id]=i},unregisterDraggable:function(e){var a=t.draggables[e.id];a||Object(f.a)(!1),a.descriptor===e&&(delete t.draggables[e.id],n&&(n.critical.draggable.id===e.id&&Object(f.a)(!1),rr(n,e),r.remove(e)))},registerDroppable:function(e,r){var a=e.id;t.droppables[a]={descriptor:e,callbacks:r},n&&Object(f.a)(!1)},unregisterDroppable:function(e){var r=t.droppables[e.id];r||Object(f.a)(!1),r.descriptor===e&&(delete t.droppables[e.id],n&&Object(f.a)(!1))},updateDroppableIsEnabled:function(r,a){t.droppables[r]||Object(f.a)(!1),n&&e.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){t.droppables[r]||Object(f.a)(!1),n&&e.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a})},scrollDroppable:function(e,r){var a=t.droppables[e];a||Object(f.a)(!1),n&&a.callbacks.scroll(r)},updateDroppableScroll:function(r,a){t.droppables[r]||Object(f.a)(!1),n&&e.updateDroppableScroll({id:r,offset:a})},startPublishing:function(e){n&&Object(f.a)(!1);var r=t.draggables[e.draggableId];r||Object(f.a)(!1);var a=t.droppables[r.descriptor.droppableId];a||Object(f.a)(!1);var i={draggable:r.descriptor,droppable:a.descriptor};return n={critical:i},nr({critical:i,entries:t,scrollOptions:e.scrollOptions})},stopPublishing:function(){if(n){r.stop();var e=n.critical.droppable;Ye(t.droppables).filter(function(t){return t.descriptor.type===e.type}).forEach(function(e){return e.callbacks.dragStopped()}),n=null}}}},ir=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},or=function(e){window.scrollBy(e.x,e.y)},sr=_e(function(e){return tt(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),ur=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}return function(e,t){return Ze(sr(t),function(t){return t.frame||Object(f.a)(!1),at(t.frame.pageMarginBox)(e)})}(t,r)},cr=.25,lr=.05,dr=28,pr=function(e){return Math.pow(e,2)},hr={stopDampeningAt:1200,accelerateAt:360},fr=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},mr=hr.accelerateAt,vr=hr.stopDampeningAt,gr=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return dr;if(e===t.startScrollingFrom)return 1;var n=fr({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=dr*pr(1-n);return Math.ceil(r)}(t,n);return 0===i?0:a?Math.max(function(e,t){var n=t,r=vr,a=Te()()-n;if(a>=vr)return e;if(a<mr)return 1;var i=fr({startOfRange:mr,endOfRange:r,current:a}),o=e*pr(i);return Math.ceil(o)}(i,r),1):i},Ar=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*cr,maxScrollValueAt:e[t.size]*lr}}(t,a);return n[a.end]<n[a.start]?gr({distanceToEdge:n[a.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i}):-1*gr({distanceToEdge:n[a.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i})},yr=Ue(function(e){return 0===e?0:e}),br=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},s=Ar({container:n,distanceToEdges:o,dragStartTime:t,axis:ot,shouldUseTimeDampening:i}),u=Ar({container:n,distanceToEdges:o,dragStartTime:t,axis:st,shouldUseTimeDampening:i}),c=yr({x:u,y:s});if(Pe(c,Ne))return null;var l=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return i||a?i&&a?null:{x:i?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return l?Pe(l,Ne)?null:l:null},xr=Ue(function(e){return 0===e?0:e>0?1:-1}),wr=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,a=t.change,i=De(n,a),o={x:e(i.x,r.x),y:e(i.y,r.y)};return Pe(o,Ne)?null:o}}(),_r=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=xr(r),o=wr({max:a,current:n,change:i});return!o||(0!==i.x&&0===o.x||0!==i.y&&0===o.y)},kr=function(e,t){return _r({current:e.scroll.current,max:e.scroll.max,change:t})},Or=function(e,t){var n=e.frame;return!!n&&_r({current:n.scroll.current,max:n.scroll.max,change:t})},Er=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var u=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=br({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return o&&kr(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:o,shouldUseTimeDampening:r});if(u)return void a(u)}var c=ur({center:o,destination:Qe(t.impact),droppables:t.dimensions.droppables});if(c){var l=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=br({dragStartTime:a,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&Or(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:o,shouldUseTimeDampening:r});l&&i(c.descriptor.id,l)}},Sr=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(e,t){if(!Or(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Or(e,t)?wr({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=Re(t,r);return n(e.descriptor.id,a),Re(t,a)},i=function(e,t,n){if(!e)return n;if(!kr(t,n))return n;var a=function(e,t){if(!kr(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return wr({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var i=Re(n,a);return r(i),Re(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Qe(e.impact);r||Object(f.a)(!1);var o=a(e.dimensions.droppables[r],n);if(o){var s=e.viewport,u=i(e.isWindowScrollAllowed,s,o);u&&function(e,n){var r=De(e.current.client.selection,n);t({client:r})}(e,u)}}}},Cr=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Ie(t),a=Ie(n),i=null,o=function(e){i||Object(f.a)(!1);var t=i,n=t.shouldUseTimeDampening,o=t.dragStartTime;Er({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:o,shouldUseTimeDampening:n})},s=function(){i||Object(f.a)(!1),r.cancel(),a.cancel()};return{start:function(e){Ke("starting fluid scroller"),i&&Object(f.a)(!1);var t=Te()(),n=!1,r=function(){n=!0};Er({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},Xe("starting fluid scroller"),n&&o(e)},stop:function(){i&&(s(),i=null)},cancelPending:s,scroll:o}}({scrollWindow:n,scrollDroppable:t}),i=Sr({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):a.scroll(e))},cancelPending:a.cancelPending,start:a.start,stop:a.stop}},Tr="data-react-beautiful-dnd",Ir=Tr+"-drag-handle",jr=Tr+"-draggable",Mr=Tr+"-droppable",Nr=function(e,t){return e.map(function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""}).join(" ")},Dr=function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(Ir),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),a=[function(){var e="\n      transition: "+In.outOfTheWay+";\n    ";return{selector:n(jr),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(Mr),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Nr(a,"always"),resting:Nr(a,"resting"),dragging:Nr(a,"dragging"),dropAnimating:Nr(a,"dropAnimating"),userCancel:Nr(a,"userCancel")}},Rr="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,Pr=function(){var e=document.querySelector("head");return e||Object(f.a)(!1),e},Lr=function(){var e=document.createElement("style");return e.type="text/css",e};var Fr=s.a.createContext(null),Br=function(){var e=document.body;return e||Object(f.a)(!1),e},zr={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Ur=function(e){return"react-beautiful-dnd-announcement-"+e};var Vr=s.a.createContext(null);function Wr(e){var t=Object(o.useRef)(e);return Object(o.useEffect)(function(){t.current=e}),t}var Gr=function(e){return{onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Hr(e){return e.current||Object(f.a)(!1),e.current}function qr(e){var t=e.uniqueId,n=e.setOnError,r=Object(o.useRef)(null);Object(o.useEffect)(function(){},[]);var u=Wr(e),d=l(function(){return Gr(u.current)},[u]),p=function(e){var t=c(function(){return Ur(e)},[e]),n=Object(o.useRef)(null);return Object(o.useEffect)(function(){n.current&&Object(f.a)(!1);var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("role","log"),e.setAttribute("aria-atomic","true"),a()(e.style,zr),Br().appendChild(e),function(){var e=n.current;e||Object(f.a)(!1),Br().removeChild(e),n.current=null}},[t]),l(function(e){var t=n.current;t&&(t.textContent=e)},[])}(t),h=function(e){var t=c(function(){return""+e},[e]),n=c(function(){return Dr(t)},[t]),r=Object(o.useRef)(null),a=Object(o.useRef)(null),i=l(_e(function(e){var t=a.current;t||Object(f.a)(!1),t.textContent=e}),[]),s=l(function(e){var t=r.current;t||Object(f.a)(!1),t.textContent=e},[]);Rr(function(){(r.current||a.current)&&Object(f.a)(!1);var e=Lr(),o=Lr();return r.current=e,a.current=o,e.setAttribute(Tr+"-always",t),o.setAttribute(Tr+"-dynamic",t),Pr().appendChild(e),Pr().appendChild(o),s(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||Object(f.a)(!1),Pr().removeChild(t),e.current=null};e(r),e(a)}},[s,i,n.always,n.resting,t]);var u=l(function(){return i(n.dragging)},[i,n.dragging]),d=l(function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)},[i,n.dropAnimating,n.userCancel]),p=l(function(){a.current&&i(n.resting)},[i,n.resting]);return c(function(){return{dragging:u,dropping:d,resting:p,styleContext:t}},[u,d,p,t])}(t),m=l(function(e){Hr(r).dispatch(e)},[]),v=c(function(){return x({publishWhileDragging:gn,updateDroppableScroll:yn,updateDroppableIsEnabled:bn,updateDroppableIsCombineEnabled:xn,collectionStarting:An},m)},[m]),g=c(function(){return ar(v)},[v]),A=c(function(){return Cr(i({scrollWindow:or,scrollDroppable:g.scrollDroppable},x({move:wn},m)))},[g.scrollDroppable,m]),y=c(function(){return Zn({dimensionMarshal:g,styleMarshal:h,announce:p,autoScroller:A,getResponders:d})},[p,A,g,d,h]);r.current=y;var b=l(function(){var e=Hr(r);"IDLE"!==e.getState().phase&&e.dispatch(_n({shouldFlush:!0}))},[]);n(b);var w=l(function(e){return ir(Hr(r).getState(),e)},[]),_=l(function(){return on(Hr(r).getState())},[]),k=c(function(){return{marshal:g,style:h.styleContext,canLift:w,isMovementAllowed:_}},[g,w,_,h.styleContext]);return Object(o.useEffect)(function(){return b},[b]),s.a.createElement(Vr.Provider,{value:k},s.a.createElement(D,{context:Fr,store:y},e.children))}var Kr=0;function Xr(){Kr=0}function Qr(e){var t=c(function(){return Kr++},[]);return s.a.createElement(Me,null,function(n){return s.a.createElement(qr,i({setOnError:n,uniqueId:t},e),e.children)})}var Yr=function(e){return function(t){return e===t}},$r=Yr("scroll"),Zr=Yr("auto"),Jr=(Yr("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),ea=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Jr(n,$r)||Jr(n,Zr)},ta=function e(t){return null==t?null:t===document.body?null:t===document.documentElement?null:ea(t)?t:e(t.parentElement)},na=function(e){return{x:e.scrollLeft,y:e.scrollTop}},ra=function(e){return{closestScrollable:ta(e),isFixedOnPage:function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))}(e)}},aa=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,u=e.shouldClipSubject,c=r.closestScrollable,l=function(e,t){var n=xe(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,o=a+t.scrollWidth,s=he({top:r,right:o,bottom:i,left:a},n.border);return ve({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=ye(l,a),p=function(){if(!c)return null;var e=xe(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:ye(e,a),scroll:na(c),scrollSize:t,shouldClipSubject:u}}();return Tt({descriptor:n,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:l,page:d,closest:p})};var ia={passive:!1},oa={passive:!0},sa=function(e){return e.shouldPublishImmediately?ia:oa};function ua(e){var t=Object(o.useContext)(e);return t||Object(f.a)(!1),t}var ca=function(e){return e&&e.env.closestScrollable||null};function la(){}var da={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},pa=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t?da:"close"===r?da:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:e.animate});return{display:n.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:In.placeholder}};var ha=s.a.memo(function(e){var t=Object(o.useRef)(null),n=l(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,a=e.onTransitionEnd,i=e.onClose,u=e.styleContext,c=Object(o.useState)("open"===e.animate),d=c[0],p=c[1];Object(o.useEffect)(function(){return d?"open"!==r?(n(),p(!1),la):t.current?la:(t.current=setTimeout(function(){t.current=null,p(!1)}),n):la},[r,d,n]);var h=l(function(e){"height"===e.propertyName&&(a(),"close"===r&&i())},[r,i,a]),f=pa({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return s.a.createElement(e.placeholder.tagName,{style:f,"data-react-beautiful-dnd-placeholder":u,onTransitionEnd:h,ref:e.innerRef})}),fa=s.a.createContext(null),ma=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function va(e){return e instanceof ma(e).HTMLElement}var ga=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return h(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(s.a.PureComponent);var Aa=function(e,t){return e===t},ya=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},ba=function(e,t){return e===t.droppable.type},xa=function(e,t){return t.draggables[e.draggable.id]},wa=ce(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null}},t=i({},e,{shouldAnimatePlaceholder:!1}),n=_e(function(t,n,r,a){return r.descriptor.droppableId===t?{placeholder:r.placeholder,shouldAnimatePlaceholder:!1,snapshot:a}:n?{placeholder:r.placeholder,shouldAnimatePlaceholder:!0,snapshot:a}:e}),r=_e(function(e,t,n){var r=n.descriptor.id;return{isDraggingOver:t,draggingOverWith:t?r:null,draggingFromThisWith:n.descriptor.droppableId===e?r:null}});return function(a,i){var o=i.droppableId,s=i.type;if(a.isDragging){var u=a.critical;if(!ba(s,u))return e;var c=xa(u,a.dimensions),l=Qe(a.impact)===o,d=r(o,l,c);return n(o,l,c,d)}if("DROP_ANIMATING"===a.phase){var p=a.completed;if(!ba(s,p.critical))return e;var h=xa(p.critical,a.dimensions),f=r(o,ya(p.result)===o,h);return n(o,Qe(p.impact)===o,h,f)}if("IDLE"===a.phase&&!a.completed&&a.shouldFlush)return t;if("IDLE"===a.phase&&a.completed){var m=a.completed;if(!ba(s,m.critical))return e;var v=Qe(m.impact)===o,g=Boolean(m.impact.merge);return a.shouldFlush?t:v?g?e:t:e}return e}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Fr,pure:!0,areStatePropsEqual:Aa})(function(e){var t=Object(o.useContext)(Vr);t||Object(f.a)(!1);var n=t.style,r=t.isMovementAllowed,a=Object(o.useRef)(null),i=Object(o.useRef)(null),u=e.children,d=e.droppableId,p=e.type,h=e.direction,m=e.ignoreContainerClipping,v=e.isDropDisabled,g=e.isCombineEnabled,A=e.snapshot,y=e.updateViewportMaxScroll,b=l(function(){return a.current},[]),x=l(function(){return i.current},[]),w=l(function(e){a.current=e},[]),_=l(function(e){i.current=e},[]),k=l(function(){r()&&y({maxScroll:tr()})},[r,y]);!function(e){var t=Object(o.useRef)(null),n=ua(Vr).marshal,r=Wr(e),a=c(function(){return{id:e.droppableId,type:e.type}},[e.droppableId,e.type]),i=Object(o.useRef)(a),s=c(function(){return _e(function(e,r){t.current||Object(f.a)(!1);var i={x:e,y:r};n.updateDroppableScroll(a.id,i)})},[a.id,n]),u=l(function(){var e=t.current;return e&&e.env.closestScrollable?na(e.env.closestScrollable):Ne},[]),d=l(function(){var e=u();s(e.x,e.y)},[u,s]),p=c(function(){return Ie(d)},[d]),h=l(function(){var e=t.current,n=ca(e);e&&n||Object(f.a)(!1),e.scrollOptions.shouldPublishImmediately?d():p()},[p,d]),m=l(function(e,n){t.current&&Object(f.a)(!1);var i=r.current,o=i.getDroppableRef();o||Object(f.a)(!1);var s=ra(o),u={ref:o,descriptor:a,env:s,scrollOptions:n};t.current=u;var c=aa({ref:o,descriptor:a,env:s,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping});return s.closestScrollable&&s.closestScrollable.addEventListener("scroll",h,sa(u.scrollOptions)),c},[a,h,r]),v=l(function(e){var n=t.current,a=ca(n);n&&a||Object(f.a)(!1);var i=r.current,o=function(){return aa({ref:n.ref,descriptor:n.descriptor,env:n.env,windowScroll:Ne,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping})};return e.withoutPlaceholder?function(e,t){if(!e)return t();var n=e.style.display;e.style.display="none";var r=t();return e.style.display=n,r}(i.getPlaceholderRef(),o):o()},[r]),g=l(function(){var e=t.current;e||Object(f.a)(!1);var n=ca(e);t.current=null,n&&(p.cancel(),n.removeEventListener("scroll",h,sa(e.scrollOptions)))},[h,p]),A=l(function(e){var n=t.current;n||Object(f.a)(!1);var r=ca(n);r||Object(f.a)(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),y=c(function(){return{getDimensionAndWatchScroll:m,recollect:v,dragStopped:g,scroll:A}},[g,m,v,A]);Rr(function(){return i.current=a,n.registerDroppable(a,y),function(){t.current&&g(),n.unregisterDroppable(a)}},[y,a,g,n]),Rr(function(){t.current&&n.updateDroppableIsEnabled(i.current.id,!e.isDropDisabled)},[e.isDropDisabled,n]),Rr(function(){t.current&&n.updateDroppableIsCombineEnabled(i.current.id,e.isCombineEnabled)},[e.isCombineEnabled,n])}({droppableId:d,type:p,direction:h,isDropDisabled:v,isCombineEnabled:g,ignoreContainerClipping:m,getDroppableRef:b,getPlaceholderRef:x});var O,E=s.a.createElement(ga,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,r=e.data,a=e.animate;return s.a.createElement(ha,{placeholder:r,onClose:t,innerRef:_,animate:a,styleContext:n,onTransitionEnd:k})}),S=c(function(){return{innerRef:w,placeholder:E,droppableProps:{"data-react-beautiful-dnd-droppable":n}}},[E,w,n]),C=c(function(){return{droppableId:d,type:p}},[d,p]);return O={props:e,getDroppableRef:function(){return a.current},getPlaceholderRef:function(){return i.current}},O.getDroppableRef,O.getPlaceholderRef,Object(o.useEffect)(function(){}),s.a.createElement(fa.Provider,{value:C},u(S,A))});wa.defaultProps={type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1};var _a={dragging:5e3,dropAnimating:4500},ka=function(e,t){return t?In.drop(t.duration):e?In.snap:In.fluid},Oa=function(e,t){return e?t?Sn.drop:Sn.combining:null},Ea=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode};function Sa(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,a=e.dropping,i=Boolean(r),o=Ea(e),s=Boolean(a),u=s?Mn.drop(n,i):Mn.moveTo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:ka(o,a),transform:u,opacity:Oa(i,s),zIndex:s?_a.dropAnimating:_a.dragging,pointerEvents:"none"}}(e):(t=e,{transform:Mn.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"});var t}var Ca,Ta=function(){var e=!1;return{handle:function(){e&&Object(f.a)(!1),e=!0},isHandled:function(){return e},reset:function(){e=!1}}},Ia=function(e,t){return i({},e,t)},ja=function(e,t,n){t.forEach(function(t){var r=Ia(n,t.options);e.addEventListener(t.eventName,t.fn,r)})},Ma=function(e,t,n){t.forEach(function(t){var r=Ia(n,t.options);e.removeEventListener(t.eventName,t.fn,r)})},Na=function(e){var t=_e(function(t,n){var r={x:t,y:n};e.onMove(r)}),n=Ie(function(e){return t(e.x,e.y)}),r=Ie(e.onMoveUp),a=Ie(e.onMoveDown),i=Ie(e.onMoveRight),o=Ie(e.onMoveLeft),s=Ie(e.onWindowScroll);return{move:n,moveUp:r,moveDown:a,moveRight:i,moveLeft:o,windowScrollMove:s,cancel:function(){n.cancel(),r.cancel(),a.cancel(),i.cancel(),o.cancel(),s.cancel()}}},Da=27,Ra=32,Pa=37,La=38,Fa=39,Ba=40,za=function(){var e="visibilitychange";return"undefined"===typeof document?e:Ze([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}(),Ua={capture:!0},Va=function(e){var t=!1,n=function(){t&&(t=!1,Ma(e(),r,Ua))},r=[{eventName:"click",fn:function(e){e.preventDefault(),n()}},{eventName:"mousedown",fn:n},{eventName:"touchstart",fn:n}];return{preventNext:function(){t&&n(),t||(t=!0,ja(e(),r,Ua))},abort:n}},Wa=function(e,t){return Math.abs(t.x-e.x)>=5||Math.abs(t.y-e.y)>=5},Ga=((Ca={})[13]=!0,Ca[9]=!0,Ca),Ha=function(e){Ga[e.keyCode]&&e.preventDefault()},qa=0,Ka=function(){},Xa=Ta();function Qa(e){return e instanceof ma(e).Element}var Ya,$a={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0},Za=function(e,t){if(t)return!0;var n=e.target,r=e.currentTarget;return!Qa(n)||!Qa(r)||!function e(t,n){if(null==n)return!1;if(Boolean($a[n.tagName.toLowerCase()]))return!0;var r=n.getAttribute("contenteditable");return"true"===r||""===r||n!==t&&e(t,n.parentElement)}(r,n)},Ja=function(e){return pe(e.getBoundingClientRect()).center},ei=((Ya={})[34]=!0,Ya[33]=!0,Ya[36]=!0,Ya[35]=!0,Ya);function ti(){}var ni=150,ri=.15,ai=Ta(),ii=function(){},oi=function(){var e={preventTouchMove:ii,releaseTouchMove:ii};if("undefined"===typeof window)return e;if(!("ontouchstart"in window))return e;var t=!1;window.addEventListener("touchmove",function(e){t&&(e.defaultPrevented||e.preventDefault())},{passive:!1,capture:!1});return{preventTouchMove:function(){t=!0},releaseTouchMove:function(){t=!1}}}();var si="["+Ir+"]",ui=function(e){!function(e){return Boolean(ma(e).SVGElement)&&e instanceof ma(e).SVGElement}(e)||Object(f.a)(!1)},ci=function(e){if(e.hasAttribute(Ir))return ui(e),e;var t=e.querySelector(si);return ui(e),t||Object(f.a)(!1),va(t)||Object(f.a)(!1),t};var li=null,di={capture:!0},pi=function(){var e=!1,t=function(){e&&(e=!1,window.removeEventListener("focus",n,di))},n=function(){t(),li=null},r=function(){e||(e=!0,window.addEventListener("focus",n,di))};return r.cancel=function(){return t()},r}(),hi={retain:function(e){li=e,pi()},tryRestoreFocus:function(e,t){if(li&&e===li){li=null,pi.cancel();var n=ci(t);n&&n.focus()}}};function fi(){}function mi(e){e.preventDefault()}function vi(e){var t=Object(o.useRef)(null),n=l(function(e){t.current&&Object(f.a)(!1),t.current={abort:e}},[]),r=l(function(){t.current||Object(f.a)(!1),t.current=null},[]),a=l(function(){t.current||Object(f.a)(!1),t.current.abort()},[]),i=ua(Vr),s=i.canLift,u=i.style,d=e.isDragging,p=e.isEnabled,h=e.draggableId,m=e.callbacks,v=e.getDraggableRef,g=e.getShouldRespectForcePress,A=e.canDragInteractiveElements,y=Wr(e);!function(e){var t=e.isEnabled,n=e.getDraggableRef;Object(o.useEffect)(function(){},[n,t])}({isEnabled:p,getDraggableRef:v});var b=l(function(){return ma(v())},[v]),x=l(function(e){return!!p&&(!t.current&&(!!s(h)&&Za(e,A)))},[A,s,h,p]),w=function(e){var t=Object(o.useRef)(!1),n=Wr(e),r=e.getDraggableRef,a=l(function(){t.current=!0},[]),i=l(function(){t.current=!1},[]);Rr(function(){var e=n.current;if(!e.isEnabled)return fi;var a=r();a||Object(f.a)(!1);var i=ci(a);return hi.tryRestoreFocus(e.draggableId,i),function(){var e=n.current;e.isEnabled&&t.current&&(e.isDragging||e.isDropAnimating)&&hi.retain(e.draggableId)}},[r,n]);var s=Object(o.useRef)(null);return Rr(function(){if(s.current){var e=r();e&&e!==s.current&&t.current&&n.current.isEnabled&&ci(e).focus()}}),Rr(function(){s.current=r()}),{onBlur:i,onFocus:a}}(e),_=w.onBlur,k=w.onFocus,O=function(e){var t=e.canStartCapturing,n=e.getWindow,r=e.callbacks,a=e.getShouldRespectForcePress,i=e.onCaptureStart,s=e.onCaptureEnd,u=Object(o.useRef)(null),d=Object(o.useRef)(!1),p=Object(o.useRef)(Ka),h=l(function(){return Boolean(u.current||d.current)},[]),m=c(function(){return h()&&Object(f.a)(!1),Na(r)},[r,h]),v=c(function(){return Va(n)},[n]),g=l(function(){if(h()){m.cancel(),p.current();var e=d.current;Xa.reset(),e&&v.preventNext(),u.current=null,d.current=!1,s()}},[h,s,v,m]),A=l(function(){var e=d.current;g(),e&&r.onCancel()},[r,g]),y=l(function(){d.current&&Object(f.a)(!1);var e=u.current;e||Object(f.a)(!1),u.current=null,d.current=!0,r.onLift({clientSelection:e,movementMode:"FLUID"})},[r]),b=c(function(){return h()&&Object(f.a)(!1),[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,r=e.clientY;if(t===qa){var a={x:n,y:r};if(d.current)return e.preventDefault(),void m.move(a);var i=u.current;i||(g(),Object(f.a)(!1)),Wa(i,a)&&(e.preventDefault(),y())}}},{eventName:"mouseup",fn:function(e){var t=d.current;g(),t&&(e.preventDefault(),r.onDrop())}},{eventName:"mousedown",fn:function(e){d.current&&e.preventDefault(),A()}},{eventName:"keydown",fn:function(e){if(!u.current)return e.keyCode===Da?(e.preventDefault(),void A()):void Ha(e);g()}},{eventName:"resize",fn:A},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.currentTarget===n()&&(u.current?g():m.windowScrollMove())}},{eventName:"webkitmouseforcechanged",fn:function(e){if(null!=e.webkitForce&&null!=MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN){var t=MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN,n=e.webkitForce>=t;a()?n&&A():e.preventDefault()}}},{eventName:za,fn:A}]},[h,A,y,m,g,r,n,a]),x=l(function(){var e=n(),t={capture:!0};p.current=function(){return Ma(e,b,t)},ja(e,b,t)},[n,b]),w=l(function(e){u.current&&Object(f.a)(!1),u.current=e,i(g),x()},[x,i,g]);return l(function(e){if(!Xa.isHandled()&&(h()&&Object(f.a)(!1),t(e)&&e.button===qa&&!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey))){Xa.handle(),e.preventDefault();var n={x:e.clientX,y:e.clientY};w(n)}},[t,h,w])}(c(function(){return{callbacks:m,getDraggableRef:v,getWindow:b,canStartCapturing:x,onCaptureStart:n,onCaptureEnd:r,getShouldRespectForcePress:g}},[m,v,b,x,n,r,g])),E=function(e){var t=e.canStartCapturing,n=e.getWindow,r=e.callbacks,a=e.onCaptureStart,i=e.onCaptureEnd,s=e.getDraggableRef,u=Object(o.useRef)(!1),d=Object(o.useRef)(ti),p=l(function(){return u.current},[]),h=c(function(){return p()&&Object(f.a)(!1),Na(r)},[r,p]),m=l(function(){p()&&(h.cancel(),d.current(),u.current=!1,i())},[p,i,h]),v=l(function(){var e=u.current;m(),e&&r.onCancel()},[r,m]),g=c(function(){return p()&&Object(f.a)(!1),[{eventName:"mousedown",fn:v},{eventName:"mouseup",fn:v},{eventName:"click",fn:v},{eventName:"touchstart",fn:v},{eventName:"resize",fn:v},{eventName:"wheel",fn:v,options:{passive:!0}},{eventName:"scroll",options:{capture:!1},fn:function(e){e.currentTarget===n()&&r.onWindowScroll()}},{eventName:za,fn:v}]},[r,v,p,n]),A=l(function(){var e=n(),t={capture:!0};d.current=function(){return Ma(e,g,t)},ja(e,g,t)},[n,g]),y=l(function(){u.current&&Object(f.a)(!1);var e=s();e||Object(f.a)(!1),u.current=!0,a(m),A();var t=Ja(e);r.onLift({clientSelection:t,movementMode:"SNAP"})},[A,r,s,a,m]);return l(function(e){if(!p()){if(e.defaultPrevented)return;if(!t(e))return;if(e.keyCode!==Ra)return;return e.preventDefault(),void y()}return e.keyCode===Da?(e.preventDefault(),void v()):e.keyCode===Ra?(e.preventDefault(),m(),void r.onDrop()):e.keyCode===Ba?(e.preventDefault(),void h.moveDown()):e.keyCode===La?(e.preventDefault(),void h.moveUp()):e.keyCode===Fa?(e.preventDefault(),void h.moveRight()):e.keyCode===Pa?(e.preventDefault(),void h.moveLeft()):void(ei[e.keyCode]?e.preventDefault():Ha(e))},[r,t,v,p,h,y,m])}(c(function(){return{callbacks:m,getDraggableRef:v,getWindow:b,canStartCapturing:x,onCaptureStart:n,onCaptureEnd:r}},[m,x,v,b,r,n])),S=function(e){var t=e.callbacks,n=e.getWindow,r=e.canStartCapturing,a=e.getShouldRespectForcePress,i=e.onCaptureStart,s=e.onCaptureEnd,u=Object(o.useRef)(null),d=Object(o.useRef)(!1),p=Object(o.useRef)(!1),h=Object(o.useRef)(ii),m=l(function(){return Boolean(u.current||d.current)},[]),v=c(function(){return Va(n)},[n]),g=c(function(){return m()&&Object(f.a)(!1),Na(t)},[t,m]),A=l(function(){if(m()){if(g.cancel(),h.current(),ai.reset(),oi.releaseTouchMove(),p.current=!1,s(),d.current)return v.preventNext(),void(d.current=!1);var e=u.current;e||Object(f.a)(!1),clearTimeout(e.longPressTimerId),u.current=null}},[m,s,v,g]),y=l(function(){var e=d.current;A(),e&&t.onCancel()},[t,A]),b=c(function(){return m()&&Object(f.a)(!1),[{eventName:"touchmove",options:{passive:!1,capture:!1},fn:function(e){if(d.current){p.current||(p.current=!0);var t=e.touches[0],n={x:t.clientX,y:t.clientY};e.preventDefault(),g.move(n)}else A()}},{eventName:"touchend",fn:function(e){d.current?(e.preventDefault(),A(),t.onDrop()):A()}},{eventName:"touchcancel",fn:function(e){d.current?(e.preventDefault(),y()):A()}},{eventName:"touchstart",fn:y},{eventName:"orientationchange",fn:y},{eventName:"resize",fn:y},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){u.current?A():g.windowScrollMove()}},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){d.current?(e.keyCode===Da&&e.preventDefault(),y()):y()}},{eventName:"touchforcechange",fn:function(e){a()?p.current?e.preventDefault():e.touches[0].force>=ri&&y():e.preventDefault()}},{eventName:za,fn:y}]},[t,y,m,a,g,A]),x=l(function(){var e=n(),t={capture:!0};h.current=function(){return Ma(e,b,t)},ja(e,b,t)},[n,b]),w=l(function(){var e=u.current;e||Object(f.a)(!1),d.current=!0,u.current=null,p.current=!1,t.onLift({clientSelection:e.point,movementMode:"FLUID"})},[t]),_=l(function(e){u.current&&Object(f.a)(!1);var t=e.touches[0],n={point:{x:t.clientX,y:t.clientY},longPressTimerId:setTimeout(w,ni)};u.current=n,i(A),x()},[x,i,w,A]);return function(e){ai.isHandled()||(m()&&Object(f.a)(!1),r(e)&&(ai.handle(),oi.preventTouchMove(),_(e)))}}(c(function(){return{callbacks:m,getDraggableRef:v,getWindow:b,canStartCapturing:x,getShouldRespectForcePress:g,onCaptureStart:n,onCaptureEnd:r}},[m,v,b,x,g,n,r]));return Rr(function(){return function(){t.current&&(a(),y.current.isDragging&&y.current.callbacks.onCancel())}},[]),!p&&t.current&&(a(),y.current.isDragging&&m.onCancel()),Rr(function(){!d&&t.current&&a()},[a,d]),c(function(){return p?{onMouseDown:O,onKeyDown:E,onTouchStart:S,onFocus:k,onBlur:_,tabIndex:0,"data-react-beautiful-dnd-drag-handle":u,"aria-roledescription":"Draggable item. Press space bar to lift",draggable:!1,onDragStart:mi}:null},[p,_,k,E,O,S,u])}function gi(e){var t=e.draggableId,n=e.index,r=e.getDraggableRef,a=ua(Vr).marshal,i=ua(fa),s=i.droppableId,u=i.type,d=c(function(){return{id:t,droppableId:s,type:u,index:n}},[t,s,n,u]),p=Object(o.useRef)(d),h=l(function(e){var t=p.current,n=r();return n||Object(f.a)(!1),function(e,t,n){void 0===n&&(n=Ne);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=be(a,r),o=ye(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:o}}(t,n,e)},[r]);Rr(function(){return a.registerDraggable(p.current,h),function(){return a.unregisterDraggable(p.current)}},[h,a]),Rr(function(){if(p.current!==d){var e=p.current;p.current=d,a.updateDraggable(e,d,h)}},[d,h,a])}var Ai=ce(function(){var e=_e(function(e,t,n,r){return{isDragging:!0,isDropAnimating:Boolean(r),dropAnimation:r,mode:e,draggingOver:t,combineWith:n,combineTargetFor:null}}),t=_e(function(e){return{isDragging:!1,isDropAnimating:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}),n={mapped:{type:"SECONDARY",offset:Ne,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:t(null)}},r=_e(function(e,t){return{x:e,y:t}}),a=_e(function(t,n,r,a,i,o){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:i,mode:n,offset:t,dimension:r,forceShouldAnimate:o,snapshot:e(n,a,i,null)}}}),i=_e(function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}}),o=function(e,t,n){var a=n.movement.map[e],o=n.movement,s=n.merge,u=Boolean(s&&s.combine.draggableId===e),c=o.displacedBy.point,l=r(c.x,c.y);return u?i(a?l:Ne,t,!a||a.shouldAnimate):a&&a.isVisible?i(l,null,a.shouldAnimate):null};return function(t,i){return function(t,n){if(t.isDragging){if(t.critical.draggable.id!==n.draggableId)return null;var i=t.current.client.offset,o=t.dimensions.draggables[n.draggableId],s=t.movementMode,u=Qe(t.impact),c=(d=t.impact).merge?d.merge.combine.draggableId:null,l=t.forceShouldAnimate;return a(r(i.x,i.y),s,o,u,c,l)}var d;if("DROP_ANIMATING"===t.phase){var p=t.completed;if(p.result.draggableId!==n.draggableId)return null;var h=t.dimensions.draggables[n.draggableId],f=p.result,m=f.mode,v=ya(f),g=function(e){return e.combine?e.combine.draggableId:null}(f),A={duration:t.dropDuration,curve:En,moveTo:t.newHomeClientOffset,opacity:g?Sn.drop:null,scale:g?Cn.drop:null};return{mapped:{type:"DRAGGING",offset:t.newHomeClientOffset,dimension:h,dropping:A,draggingOver:v,combineWith:g,mode:m,forceShouldAnimate:null,snapshot:e(m,v,g,A)}}}return null}(t,i)||function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact)}return null}(t,i)||n}},{lift:function(e){return{type:"LIFT",payload:e}},move:wn,moveUp:function(){return{type:"MOVE_UP",payload:null}},moveDown:function(){return{type:"MOVE_DOWN",payload:null}},moveLeft:function(){return{type:"MOVE_LEFT",payload:null}},moveRight:function(){return{type:"MOVE_RIGHT",payload:null}},moveByWindowScroll:function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},drop:On,dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},null,{context:Fr,pure:!0,areStatePropsEqual:Aa})(function(e){var t=Object(o.useRef)(null),n=l(function(e){t.current=e},[]),r=l(function(){return t.current},[]),a=ua(Vr);Object(o.useEffect)(function(){});var i=e.children,s=e.draggableId,u=e.isDragDisabled,d=e.shouldRespectForcePress,p=e.disableInteractiveElementBlocking,h=e.index,m=e.mapped,v=e.moveUp,g=e.move,A=e.drop,y=e.moveDown,b=e.moveRight,x=e.moveLeft,w=e.moveByWindowScroll,_=e.lift,k=e.dropAnimationFinished;gi(c(function(){return{draggableId:s,index:h,getDraggableRef:r}},[s,r,h]));var O=l(function(e){Ke("LIFT"),t.current||Object(f.a)(!1),u&&Object(f.a)(!1);var n=e.clientSelection,r=e.movementMode;_({id:s,clientSelection:n,movementMode:r}),Xe("LIFT")},[s,u,_]),E=l(function(){return d},[d]),S=c(function(){return{onLift:O,onMove:function(e){return g({client:e})},onDrop:function(){return A({reason:"DROP"})},onCancel:function(){return A({reason:"CANCEL"})},onMoveUp:v,onMoveDown:y,onMoveRight:b,onMoveLeft:x,onWindowScroll:function(){return w({newScroll:Jn()})}}},[A,g,w,y,x,b,v,O]),C="DRAGGING"===m.type,T="DRAGGING"===m.type&&Boolean(m.dropping),I=vi(c(function(){return{draggableId:s,isDragging:C,isDropAnimating:T,isEnabled:!u,callbacks:S,getDraggableRef:r,canDragInteractiveElements:p,getShouldRespectForcePress:E}},[S,p,s,r,E,u,C,T])),j=l(function(e){"DRAGGING"===m.type&&m.dropping&&"transform"===e.propertyName&&k()},[k,m]);return i(c(function(){var e=Sa(m),t="DRAGGING"===m.type&&m.dropping?j:null;return{innerRef:n,draggableProps:{"data-react-beautiful-dnd-draggable":a.style,style:e,onTransitionEnd:t},dragHandleProps:I}},[a.style,I,m,j,n]),m.snapshot)});Ai.defaultProps={isDragDisabled:!1,disableInteractiveElementBlocking:!1,shouldRespectForcePress:!1}},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(38),u=n.n(s),c=n(1),l=n.n(c),d=n(14),p=n(22),h=n(253),f=n(191),m=n(39),v=l.a.forwardRef(function(e,t){var n=e.action,r=e.classes,i=e.className,s=e.message,u=o()(e,["action","classes","className","message"]);return l.a.createElement(h.a,a()({component:f.a,variant:"body2",variantMapping:{body1:"div",body2:"div"},role:"alertdialog",square:!0,elevation:6,className:Object(d.a)(r.root,i),ref:t},u),l.a.createElement("div",{className:r.message},s),n?l.a.createElement("div",{className:r.action},n):null)});t.a=Object(p.a)(function(e){var t="light"===e.palette.type?.8:.98,n=Object(m.c)(e.palette.background.default,t);return{root:u()({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},{name:"MuiSnackbarContent"})(v)},function(e,t,n){"use strict";var r,a="object"===typeof Reflect?Reflect:null,i=a&&"function"===typeof a.apply?a.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=a&&"function"===typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var a,i,o,s;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"===typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(a=c(e))>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}.bind(r);return a.listener=n,r.wrapFn=a,a}function p(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"===typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):f(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[e];if(void 0===u)return!1;if("function"===typeof u)i(u,this,t);else{var c=u.length,l=f(u,c);for(n=0;n<c;++n)i(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,a,i,o;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t){e.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},function(e,t,n){"use strict";var r=n(73);Object.defineProperty(t,"__esModule",{value:!0});var a={};t.default=void 0;var i=r(n(9)),o=r(n(1)),s=n(569),u=n(623),c=r(n(624)),l=n(79),d=n(359);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}),c.default.defaultProps=s.defaultProps,c.default.propTypes=u.propTypes;var p=(0,l.withStyles)(function(e){return{paginationRoot:{width:"100%"},paginationToolbar:{padding:0,width:"100%"},paginationCaption:{display:"none"},paginationSelectRoot:{margin:0}}},{withTheme:!0})(function(e){return o.default.createElement(c.default,(0,i.default)({},e,{ref:e.tableRef}))});t.default=p},function(e,t,n){"use strict";(function(e,r){var a,i=n(465);a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(i.a)(a);t.a=o}).call(this,n(91),n(598)(e))},function(e,t,n){e.exports=n(605)},function(e,t,n){"use strict";n.d(t,"a",function(){return x}),n.d(t,"b",function(){return w});var r=function(e){var t,n="undefined"!==typeof(e=e||{})?e:{},r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);var a,i=[],o="";document.currentScript&&(o=document.currentScript.src),o=0!==o.indexOf("blob:")?o.substr(0,o.lastIndexOf("/")+1):"",a=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)t(r.response);else{var a=Q(e);a?t(a.buffer):n()}},r.onerror=n,r.send(null)};var s=n.print||console.log.bind(console),u=n.printErr||console.warn.bind(console);for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);r=null,n.arguments&&(i=n.arguments);var c=0,l=function(){return c};var d=!1;function p(e){var t,r=n["_"+e];return t="Cannot call unknown function "+e+", make sure it is exported",r||ue("Assertion failed: "+t),r}function h(e,t,n,r,a){var i={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var a=n,i=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var u=e.charCodeAt(++o);s=65536+((1023&s)<<10)|1023&u}if(s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}t[n]=0})(e,A,t,n)})(e,t=ee(n),n)}return t},array:function(e){var t=ee(e.length);return function(e,t){g.set(e,t)}(e,t),t}};var o=p(e),s=[],u=0;if(r)for(var c=0;c<r.length;c++){var l=i[n[c]];l?(0===u&&(u=ne()),s[c]=l(r[c])):s[c]=r[c]}var d=o.apply(null,s);return d=function(e){return"string"===t?m(e):"boolean"===t?Boolean(e):e}(d),0!==u&&te(u),d}var f="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function m(e,t){return e?function(e,t,n){for(var r=t+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.subarray&&f)return f.decode(e.subarray(t,a));for(var i="";t<a;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|s<<6|u:(7&o)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(o);else{var c=o-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&o)<<6|s)}else i+=String.fromCharCode(o)}return i}(A,e,t):""}var v,g,A,y,b,x,w;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function _(e,t){return e%t>0&&(e+=t-e%t),e}function k(e){v=e,n.HEAP8=g=new Int8Array(e),n.HEAP16=y=new Int16Array(e),n.HEAP32=b=new Int32Array(e),n.HEAPU8=A=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=x=new Float32Array(e),n.HEAPF64=w=new Float64Array(e)}var O=n.TOTAL_MEMORY||33554432;function E(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"===typeof r?void 0===t.arg?n.dynCall_v(r):n.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}O=(v=n.buffer?n.buffer:new ArrayBuffer(O)).byteLength,k(v),b[6004]=5266928;var S=[],C=[],T=[],I=[];var j=Math.abs,M=Math.ceil,N=Math.floor,D=Math.min,R=0,P=null,L=null;n.preloadedImages={},n.preloadedAudios={};var F,B,z=null,U="data:application/octet-stream;base64,";function V(e){return String.prototype.startsWith?e.startsWith(U):0===e.indexOf(U)}z="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";function W(e){return e}function G(e){return e.replace(/\b__Z[\w\d_]+/g,function(e){var t=W(e);return e===t?e:t+" ["+e+"]"})}function H(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function q(){return g.length}function K(e){try{var t=new ArrayBuffer(e);if(t.byteLength!=e)return;return new Int8Array(t).set(g),J(t),k(t),1}catch(n){}}var X="function"===typeof atob?atob:function(e){var t,n,r,a,i,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=s.indexOf(e.charAt(c++))<<2|(a=s.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(i=s.indexOf(e.charAt(c++)))>>2,r=(3&i)<<6|(o=s.indexOf(e.charAt(c++))),u+=String.fromCharCode(t),64!==i&&(u+=String.fromCharCode(n)),64!==o&&(u+=String.fromCharCode(r))}while(c<e.length);return u};function Q(e){if(V(e))return function(e){try{for(var t=X(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}catch(a){throw new Error("Converting base64 string to bytes failed.")}}(e.slice(U.length))}var Y,$,Z=function(e,t,n){var r=new e.Int8Array(n),a=new e.Int32Array(n),i=(new e.Uint8Array(n),new e.Float32Array(n),new e.Float64Array(n)),o=0|t.p,s=e.Math.floor,u=e.Math.abs,c=e.Math.sqrt,l=e.Math.pow,d=e.Math.cos,p=e.Math.sin,h=e.Math.tan,f=e.Math.acos,m=e.Math.asin,v=e.Math.atan,g=e.Math.atan2,A=e.Math.ceil,y=e.Math.imul,b=e.Math.min,x=e.Math.clz32,w=t.b,_=t.c,k=t.d,O=t.e,E=t.f,S=t.g,C=t.h,T=t.i,I=24048;function j(e,t,n,r){var a,i;0|M(e|=0,t|=0,n|=0,r|=0,0)&&(Tt(0|r,0,(i=1+(0|y(3*n|0,n+1|0))|0)<<3|0),(a=0|yt(i,4))&&(N(e,t,n,r,a,i,0),At(a)))}function M(e,t,n,r,i){e|=0,t|=0,n|=0,i|=0;var o,s=0,u=0,c=0,l=0,d=0,p=0,h=0,f=0;if(o=I,I=I+16|0,f=o,a[(s=r|=0)>>2]=e,a[s+4>>2]=t,(s=0!=(0|i))&&(a[i>>2]=0),0|De(e,t))return I=o,0|(f=1);a[f>>2]=0;e:do{if((0|n)>=1)if(s)for(d=0,p=1,h=1,u=0,s=e;;){if(!(u|d)){if(0==(0|(s=0|D(s,t,4,f)))&0==(0|(t=0|_()))){s=2;break e}if(0|De(s,t)){s=1;break e}}if(0==(0|(s=0|D(s,t,0|a[16+(d<<2)>>2],f)))&0==(0|(t=0|_()))){s=2;break e}if(a[(e=r+(h<<3)|0)>>2]=s,a[e+4>>2]=t,a[i+(h<<2)>>2]=p,e=(0|(u=u+1|0))==(0|p),l=6==(0|(c=d+1|0)),0|De(s,t)){s=1;break e}if((0|(p=p+(l&e&1)|0))>(0|n)){s=0;break}d=e?l?0:c:d,h=h+1|0,u=e?0:u}else for(d=0,p=1,h=1,u=0,s=e;;){if(!(u|d)){if(0==(0|(s=0|D(s,t,4,f)))&0==(0|(t=0|_()))){s=2;break e}if(0|De(s,t)){s=1;break e}}if(0==(0|(s=0|D(s,t,0|a[16+(d<<2)>>2],f)))&0==(0|(t=0|_()))){s=2;break e}if(a[(e=r+(h<<3)|0)>>2]=s,a[e+4>>2]=t,e=(0|(u=u+1|0))==(0|p),l=6==(0|(c=d+1|0)),0|De(s,t)){s=1;break e}if((0|(p=p+(l&e&1)|0))>(0|n)){s=0;break}d=e?l?0:c:d,h=h+1|0,u=e?0:u}else s=0}while(0);return I=o,0|(f=s)}function N(e,t,n,r,i,o,s){n|=0,r|=0,i|=0,o|=0,s|=0;var u,c,l=0,d=0,p=0,h=0,f=0;if(c=I,I=I+16|0,u=c,0==(0|(e|=0))&0==(0|(t|=0)))I=c;else{if(l=0|_t(0|e,0|t,0|o,((0|o)<0)<<31>>31|0),_(),!(0==(0|(f=0|a[(h=d=r+(l<<3)|0)>>2]))&0==(0|(h=0|a[h+4>>2]))|(p=(0|f)==(0|e)&(0|h)==(0|t))))do{p=(0|(h=0|a[(f=d=r+((l=(l+1|0)%(0|o)|0)<<3)|0)>>2]))==(0|e)&(0|(f=0|a[f+4>>2]))==(0|t)}while(!(0==(0|h)&0==(0|f)|p));l=i+(l<<2)|0,p&&(0|a[l>>2])<=(0|s)?I=c:(a[(f=d)>>2]=e,a[f+4>>2]=t,a[l>>2]=s,(0|s)>=(0|n)?I=c:(f=s+1|0,a[u>>2]=0,N(h=0|D(e,t,2,u),0|_(),n,r,i,o,f),a[u>>2]=0,N(h=0|D(e,t,3,u),0|_(),n,r,i,o,f),a[u>>2]=0,N(h=0|D(e,t,1,u),0|_(),n,r,i,o,f),a[u>>2]=0,N(h=0|D(e,t,5,u),0|_(),n,r,i,o,f),a[u>>2]=0,N(h=0|D(e,t,4,u),0|_(),n,r,i,o,f),a[u>>2]=0,N(h=0|D(e,t,6,u),0|_(),n,r,i,o,f),I=c))}}function D(e,t,n,r){e|=0,t|=0,n|=0;var i,o,s=0,u=0,c=0,l=0,d=0,p=0,h=0;if((0|a[(r|=0)>>2])>0){s=0;do{n=0|ue(n),s=s+1|0}while((0|s)<(0|a[r>>2]))}i=0|kt(0|e,0|t,45),_(),o=127&i,u=0|Re(e,t),s=0|kt(0|e,0|t,52),_(),s&=15;e:do{if(s)for(;;){if(p=0|kt(0|e,0|t,0|(d=3*(15-s|0)|0)),_(),p&=7,h=0==(0|ze(s)),s=s+-1|0,l=0|Ot(7,0,0|d),t&=~(0|_()),e=(d=0|Ot(0|a[(h?464:48)+(28*p|0)+(n<<2)>>2],0,0|d))|e&~l,t|=0|_(),!(n=0|a[(h?672:256)+(28*p|0)+(n<<2)>>2])){n=0;break e}if(!s){c=6;break}}else c=6}while(0);6==(0|c)&&(e|=p=0|Ot(0|(h=0|a[880+(28*o|0)+(n<<2)>>2]),0,45),t=0|_()|-1040385&t,n=0|a[4304+(28*o|0)+(n<<2)>>2],127==(127&h|0)&&(h=0|Ot(0|a[880+(28*o|0)+20>>2],0,45),t=0|_()|-1040385&t,n=0|a[4304+(28*o|0)+20>>2],e=0|Le(h|e,t),t=0|_(),a[r>>2]=1+(0|a[r>>2]))),c=0|kt(0|e,0|t,45),_(),c&=127;e:do{if(0|P(c)){t:do{if(1==(0|Re(e,t))){if((0|o)!=(0|c)){if(0|z(c,0|a[7728+(28*o|0)>>2])){e=0|Be(e,t),u=1,t=0|_();break}e=0|Le(e,t),u=1,t=0|_();break}switch(0|u){case 5:e=0|Be(e,t),t=0|_(),a[r>>2]=5+(0|a[r>>2]),u=0;break t;case 3:e=0|Le(e,t),t=0|_(),a[r>>2]=1+(0|a[r>>2]),u=0;break t;default:return h=0,w(0|(p=0)),0|h}}else u=0}while(0);if((0|n)>0){s=0;do{e=0|Pe(e,t),t=0|_(),s=s+1|0}while((0|s)!=(0|n))}if((0|o)!=(0|c)){if(!(0|L(c))){if(0!=(0|u)|5!=(0|Re(e,t)))break;a[r>>2]=1+(0|a[r>>2]);break}switch(127&i){case 8:case 118:break e}3!=(0|Re(e,t))&&(a[r>>2]=1+(0|a[r>>2]))}}else if((0|n)>0){s=0;do{e=0|Le(e,t),t=0|_(),s=s+1|0}while((0|s)!=(0|n))}}while(0);return a[r>>2]=((0|a[r>>2])+n|0)%6|0,h=e,w(0|(p=t)),0|h}function R(e,t,n,r,o,s){t|=0,n|=0,r|=0,o|=0,s|=0;var u,c,l,d,p,h,f,m,v,g=0,A=0,y=0,b=0,x=0,w=0,k=0,O=0,E=0,S=0,C=0,T=0,j=0,M=0;if(v=I,I=I+48|0,h=v+32|0,f=v+16|0,m=v,(0|(g=0|a[(e|=0)>>2]))<=0)return I=v,0|(T=0);u=e+4|0,c=h+8|0,l=f+8|0,d=m+8|0,p=((0|t)<0)<<31>>31,C=0;e:for(;;){E=(A=0|a[u>>2])+(C<<4)|0,a[h>>2]=a[E>>2],a[h+4>>2]=a[E+4>>2],a[h+8>>2]=a[E+8>>2],a[h+12>>2]=a[E+12>>2],(0|C)==(g+-1|0)?(a[f>>2]=a[A>>2],a[f+4>>2]=a[A+4>>2],a[f+8>>2]=a[A+8>>2],a[f+12>>2]=a[A+12>>2]):(E=A+(C+1<<4)|0,a[f>>2]=a[E>>2],a[f+4>>2]=a[E+4>>2],a[f+8>>2]=a[E+8>>2],a[f+12>>2]=a[E+12>>2]),E=0|q(h,f,n);t:do{if((0|E)>0){S=+(0|E),O=0;n:for(;;){M=+(E-O|0),j=+(0|O),i[m>>3]=+i[h>>3]*M/S+ +i[f>>3]*j/S,i[d>>3]=+i[c>>3]*M/S+ +i[l>>3]*j/S,A=0|_t(0|(w=0|Ue(m,n)),0|(k=0|_()),0|t,0|p),_(),b=0|a[(y=g=s+(A<<3)|0)>>2],y=0|a[y+4>>2];r:do{if(0==(0|b)&0==(0|y))T=14;else for(x=0;;){if((0|x)>(0|t)){g=1;break r}if((0|b)==(0|w)&(0|y)==(0|k)){g=7;break r}if(0==(0|(b=0|a[(y=g=s+((A=(A+1|0)%(0|t)|0)<<3)|0)>>2]))&0==(0|(y=0|a[y+4>>2]))){T=14;break}x=x+1|0}}while(0);switch(14==(0|T)&&(T=0,0==(0|w)&0==(0|k)?g=7:(a[g>>2]=w,a[g+4>>2]=k,g=0|a[r>>2],a[(x=o+(g<<3)|0)>>2]=w,a[x+4>>2]=k,a[r>>2]=g+1,g=0)),7&g){case 7:case 0:break;default:break n}if((0|E)<=(0|(O=O+1|0))){T=8;break t}}if(0|g){g=-1,T=20;break e}}else T=8}while(0);if(8==(0|T)&&(T=0),(0|(C=C+1|0))>=(0|(g=0|a[e>>2]))){g=0,T=20;break}}return 20==(0|T)?(I=v,0|g):0}function P(e){return 0|a[7728+(28*(e|=0)|0)+16>>2]}function L(e){return 4==(0|(e|=0))|117==(0|e)|0}function F(e){return 0|a[11152+(216*(0|a[(e|=0)>>2])|0)+(72*(0|a[e+4>>2])|0)+(24*(0|a[e+8>>2])|0)+(a[e+12>>2]<<3)>>2]}function B(e){return 0|a[11152+(216*(0|a[(e|=0)>>2])|0)+(72*(0|a[e+4>>2])|0)+(24*(0|a[e+8>>2])|0)+(a[e+12>>2]<<3)+4>>2]}function z(e,t){return t|=0,(0|a[7728+(28*(e|=0)|0)+20>>2])==(0|t)?0|(t=1):0|(t=(0|a[7728+(28*e|0)+24>>2])==(0|t))}function U(e,t){return 0|a[880+(28*(e|=0)|0)+((t|=0)<<2)>>2]}function V(e,t){return t|=0,(0|a[880+(28*(e|=0)|0)>>2])==(0|t)?0|(t=0):(0|a[880+(28*e|0)+4>>2])==(0|t)?0|(t=1):(0|a[880+(28*e|0)+8>>2])==(0|t)?0|(t=2):(0|a[880+(28*e|0)+12>>2])==(0|t)?0|(t=3):(0|a[880+(28*e|0)+16>>2])==(0|t)?0|(t=4):(0|a[880+(28*e|0)+20>>2])==(0|t)?0|(t=5):0|((0|a[880+(28*e|0)+24>>2])==(0|t)?6:7)}function W(e){return+i[(e|=0)+16>>3]<+i[e+24>>3]|0}function G(e,t){e|=0;var n,r,a=0;return(a=+i[(t|=0)>>3])>=+i[e+8>>3]&&a<=+i[e>>3]?(n=+i[e+16>>3],a=+i[e+24>>3],t=(r=+i[t+8>>3])>=a,e=r<=n&1,n<a?t&&(e=1):t||(e=0),0|(t=0!=(0|e))):0|(t=0)}function H(e,t){e|=0,t|=0;var n,r,o,s,c,l,d=0,p=0;s=I,I=I+288|0,n=s+264|0,r=s+96|0,p=(d=o=s)+96|0;do{a[d>>2]=0,d=d+4|0}while((0|d)<(0|p));return qe(t,o),Ge(p=0|a[(d=o)>>2],d=0|a[d+4>>2],n),He(p,d,r),c=+Ce(n,r+8|0),i[n>>3]=+i[e>>3],i[(d=n+8|0)>>3]=+i[e+16>>3],i[r>>3]=+i[e+8>>3],i[(p=r+8|0)>>3]=+i[e+24>>3],l=+Ce(n,r),p=~~+A(+l*l/+Et(+ +u(+(+i[d>>3]-+i[p>>3])/(+i[n>>3]-+i[r>>3])),3)/(c*(2.59807621135*c)*.8)),I=s,0|(0==(0|p)?1:p)}function q(e,t,n){e|=0,t|=0,n|=0;var r,i,o,s,u,c=0,l=0;s=I,I=I+288|0,r=s+264|0,i=s+96|0,l=(c=o=s)+96|0;do{a[c>>2]=0,c=c+4|0}while((0|c)<(0|l));return qe(n,o),Ge(c=0|a[(l=o)>>2],l=0|a[l+4>>2],r),He(c,l,i),u=+Ce(r,i+8|0),l=~~+A(+ +Ce(e,t)/(2*u)),I=s,0|(0==(0|l)?1:l)}function K(e,t,n,r){t|=0,n|=0,r|=0,a[(e|=0)>>2]=t,a[e+4>>2]=n,a[e+8>>2]=r}function X(e,t){e|=0;var n,r,o,s,c=0,l=0,d=0,p=0,h=0,f=0,m=0;a[(s=(t|=0)+8|0)>>2]=0,r=+i[e>>3],p=+u(+r),o=+i[e+8>>3],p+=.5*(h=+u(+o)/.8660254037844386),p-=+(0|(c=~~p)),h-=+(0|(e=~~h));do{if(p<.5){if(p<.3333333333333333){if(a[t>>2]=c,h<.5*(p+1)){a[t+4>>2]=e;break}e=e+1|0,a[t+4>>2]=e;break}if(e=(1&!(h<(m=1-p)))+e|0,a[t+4>>2]=e,m<=h&h<2*p){c=c+1|0,a[t>>2]=c;break}a[t>>2]=c;break}if(!(p<.6666666666666666)){if(c=c+1|0,a[t>>2]=c,h<.5*p){a[t+4>>2]=e;break}e=e+1|0,a[t+4>>2]=e;break}if(h<1-p){if(a[t+4>>2]=e,2*p-1<h){a[t>>2]=c;break}}else e=e+1|0,a[t+4>>2]=e;c=c+1|0,a[t>>2]=c}while(0);do{if(r<0){if(1&e){c=~~(+(0|c)-(2*(+((f=0|bt(0|c,((0|c)<0)<<31>>31|0,0|(f=(e+1|0)/2|0),((0|f)<0)<<31>>31|0))>>>0)+4294967296*+(0|_()))+1)),a[t>>2]=c;break}c=~~(+(0|c)-2*(+((f=0|bt(0|c,((0|c)<0)<<31>>31|0,0|(f=(0|e)/2|0),((0|f)<0)<<31>>31|0))>>>0)+4294967296*+(0|_()))),a[t>>2]=c;break}}while(0);f=t+4|0,o<0&&(c=c-((1|e<<1)/2|0)|0,a[t>>2]=c,e=0-e|0,a[f>>2]=e),l=e-c|0,(0|c)<0?(d=0-c|0,a[f>>2]=l,a[s>>2]=d,a[t>>2]=0,e=l,c=0):d=0,(0|e)<0&&(c=c-e|0,a[t>>2]=c,d=d-e|0,a[s>>2]=d,a[f>>2]=0,e=0),n=c-d|0,l=e-d|0,(0|d)<0&&(a[t>>2]=n,a[f>>2]=l,a[s>>2]=0,e=l,c=n,d=0),(0|(l=(0|d)<(0|(l=(0|e)<(0|c)?e:c))?d:l))<=0||(a[t>>2]=c-l,a[f>>2]=e-l,a[s>>2]=d-l)}function Q(e){var t,n=0,r=0,i=0,o=0,s=0;n=0|a[(e|=0)>>2],r=0|a[(t=e+4|0)>>2],(0|n)<0&&(r=r-n|0,a[t>>2]=r,a[(s=e+8|0)>>2]=(0|a[s>>2])-n,a[e>>2]=0,n=0),(0|r)<0?(n=n-r|0,a[e>>2]=n,o=(0|a[(s=e+8|0)>>2])-r|0,a[s>>2]=o,a[t>>2]=0,r=0):(s=o=e+8|0,o=0|a[o>>2]),(0|o)<0&&(n=n-o|0,a[e>>2]=n,r=r-o|0,a[t>>2]=r,a[s>>2]=0,o=0),(0|(i=(0|o)<(0|(i=(0|r)<(0|n)?r:n))?o:i))<=0||(a[e>>2]=n-i,a[t>>2]=r-i,a[s>>2]=o-i)}function Y(e,t){t|=0;var n,r;r=0|a[(e|=0)+8>>2],n=+((0|a[e+4>>2])-r|0),i[t>>3]=+((0|a[e>>2])-r|0)-.5*n,i[t+8>>3]=.8660254037844386*n}function $(e,t,n){e|=0,t|=0,a[(n|=0)>>2]=(0|a[t>>2])+(0|a[e>>2]),a[n+4>>2]=(0|a[t+4>>2])+(0|a[e+4>>2]),a[n+8>>2]=(0|a[t+8>>2])+(0|a[e+8>>2])}function Z(e,t,n){e|=0,t|=0,a[(n|=0)>>2]=(0|a[e>>2])-(0|a[t>>2]),a[n+4>>2]=(0|a[e+4>>2])-(0|a[t+4>>2]),a[n+8>>2]=(0|a[e+8>>2])-(0|a[t+8>>2])}function J(e,t){t|=0;var n,r=0;r=0|y(0|a[(e|=0)>>2],t),a[e>>2]=r,n=0|y(0|a[(r=e+4|0)>>2],t),a[r>>2]=n,t=0|y(0|a[(e=e+8|0)>>2],t),a[e>>2]=t}function ee(e){var t,n,r=0,i=0,o=0,s=0,u=0;u=(0|(n=0|a[(e|=0)>>2]))<0,e=(e=(i=(0|(s=((t=(0|(o=(0|a[e+4>>2])-(u?n:0)|0))<0)?0-o|0:0)+((0|a[e+8>>2])-(u?n:0))|0))<0)?0:s)-((o=(0|(i=(0|e)<(0|(i=(0|(r=(t?0:o)-(i?s:0)|0))<(0|(s=(u?0:n)-(t?o:0)-(i?s:0)|0))?r:s))?e:i))>0)?i:0)|0,r=r-(o?i:0)|0;e:do{switch(s-(o?i:0)|0){case 0:switch(0|r){case 0:return 0|(u=0==(0|e)?0:1==(0|e)?1:7);case 1:return 0|(u=0==(0|e)?2:1==(0|e)?3:7);default:break e}case 1:switch(0|r){case 0:return 0|(u=0==(0|e)?4:1==(0|e)?5:7);case 1:if(e)break e;return 0|(e=6);default:break e}}}while(0);return 0|(u=7)}function te(e){var t,n,r=0,i=0,o=0,s=0,u=0;i=0|a[(t=(e|=0)+8|0)>>2],o=0|vt(+((3*(r=(0|a[e>>2])-i|0)|0)-(i=(0|a[(n=e+4|0)>>2])-i|0)|0)/7),a[e>>2]=o,r=0|vt(+((i<<1)+r|0)/7),a[n>>2]=r,a[t>>2]=0,i=r-o|0,(0|o)<0?(u=0-o|0,a[n>>2]=i,a[t>>2]=u,a[e>>2]=0,r=i,o=0,i=u):i=0,(0|r)<0&&(o=o-r|0,a[e>>2]=o,i=i-r|0,a[t>>2]=i,a[n>>2]=0,r=0),u=o-i|0,s=r-i|0,(0|i)<0?(a[e>>2]=u,a[n>>2]=s,a[t>>2]=0,r=s,s=u,i=0):s=o,(0|(o=(0|i)<(0|(o=(0|r)<(0|s)?r:s))?i:o))<=0||(a[e>>2]=s-o,a[n>>2]=r-o,a[t>>2]=i-o)}function ne(e){var t,n,r=0,i=0,o=0,s=0,u=0;i=0|a[(t=(e|=0)+8|0)>>2],o=0|vt(+(((r=(0|a[e>>2])-i|0)<<1)+(i=(0|a[(n=e+4|0)>>2])-i|0)|0)/7),a[e>>2]=o,r=0|vt(+((3*i|0)-r|0)/7),a[n>>2]=r,a[t>>2]=0,i=r-o|0,(0|o)<0?(u=0-o|0,a[n>>2]=i,a[t>>2]=u,a[e>>2]=0,r=i,o=0,i=u):i=0,(0|r)<0&&(o=o-r|0,a[e>>2]=o,i=i-r|0,a[t>>2]=i,a[n>>2]=0,r=0),u=o-i|0,s=r-i|0,(0|i)<0?(a[e>>2]=u,a[n>>2]=s,a[t>>2]=0,r=s,s=u,i=0):s=o,(0|(o=(0|i)<(0|(o=(0|r)<(0|s)?r:s))?i:o))<=0||(a[e>>2]=s-o,a[n>>2]=r-o,a[t>>2]=i-o)}function re(e){var t,n,r,i=0,o=0,s=0,u=0;i=0|a[(e|=0)>>2],o=0|a[(n=e+4|0)>>2],s=0|a[(r=e+8|0)>>2],u=o+(3*i|0)|0,a[e>>2]=u,o=s+(3*o|0)|0,a[n>>2]=o,i=(3*s|0)+i|0,a[r>>2]=i,s=o-u|0,(0|u)<0?(i=i-u|0,a[n>>2]=s,a[r>>2]=i,a[e>>2]=0,o=s,s=0):s=u,(0|o)<0&&(s=s-o|0,a[e>>2]=s,i=i-o|0,a[r>>2]=i,a[n>>2]=0,o=0),t=s-i|0,u=o-i|0,(0|i)<0?(a[e>>2]=t,a[n>>2]=u,a[r>>2]=0,s=t,i=0):u=o,(0|(o=(0|i)<(0|(o=(0|u)<(0|s)?u:s))?i:o))<=0||(a[e>>2]=s-o,a[n>>2]=u-o,a[r>>2]=i-o)}function ae(e){var t,n,r,i=0,o=0,s=0,u=0;u=0|a[(e|=0)>>2],s=(3*(i=0|a[(n=e+4|0)>>2])|0)+u|0,u=(o=0|a[(r=e+8|0)>>2])+(3*u|0)|0,a[e>>2]=u,a[n>>2]=s,i=(3*o|0)+i|0,a[r>>2]=i,o=s-u|0,(0|u)<0?(i=i-u|0,a[n>>2]=o,a[r>>2]=i,a[e>>2]=0,u=0):o=s,(0|o)<0&&(u=u-o|0,a[e>>2]=u,i=i-o|0,a[r>>2]=i,a[n>>2]=0,o=0),t=u-i|0,s=o-i|0,(0|i)<0?(a[e>>2]=t,a[n>>2]=s,a[r>>2]=0,u=t,i=0):s=o,(0|(o=(0|i)<(0|(o=(0|s)<(0|u)?s:u))?i:o))<=0||(a[e>>2]=u-o,a[n>>2]=s-o,a[r>>2]=i-o)}function ie(e,t){e|=0;var n,r,i,o=0,s=0,u=0;((t|=0)+-1|0)>>>0>=6||(u=(0|a[15472+(12*t|0)>>2])+(0|a[e>>2])|0,a[e>>2]=u,i=e+4|0,s=(0|a[15472+(12*t|0)+4>>2])+(0|a[i>>2])|0,a[i>>2]=s,r=e+8|0,t=(0|a[15472+(12*t|0)+8>>2])+(0|a[r>>2])|0,a[r>>2]=t,o=s-u|0,(0|u)<0?(t=t-u|0,a[i>>2]=o,a[r>>2]=t,a[e>>2]=0,s=0):(o=s,s=u),(0|o)<0&&(s=s-o|0,a[e>>2]=s,t=t-o|0,a[r>>2]=t,a[i>>2]=0,o=0),n=s-t|0,u=o-t|0,(0|t)<0?(a[e>>2]=n,a[i>>2]=u,a[r>>2]=0,s=n,t=0):u=o,(0|(o=(0|t)<(0|(o=(0|u)<(0|s)?u:s))?t:o))<=0||(a[e>>2]=s-o,a[i>>2]=u-o,a[r>>2]=t-o))}function oe(e){var t,n,r,i=0,o=0,s=0,u=0;u=0|a[(e|=0)>>2],s=(i=0|a[(n=e+4|0)>>2])+u|0,u=(o=0|a[(r=e+8|0)>>2])+u|0,a[e>>2]=u,a[n>>2]=s,i=o+i|0,a[r>>2]=i,o=s-u|0,(0|u)<0?(i=i-u|0,a[n>>2]=o,a[r>>2]=i,a[e>>2]=0,s=0):(o=s,s=u),(0|o)<0&&(s=s-o|0,a[e>>2]=s,i=i-o|0,a[r>>2]=i,a[n>>2]=0,o=0),t=s-i|0,u=o-i|0,(0|i)<0?(a[e>>2]=t,a[n>>2]=u,a[r>>2]=0,s=t,i=0):u=o,(0|(o=(0|i)<(0|(o=(0|u)<(0|s)?u:s))?i:o))<=0||(a[e>>2]=s-o,a[n>>2]=u-o,a[r>>2]=i-o)}function se(e){var t,n,r,i=0,o=0,s=0,u=0;i=0|a[(e|=0)>>2],s=0|a[(n=e+4|0)>>2],o=0|a[(r=e+8|0)>>2],u=s+i|0,a[e>>2]=u,s=o+s|0,a[n>>2]=s,i=o+i|0,a[r>>2]=i,o=s-u|0,(0|u)<0?(i=i-u|0,a[n>>2]=o,a[r>>2]=i,a[e>>2]=0,s=0):(o=s,s=u),(0|o)<0&&(s=s-o|0,a[e>>2]=s,i=i-o|0,a[r>>2]=i,a[n>>2]=0,o=0),t=s-i|0,u=o-i|0,(0|i)<0?(a[e>>2]=t,a[n>>2]=u,a[r>>2]=0,s=t,i=0):u=o,(0|(o=(0|i)<(0|(o=(0|u)<(0|s)?u:s))?i:o))<=0||(a[e>>2]=s-o,a[n>>2]=u-o,a[r>>2]=i-o)}function ue(e){switch(0|(e|=0)){case 1:e=5;break;case 5:e=4;break;case 4:e=6;break;case 6:e=2;break;case 2:e=3;break;case 3:e=1}return 0|e}function ce(e){switch(0|(e|=0)){case 1:e=3;break;case 3:e=2;break;case 2:e=6;break;case 6:e=4;break;case 4:e=5;break;case 5:e=1}return 0|e}function le(e){var t,n,r,i=0,o=0,s=0,u=0;i=0|a[(e|=0)>>2],o=0|a[(n=e+4|0)>>2],s=0|a[(r=e+8|0)>>2],u=o+(i<<1)|0,a[e>>2]=u,o=s+(o<<1)|0,a[n>>2]=o,i=(s<<1)+i|0,a[r>>2]=i,s=o-u|0,(0|u)<0?(i=i-u|0,a[n>>2]=s,a[r>>2]=i,a[e>>2]=0,o=s,s=0):s=u,(0|o)<0&&(s=s-o|0,a[e>>2]=s,i=i-o|0,a[r>>2]=i,a[n>>2]=0,o=0),t=s-i|0,u=o-i|0,(0|i)<0?(a[e>>2]=t,a[n>>2]=u,a[r>>2]=0,s=t,i=0):u=o,(0|(o=(0|i)<(0|(o=(0|u)<(0|s)?u:s))?i:o))<=0||(a[e>>2]=s-o,a[n>>2]=u-o,a[r>>2]=i-o)}function de(e){var t,n,r,i=0,o=0,s=0,u=0;u=0|a[(e|=0)>>2],s=((i=0|a[(n=e+4|0)>>2])<<1)+u|0,u=(o=0|a[(r=e+8|0)>>2])+(u<<1)|0,a[e>>2]=u,a[n>>2]=s,i=(o<<1)+i|0,a[r>>2]=i,o=s-u|0,(0|u)<0?(i=i-u|0,a[n>>2]=o,a[r>>2]=i,a[e>>2]=0,u=0):o=s,(0|o)<0&&(u=u-o|0,a[e>>2]=u,i=i-o|0,a[r>>2]=i,a[n>>2]=0,o=0),t=u-i|0,s=o-i|0,(0|i)<0?(a[e>>2]=t,a[n>>2]=s,a[r>>2]=0,u=t,i=0):s=o,(0|(o=(0|i)<(0|(o=(0|s)<(0|u)?s:u))?i:o))<=0||(a[e>>2]=u-o,a[n>>2]=s-o,a[r>>2]=i-o)}function pe(e,t){t|=0;var n,r,i,o=0,s=0,u=0;return i=(0|(r=(0|a[(e|=0)>>2])-(0|a[t>>2])|0))<0,n=(0|(s=(0|a[e+4>>2])-(0|a[t+4>>2])-(i?r:0)|0))<0,t=(t=(e=(0|(u=(i?0-r|0:0)+(0|a[e+8>>2])-(0|a[t+8>>2])+(n?0-s|0:0)|0))<0)?0:u)-((s=(0|(e=(0|t)<(0|(e=(0|(o=(n?0:s)-(e?u:0)|0))<(0|(u=(i?0:r)-(n?s:0)-(e?u:0)|0))?o:u))?t:e))>0)?e:0)|0,o=o-(s?e:0)|0,0|((0|(e=(0|(e=u-(s?e:0)|0))>-1?e:0-e|0))>(0|(t=(0|(o=(0|o)>-1?o:0-o|0))>(0|(t=(0|t)>-1?t:0-t|0))?o:t))?e:t)}function he(e,t){t|=0;var n;n=0|a[(e|=0)+8>>2],a[t>>2]=(0|a[e>>2])-n,a[t+4>>2]=(0|a[e+4>>2])-n}function fe(e,t){t|=0;var n,r,i,o=0,s=0,u=0;s=0|a[(e|=0)>>2],a[t>>2]=s,e=0|a[e+4>>2],a[(r=t+4|0)>>2]=e,a[(i=t+8|0)>>2]=0,o=e-s|0,(0|s)<0?(e=0-s|0,a[r>>2]=o,a[i>>2]=e,a[t>>2]=0,s=0):(o=e,e=0),(0|o)<0&&(s=s-o|0,a[t>>2]=s,e=e-o|0,a[i>>2]=e,a[r>>2]=0,o=0),n=s-e|0,u=o-e|0,(0|e)<0?(a[t>>2]=n,a[r>>2]=u,a[i>>2]=0,o=u,u=n,e=0):u=s,(0|(s=(0|e)<(0|(s=(0|o)<(0|u)?o:u))?e:s))<=0||(a[t>>2]=u-s,a[r>>2]=o-s,a[i>>2]=e-s)}function me(e){var t,n,r,i;n=(i=0|a[(t=(e|=0)+8|0)>>2])-(0|a[e>>2])|0,a[e>>2]=n,e=(0|a[(r=e+4|0)>>2])-i|0,a[r>>2]=e,a[t>>2]=0-(e+n)}function ve(e){var t,n,r=0,i=0,o=0,s=0,u=0;r=0-(i=0|a[(e|=0)>>2])|0,a[e>>2]=r,a[(t=e+8|0)>>2]=0,s=(o=0|a[(n=e+4|0)>>2])+i|0,(0|i)>0?(a[n>>2]=s,a[t>>2]=i,a[e>>2]=0,r=0,o=s):i=0,(0|o)<0?(u=r-o|0,a[e>>2]=u,i=i-o|0,a[t>>2]=i,a[n>>2]=0,s=u-i|0,r=0-i|0,(0|i)<0?(a[e>>2]=s,a[n>>2]=r,a[t>>2]=0,o=r,i=0):(o=0,s=u)):s=r,(0|(r=(0|i)<(0|(r=(0|o)<(0|s)?o:s))?i:r))<=0||(a[e>>2]=s-r,a[n>>2]=o-r,a[t>>2]=i-r)}function ge(e,t,n,r){t|=0,n|=0,r|=0;var o,s=0,u=0,c=0,l=0;if(o=I,I=I+32|0,function(e,t){t|=0;var n=0,r=0,a=0;n=+i[(e|=0)>>3],r=+d(+n),n=+p(+n),i[t+16>>3]=n,n=+i[e+8>>3],a=r*+d(+n),i[t>>3]=a,n=r*+p(+n),i[t+8>>3]=n}(e|=0,u=o),a[n>>2]=0,s=+ut(15888,u),(c=+ut(15912,u))<s&&(a[n>>2]=1,s=c),(c=+ut(15936,u))<s&&(a[n>>2]=2,s=c),(c=+ut(15960,u))<s&&(a[n>>2]=3,s=c),(c=+ut(15984,u))<s&&(a[n>>2]=4,s=c),(c=+ut(16008,u))<s&&(a[n>>2]=5,s=c),(c=+ut(16032,u))<s&&(a[n>>2]=6,s=c),(c=+ut(16056,u))<s&&(a[n>>2]=7,s=c),(c=+ut(16080,u))<s&&(a[n>>2]=8,s=c),(c=+ut(16104,u))<s&&(a[n>>2]=9,s=c),(c=+ut(16128,u))<s&&(a[n>>2]=10,s=c),(c=+ut(16152,u))<s&&(a[n>>2]=11,s=c),(c=+ut(16176,u))<s&&(a[n>>2]=12,s=c),(c=+ut(16200,u))<s&&(a[n>>2]=13,s=c),(c=+ut(16224,u))<s&&(a[n>>2]=14,s=c),(c=+ut(16248,u))<s&&(a[n>>2]=15,s=c),(c=+ut(16272,u))<s&&(a[n>>2]=16,s=c),(c=+ut(16296,u))<s&&(a[n>>2]=17,s=c),(c=+ut(16320,u))<s&&(a[n>>2]=18,s=c),(c=+ut(16344,u))<s&&(a[n>>2]=19,s=c),(c=+f(+(1-.5*s)))<1e-16)return a[r>>2]=0,a[r+4>>2]=0,a[r+8>>2]=0,a[r+12>>2]=0,void(I=o);if(n=0|a[n>>2],s=+Ee((s=+i[16368+(24*n|0)>>3])-+Ee(+function(e,t){e|=0;var n=0,r=0,a=0,o=0,s=0;return o=+i[(t|=0)>>3],r=+d(+o),a=+i[t+8>>3]-+i[e+8>>3],s=r*+p(+a),n=+i[e>>3],+ +g(+s,+(+p(+o)*+d(+n)-+d(+a)*(r*+p(+n))))}(15568+(n<<4)|0,e))),l=0|ze(t)?+Ee(s+-.3334731722518321):s,s=+h(+c)/.381966011250105,(0|t)>0){u=0;do{s*=2.6457513110645907,u=u+1|0}while((0|u)!=(0|t))}c=+d(+l)*s,i[r>>3]=c,l=+p(+l)*s,i[r+8>>3]=l,I=o}function Ae(e,t,n,r,o){t|=0,n|=0,r|=0,o|=0;var s=0,l=0;if((s=+function(e){var t=0,n=0;return n=+i[(e|=0)>>3],t=+i[e+8>>3],+ +c(+(n*n+t*t))}(e|=0))<1e-16)return t=15568+(t<<4)|0,a[o>>2]=a[t>>2],a[o+4>>2]=a[t+4>>2],a[o+8>>2]=a[t+8>>2],void(a[o+12>>2]=a[t+12>>2]);if(l=+g(+ +i[e+8>>3],+ +i[e>>3]),(0|n)>0){e=0;do{s/=2.6457513110645907,e=e+1|0}while((0|e)!=(0|n))}r?(s/=3,n=0==(0|ze(n)),s=+v(.381966011250105*(n?s:s/2.6457513110645907))):(s=+v(.381966011250105*s),0|ze(n)&&(l=+Ee(l+.3334731722518321))),function(e,t,n,r){e|=0,t=+t,r|=0;var o=0,s=0,c=0,l=0;if((n=+n)<1e-16)return a[r>>2]=a[e>>2],a[r+4>>2]=a[e+4>>2],a[r+8>>2]=a[e+8>>2],void(a[r+12>>2]=a[e+12>>2]);s=t<0?t+6.283185307179586:t,s=t>=6.283185307179586?s+-6.283185307179586:s;do{if(!(s<1e-16)){if(o=+u(+(s+-3.141592653589793))<1e-16,t=+i[e>>3],o){t-=n,i[r>>3]=t,o=r;break}if(c=+d(+n),n=+p(+n),t=c*+p(+t)+ +d(+s)*(n*+d(+t)),t=+m(+((t=t>1?1:t)<-1?-1:t)),i[r>>3]=t,+u(+(t+-1.5707963267948966))<1e-16)return i[r>>3]=1.5707963267948966,void(i[r+8>>3]=0);if(+u(+(t+1.5707963267948966))<1e-16)return i[r>>3]=-1.5707963267948966,void(i[r+8>>3]=0);if(l=+d(+t),s=n*+p(+s)/l,n=+i[e>>3],t=(c-+p(+t)*+p(+n))/+d(+n)/l,c=s>1?1:s,t=t>1?1:t,(t=+i[e+8>>3]+ +g(+(c<-1?-1:c),+(t<-1?-1:t)))>3.141592653589793)do{t+=-6.283185307179586}while(t>3.141592653589793);if(t<-3.141592653589793)do{t+=6.283185307179586}while(t<-3.141592653589793);return void(i[r+8>>3]=t)}t=+i[e>>3]+n,i[r>>3]=t,o=r}while(0);if(+u(+(t+-1.5707963267948966))<1e-16)return i[o>>3]=1.5707963267948966,void(i[r+8>>3]=0);if(+u(+(t+1.5707963267948966))<1e-16)return i[o>>3]=-1.5707963267948966,void(i[r+8>>3]=0);if((t=+i[e+8>>3])>3.141592653589793)do{t+=-6.283185307179586}while(t>3.141592653589793);if(t<-3.141592653589793)do{t+=6.283185307179586}while(t<-3.141592653589793);i[r+8>>3]=t}(15568+(t<<4)|0,+Ee(+i[16368+(24*t|0)>>3]-l),s,o)}function ye(e,t,n){t|=0,n|=0;var r,i;r=I,I=I+16|0,Y((e|=0)+4|0,i=r),Ae(i,0|a[e>>2],t,0,n),I=r}function be(e,t,n,r,o){e|=0,t|=0,n|=0,r|=0,o|=0;var s,u,c,l,d,p,h,f,m,v,g,A,y,b,x,w,_,O,E,S,C,T,j=0,M=0,N=0,D=0,R=0,P=0;if(T=I,I=I+272|0,D=T+240|0,E=T,S=T+224|0,C=T+208|0,g=T+176|0,A=T+160|0,y=T+192|0,b=T+144|0,x=T+128|0,w=T+112|0,_=T+96|0,O=T+80|0,a[(j=T+256|0)>>2]=t,a[D>>2]=a[e>>2],a[D+4>>2]=a[e+4>>2],a[D+8>>2]=a[e+8>>2],a[D+12>>2]=a[e+12>>2],xe(D,j,E),a[o>>2]=0,(0|(D=r+n+(5==(0|r)&1)|0))<=(0|n))I=T;else{u=S+4|0,c=g+4|0,l=n+5|0,d=16848+((s=0|a[j>>2])<<2)|0,p=16928+(s<<2)|0,h=x+8|0,f=w+8|0,m=_+8|0,v=C+4|0,N=n;e:for(;;){M=E+(((0|N)%5|0)<<4)|0,a[C>>2]=a[M>>2],a[C+4>>2]=a[M+4>>2],a[C+8>>2]=a[M+8>>2],a[C+12>>2]=a[M+12>>2];do{}while(2==(0|we(C,s,0,1)));if((0|N)>(0|n)&0!=(0|ze(t))){if(a[g>>2]=a[C>>2],a[g+4>>2]=a[C+4>>2],a[g+8>>2]=a[C+8>>2],a[g+12>>2]=a[C+12>>2],Y(u,A),r=0|a[g>>2],j=0|a[17008+(80*r|0)+(a[S>>2]<<2)>>2],a[g>>2]=a[18608+(80*r|0)+(20*j|0)>>2],(0|(M=0|a[18608+(80*r|0)+(20*j|0)+16>>2]))>0){e=0;do{oe(c),e=e+1|0}while((0|e)<(0|M))}switch(M=18608+(80*r|0)+(20*j|0)+4|0,a[y>>2]=a[M>>2],a[y+4>>2]=a[M+4>>2],a[y+8>>2]=a[M+8>>2],J(y,3*(0|a[d>>2])|0),$(c,y,c),Q(c),Y(c,b),R=+(0|a[p>>2]),i[x>>3]=3*R,i[h>>3]=0,P=-1.5*R,i[w>>3]=P,i[f>>3]=2.598076211353316*R,i[_>>3]=P,i[m>>3]=-2.598076211353316*R,0|a[17008+(80*(0|a[g>>2])|0)+(a[C>>2]<<2)>>2]){case 1:e=w,r=x;break;case 3:e=_,r=w;break;case 2:e=x,r=_;break;default:e=12;break e}ot(A,b,r,e,O),Ae(O,0|a[g>>2],s,1,o+8+(a[o>>2]<<4)|0),a[o>>2]=1+(0|a[o>>2])}if((0|N)<(0|l)&&(Y(v,g),Ae(g,0|a[C>>2],s,1,o+8+(a[o>>2]<<4)|0),a[o>>2]=1+(0|a[o>>2])),a[S>>2]=a[C>>2],a[S+4>>2]=a[C+4>>2],a[S+8>>2]=a[C+8>>2],a[S+12>>2]=a[C+12>>2],(0|(N=N+1|0))>=(0|D)){e=3;break}}3!=(0|e)?12==(0|e)&&k(22474,22521,581,22531):I=T}}function xe(e,t,n){e|=0,t|=0,n|=0;var r,i=0,o=0,s=0,u=0,c=0;r=I,I=I+128|0,o=r,u=20208,c=(s=i=r+64|0)+60|0;do{a[s>>2]=a[u>>2],s=s+4|0,u=u+4|0}while((0|s)<(0|c));u=20272,c=(s=o)+60|0;do{a[s>>2]=a[u>>2],s=s+4|0,u=u+4|0}while((0|s)<(0|c));i=(c=0==(0|ze(0|a[t>>2])))?i:o,le(o=e+4|0),de(o),0|ze(0|a[t>>2])&&(ae(o),a[t>>2]=1+(0|a[t>>2])),a[n>>2]=a[e>>2],$(o,i,t=n+4|0),Q(t),a[n+16>>2]=a[e>>2],$(o,i+12|0,t=n+20|0),Q(t),a[n+32>>2]=a[e>>2],$(o,i+24|0,t=n+36|0),Q(t),a[n+48>>2]=a[e>>2],$(o,i+36|0,t=n+52|0),Q(t),a[n+64>>2]=a[e>>2],$(o,i+48|0,n=n+68|0),Q(n),I=r}function we(e,t,n,r){n|=0,r|=0;var i,o,s,u,c,l,d=0,p=0,h=0,f=0,m=0;if(l=I,I=I+32|0,c=l+12|0,o=l,m=(e|=0)+4|0,f=0|a[16928+((t|=0)<<2)>>2],f=(u=0!=(0|r))?3*f|0:f,d=0|a[m>>2],i=0|a[(s=e+8|0)>>2],u){if((0|(d=i+d+(r=0|a[(p=e+12|0)>>2])|0))==(0|f))return I=l,0|(m=1);h=p}else d=i+d+(r=0|a[(h=e+12|0)>>2])|0;if((0|d)<=(0|f))return I=l,0|(m=0);do{if((0|r)>0){if(r=0|a[e>>2],(0|i)>0){p=18608+(80*r|0)+60|0,r=e;break}r=18608+(80*r|0)+40|0,n?(K(c,f,0,0),Z(m,c,o),se(o),$(o,c,m),p=r,r=e):(p=r,r=e)}else p=18608+(80*(0|a[e>>2])|0)+20|0,r=e}while(0);if(a[r>>2]=a[p>>2],(0|a[(d=p+16|0)>>2])>0){r=0;do{oe(m),r=r+1|0}while((0|r)<(0|a[d>>2]))}return e=p+4|0,a[c>>2]=a[e>>2],a[c+4>>2]=a[e+4>>2],a[c+8>>2]=a[e+8>>2],t=0|a[16848+(t<<2)>>2],J(c,u?3*t|0:t),$(m,c,m),Q(m),r=u&&((0|a[s>>2])+(0|a[m>>2])+(0|a[h>>2])|0)==(0|f)?1:2,I=l,0|(m=r)}function _e(e,t){e|=0,t|=0;var n=0;do{n=0|we(e,t,0,1)}while(2==(0|n));return 0|n}function ke(e,t,n,r,o){e|=0,t|=0,n|=0,r|=0,o|=0;var s,u,c,l,d,p,h,f,m,v,g,A,y,b,x,w,_,O,E=0,S=0,C=0,T=0,j=0;if(O=I,I=I+240|0,b=O+208|0,x=O,w=O+192|0,_=O+176|0,m=O+160|0,v=O+144|0,g=O+128|0,A=O+112|0,y=O+96|0,a[(E=O+224|0)>>2]=t,a[b>>2]=a[e>>2],a[b+4>>2]=a[e+4>>2],a[b+8>>2]=a[e+8>>2],a[b+12>>2]=a[e+12>>2],Oe(b,E,x),a[o>>2]=0,(0|(f=r+n+(6==(0|r)&1)|0))<=(0|n))I=O;else{u=n+6|0,c=16928+((s=0|a[E>>2])<<2)|0,l=v+8|0,d=g+8|0,p=A+8|0,h=w+4|0,S=0,C=n,r=-1;e:for(;;){if(e=x+((E=(0|C)%6|0)<<4)|0,a[w>>2]=a[e>>2],a[w+4>>2]=a[e+4>>2],a[w+8>>2]=a[e+8>>2],a[w+12>>2]=a[e+12>>2],e=S,S=0|we(w,s,0,1),(0|C)>(0|n)&0!=(0|ze(t))&&(1!=(0|e)&&(0|a[w>>2])!=(0|r))){switch(Y(x+(((E+5|0)%6|0)<<4)+4|0,_),Y(x+(E<<4)+4|0,m),T=+(0|a[c>>2]),i[v>>3]=3*T,i[l>>3]=0,j=-1.5*T,i[g>>3]=j,i[d>>3]=2.598076211353316*T,i[A>>3]=j,i[p>>3]=-2.598076211353316*T,E=0|a[b>>2],0|a[17008+(80*E|0)+(((0|r)==(0|E)?0|a[w>>2]:r)<<2)>>2]){case 1:e=g,r=v;break;case 3:e=A,r=g;break;case 2:e=v,r=A;break;default:e=8;break e}ot(_,m,r,e,y),0|st(_,y)||0|st(m,y)||(Ae(y,0|a[b>>2],s,1,o+8+(a[o>>2]<<4)|0),a[o>>2]=1+(0|a[o>>2]))}if((0|C)<(0|u)&&(Y(h,_),Ae(_,0|a[w>>2],s,1,o+8+(a[o>>2]<<4)|0),a[o>>2]=1+(0|a[o>>2])),(0|(C=C+1|0))>=(0|f)){e=3;break}r=0|a[w>>2]}3!=(0|e)?8==(0|e)&&k(22557,22521,746,22602):I=O}}function Oe(e,t,n){e|=0,t|=0,n|=0;var r,i=0,o=0,s=0,u=0,c=0;r=I,I=I+160|0,o=r,u=20336,c=(s=i=r+80|0)+72|0;do{a[s>>2]=a[u>>2],s=s+4|0,u=u+4|0}while((0|s)<(0|c));u=20416,c=(s=o)+72|0;do{a[s>>2]=a[u>>2],s=s+4|0,u=u+4|0}while((0|s)<(0|c));i=(c=0==(0|ze(0|a[t>>2])))?i:o,le(o=e+4|0),de(o),0|ze(0|a[t>>2])&&(ae(o),a[t>>2]=1+(0|a[t>>2])),a[n>>2]=a[e>>2],$(o,i,t=n+4|0),Q(t),a[n+16>>2]=a[e>>2],$(o,i+12|0,t=n+20|0),Q(t),a[n+32>>2]=a[e>>2],$(o,i+24|0,t=n+36|0),Q(t),a[n+48>>2]=a[e>>2],$(o,i+36|0,t=n+52|0),Q(t),a[n+64>>2]=a[e>>2],$(o,i+48|0,t=n+68|0),Q(t),a[n+80>>2]=a[e>>2],$(o,i+60|0,n=n+84|0),Q(n),I=r}function Ee(e){var t;return t=(e=+e)<0?e+6.283185307179586:e,+(e>=6.283185307179586?t+-6.283185307179586:t)}function Se(e,t){return t|=0,+u(+(+i[(e|=0)>>3]-+i[t>>3]))<1.7453292519943298e-11?0|(t=+u(+(+i[e+8>>3]-+i[t+8>>3]))<1.7453292519943298e-11):0|(t=0)}function Ce(e,t){e|=0;var n,r,a,o=0;return r=+i[(t|=0)>>3],n=+i[e>>3],o=(a=+p(.5*(r-n)))*a+(o=+p(.5*(+i[t+8>>3]-+i[e+8>>3])))*(+d(+r)*+d(+n)*o),2*+g(+ +c(+o),+ +c(+(1-o)))*6371.007180918475}function Te(e,t,n){e|=0,n|=0;var r,a,o,s,u=0,l=0,f=0,m=0,A=0,y=0;return y=+i[(t|=0)>>3],o=+i[e>>3],A=+p(.5*(y-o)),f=+i[t+8>>3],a=+i[e+8>>3],m=+p(.5*(f-a)),r=+d(+o),s=+d(+y),m=2*+g(+ +c(+(m=A*A+m*(s*r*m))),+ +c(+(1-m))),A=+i[n>>3],y=+p(.5*(A-y)),u=+i[n+8>>3],f=+p(.5*(u-f)),l=+d(+A),f=2*+g(+ +c(+(f=y*y+f*(s*l*f))),+ +c(+(1-f))),A=+p(.5*(o-A)),u=+p(.5*(a-u)),u=2*+g(+ +c(+(u=A*A+u*(r*l*u))),+ +c(+(1-u))),4*+v(+ +c(+ +h(.5*(l=.5*(m+f+u)))*+h(.5*(l-m))*+h(.5*(l-f))*+h(.5*(l-u))))}function Ie(e,t){return t=0|kt(0|(e|=0),0|(t|=0),45),_(),127&t|0}function je(e,t){var n=0,r=0,a=0,i=0,o=0,s=0;if(!(!0&134217728==(-16777216&(t|=0)|0)))return 0|(t=0);if(o=0|kt(0|(e|=0),0|t,45),_(),(o&=127)>>>0>121)return 0|(t=0);n=0|kt(0|e,0|t,52),_(),n&=15;do{if(0|n){for(a=1,r=0;;){if(i=0|kt(0|e,0|t,3*(15-a|0)|0),_(),0!=(0|(i&=7))&(1^r)){if(1==(0|i)&0!=(0|P(o))){s=0,r=13;break}r=1}if(7==(0|i)){s=0,r=13;break}if(!(a>>>0<n>>>0)){r=9;break}a=a+1|0}if(9==(0|r)){if(15!=(0|n))break;return 0|(s=1)}if(13==(0|r))return 0|s}}while(0);for(;;){if(s=0|kt(0|e,0|t,3*(14-n|0)|0),_(),!(7==(7&s|0)&!0)){s=0,r=13;break}if(!(n>>>0<14)){s=1,r=13;break}n=n+1|0}return 13==(0|r)?0|s:0}function Me(e,t,n){n|=0;var r=0,a=0;if(r=0|kt(0|(e|=0),0|(t|=0),52),_(),(0|(r&=15))>=(0|n)){if((0|r)!=(0|n))if(n>>>0<=15){if(e|=a=0|Ot(0|n,0,52),t=0|_()|-15728641&t,(0|r)>(0|n))do{a=0|Ot(7,0,3*(14-n|0)|0),n=n+1|0,e|=a,t=0|_()|t}while((0|n)<(0|r))}else t=0,e=0}else t=0,e=0;return w(0|t),0|e}function Ne(e,t,n,r){n|=0,r|=0;var i,o=0,s=0,u=0,c=0,l=0,d=0;if(u=0|kt(0|(e|=0),0|(t|=0),52),_(),(0|n)<16&(0|(u&=15))<=(0|n)){if((0|u)==(0|n))return a[(n=r)>>2]=e,void(a[n+4>>2]=t);if(i=(0|(l=0|tt(7,n-u|0)))/7|0,c=0|kt(0|e,0|t,45),_(),0|P(127&c)){e:do{if(u)for(s=1;;){if(o=0|kt(0|e,0|t,3*(15-s|0)|0),_(),0|(o&=7))break e;if(!(s>>>0<u>>>0)){o=0;break}s=s+1|0}else o=0}while(0);s=0==(0|o)}else s=0;if(d=0|Ot(u+1|0,0,52),o=0|_()|-15728641&t,Ne(t=(d|e)&~(t=0|Ot(7,0,0|(c=3*(14-u|0)|0))),u=o&~(0|_()),n,r),o=r+(i<<3)|0,!s)return Ne((d=0|Ot(1,0,0|c))|t,0|_()|u,n,o),d=o+(i<<3)|0,Ne((l=0|Ot(2,0,0|c))|t,0|_()|u,n,d),d=d+(i<<3)|0,Ne((l=0|Ot(3,0,0|c))|t,0|_()|u,n,d),d=d+(i<<3)|0,Ne((l=0|Ot(4,0,0|c))|t,0|_()|u,n,d),d=d+(i<<3)|0,Ne((l=0|Ot(5,0,0|c))|t,0|_()|u,n,d),void Ne((l=0|Ot(6,0,0|c))|t,0|_()|u,n,d+(i<<3)|0);s=o+(i<<3)|0,(0|l)>6&&(Tt(0|o,0,(d=(s>>>0>(l=o+8|0)>>>0?s:l)+-1+(0-o)|0)+8&-8|0),o=l+(d>>>3<<3)|0),Ne((d=0|Ot(2,0,0|c))|t,0|_()|u,n,o),d=o+(i<<3)|0,Ne((l=0|Ot(3,0,0|c))|t,0|_()|u,n,d),d=d+(i<<3)|0,Ne((l=0|Ot(4,0,0|c))|t,0|_()|u,n,d),d=d+(i<<3)|0,Ne((l=0|Ot(5,0,0|c))|t,0|_()|u,n,d),Ne((l=0|Ot(6,0,0|c))|t,0|_()|u,n,d+(i<<3)|0)}}function De(e,t){var n=0,r=0,a=0;if(a=0|kt(0|(e|=0),0|(t|=0),45),_(),!(0|P(127&a)))return 0|(a=0);a=0|kt(0|e,0|t,52),_(),a&=15;e:do{if(a)for(r=1;;){if(n=0|kt(0|e,0|t,3*(15-r|0)|0),_(),0|(n&=7))break e;if(!(r>>>0<a>>>0)){n=0;break}r=r+1|0}else n=0}while(0);return 0|(a=0==(0|n)&1)}function Re(e,t){var n=0,r=0,a=0;if(a=0|kt(0|(e|=0),0|(t|=0),52),_(),!(a&=15))return 0|(a=0);for(r=1;;){if(n=0|kt(0|e,0|t,3*(15-r|0)|0),_(),0|(n&=7)){r=5;break}if(!(r>>>0<a>>>0)){n=0,r=5;break}r=r+1|0}return 5==(0|r)?0|n:0}function Pe(e,t){var n=0,r=0,a=0,i=0,o=0,s=0,u=0;if(u=0|kt(0|(e|=0),0|(t|=0),52),_(),!(u&=15))return u=e,w(0|(s=t)),0|u;for(s=1,n=0;;){r=0|Ot(7,0,0|(i=3*(15-s|0)|0)),a=0|_(),o=0|kt(0|e,0|t,0|i),_(),e=(i=0|Ot(0|ue(7&o),0,0|i))|e&~r,t=(o=0|_())|t&~a;e:do{if(!n)if(0==(i&r|0)&0==(o&a|0))n=0;else if(r=0|kt(0|e,0|t,52),_(),r&=15){n=1;t:for(;;){switch(o=0|kt(0|e,0|t,3*(15-n|0)|0),_(),7&o){case 1:break t;case 0:break;default:n=1;break e}if(!(n>>>0<r>>>0)){n=1;break e}n=n+1|0}for(n=1;;){if(a=0|kt(0|e,0|t,0|(o=3*(15-n|0)|0)),_(),i=0|Ot(7,0,0|o),t&=~(0|_()),e=e&~i|(o=0|Ot(0|ue(7&a),0,0|o)),t=0|t|_(),!(n>>>0<r>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(s>>>0<u>>>0))break;s=s+1|0}return w(0|t),0|e}function Le(e,t){var n=0,r=0,a=0,i=0,o=0;if(r=0|kt(0|(e|=0),0|(t|=0),52),_(),!(r&=15))return r=e,w(0|(n=t)),0|r;for(n=1;o=0|kt(0|e,0|t,0|(i=3*(15-n|0)|0)),_(),a=0|Ot(7,0,0|i),t&=~(0|_()),e=(i=0|Ot(0|ue(7&o),0,0|i))|e&~a,t=0|_()|t,n>>>0<r>>>0;)n=n+1|0;return w(0|t),0|e}function Fe(e,t){var n=0,r=0,a=0,i=0,o=0,s=0,u=0;if(u=0|kt(0|(e|=0),0|(t|=0),52),_(),!(u&=15))return u=e,w(0|(s=t)),0|u;for(s=1,n=0;;){r=0|Ot(7,0,0|(i=3*(15-s|0)|0)),a=0|_(),o=0|kt(0|e,0|t,0|i),_(),e=(i=0|Ot(0|ce(7&o),0,0|i))|e&~r,t=(o=0|_())|t&~a;e:do{if(!n)if(0==(i&r|0)&0==(o&a|0))n=0;else if(r=0|kt(0|e,0|t,52),_(),r&=15){n=1;t:for(;;){switch(o=0|kt(0|e,0|t,3*(15-n|0)|0),_(),7&o){case 1:break t;case 0:break;default:n=1;break e}if(!(n>>>0<r>>>0)){n=1;break e}n=n+1|0}for(n=1;;){if(i=0|Ot(7,0,0|(a=3*(15-n|0)|0)),o=t&~(0|_()),t=0|kt(0|e,0|t,0|a),_(),e=e&~i|(t=0|Ot(0|ce(7&t),0,0|a)),t=0|o|_(),!(n>>>0<r>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(s>>>0<u>>>0))break;s=s+1|0}return w(0|t),0|e}function Be(e,t){var n=0,r=0,a=0,i=0,o=0;if(r=0|kt(0|(e|=0),0|(t|=0),52),_(),!(r&=15))return r=e,w(0|(n=t)),0|r;for(n=1;i=0|Ot(7,0,0|(o=3*(15-n|0)|0)),a=t&~(0|_()),t=0|kt(0|e,0|t,0|o),_(),e=(t=0|Ot(0|ce(7&t),0,0|o))|e&~i,t=0|_()|a,n>>>0<r>>>0;)n=n+1|0;return w(0|t),0|e}function ze(e){return 0|(0|(e|=0))%2}function Ue(e,t){e|=0;var n,r;return r=I,I=I+16|0,n=r,(t|=0)>>>0<=15&&2146435072!=(2146435072&a[e+4>>2]|0)&&2146435072!=(2146435072&a[e+8+4>>2]|0)?(!function(e,t,n){var r,a;r=I,I=I+16|0,ge(e|=0,t|=0,n|=0,a=r),X(a,n+4|0),I=r}(e,t,n),t=0|function(e,t){e|=0;var n,r=0,i=0,o=0,s=0,u=0,c=0,l=0,d=0;if(n=I,I=I+64|0,c=n+40|0,i=n+24|0,o=n+12|0,s=n,Ot(0|(t|=0),0,52),r=134225919|_(),!t)return(0|a[e+4>>2])>2?(c=0,w(0|(u=0)),I=n,0|c):(0|a[e+8>>2])>2?(c=0,w(0|(u=0)),I=n,0|c):(0|a[e+12>>2])>2?(c=0,w(0|(u=0)),I=n,0|c):(Ot(0|F(e),0,45),u=0|_()|r,c=-1,w(0|u),I=n,0|c);if(a[c>>2]=a[e>>2],a[c+4>>2]=a[e+4>>2],a[c+8>>2]=a[e+8>>2],a[c+12>>2]=a[e+12>>2],u=c+4|0,(0|t)>0)for(e=-1;a[i>>2]=a[u>>2],a[i+4>>2]=a[u+4>>2],a[i+8>>2]=a[u+8>>2],1&t?(te(u),a[o>>2]=a[u>>2],a[o+4>>2]=a[u+4>>2],a[o+8>>2]=a[u+8>>2],re(o)):(ne(u),a[o>>2]=a[u>>2],a[o+4>>2]=a[u+4>>2],a[o+8>>2]=a[u+8>>2],ae(o)),Z(i,o,s),Q(s),l=0|Ot(7,0,0|(d=3*(15-t|0)|0)),r&=~(0|_()),e=(d=0|Ot(0|ee(s),0,0|d))|e&~l,r=0|_()|r,(0|t)>1;)t=t+-1|0;else e=-1;e:do{if((0|a[u>>2])<=2&&(0|a[c+8>>2])<=2&&(0|a[c+12>>2])<=2){if(t=0|Ot(0|(i=0|F(c)),0,45),t|=e,e=0|_()|-1040385&r,s=0|B(c),!(0|P(i))){if((0|s)<=0)break;for(o=0;;){if(i=0|kt(0|t,0|e,52),_(),i&=15)for(r=1;c=0|kt(0|t,0|e,0|(d=3*(15-r|0)|0)),_(),l=0|Ot(7,0,0|d),e&=~(0|_()),t=t&~l|(d=0|Ot(0|ue(7&c),0,0|d)),e=0|e|_(),r>>>0<i>>>0;)r=r+1|0;if((0|(o=o+1|0))==(0|s))break e}}o=0|kt(0|t,0|e,52),_(),o&=15;t:do{if(o){r=1;n:for(;;){switch(d=0|kt(0|t,0|e,3*(15-r|0)|0),_(),7&d){case 1:break n;case 0:break;default:break t}if(!(r>>>0<o>>>0))break t;r=r+1|0}if(0|z(i,0|a[c>>2]))for(r=1;l=0|Ot(7,0,0|(c=3*(15-r|0)|0)),d=e&~(0|_()),e=0|kt(0|t,0|e,0|c),_(),t=t&~l|(e=0|Ot(0|ce(7&e),0,0|c)),e=0|d|_(),r>>>0<o>>>0;)r=r+1|0;else for(r=1;c=0|kt(0|t,0|e,0|(d=3*(15-r|0)|0)),_(),l=0|Ot(7,0,0|d),e&=~(0|_()),t=t&~l|(d=0|Ot(0|ue(7&c),0,0|d)),e=0|e|_(),r>>>0<o>>>0;)r=r+1|0}}while(0);if((0|s)>0){r=0;do{t=0|Pe(t,e),e=0|_(),r=r+1|0}while((0|r)!=(0|s))}}else t=0,e=0}while(0);return d=t,w(0|(l=e)),I=n,0|d}(n,t),e=0|_()):(e=0,t=0),w(0|e),I=r,0|t}function Ve(e,t,n){var r,i=0,o=0,s=0;if(r=(n|=0)+4|0,o=0|kt(0|(e|=0),0|(t|=0),52),_(),o&=15,s=0|kt(0|e,0|t,45),_(),i=0==(0|o),0|P(127&s)){if(i)return 0|(s=1);i=1}else{if(i)return 0|(s=0);i=0==(0|a[r>>2])&&0==(0|a[n+8>>2])?0!=(0|a[n+12>>2])&1:1}for(n=1;1&n?re(r):ae(r),s=0|kt(0|e,0|t,3*(15-n|0)|0),_(),ie(r,7&s),n>>>0<o>>>0;)n=n+1|0;return 0|i}function We(e,t,n){n|=0;var r,i,o=0,s=0,u=0,c=0,l=0,d=0;i=I,I=I+16|0,r=i,d=0|kt(0|(e|=0),0|(t|=0),45),_(),d&=127;e:do{if(0!=(0|P(d))&&(u=0|kt(0|e,0|t,52),_(),0!=(0|(u&=15)))){o=1;t:for(;;){switch(l=0|kt(0|e,0|t,3*(15-o|0)|0),_(),7&l){case 5:break t;case 0:break;default:o=t;break e}if(!(o>>>0<u>>>0)){o=t;break e}o=o+1|0}for(s=1,o=t;c=0|Ot(7,0,0|(t=3*(15-s|0)|0)),l=o&~(0|_()),o=0|kt(0|e,0|o,0|t),_(),e=e&~c|(o=0|Ot(0|ce(7&o),0,0|t)),o=0|l|_(),s>>>0<u>>>0;)s=s+1|0}else o=t}while(0);if(l=7728+(28*d|0)|0,a[n>>2]=a[l>>2],a[n+4>>2]=a[l+4>>2],a[n+8>>2]=a[l+8>>2],a[n+12>>2]=a[l+12>>2],0|Ve(e,o,n)){if(c=n+4|0,a[r>>2]=a[c>>2],a[r+4>>2]=a[c+4>>2],a[r+8>>2]=a[c+8>>2],u=0|kt(0|e,0|o,52),_(),l=15&u,1&u?(ae(c),u=l+1|0):u=l,0|P(d)){e:do{if(l)for(t=1;;){if(s=0|kt(0|e,0|o,3*(15-t|0)|0),_(),0|(s&=7)){o=s;break e}if(!(t>>>0<l>>>0)){o=0;break}t=t+1|0}else o=0}while(0);o=4==(0|o)&1}else o=0;if(0|we(n,u,o,0)){if(0|P(d))do{}while(0!=(0|we(n,u,0,0)));(0|u)!=(0|l)&&ne(c)}else(0|u)!=(0|l)&&(a[c>>2]=a[r>>2],a[c+4>>2]=a[r+4>>2],a[c+8>>2]=a[r+8>>2]);I=i}else I=i}function Ge(e,t,n){n|=0;var r,a;r=I,I=I+16|0,We(e|=0,t|=0,a=r),t=0|kt(0|e,0|t,52),_(),ye(a,15&t,n),I=r}function He(e,t,n){n|=0;var r,a,i=0,o=0;a=I,I=I+16|0,We(e|=0,t|=0,r=a),i=0|kt(0|e,0|t,45),_(),i=0==(0|P(127&i)),o=0|kt(0|e,0|t,52),_(),o&=15;e:do{if(!i){if(0|o)for(i=1;;){if(!(0==((0|Ot(7,0,3*(15-i|0)|0))&e|0)&0==((0|_())&t|0)))break e;if(!(i>>>0<o>>>0))break;i=i+1|0}return be(r,o,0,5,n),void(I=a)}}while(0);ke(r,o,0,6,n),I=a}function qe(e,t){t|=0;var n,r=0,i=0,o=0,s=0,u=0,c=0;if(Ot(0|(e|=0),0,52),n=134225919|_(),(0|e)<1){i=0,r=0;do{0|P(i)&&(Ot(0|i,0,45),u=0|n|_(),a[(e=t+(r<<3)|0)>>2]=-1,a[e+4>>2]=u,r=r+1|0),i=i+1|0}while(122!=(0|i))}else{u=0,r=0;do{if(0|P(u)){for(Ot(0|u,0,45),i=1,o=-1,s=0|n|_();o&=~(c=0|Ot(7,0,3*(15-i|0)|0)),s&=~(0|_()),(0|i)!=(0|e);)i=i+1|0;a[(c=t+(r<<3)|0)>>2]=o,a[c+4>>2]=s,r=r+1|0}u=u+1|0}while(122!=(0|u))}}function Ke(e,t,n,r){var i,o=0,s=0,u=0,c=0,l=0;if(i=I,I=I+64|0,u=i,(0|(e|=0))==(0|(n|=0))&(0|(t|=0))==(0|(r|=0))|!1|134217728!=(2013265920&t|0)|!1|134217728!=(2013265920&r|0))return I=i,0|(u=0);if(o=0|kt(0|e,0|t,52),_(),o&=15,s=0|kt(0|n,0|r,52),_(),(0|o)!=(15&s|0))return I=i,0|(u=0);if(s=o+-1|0,o>>>0>1&&(l=0|Me(e,t,s),c=0|_(),(0|l)==(0|(s=0|Me(n,r,s)))&(0|c)==(0|_()))){if(o=0|kt(0|e,0|t,0|(s=3*(15^o)|0)),_(),o&=7,s=0|kt(0|n,0|r,0|s),_(),0==(0|o)|0==(0|(s&=7)))return I=i,0|(l=1);if((0|a[21136+(o<<2)>>2])==(0|s))return I=i,0|(l=1);if((0|a[21168+(o<<2)>>2])==(0|s))return I=i,0|(l=1)}s=(o=u)+56|0;do{a[o>>2]=0,o=o+4|0}while((0|o)<(0|s));return j(e,t,1,u),o=(0|a[(l=u)>>2])==(0|n)&&(0|a[l+4>>2])==(0|r)||(0|a[(l=u+8|0)>>2])==(0|n)&&(0|a[l+4>>2])==(0|r)||(0|a[(l=u+16|0)>>2])==(0|n)&&(0|a[l+4>>2])==(0|r)||(0|a[(l=u+24|0)>>2])==(0|n)&&(0|a[l+4>>2])==(0|r)||(0|a[(l=u+32|0)>>2])==(0|n)&&(0|a[l+4>>2])==(0|r)||(0|a[(l=u+40|0)>>2])==(0|n)&&(0|a[l+4>>2])==(0|r)?1:1&((0|a[(o=u+48|0)>>2])==(0|n)?(0|a[o+4>>2])==(0|r):0),I=i,0|(l=o)}function Xe(e,t,n){n|=0;var r,i,o,s,u=0;if(o=I,I=I+16|0,i=o,u=0|kt(0|(e|=0),0|(t|=0),56),_(),-1==(0|(t=0|function(e,t,n){n|=0;var r=0,i=0;if(r=0|De(e|=0,t|=0),(n+-1|0)>>>0>5)return 0|(n=-1);if(1==(0|n)&(i=0!=(0|r)))return 0|(n=-1);return r=0|function(e,t){var n=0,r=0,i=0,o=0,s=0,u=0,c=0,l=0;if(l=I,I=I+32|0,o=l,We(e|=0,t|=0,i=l+16|0),s=0|Ie(e,t),c=0|Re(e,t),function(e,t){e=7728+(28*(e|=0)|0)|0,a[(t|=0)>>2]=a[e>>2],a[t+4>>2]=a[e+4>>2],a[t+8>>2]=a[e+8>>2],a[t+12>>2]=a[e+12>>2]}(s,o),t=0|function(e,t){e|=0;var n=0,r=0;if((t|=0)>>>0>20)return 0|(t=-1);do{if((0|a[11152+(216*t|0)>>2])!=(0|e))if((0|a[11152+(216*t|0)+8>>2])!=(0|e))if((0|a[11152+(216*t|0)+16>>2])!=(0|e))if((0|a[11152+(216*t|0)+24>>2])!=(0|e))if((0|a[11152+(216*t|0)+32>>2])!=(0|e))if((0|a[11152+(216*t|0)+40>>2])!=(0|e))if((0|a[11152+(216*t|0)+48>>2])!=(0|e))if((0|a[11152+(216*t|0)+56>>2])!=(0|e))if((0|a[11152+(216*t|0)+64>>2])!=(0|e))if((0|a[11152+(216*t|0)+72>>2])!=(0|e))if((0|a[11152+(216*t|0)+80>>2])!=(0|e))if((0|a[11152+(216*t|0)+88>>2])!=(0|e))if((0|a[11152+(216*t|0)+96>>2])!=(0|e))if((0|a[11152+(216*t|0)+104>>2])!=(0|e))if((0|a[11152+(216*t|0)+112>>2])!=(0|e))if((0|a[11152+(216*t|0)+120>>2])!=(0|e))if((0|a[11152+(216*t|0)+128>>2])!=(0|e)){if((0|a[11152+(216*t|0)+136>>2])!=(0|e)){if((0|a[11152+(216*t|0)+144>>2])==(0|e)){e=0,n=2,r=0;break}if((0|a[11152+(216*t|0)+152>>2])==(0|e)){e=0,n=2,r=1;break}if((0|a[11152+(216*t|0)+160>>2])==(0|e)){e=0,n=2,r=2;break}if((0|a[11152+(216*t|0)+168>>2])==(0|e)){e=1,n=2,r=0;break}if((0|a[11152+(216*t|0)+176>>2])==(0|e)){e=1,n=2,r=1;break}if((0|a[11152+(216*t|0)+184>>2])==(0|e)){e=1,n=2,r=2;break}if((0|a[11152+(216*t|0)+192>>2])==(0|e)){e=2,n=2,r=0;break}if((0|a[11152+(216*t|0)+200>>2])==(0|e)){e=2,n=2,r=1;break}if((0|a[11152+(216*t|0)+208>>2])==(0|e)){e=2,n=2,r=2;break}return 0|(e=-1)}e=2,n=1,r=2}else e=2,n=1,r=1;else e=2,n=1,r=0;else e=1,n=1,r=2;else e=1,n=1,r=1;else e=1,n=1,r=0;else e=0,n=1,r=2;else e=0,n=1,r=1;else e=0,n=1,r=0;else e=2,n=0,r=2;else e=2,n=0,r=1;else e=2,n=0,r=0;else e=1,n=0,r=2;else e=1,n=0,r=1;else e=1,n=0,r=0;else e=0,n=0,r=2;else e=0,n=0,r=1;else e=0,n=0,r=0}while(0);return 0|(t=0|a[11152+(216*t|0)+(72*n|0)+(24*e|0)+(r<<3)+4>>2])}(s,0|a[i>>2]),!(0|P(s)))return I=l,0|(c=t);switch(0|s){case 4:e=0,n=14;break;case 14:e=1,n=14;break;case 24:e=2,n=14;break;case 38:e=3,n=14;break;case 49:e=4,n=14;break;case 58:e=5,n=14;break;case 63:e=6,n=14;break;case 72:e=7,n=14;break;case 83:e=8,n=14;break;case 97:e=9,n=14;break;case 107:e=10,n=14;break;case 117:e=11,n=14;break;default:u=0,r=0}return 14==(0|n)&&(u=0|a[22096+(24*e|0)+8>>2],r=0|a[22096+(24*e|0)+16>>2]),(0|(e=0|a[i>>2]))!=(0|a[o>>2])&&(s=0|L(s),e=0|a[i>>2],s|(0|e)==(0|r)&&(t=(t+1|0)%6|0)),3==(0|c)&(0|e)==(0|r)?(I=l,0|(c=(t+5|0)%6|0)):5==(0|c)&(0|e)==(0|u)?(I=l,0|(c=(t+1|0)%6|0)):(I=l,0|(c=t))}(e,t),i?0|(n=(5-r+(0|a[22384+(n<<2)>>2])|0)%5|0):0|(n=(6-r+(0|a[22416+(n<<2)>>2])|0)%6|0)}(r=(s=!0&268435456==(2013265920&t|0))?e:0,e=s?-2130706433&t|134217728:0,7&u))))return a[n>>2]=0,void(I=o);We(r,e,i),u=0|kt(0|r,0|e,52),_(),u&=15,0|De(r,e)?be(i,u,t,2,n):ke(i,u,t,2,n),I=o}function Qe(e){e|=0;var t,n,r=0;return(t=0|yt(1,12))||k(22691,22646,49,22704),0|(r=0|a[(n=e+4|0)>>2])?(a[(r=r+8|0)>>2]=t,a[n>>2]=t,0|t):(0|a[e>>2]&&k(22721,22646,61,22744),a[(r=e)>>2]=t,a[n>>2]=t,0|t)}function Ye(e,t){e|=0,t|=0;var n,r;return(r=0|gt(24))||k(22758,22646,78,22772),a[r>>2]=a[t>>2],a[r+4>>2]=a[t+4>>2],a[r+8>>2]=a[t+8>>2],a[r+12>>2]=a[t+12>>2],a[r+16>>2]=0,0|(n=0|a[(t=e+4|0)>>2])?(a[n+16>>2]=r,a[t>>2]=r,0|r):(0|a[e>>2]&&k(22787,22646,82,22772),a[e>>2]=r,a[t>>2]=r,0|r)}function $e(e){var t,n,r=0,o=0,s=0,c=0,l=0,d=0,p=0,h=0,f=0,m=0,v=0,g=0,A=0,y=0,b=0,x=0,w=0,_=0,O=0,E=0,S=0,C=0,T=0,I=0,j=0,M=0,N=0,D=0,R=0,P=0;if(0|a[(c=(e|=0)+8|0)>>2])return 0|(P=1);if(!(s=0|a[e>>2]))return 0|(P=0);r=s,o=0;do{o=o+1|0,r=0|a[r+8>>2]}while(0!=(0|r));if(o>>>0<2)return 0|(P=0);(n=0|gt(o<<2))||k(22807,22646,317,22826),(t=0|gt(o<<5))||k(22848,22646,321,22826),a[e>>2]=0,a[(C=e+4|0)>>2]=0,a[c>>2]=0,o=0,D=0,S=0,v=0;e:for(;;){if(m=0|a[s>>2]){l=0,d=m;do{if(h=+i[d+8>>3],r=d,d=0|a[d+16>>2],p=+i[(c=(f=0==(0|d))?m:d)+8>>3],+u(+(h-p))>3.141592653589793){P=14;break}l+=(p-h)*(+i[r>>3]+ +i[c>>3])}while(!f);if(14==(0|P)){P=0,l=0,r=m;do{E=+i[r+8>>3],M=0|a[(N=r+16|0)>>2],O=+i[(M=0==(0|M)?m:M)+8>>3],l+=(+i[r>>3]+ +i[M>>3])*((O<0?O+6.283185307179586:O)-(E<0?E+6.283185307179586:E)),r=0|a[(0==(0|r)?s:N)>>2]}while(0!=(0|r))}l>0?(a[n+(D<<2)>>2]=s,D=D+1|0,c=S,r=v):P=19}else P=19;if(19==(0|P)){P=0;do{if(!o){if(v){c=C,d=v+8|0,r=s,o=e;break}if(0|a[e>>2]){P=27;break e}c=C,d=e,r=s,o=e;break}if(0|a[(r=o+8|0)>>2]){P=21;break e}if(!(o=0|yt(1,12))){P=23;break e}a[r>>2]=o,c=o+4|0,d=o,r=v}while(0);if(a[d>>2]=s,a[c>>2]=s,d=t+(S<<5)|0,f=0|a[s>>2]){for(i[(m=t+(S<<5)+8|0)>>3]=1.7976931348623157e308,i[(v=t+(S<<5)+24|0)>>3]=1.7976931348623157e308,i[d>>3]=-1.7976931348623157e308,i[(g=t+(S<<5)+16|0)>>3]=-1.7976931348623157e308,w=1.7976931348623157e308,_=-1.7976931348623157e308,c=0,A=f,h=1.7976931348623157e308,b=1.7976931348623157e308,x=-1.7976931348623157e308,p=-1.7976931348623157e308;l=+i[A>>3],E=+i[A+8>>3],A=0|a[A+16>>2],O=+i[((y=0==(0|A))?f:A)+8>>3],l<h&&(i[m>>3]=l,h=l),E<b&&(i[v>>3]=E,b=E),l>x?i[d>>3]=l:l=x,E>p&&(i[g>>3]=E,p=E),w=E>0&E<w?E:w,_=E<0&E>_?E:_,c|=+u(+(E-O))>3.141592653589793,!y;)x=l;c&&(i[g>>3]=_,i[v>>3]=w)}else a[d>>2]=0,a[d+4>>2]=0,a[d+8>>2]=0,a[d+12>>2]=0,a[d+16>>2]=0,a[d+20>>2]=0,a[d+24>>2]=0,a[d+28>>2]=0;c=S+1|0}if(s=0|a[(N=s+8|0)>>2],a[N>>2]=0,!s){P=45;break}S=c,v=r}if(21==(0|P))k(22624,22646,35,22658);else if(23==(0|P))k(22678,22646,37,22658);else if(27==(0|P))k(22721,22646,61,22744);else if(45==(0|P)){e:do{if((0|D)>0){for(N=0==(0|c),j=c<<2,M=0==(0|e),I=0,r=0;;){if(T=0|a[n+(I<<2)>>2],N)P=73;else{if(!(S=0|gt(j))){P=50;break}if(!(C=0|gt(j))){P=52;break}t:do{if(M)o=0;else{for(c=0,o=0,d=e;s=t+(c<<5)|0,0|Ze(0|a[d>>2],s,0|a[T>>2])?(a[S+(o<<2)>>2]=d,a[C+(o<<2)>>2]=s,y=o+1|0):y=o,d=0|a[d+8>>2];)c=c+1|0,o=y;if((0|y)>0)if(s=0|a[S>>2],1==(0|y))o=s;else for(g=0,A=-1,o=s,v=s;;){for(f=0|a[v>>2],s=0,d=0;m=(0|(c=0|a[a[S+(d<<2)>>2]>>2]))==(0|f)?s:s+(1&(0|Ze(c,0|a[C+(d<<2)>>2],0|a[f>>2])))|0,(0|(d=d+1|0))!=(0|y);)s=m;if(o=(c=(0|m)>(0|A))?v:o,(0|(s=g+1|0))==(0|y))break t;g=s,A=c?m:A,v=0|a[S+(s<<2)>>2]}else o=0}}while(0);if(At(S),At(C),o){if(s=0|a[(c=o+4|0)>>2])o=s+8|0;else if(0|a[o>>2]){P=70;break}a[o>>2]=T,a[c>>2]=T}else P=73}if(73==(0|P)){if(P=0,0|(r=0|a[T>>2]))do{C=r,r=0|a[r+16>>2],At(C)}while(0!=(0|r));At(T),r=2}if((0|(I=I+1|0))>=(0|D)){R=r;break e}}50==(0|P)?k(22863,22646,249,22882):52==(0|P)?k(22901,22646,252,22882):70==(0|P)&&k(22721,22646,61,22744)}else R=0}while(0);return At(n),At(t),0|(P=R)}return 0}function Ze(e,t,n){e|=0;var r,o=0,s=0,u=0,c=0,l=0,d=0,p=0;if(!(0|G(t|=0,n|=0)))return 0|(e=0);if(t=0|W(t),r=+i[n>>3],o=t&(o=+i[n+8>>3])<0?o+6.283185307179586:o,!(e=0|a[e>>2]))return 0|(e=0);if(t){t=0,n=e;e:for(;;){for(;c=+i[n>>3],d=+i[n+8>>3],p=0|a[(n=n+16|0)>>2],u=+i[(p=0==(0|p)?e:p)>>3],s=+i[p+8>>3],c>u?(l=c,c=d):(l=u,u=c,c=s,s=d),r<u|r>l;)if(!(n=0|a[n>>2])){n=22;break e}if(o=(c=c<0?c+6.283185307179586:c)==o|(d=s<0?s+6.283185307179586:s)==o?o+-2.220446049250313e-16:o,((d+=(r-u)/(l-u)*(c-d))<0?d+6.283185307179586:d)>o&&(t^=1),!(n=0|a[n>>2])){n=22;break}}if(22==(0|n))return 0|t}else{t=0,n=e;e:for(;;){for(;c=+i[n>>3],d=+i[n+8>>3],p=0|a[(n=n+16|0)>>2],u=+i[(p=0==(0|p)?e:p)>>3],s=+i[p+8>>3],c>u?(l=c,c=d):(l=u,u=c,c=s,s=d),r<u|r>l;)if(!(n=0|a[n>>2])){n=22;break e}if(s+(r-u)/(l-u)*(c-s)>(o=c==o|s==o?o+-2.220446049250313e-16:o)&&(t^=1),!(n=0|a[n>>2])){n=22;break}}if(22==(0|n))return 0|t}return 0}function Je(e,t,n,i,o){n|=0,i|=0,o|=0;var s,u,c,l,d=0,p=0,h=0,f=0,m=0,v=0,g=0,A=0,y=0,b=0;if(l=I,I=I+32|0,b=l+16|0,c=l,d=0|kt(0|(e|=0),0|(t|=0),52),_(),d&=15,g=0|kt(0|n,0|i,52),_(),(0|d)!=(15&g|0))return I=l,0|(b=1);if(m=0|kt(0|e,0|t,45),_(),m&=127,v=0|kt(0|n,0|i,45),_(),g=(0|m)!=(0|(v&=127))){if(7==(0|(h=0|V(m,v))))return I=l,0|(b=2);7==(0|(f=0|V(v,m)))?k(22925,22949,151,22959):(A=h,p=f)}else A=0,p=0;s=0|P(m),u=0|P(v),a[b>>2]=0,a[b+4>>2]=0,a[b+8>>2]=0,a[b+12>>2]=0;do{if(A){if(h=(0|(v=0|a[4304+(28*m|0)+(A<<2)>>2]))>0,u)if(h){m=0,f=n,h=i;do{f=0|Fe(f,h),h=0|_(),1==(0|(p=0|ce(p)))&&(p=0|ce(1)),m=m+1|0}while((0|m)!=(0|v));v=p,m=f,f=h}else v=p,m=n,f=i;else if(h){m=0,f=n,h=i;do{f=0|Be(f,h),h=0|_(),p=0|ce(p),m=m+1|0}while((0|m)!=(0|v));v=p,m=f,f=h}else v=p,m=n,f=i;if(Ve(m,f,b),g||k(22972,22949,181,22959),(h=0!=(0|s))&(p=0!=(0|u))&&k(22999,22949,182,22959),h){if(p=0|Re(e,t),0|r[22032+(7*p|0)+A>>0]){d=3;break}m=f=0|a[21200+(28*p|0)+(A<<2)>>2],y=26}else if(p){if(p=0|Re(m,f),0|r[22032+(7*p|0)+v>>0]){d=4;break}m=0,f=0|a[21200+(28*v|0)+(p<<2)>>2],y=26}else p=0;if(26==(0|y))if((0|f)<=-1&&k(23030,22949,212,22959),(0|m)<=-1&&k(23053,22949,213,22959),(0|f)>0){h=b+4|0,p=0;do{se(h),p=p+1|0}while((0|p)!=(0|f));p=m}else p=m;if(a[c>>2]=0,a[c+4>>2]=0,a[c+8>>2]=0,ie(c,A),0|d)for(;0|ze(d)?re(c):ae(c),(0|d)>1;)d=d+-1|0;if((0|p)>0){d=0;do{se(c),d=d+1|0}while((0|d)!=(0|p))}$(y=b+4|0,c,y),Q(y),y=50}else if(Ve(n,i,b),0!=(0|s)&0!=(0|u))if((0|v)!=(0|m)&&k(23077,22949,243,22959),p=0|Re(e,t),d=0|Re(n,i),0|r[22032+(7*p|0)+d>>0])d=5;else if((0|(p=0|a[21200+(28*p|0)+(d<<2)>>2]))>0){h=b+4|0,d=0;do{se(h),d=d+1|0}while((0|d)!=(0|p));y=50}else y=50;else y=50}while(0);return 50==(0|y)&&(d=b+4|0,a[o>>2]=a[d>>2],a[o+4>>2]=a[d+4>>2],a[o+8>>2]=a[d+8>>2],d=0),I=l,0|(b=d)}function et(e,t,n,r){n|=0,r|=0;var i,o,s=0,u=0,c=0,l=0,d=0,p=0,h=0,f=0,m=0,v=0,g=0,A=0,y=0;if(o=I,I=I+48|0,c=o+36|0,l=o+24|0,d=o+12|0,p=o,u=0|kt(0|(e|=0),0|(t|=0),52),_(),u&=15,f=0|kt(0|e,0|t,45),_(),i=0|P(f&=127),Ot(0|u,0,52),g=134225919|_(),a[(v=r)>>2]=-1,a[v+4>>2]=g,!u)return(0|a[n>>2])>1?(I=o,0|(g=1)):(0|a[n+4>>2])>1?(I=o,0|(g=1)):(0|a[n+8>>2])>1?(I=o,0|(g=1)):127==(0|(s=0|U(f,0|ee(n))))?(I=o,0|(g=1)):(m=0|Ot(0|s,0,45),v=0|_(),v=-1040385&a[(f=r)+4>>2]|v,a[(g=r)>>2]=a[f>>2]|m,a[g+4>>2]=v,I=o,0|(g=0));for(a[c>>2]=a[n>>2],a[c+4>>2]=a[n+4>>2],a[c+8>>2]=a[n+8>>2];a[l>>2]=a[c>>2],a[l+4>>2]=a[c+4>>2],a[l+8>>2]=a[c+8>>2],0|ze(u)?(te(c),a[d>>2]=a[c>>2],a[d+4>>2]=a[c+4>>2],a[d+8>>2]=a[c+8>>2],re(d)):(ne(c),a[d>>2]=a[c>>2],a[d+4>>2]=a[c+4>>2],a[d+8>>2]=a[c+8>>2],ae(d)),Z(l,d,p),Q(p),A=0|a[(v=r)>>2],v=0|a[v+4>>2],n=0|Ot(7,0,0|(y=3*(15-u|0)|0)),v&=~(0|_()),y=0|Ot(0|ee(p),0,0|y),v=0|_()|v,a[(g=r)>>2]=y|A&~n,a[g+4>>2]=v,(0|u)>1;)u=u+-1|0;e:do{if((0|a[c>>2])<=1&&(0|a[c+4>>2])<=1&&(0|a[c+8>>2])<=1){p=127==(0|(l=0|U(f,u=0|ee(c))))?0:0|P(l);t:do{if(u){if(i){if(c=21408+(28*(0|Re(e,t))|0)+(u<<2)|0,(0|(c=0|a[c>>2]))>0){n=0;do{u=0|ue(u),n=n+1|0}while((0|n)!=(0|c))}if(1==(0|u)){s=3;break e}127==(0|(n=0|U(f,u)))&&k(23104,22949,376,23134),0|P(n)?k(23147,22949,377,23134):(m=c,h=u,s=n)}else m=0,h=u,s=l;if((0|(d=0|a[4304+(28*f|0)+(h<<2)>>2]))<=-1&&k(23178,22949,384,23134),!p){if((0|m)<=-1&&k(23030,22949,417,23134),0|m){u=0,n=0|a[(c=r)>>2],c=0|a[c+4>>2];do{n=0|Le(n,c),c=0|_(),a[(y=r)>>2]=n,a[y+4>>2]=c,u=u+1|0}while((0|u)<(0|m))}if((0|d)<=0){u=54;break}for(u=0,n=0|a[(c=r)>>2],c=0|a[c+4>>2];;)if(n=0|Le(n,c),c=0|_(),a[(y=r)>>2]=n,a[y+4>>2]=c,(0|(u=u+1|0))==(0|d)){u=54;break t}}if(7==(0|(l=0|V(s,f)))&&k(22925,22949,393,23134),n=0|a[(u=r)>>2],u=0|a[u+4>>2],(0|d)>0){c=0;do{n=0|Le(n,u),u=0|_(),a[(y=r)>>2]=n,a[y+4>>2]=u,c=c+1|0}while((0|c)!=(0|d))}if(n=0|Re(n,u),y=0|L(s),(0|(n=0|a[(y?21824:21616)+(28*l|0)+(n<<2)>>2]))<=-1&&k(23030,22949,412,23134),n){u=0,c=0|a[(l=r)>>2],l=0|a[l+4>>2];do{c=0|Pe(c,l),l=0|_(),a[(y=r)>>2]=c,a[y+4>>2]=l,u=u+1|0}while((0|u)<(0|n));u=54}else u=54}else if(0!=(0|i)&0!=(0|p))if(u=21408+(28*(y=0|Re(e,t))|0)+((0|Re(0|a[(u=r)>>2],0|a[u+4>>2]))<<2)|0,(0|(u=0|a[u>>2]))<=-1&&k(23201,22949,433,23134),u){s=0,n=0|a[(c=r)>>2],c=0|a[c+4>>2];do{n=0|Le(n,c),c=0|_(),a[(y=r)>>2]=n,a[y+4>>2]=c,s=s+1|0}while((0|s)<(0|u));s=l,u=54}else s=l,u=55;else s=l,u=54}while(0);if(54==(0|u)&&p&&(u=55),55==(0|u)&&1==(0|Re(0|a[(y=r)>>2],0|a[y+4>>2]))){s=4;break}g=0|a[(y=r)>>2],y=-1040385&a[y+4>>2],A=0|Ot(0|s,0,45),y=0|y|_(),a[(s=r)>>2]=g|A,a[s+4>>2]=y,s=0}else s=2}while(0);return I=o,0|(y=s)}function tt(e,t){var n=0;if(!(t|=0))return 0|(n=1);n=e|=0,e=1;do{e=0|y(0==(1&t|0)?1:n,e),t>>=1,n=0|y(n,n)}while(0!=(0|t));return 0|e}function nt(e,t,n){e|=0;var r,o,s=0,u=0,c=0,l=0,d=0,p=0,h=0,f=0;if(!(0|G(t|=0,n|=0)))return 0|(f=0);if(t=0|W(t),o=+i[n>>3],s=t&(s=+i[n+8>>3])<0?s+6.283185307179586:s,(0|(f=0|a[e>>2]))<=0)return 0|(f=0);if(r=0|a[e+4>>2],t){t=0,n=-1,e=0;e:for(;;){for(h=e;l=+i[r+(h<<4)>>3],p=+i[r+(h<<4)+8>>3],c=+i[r+((e=(n+2|0)%(0|f)|0)<<4)>>3],u=+i[r+(e<<4)+8>>3],l>c?(d=l,l=p):(d=c,c=l,l=u,u=p),o<c|o>d;){if(!((0|(n=h+1|0))<(0|f))){n=22;break e}e=h,h=n,n=e}if(s=(l=l<0?l+6.283185307179586:l)==s|(p=u<0?u+6.283185307179586:u)==s?s+-2.220446049250313e-16:s,((p+=(o-c)/(d-c)*(l-p))<0?p+6.283185307179586:p)>s&&(t^=1),(0|(e=h+1|0))>=(0|f)){n=22;break}n=h}if(22==(0|n))return 0|t}else{t=0,n=-1,e=0;e:for(;;){for(h=e;l=+i[r+(h<<4)>>3],p=+i[r+(h<<4)+8>>3],c=+i[r+((e=(n+2|0)%(0|f)|0)<<4)>>3],u=+i[r+(e<<4)+8>>3],l>c?(d=l,l=p):(d=c,c=l,l=u,u=p),o<c|o>d;){if(!((0|(n=h+1|0))<(0|f))){n=22;break e}e=h,h=n,n=e}if(u+(o-c)/(d-c)*(l-u)>(s=l==s|u==s?s+-2.220446049250313e-16:s)&&(t^=1),(0|(e=h+1|0))>=(0|f)){n=22;break}n=h}if(22==(0|n))return 0|t}return 0}function rt(e,t){t|=0;var n,r,o,s,c,l=0,d=0,p=0,h=0,f=0,m=0,v=0,g=0,A=0,y=0,b=0,x=0;if(!(r=0|a[(e|=0)>>2]))return a[t>>2]=0,a[t+4>>2]=0,a[t+8>>2]=0,a[t+12>>2]=0,a[t+16>>2]=0,a[t+20>>2]=0,a[t+24>>2]=0,void(a[t+28>>2]=0);if(i[(o=t+8|0)>>3]=1.7976931348623157e308,i[(s=t+24|0)>>3]=1.7976931348623157e308,i[t>>3]=-1.7976931348623157e308,i[(c=t+16|0)>>3]=-1.7976931348623157e308,!((0|r)<=0)){for(n=0|a[e+4>>2],g=1.7976931348623157e308,A=-1.7976931348623157e308,y=0,e=-1,h=1.7976931348623157e308,f=1.7976931348623157e308,v=-1.7976931348623157e308,d=-1.7976931348623157e308,b=0;l=+i[n+(b<<4)>>3],m=+i[n+(b<<4)+8>>3],p=+i[n+(((0|(e=e+2|0))==(0|r)?0:e)<<4)+8>>3],l<h&&(i[o>>3]=l,h=l),m<f&&(i[s>>3]=m,f=m),l>v?i[t>>3]=l:l=v,m>d&&(i[c>>3]=m,d=m),g=m>0&m<g?m:g,A=m<0&m>A?m:A,y|=+u(+(m-p))>3.141592653589793,(0|(e=b+1|0))!=(0|r);)x=b,v=l,b=e,e=x;y&&(i[c>>3]=A,i[s>>3]=g)}}function at(e,t){t|=0;var n,r=0,o=0,s=0,c=0,l=0,d=0,p=0,h=0,f=0,m=0,v=0,g=0,A=0,y=0,b=0,x=0,w=0,_=0,k=0,O=0,E=0;if(A=0|a[(e|=0)>>2]){if(i[(y=t+8|0)>>3]=1.7976931348623157e308,i[(b=t+24|0)>>3]=1.7976931348623157e308,i[t>>3]=-1.7976931348623157e308,i[(x=t+16|0)>>3]=-1.7976931348623157e308,(0|A)>0){for(s=0|a[e+4>>2],v=1.7976931348623157e308,g=-1.7976931348623157e308,o=0,r=-1,p=1.7976931348623157e308,h=1.7976931348623157e308,m=-1.7976931348623157e308,l=-1.7976931348623157e308,w=0;c=+i[s+(w<<4)>>3],f=+i[s+(w<<4)+8>>3],d=+i[s+(((0|(O=r+2|0))==(0|A)?0:O)<<4)+8>>3],c<p&&(i[y>>3]=c,p=c),f<h&&(i[b>>3]=f,h=f),c>m?i[t>>3]=c:c=m,f>l&&(i[x>>3]=f,l=f),v=f>0&f<v?f:v,g=f<0&f>g?f:g,o|=+u(+(f-d))>3.141592653589793,(0|(r=w+1|0))!=(0|A);)O=w,m=c,w=r,r=O;o&&(i[x>>3]=g,i[b>>3]=v)}}else a[t>>2]=0,a[t+4>>2]=0,a[t+8>>2]=0,a[t+12>>2]=0,a[t+16>>2]=0,a[t+20>>2]=0,a[t+24>>2]=0,a[t+28>>2]=0;if(!((0|(r=0|a[(O=e+8|0)>>2]))<=0)){n=e+12|0,k=0;do{if(s=0|a[n>>2],o=k,b=t+((k=k+1|0)<<5)|0,x=0|a[s+(o<<3)>>2]){if(i[(w=t+(k<<5)+8|0)>>3]=1.7976931348623157e308,i[(e=t+(k<<5)+24|0)>>3]=1.7976931348623157e308,i[b>>3]=-1.7976931348623157e308,i[(_=t+(k<<5)+16|0)>>3]=-1.7976931348623157e308,(0|x)>0){for(A=0|a[s+(o<<3)+4>>2],v=1.7976931348623157e308,g=-1.7976931348623157e308,s=0,o=-1,y=0,p=1.7976931348623157e308,h=1.7976931348623157e308,f=-1.7976931348623157e308,l=-1.7976931348623157e308;c=+i[A+(y<<4)>>3],m=+i[A+(y<<4)+8>>3],d=+i[A+(((0|(o=o+2|0))==(0|x)?0:o)<<4)+8>>3],c<p&&(i[w>>3]=c,p=c),m<h&&(i[e>>3]=m,h=m),c>f?i[b>>3]=c:c=f,m>l&&(i[_>>3]=m,l=m),v=m>0&m<v?m:v,g=m<0&m>g?m:g,s|=+u(+(m-d))>3.141592653589793,(0|(o=y+1|0))!=(0|x);)E=y,y=o,f=c,o=E;s&&(i[_>>3]=g,i[e>>3]=v)}}else a[b>>2]=0,a[b+4>>2]=0,a[b+8>>2]=0,a[b+12>>2]=0,a[b+16>>2]=0,a[b+20>>2]=0,a[b+24>>2]=0,a[b+28>>2]=0,r=0|a[O>>2]}while((0|k)<(0|r))}}function it(e,t,n){var r=0,i=0,o=0;if(!(0|nt(e|=0,t|=0,n|=0)))return 0|(i=0);if((0|a[(i=e+8|0)>>2])<=0)return 0|(i=1);for(r=e+12|0,e=0;;){if(o=e,e=e+1|0,0|nt((0|a[r>>2])+(o<<3)|0,t+(e<<5)|0,n)){e=0,r=6;break}if((0|e)>=(0|a[i>>2])){e=1,r=6;break}}return 6==(0|r)?0|e:0}function ot(e,t,n,r,a){t|=0,n|=0,r|=0,a|=0;var o,s,u,c,l,d,p,h=0;c=+i[(e|=0)>>3],u=+i[t>>3]-c,s=+i[e+8>>3],o=+i[t+8>>3]-s,d=+i[n>>3],h=((h=+i[r>>3]-d)*(s-(p=+i[n+8>>3]))-(c-d)*(l=+i[r+8>>3]-p))/(u*l-o*h),i[a>>3]=c+u*h,i[a+8>>3]=s+o*h}function st(e,t){return t|=0,+i[(e|=0)>>3]!=+i[t>>3]?0|(t=0):0|(t=+i[e+8>>3]==+i[t+8>>3])}function ut(e,t){t|=0;var n,r,a;return+((a=+i[(e|=0)>>3]-+i[t>>3])*a+(r=+i[e+8>>3]-+i[t+8>>3])*r+(n=+i[e+16>>3]-+i[t+16>>3])*n)}function ct(e,t,n){e|=0,n|=0;var r=0;(0|(t|=0))>0?(r=0|yt(t,4),a[e>>2]=r,r||k(23230,23253,40,23267)):a[e>>2]=0,a[e+4>>2]=t,a[e+8>>2]=0,a[e+12>>2]=n}function lt(e){var t,n,r,o=0,s=0,c=0,d=0;t=(e|=0)+4|0,n=e+12|0,r=e+8|0;e:for(;;){for(s=0|a[t>>2],o=0;;){if((0|o)>=(0|s))break e;if(c=0|a[e>>2],d=0|a[c+(o<<2)>>2])break;o=o+1|0}o=c+(~~(+u(+ +l(10,+ +(15-(0|a[n>>2])|0))*(+i[d>>3]+ +i[d+8>>3]))%+(0|s))>>>0<<2)|0,s=0|a[o>>2];t:do{if(0|s){if(c=d+32|0,(0|s)==(0|d))a[o>>2]=a[c>>2];else{if(!(o=0|a[(s=s+32|0)>>2]))break;for(;(0|o)!=(0|d);)if(!(o=0|a[(s=o+32|0)>>2]))break t;a[s>>2]=a[c>>2]}At(d),a[r>>2]=(0|a[r>>2])-1}}while(0)}At(0|a[e>>2])}function dt(e){var t,n=0,r=0;for(t=0|a[(e|=0)+4>>2],r=0;;){if((0|r)>=(0|t)){n=0,r=4;break}if(n=0|a[(0|a[e>>2])+(r<<2)>>2]){r=4;break}r=r+1|0}return 4==(0|r)?0|n:0}function pt(e,t){t|=0;var n=0,r=0,o=0,s=0;if(n=~~(+u(+ +l(10,+ +(15-(0|a[(e|=0)+12>>2])|0))*(+i[t>>3]+ +i[t+8>>3]))%+(0|a[e+4>>2]))>>>0,n=(0|a[e>>2])+(n<<2)|0,!(r=0|a[n>>2]))return 0|(s=1);s=t+32|0;do{if((0|r)!=(0|t)){if(!(n=0|a[r+32>>2]))return 0|(s=1);for(o=n;;){if((0|o)==(0|t)){o=8;break}if(!(n=0|a[o+32>>2])){n=1,o=10;break}r=o,o=n}if(8==(0|o)){a[r+32>>2]=a[s>>2];break}if(10==(0|o))return 0|n}else a[n>>2]=a[s>>2]}while(0);return At(t),a[(s=e+8|0)>>2]=(0|a[s>>2])-1,0|(s=0)}function ht(e,t,n){e|=0,t|=0,n|=0;var r,o=0,s=0,c=0;(r=0|gt(40))||k(23283,23253,98,23296),a[r>>2]=a[t>>2],a[r+4>>2]=a[t+4>>2],a[r+8>>2]=a[t+8>>2],a[r+12>>2]=a[t+12>>2],a[(s=r+16|0)>>2]=a[n>>2],a[s+4>>2]=a[n+4>>2],a[s+8>>2]=a[n+8>>2],a[s+12>>2]=a[n+12>>2],a[r+32>>2]=0,s=~~(+u(+ +l(10,+ +(15-(0|a[e+12>>2])|0))*(+i[t>>3]+ +i[t+8>>3]))%+(0|a[e+4>>2]))>>>0,s=(0|a[e>>2])+(s<<2)|0,o=0|a[s>>2];do{if(o){for(;!(0|Se(o,t)&&0|Se(o+16|0,n));)if(s=0|a[o+32>>2],!(0|a[(o=0==(0|s)?o:s)+32>>2])){c=10;break}if(10==(0|c)){a[o+32>>2]=r;break}return At(r),0|(c=o)}a[s>>2]=r}while(0);return a[(c=e+8|0)>>2]=1+(0|a[c>>2]),0|(c=r)}function ft(e,t,n){t|=0,n|=0;var r=0,o=0;if(o=~~(+u(+ +l(10,+ +(15-(0|a[(e|=0)+12>>2])|0))*(+i[t>>3]+ +i[t+8>>3]))%+(0|a[e+4>>2]))>>>0,!(o=0|a[(0|a[e>>2])+(o<<2)>>2]))return 0|(n=0);if(!n){for(e=o;;){if(0|Se(e,t)){r=10;break}if(!(e=0|a[e+32>>2])){e=0,r=10;break}}if(10==(0|r))return 0|e}for(e=o;;){if(0|Se(e,t)&&0|Se(e+16|0,n)){r=10;break}if(!(e=0|a[e+32>>2])){e=0,r=10;break}}return 10==(0|r)?0|e:0}function mt(e,t){t|=0;var n=0;if(n=~~(+u(+ +l(10,+ +(15-(0|a[(e|=0)+12>>2])|0))*(+i[t>>3]+ +i[t+8>>3]))%+(0|a[e+4>>2]))>>>0,!(e=0|a[(0|a[e>>2])+(n<<2)>>2]))return 0|(n=0);for(;;){if(0|Se(e,t)){t=5;break}if(!(e=0|a[e+32>>2])){e=0,t=5;break}}return 5==(0|t)?0|e:0}function vt(e){return 0|~~+function(e){return+ +It(+(e=+e))}(e=+e)}function gt(e){e|=0;var t,n=0,r=0,i=0,o=0,s=0,u=0,c=0,l=0,d=0,p=0,h=0,f=0,m=0,v=0,g=0,A=0,y=0,b=0,x=0,w=0;t=I,I=I+16|0,f=t;do{if(e>>>0<245){if(e=(d=e>>>0<11?16:e+11&-8)>>>3,3&(r=(h=0|a[5829])>>>e)|0)return i=0|a[(r=(e=23356+((n=(1&r^1)+e|0)<<1<<2)|0)+8|0)>>2],(0|(s=0|a[(o=i+8|0)>>2]))==(0|e)?a[5829]=h&~(1<<n):(a[s+12>>2]=e,a[r>>2]=s),w=n<<3,a[i+4>>2]=3|w,a[(w=i+w+4|0)>>2]=1|a[w>>2],I=t,0|(w=o);if(d>>>0>(p=0|a[5831])>>>0){if(0|r)return n=((n=r<<e&((n=2<<e)|0-n))&0-n)-1|0,s=0|a[(e=(n=23356+((i=((r=(n>>>=c=n>>>12&16)>>>5&8)|c|(s=(n>>>=r)>>>2&4)|(e=(n>>>=s)>>>1&2)|(i=(n>>>=e)>>>1&1))+(n>>>i)|0)<<1<<2)|0)+8|0)>>2],(0|(r=0|a[(c=s+8|0)>>2]))==(0|n)?(e=h&~(1<<i),a[5829]=e):(a[r+12>>2]=n,a[e>>2]=r,e=h),u=(w=i<<3)-d|0,a[s+4>>2]=3|d,a[(o=s+d|0)+4>>2]=1|u,a[s+w>>2]=u,0|p&&(i=0|a[5834],r=23356+((n=p>>>3)<<1<<2)|0,e&(n=1<<n)?n=0|a[(e=r+8|0)>>2]:(a[5829]=e|n,n=r,e=r+8|0),a[e>>2]=i,a[n+12>>2]=i,a[i+8>>2]=n,a[i+12>>2]=r),a[5831]=u,a[5834]=o,I=t,0|(w=c);if(s=0|a[5830]){for(r=(s&0-s)-1|0,r=l=0|a[23620+(((i=(r>>>=o=r>>>12&16)>>>5&8)|o|(u=(r>>>=i)>>>2&4)|(c=(r>>>=u)>>>1&2)|(l=(r>>>=c)>>>1&1))+(r>>>l)<<2)>>2],c=l,l=(-8&a[l+4>>2])-d|0;(e=0|a[r+16>>2])||(e=0|a[r+20>>2]);)r=e,c=(o=(u=(-8&a[e+4>>2])-d|0)>>>0<l>>>0)?e:c,l=o?u:l;if((u=c+d|0)>>>0>c>>>0){o=0|a[c+24>>2],n=0|a[c+12>>2];do{if((0|n)==(0|c)){if(!(n=0|a[(e=c+20|0)>>2])&&!(n=0|a[(e=c+16|0)>>2])){r=0;break}for(;;)if(r=0|a[(i=n+20|0)>>2])n=r,e=i;else{if(!(r=0|a[(i=n+16|0)>>2]))break;n=r,e=i}a[e>>2]=0,r=n}else r=0|a[c+8>>2],a[r+12>>2]=n,a[n+8>>2]=r,r=n}while(0);do{if(0|o){if(n=0|a[c+28>>2],(0|c)==(0|a[(e=23620+(n<<2)|0)>>2])){if(a[e>>2]=r,!r){a[5830]=s&~(1<<n);break}}else if(a[((0|a[(w=o+16|0)>>2])==(0|c)?w:o+20|0)>>2]=r,!r)break;a[r+24>>2]=o,0|(n=0|a[c+16>>2])&&(a[r+16>>2]=n,a[n+24>>2]=r),0|(n=0|a[c+20>>2])&&(a[r+20>>2]=n,a[n+24>>2]=r)}}while(0);return l>>>0<16?(w=l+d|0,a[c+4>>2]=3|w,a[(w=c+w+4|0)>>2]=1|a[w>>2]):(a[c+4>>2]=3|d,a[u+4>>2]=1|l,a[u+l>>2]=l,0|p&&(i=0|a[5834],r=23356+((n=p>>>3)<<1<<2)|0,(n=1<<n)&h?n=0|a[(e=r+8|0)>>2]:(a[5829]=n|h,n=r,e=r+8|0),a[e>>2]=i,a[n+12>>2]=i,a[i+8>>2]=n,a[i+12>>2]=r),a[5831]=l,a[5834]=u),I=t,0|(w=c+8|0)}h=d}else h=d}else h=d}else if(e>>>0<=4294967231)if(d=-8&(e=e+11|0),i=0|a[5830]){o=0-d|0,l=(e>>>=8)?d>>>0>16777215?31:d>>>((l=14-((c=((g=e<<(h=(e+1048320|0)>>>16&8))+520192|0)>>>16&4)|h|(l=((g<<=c)+245760|0)>>>16&2))+(g<<l>>>15)|0)+7|0)&1|l<<1:0,r=0|a[23620+(l<<2)>>2];e:do{if(r)for(e=0,c=d<<(31==(0|l)?0:25-(l>>>1)|0),s=0;;){if((u=(-8&a[r+4>>2])-d|0)>>>0<o>>>0){if(!u){e=r,o=0,g=65;break e}e=r,o=u}if(s=0==(0|(g=0|a[r+20>>2]))|(0|g)==(0|(r=0|a[r+16+(c>>>31<<2)>>2]))?s:g,!r){r=s,g=61;break}c<<=1}else r=0,e=0,g=61}while(0);if(61==(0|g)){if(0==(0|r)&0==(0|e)){if(!(e=((e=2<<l)|0-e)&i)){h=d;break}h=(e&0-e)-1|0,e=0,r=0|a[23620+(((s=(h>>>=u=h>>>12&16)>>>5&8)|u|(c=(h>>>=s)>>>2&4)|(l=(h>>>=c)>>>1&2)|(r=(h>>>=l)>>>1&1))+(h>>>r)<<2)>>2]}r?g=65:(c=e,u=o)}if(65==(0|g))for(s=r;;){if(o=(r=(h=(-8&a[s+4>>2])-d|0)>>>0<o>>>0)?h:o,e=r?s:e,(r=0|a[s+16>>2])||(r=0|a[s+20>>2]),!r){c=e,u=o;break}s=r}if(0!=(0|c)&&u>>>0<((0|a[5831])-d|0)>>>0&&(p=c+d|0)>>>0>c>>>0){s=0|a[c+24>>2],n=0|a[c+12>>2];do{if((0|n)==(0|c)){if(!(n=0|a[(e=c+20|0)>>2])&&!(n=0|a[(e=c+16|0)>>2])){n=0;break}for(;;)if(r=0|a[(o=n+20|0)>>2])n=r,e=o;else{if(!(r=0|a[(o=n+16|0)>>2]))break;n=r,e=o}a[e>>2]=0}else w=0|a[c+8>>2],a[w+12>>2]=n,a[n+8>>2]=w}while(0);do{if(s){if(e=0|a[c+28>>2],(0|c)==(0|a[(r=23620+(e<<2)|0)>>2])){if(a[r>>2]=n,!n){i&=~(1<<e),a[5830]=i;break}}else if(a[((0|a[(w=s+16|0)>>2])==(0|c)?w:s+20|0)>>2]=n,!n)break;a[n+24>>2]=s,0|(e=0|a[c+16>>2])&&(a[n+16>>2]=e,a[e+24>>2]=n),(e=0|a[c+20>>2])&&(a[n+20>>2]=e,a[e+24>>2]=n)}}while(0);e:do{if(u>>>0<16)w=u+d|0,a[c+4>>2]=3|w,a[(w=c+w+4|0)>>2]=1|a[w>>2];else{if(a[c+4>>2]=3|d,a[p+4>>2]=1|u,a[p+u>>2]=u,n=u>>>3,u>>>0<256){r=23356+(n<<1<<2)|0,(e=0|a[5829])&(n=1<<n)?n=0|a[(e=r+8|0)>>2]:(a[5829]=e|n,n=r,e=r+8|0),a[e>>2]=p,a[n+12>>2]=p,a[p+8>>2]=n,a[p+12>>2]=r;break}if(n=23620+((r=(n=u>>>8)?u>>>0>16777215?31:u>>>((r=14-((b=((w=n<<(x=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|x|(r=((w<<=b)+245760|0)>>>16&2))+(w<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,a[p+28>>2]=r,a[(e=p+16|0)+4>>2]=0,a[e>>2]=0,!(i&(e=1<<r))){a[5830]=i|e,a[n>>2]=p,a[p+24>>2]=n,a[p+12>>2]=p,a[p+8>>2]=p;break}n=0|a[n>>2];t:do{if((-8&a[n+4>>2]|0)!=(0|u)){for(i=u<<(31==(0|r)?0:25-(r>>>1)|0);e=0|a[(r=n+16+(i>>>31<<2)|0)>>2];){if((-8&a[e+4>>2]|0)==(0|u)){n=e;break t}i<<=1,n=e}a[r>>2]=p,a[p+24>>2]=n,a[p+12>>2]=p,a[p+8>>2]=p;break e}}while(0);w=0|a[(x=n+8|0)>>2],a[w+12>>2]=p,a[x>>2]=p,a[p+8>>2]=w,a[p+12>>2]=n,a[p+24>>2]=0}}while(0);return I=t,0|(w=c+8|0)}h=d}else h=d;else h=-1}while(0);if((r=0|a[5831])>>>0>=h>>>0)return n=r-h|0,e=0|a[5834],n>>>0>15?(w=e+h|0,a[5834]=w,a[5831]=n,a[w+4>>2]=1|n,a[e+r>>2]=n,a[e+4>>2]=3|h):(a[5831]=0,a[5834]=0,a[e+4>>2]=3|r,a[(w=e+r+4|0)>>2]=1|a[w>>2]),I=t,0|(w=e+8|0);if((u=0|a[5832])>>>0>h>>>0)return b=u-h|0,a[5832]=b,x=(w=0|a[5835])+h|0,a[5835]=x,a[x+4>>2]=1|b,a[w+4>>2]=3|h,I=t,0|(w=w+8|0);if(0|a[5947]?e=0|a[5949]:(a[5949]=4096,a[5948]=4096,a[5950]=-1,a[5951]=-1,a[5952]=0,a[5940]=0,a[5947]=-16&f^1431655768,e=4096),c=h+48|0,(d=(s=e+(l=h+47|0)|0)&(o=0-e|0))>>>0<=h>>>0)return I=t,0|(w=0);if(0|(e=0|a[5939])&&(f=(p=0|a[5937])+d|0)>>>0<=p>>>0|f>>>0>e>>>0)return I=t,0|(w=0);e:do{if(4&a[5940])n=0,g=143;else{r=0|a[5835];t:do{if(r){for(i=23764;!((f=0|a[i>>2])>>>0<=r>>>0&&(f+(0|a[i+4>>2])|0)>>>0>r>>>0);){if(!(e=0|a[i+8>>2])){g=128;break t}i=e}if((n=s-u&o)>>>0<2147483647)if((0|(e=0|jt(0|n)))==((0|a[i>>2])+(0|a[i+4>>2])|0)){if(-1!=(0|e)){u=n,s=e,g=145;break e}}else i=e,g=136;else n=0}else g=128}while(0);do{if(128==(0|g))if(-1!=(0|(r=0|jt(0)))&&(n=r,v=(n=(0==((v=(m=0|a[5948])+-1|0)&n|0)?0:(v+n&0-m)-n|0)+d|0)+(m=0|a[5937])|0,n>>>0>h>>>0&n>>>0<2147483647)){if(0|(f=0|a[5939])&&v>>>0<=m>>>0|v>>>0>f>>>0){n=0;break}if((0|(e=0|jt(0|n)))==(0|r)){u=n,s=r,g=145;break e}i=e,g=136}else n=0}while(0);do{if(136==(0|g)){if(r=0-n|0,!(c>>>0>n>>>0&n>>>0<2147483647&-1!=(0|i))){if(-1==(0|i)){n=0;break}u=n,s=i,g=145;break e}if((e=l-n+(e=0|a[5949])&0-e)>>>0>=2147483647){u=n,s=i,g=145;break e}if(-1==(0|jt(0|e))){jt(0|r),n=0;break}u=e+n|0,s=i,g=145;break e}}while(0);a[5940]=4|a[5940],g=143}}while(0);if(143==(0|g)&&d>>>0<2147483647&&!(-1==(0|(b=0|jt(0|d)))|1^(y=(A=(v=0|jt(0))-b|0)>>>0>(h+40|0)>>>0)|b>>>0<v>>>0&-1!=(0|b)&-1!=(0|v)^1)&&(u=y?A:n,s=b,g=145),145==(0|g)){n=(0|a[5937])+u|0,a[5937]=n,n>>>0>(0|a[5938])>>>0&&(a[5938]=n),l=0|a[5835];e:do{if(l){for(n=23764;;){if((0|s)==((e=0|a[n>>2])+(r=0|a[n+4>>2])|0)){g=154;break}if(!(i=0|a[n+8>>2]))break;n=i}if(154==(0|g)&&(x=n+4|0,0==(8&a[n+12>>2]|0))&&s>>>0>l>>>0&e>>>0<=l>>>0){a[x>>2]=r+u,x=l+(b=0==(7&(b=l+8|0)|0)?0:0-b&7)|0,b=(w=(0|a[5832])+u|0)-b|0,a[5835]=x,a[5832]=b,a[x+4>>2]=1|b,a[l+w+4>>2]=40,a[5836]=a[5951];break}for(s>>>0<(0|a[5833])>>>0&&(a[5833]=s),r=s+u|0,n=23764;;){if((0|a[n>>2])==(0|r)){g=162;break}if(!(e=0|a[n+8>>2]))break;n=e}if(162==(0|g)&&0==(8&a[n+12>>2]|0)){a[n>>2]=s,a[(p=n+4|0)>>2]=(0|a[p>>2])+u,d=(p=s+(0==(7&(p=s+8|0)|0)?0:0-p&7)|0)+h|0,c=(n=r+(0==(7&(n=r+8|0)|0)?0:0-n&7)|0)-p-h|0,a[p+4>>2]=3|h;t:do{if((0|l)==(0|n))w=(0|a[5832])+c|0,a[5832]=w,a[5835]=d,a[d+4>>2]=1|w;else{if((0|a[5834])==(0|n)){w=(0|a[5831])+c|0,a[5831]=w,a[5834]=d,a[d+4>>2]=1|w,a[d+w>>2]=w;break}if(1==(3&(e=0|a[n+4>>2])|0)){u=-8&e,i=e>>>3;n:do{if(e>>>0<256){if(e=0|a[n+8>>2],(0|(r=0|a[n+12>>2]))==(0|e)){a[5829]=a[5829]&~(1<<i);break}a[e+12>>2]=r,a[r+8>>2]=e;break}s=0|a[n+24>>2],e=0|a[n+12>>2];do{if((0|e)==(0|n)){if(e=0|a[(i=(r=n+16|0)+4|0)>>2])r=i;else if(!(e=0|a[r>>2])){e=0;break}for(;;)if(i=0|a[(o=e+20|0)>>2])e=i,r=o;else{if(!(i=0|a[(o=e+16|0)>>2]))break;e=i,r=o}a[r>>2]=0}else w=0|a[n+8>>2],a[w+12>>2]=e,a[e+8>>2]=w}while(0);if(!s)break;i=23620+((r=0|a[n+28>>2])<<2)|0;do{if((0|a[i>>2])==(0|n)){if(a[i>>2]=e,0|e)break;a[5830]=a[5830]&~(1<<r);break n}if(a[((0|a[(w=s+16|0)>>2])==(0|n)?w:s+20|0)>>2]=e,!e)break n}while(0);if(a[e+24>>2]=s,0|(i=0|a[(r=n+16|0)>>2])&&(a[e+16>>2]=i,a[i+24>>2]=e),!(r=0|a[r+4>>2]))break;a[e+20>>2]=r,a[r+24>>2]=e}while(0);n=n+u|0,o=u+c|0}else o=c;if(a[(n=n+4|0)>>2]=-2&a[n>>2],a[d+4>>2]=1|o,a[d+o>>2]=o,n=o>>>3,o>>>0<256){r=23356+(n<<1<<2)|0,(e=0|a[5829])&(n=1<<n)?n=0|a[(e=r+8|0)>>2]:(a[5829]=e|n,n=r,e=r+8|0),a[e>>2]=d,a[n+12>>2]=d,a[d+8>>2]=n,a[d+12>>2]=r;break}n=o>>>8;do{if(n){if(o>>>0>16777215){i=31;break}i=o>>>((i=14-((b=((w=n<<(x=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|x|(i=((w<<=b)+245760|0)>>>16&2))+(w<<i>>>15)|0)+7|0)&1|i<<1}else i=0}while(0);if(n=23620+(i<<2)|0,a[d+28>>2]=i,a[(e=d+16|0)+4>>2]=0,a[e>>2]=0,!((e=0|a[5830])&(r=1<<i))){a[5830]=e|r,a[n>>2]=d,a[d+24>>2]=n,a[d+12>>2]=d,a[d+8>>2]=d;break}n=0|a[n>>2];n:do{if((-8&a[n+4>>2]|0)!=(0|o)){for(i=o<<(31==(0|i)?0:25-(i>>>1)|0);e=0|a[(r=n+16+(i>>>31<<2)|0)>>2];){if((-8&a[e+4>>2]|0)==(0|o)){n=e;break n}i<<=1,n=e}a[r>>2]=d,a[d+24>>2]=n,a[d+12>>2]=d,a[d+8>>2]=d;break t}}while(0);w=0|a[(x=n+8|0)>>2],a[w+12>>2]=d,a[x>>2]=d,a[d+8>>2]=w,a[d+12>>2]=n,a[d+24>>2]=0}}while(0);return I=t,0|(w=p+8|0)}for(n=23764;!((e=0|a[n>>2])>>>0<=l>>>0&&(w=e+(0|a[n+4>>2])|0)>>>0>l>>>0);)n=0|a[n+8>>2];n=(e=(e=(o=w+-47|0)+(0==(7&(e=o+8|0)|0)?0:0-e&7)|0)>>>0<(o=l+16|0)>>>0?l:e)+8|0,x=s+(b=0==(7&(b=s+8|0)|0)?0:0-b&7)|0,b=(r=u+-40|0)-b|0,a[5835]=x,a[5832]=b,a[x+4>>2]=1|b,a[s+r+4>>2]=40,a[5836]=a[5951],a[(r=e+4|0)>>2]=27,a[n>>2]=a[5941],a[n+4>>2]=a[5942],a[n+8>>2]=a[5943],a[n+12>>2]=a[5944],a[5941]=s,a[5942]=u,a[5944]=0,a[5943]=n,n=e+24|0;do{x=n,a[(n=n+4|0)>>2]=7}while((x+8|0)>>>0<w>>>0);if((0|e)!=(0|l)){if(s=e-l|0,a[r>>2]=-2&a[r>>2],a[l+4>>2]=1|s,a[e>>2]=s,n=s>>>3,s>>>0<256){r=23356+(n<<1<<2)|0,(e=0|a[5829])&(n=1<<n)?n=0|a[(e=r+8|0)>>2]:(a[5829]=e|n,n=r,e=r+8|0),a[e>>2]=l,a[n+12>>2]=l,a[l+8>>2]=n,a[l+12>>2]=r;break}if(r=23620+((i=(n=s>>>8)?s>>>0>16777215?31:s>>>((i=14-((b=((w=n<<(x=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|x|(i=((w<<=b)+245760|0)>>>16&2))+(w<<i>>>15)|0)+7|0)&1|i<<1:0)<<2)|0,a[l+28>>2]=i,a[l+20>>2]=0,a[o>>2]=0,!((n=0|a[5830])&(e=1<<i))){a[5830]=n|e,a[r>>2]=l,a[l+24>>2]=r,a[l+12>>2]=l,a[l+8>>2]=l;break}n=0|a[r>>2];t:do{if((-8&a[n+4>>2]|0)!=(0|s)){for(i=s<<(31==(0|i)?0:25-(i>>>1)|0);e=0|a[(r=n+16+(i>>>31<<2)|0)>>2];){if((-8&a[e+4>>2]|0)==(0|s)){n=e;break t}i<<=1,n=e}a[r>>2]=l,a[l+24>>2]=n,a[l+12>>2]=l,a[l+8>>2]=l;break e}}while(0);w=0|a[(x=n+8|0)>>2],a[w+12>>2]=l,a[x>>2]=l,a[l+8>>2]=w,a[l+12>>2]=n,a[l+24>>2]=0}}else 0==(0|(w=0|a[5833]))|s>>>0<w>>>0&&(a[5833]=s),a[5941]=s,a[5942]=u,a[5944]=0,a[5838]=a[5947],a[5837]=-1,a[5842]=23356,a[5841]=23356,a[5844]=23364,a[5843]=23364,a[5846]=23372,a[5845]=23372,a[5848]=23380,a[5847]=23380,a[5850]=23388,a[5849]=23388,a[5852]=23396,a[5851]=23396,a[5854]=23404,a[5853]=23404,a[5856]=23412,a[5855]=23412,a[5858]=23420,a[5857]=23420,a[5860]=23428,a[5859]=23428,a[5862]=23436,a[5861]=23436,a[5864]=23444,a[5863]=23444,a[5866]=23452,a[5865]=23452,a[5868]=23460,a[5867]=23460,a[5870]=23468,a[5869]=23468,a[5872]=23476,a[5871]=23476,a[5874]=23484,a[5873]=23484,a[5876]=23492,a[5875]=23492,a[5878]=23500,a[5877]=23500,a[5880]=23508,a[5879]=23508,a[5882]=23516,a[5881]=23516,a[5884]=23524,a[5883]=23524,a[5886]=23532,a[5885]=23532,a[5888]=23540,a[5887]=23540,a[5890]=23548,a[5889]=23548,a[5892]=23556,a[5891]=23556,a[5894]=23564,a[5893]=23564,a[5896]=23572,a[5895]=23572,a[5898]=23580,a[5897]=23580,a[5900]=23588,a[5899]=23588,a[5902]=23596,a[5901]=23596,a[5904]=23604,a[5903]=23604,x=s+(b=0==(7&(b=s+8|0)|0)?0:0-b&7)|0,b=(w=u+-40|0)-b|0,a[5835]=x,a[5832]=b,a[x+4>>2]=1|b,a[s+w+4>>2]=40,a[5836]=a[5951]}while(0);if((n=0|a[5832])>>>0>h>>>0)return b=n-h|0,a[5832]=b,x=(w=0|a[5835])+h|0,a[5835]=x,a[x+4>>2]=1|b,a[w+4>>2]=3|h,I=t,0|(w=w+8|0)}return a[(w=23312)>>2]=12,I=t,0|(w=0)}function At(e){var t=0,n=0,r=0,i=0,o=0,s=0,u=0,c=0;if(e|=0){n=e+-8|0,i=0|a[5833],c=n+(t=-8&(e=0|a[e+-4>>2]))|0;do{if(1&e)u=n,s=n;else{if(r=0|a[n>>2],!(3&e))return;if(o=r+t|0,(s=n+(0-r)|0)>>>0<i>>>0)return;if((0|a[5834])==(0|s)){if(3!=(3&(t=0|a[(e=c+4|0)>>2])|0)){u=s,t=o;break}return a[5831]=o,a[e>>2]=-2&t,a[s+4>>2]=1|o,void(a[s+o>>2]=o)}if(n=r>>>3,r>>>0<256){if(e=0|a[s+8>>2],(0|(t=0|a[s+12>>2]))==(0|e)){a[5829]=a[5829]&~(1<<n),u=s,t=o;break}a[e+12>>2]=t,a[t+8>>2]=e,u=s,t=o;break}i=0|a[s+24>>2],e=0|a[s+12>>2];do{if((0|e)==(0|s)){if(e=0|a[(n=(t=s+16|0)+4|0)>>2])t=n;else if(!(e=0|a[t>>2])){e=0;break}for(;;)if(n=0|a[(r=e+20|0)>>2])e=n,t=r;else{if(!(n=0|a[(r=e+16|0)>>2]))break;e=n,t=r}a[t>>2]=0}else u=0|a[s+8>>2],a[u+12>>2]=e,a[e+8>>2]=u}while(0);if(i){if(t=0|a[s+28>>2],(0|a[(n=23620+(t<<2)|0)>>2])==(0|s)){if(a[n>>2]=e,!e){a[5830]=a[5830]&~(1<<t),u=s,t=o;break}}else if(a[((0|a[(u=i+16|0)>>2])==(0|s)?u:i+20|0)>>2]=e,!e){u=s,t=o;break}a[e+24>>2]=i,0|(n=0|a[(t=s+16|0)>>2])&&(a[e+16>>2]=n,a[n+24>>2]=e),(t=0|a[t+4>>2])?(a[e+20>>2]=t,a[t+24>>2]=e,u=s,t=o):(u=s,t=o)}else u=s,t=o}}while(0);if(!(s>>>0>=c>>>0)&&1&(r=0|a[(e=c+4|0)>>2])){if(2&r)a[e>>2]=-2&r,a[u+4>>2]=1|t,a[s+t>>2]=t,i=t;else{if((0|a[5835])==(0|c)){if(c=(0|a[5832])+t|0,a[5832]=c,a[5835]=u,a[u+4>>2]=1|c,(0|u)!=(0|a[5834]))return;return a[5834]=0,void(a[5831]=0)}if((0|a[5834])==(0|c))return c=(0|a[5831])+t|0,a[5831]=c,a[5834]=s,a[u+4>>2]=1|c,void(a[s+c>>2]=c);i=(-8&r)+t|0,n=r>>>3;do{if(r>>>0<256){if(t=0|a[c+8>>2],(0|(e=0|a[c+12>>2]))==(0|t)){a[5829]=a[5829]&~(1<<n);break}a[t+12>>2]=e,a[e+8>>2]=t;break}o=0|a[c+24>>2],e=0|a[c+12>>2];do{if((0|e)==(0|c)){if(e=0|a[(n=(t=c+16|0)+4|0)>>2])t=n;else if(!(e=0|a[t>>2])){n=0;break}for(;;)if(n=0|a[(r=e+20|0)>>2])e=n,t=r;else{if(!(n=0|a[(r=e+16|0)>>2]))break;e=n,t=r}a[t>>2]=0,n=e}else n=0|a[c+8>>2],a[n+12>>2]=e,a[e+8>>2]=n,n=e}while(0);if(0|o){if(e=0|a[c+28>>2],(0|a[(t=23620+(e<<2)|0)>>2])==(0|c)){if(a[t>>2]=n,!n){a[5830]=a[5830]&~(1<<e);break}}else if(a[((0|a[(r=o+16|0)>>2])==(0|c)?r:o+20|0)>>2]=n,!n)break;a[n+24>>2]=o,0|(t=0|a[(e=c+16|0)>>2])&&(a[n+16>>2]=t,a[t+24>>2]=n),0|(e=0|a[e+4>>2])&&(a[n+20>>2]=e,a[e+24>>2]=n)}}while(0);if(a[u+4>>2]=1|i,a[s+i>>2]=i,(0|u)==(0|a[5834]))return void(a[5831]=i)}if(e=i>>>3,i>>>0<256)return n=23356+(e<<1<<2)|0,(t=0|a[5829])&(e=1<<e)?e=0|a[(t=n+8|0)>>2]:(a[5829]=t|e,e=n,t=n+8|0),a[t>>2]=u,a[e+12>>2]=u,a[u+8>>2]=e,void(a[u+12>>2]=n);e=23620+((r=(e=i>>>8)?i>>>0>16777215?31:i>>>((r=14-((o=((c=e<<(s=(e+1048320|0)>>>16&8))+520192|0)>>>16&4)|s|(r=((c<<=o)+245760|0)>>>16&2))+(c<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,a[u+28>>2]=r,a[u+20>>2]=0,a[u+16>>2]=0,t=0|a[5830],n=1<<r;e:do{if(t&n){e=0|a[e>>2];t:do{if((-8&a[e+4>>2]|0)!=(0|i)){for(r=i<<(31==(0|r)?0:25-(r>>>1)|0);t=0|a[(n=e+16+(r>>>31<<2)|0)>>2];){if((-8&a[t+4>>2]|0)==(0|i)){e=t;break t}r<<=1,e=t}a[n>>2]=u,a[u+24>>2]=e,a[u+12>>2]=u,a[u+8>>2]=u;break e}}while(0);c=0|a[(s=e+8|0)>>2],a[c+12>>2]=u,a[s>>2]=u,a[u+8>>2]=c,a[u+12>>2]=e,a[u+24>>2]=0}else a[5830]=t|n,a[e>>2]=u,a[u+24>>2]=e,a[u+12>>2]=u,a[u+8>>2]=u}while(0);if(c=(0|a[5837])-1|0,a[5837]=c,!(0|c)){for(e=23772;e=0|a[e>>2];)e=e+8|0;a[5837]=-1}}}}function yt(e,t){t|=0;var n=0;return(e|=0)?(n=0|y(t,e),(t|e)>>>0>65535&&(n=(0|(n>>>0)/(e>>>0))==(0|t)?n:-1)):n=0,(e=0|gt(n))&&3&a[e+-4>>2]?(Tt(0|e,0,0|n),0|e):0|e}function bt(e,t,n,r){return 0|(w(0|(r=(t|=0)-(r|=0)-((n|=0)>>>0>(e|=0)>>>0|0)>>>0)),e-n>>>0|0)}function xt(e){return 0|((e|=0)?31-(0|x(e^e-1))|0:32)}function wt(e,t,n,r,i){i|=0;var o=0,s=0,u=0,c=0,l=0,d=0,p=0,h=0,f=0,m=0;if(d=e|=0,s=n|=0,u=h=r|=0,!(l=c=t|=0))return o=0!=(0|i),u?o?(a[i>>2]=0|e,a[i+4>>2]=0&t,i=0,0|(w(0|(h=0)),i)):(i=0,0|(w(0|(h=0)),i)):(o&&(a[i>>2]=(d>>>0)%(s>>>0),a[i+4>>2]=0),i=(d>>>0)/(s>>>0)>>>0,0|(w(0|(h=0)),i));o=0==(0|u);do{if(s){if(!o){if((o=(0|x(0|u))-(0|x(0|l))|0)>>>0<=31){s=p=o+1|0,e=d>>>(p>>>0)&(t=o-31>>31)|l<<(u=31-o|0),t&=l>>>(p>>>0),o=0,u=d<<u;break}return i?(a[i>>2]=0|e,a[i+4>>2]=c|0&t,i=0,0|(w(0|(h=0)),i)):(i=0,0|(w(0|(h=0)),i))}if((o=s-1|0)&s|0){s=u=33+(0|x(0|s))-(0|x(0|l))|0,e=(p=32-u|0)-1>>31&l>>>((f=u-32|0)>>>0)|(l<<p|d>>>(u>>>0))&(t=f>>31),t&=l>>>(u>>>0),o=d<<(m=64-u|0)&(c=p>>31),u=(l<<m|d>>>(f>>>0))&c|d<<p&u-33>>31;break}return 0|i&&(a[i>>2]=o&d,a[i+4>>2]=0),1==(0|s)?(m=0|e,0|(w(0|(f=c|0&t)),m)):(f=l>>>((m=0|xt(0|s))>>>0)|0,m=l<<32-m|d>>>(m>>>0)|0,0|(w(0|f),m))}if(o)return 0|i&&(a[i>>2]=(l>>>0)%(s>>>0),a[i+4>>2]=0),m=(l>>>0)/(s>>>0)>>>0,0|(w(0|(f=0)),m);if(!d)return 0|i&&(a[i>>2]=0,a[i+4>>2]=(l>>>0)%(u>>>0)),m=(l>>>0)/(u>>>0)>>>0,0|(w(0|(f=0)),m);if(!((o=u-1|0)&u))return 0|i&&(a[i>>2]=0|e,a[i+4>>2]=o&l|0&t),f=0,m=l>>>((0|xt(0|u))>>>0),0|(w(0|f),m);if((o=(0|x(0|u))-(0|x(0|l))|0)>>>0<=30){s=t=o+1|0,e=l<<(u=31-o|0)|d>>>(t>>>0),t=l>>>(t>>>0),o=0,u=d<<u;break}return i?(a[i>>2]=0|e,a[i+4>>2]=c|0&t,m=0,0|(w(0|(f=0)),m)):(m=0,0|(w(0|(f=0)),m))}while(0);if(s){l=0|function(e,t,n,r){return 0|(w((t|=0)+(r|=0)+((n=(e|=0)+(n|=0)>>>0)>>>0<e>>>0|0)>>>0|0),0|n)}(0|(p=0|n),0|(d=h|0&r),-1,-1),n=0|_(),c=u,u=0;do{r=c,c=o>>>31|c<<1,o=u|o<<1,bt(0|l,0|n,0|(r=e<<1|r>>>31|0),0|(h=e>>>31|t<<1|0)),u=1&(f=(m=0|_())>>31|((0|m)<0?-1:0)<<1),e=0|bt(0|r,0|h,f&p|0,(((0|m)<0?-1:0)>>31|((0|m)<0?-1:0)<<1)&d|0),t=0|_(),s=s-1|0}while(0!=(0|s));l=c,c=0}else l=u,c=0,u=0;return s=0,0|i&&(a[i>>2]=e,a[i+4>>2]=t),m=-2&(o<<1|0)|u,0|(w(0|(f=(0|o)>>>31|(l|s)<<1|0&(s<<1|o>>>31)|c)),m)}function _t(e,t,n,r){var i,o;return o=I,I=I+16|0,wt(e|=0,t|=0,n|=0,r|=0,i=0|o),I=o,0|(w(0|a[i+4>>2]),0|a[i>>2])}function kt(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(w(t>>>n|0),e>>>n|(t&(1<<n)-1)<<32-n):(w(0),t>>>n-32|0)}function Ot(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(w(t<<n|(e&(1<<n)-1<<32-n)>>>32-n|0),e<<n):(w(e<<n-32|0),0)}function Et(e,t){return t=+t,(e=+e)!=e?+t:t!=t?+e:+b(+e,+t)}function St(e){return(e=+e)>=0?+s(e+.5):+A(e-.5)}function Ct(e,t,n){e|=0,t|=0;var i,o,s=0;if((0|(n|=0))>=8192)return S(0|e,0|t,0|n),0|e;if(o=0|e,i=e+n|0,(3&e)==(3&t)){for(;3&e;){if(!n)return 0|o;r[e>>0]=0|r[t>>0],e=e+1|0,t=t+1|0,n=n-1|0}for(s=(n=-4&i|0)-64|0;(0|e)<=(0|s);)a[e>>2]=a[t>>2],a[e+4>>2]=a[t+4>>2],a[e+8>>2]=a[t+8>>2],a[e+12>>2]=a[t+12>>2],a[e+16>>2]=a[t+16>>2],a[e+20>>2]=a[t+20>>2],a[e+24>>2]=a[t+24>>2],a[e+28>>2]=a[t+28>>2],a[e+32>>2]=a[t+32>>2],a[e+36>>2]=a[t+36>>2],a[e+40>>2]=a[t+40>>2],a[e+44>>2]=a[t+44>>2],a[e+48>>2]=a[t+48>>2],a[e+52>>2]=a[t+52>>2],a[e+56>>2]=a[t+56>>2],a[e+60>>2]=a[t+60>>2],e=e+64|0,t=t+64|0;for(;(0|e)<(0|n);)a[e>>2]=a[t>>2],e=e+4|0,t=t+4|0}else for(n=i-4|0;(0|e)<(0|n);)r[e>>0]=0|r[t>>0],r[e+1>>0]=0|r[t+1>>0],r[e+2>>0]=0|r[t+2>>0],r[e+3>>0]=0|r[t+3>>0],e=e+4|0,t=t+4|0;for(;(0|e)<(0|i);)r[e>>0]=0|r[t>>0],e=e+1|0,t=t+1|0;return 0|o}function Tt(e,t,n){t|=0;var i,o=0,s=0,u=0;if(i=(e|=0)+(n|=0)|0,t&=255,(0|n)>=67){for(;3&e;)r[e>>0]=t,e=e+1|0;for(u=t|t<<8|t<<16|t<<24,s=(o=-4&i|0)-64|0;(0|e)<=(0|s);)a[e>>2]=u,a[e+4>>2]=u,a[e+8>>2]=u,a[e+12>>2]=u,a[e+16>>2]=u,a[e+20>>2]=u,a[e+24>>2]=u,a[e+28>>2]=u,a[e+32>>2]=u,a[e+36>>2]=u,a[e+40>>2]=u,a[e+44>>2]=u,a[e+48>>2]=u,a[e+52>>2]=u,a[e+56>>2]=u,a[e+60>>2]=u,e=e+64|0;for(;(0|e)<(0|o);)a[e>>2]=u,e=e+4|0}for(;(0|e)<(0|i);)r[e>>0]=t,e=e+1|0;return i-n|0}function It(e){return(e=+e)>=0?+s(e+.5):+A(e-.5)}function jt(e){e|=0;var t,n,r;return r=0|E(),(0|e)>0&(0|(t=(n=0|a[o>>2])+e|0))<(0|n)|(0|t)<0?(T(0|t),O(12),-1):(0|t)>(0|r)&&!(0|C(0|t))?(O(12),-1):(a[o>>2]=t,0|n)}return{___uremdi3:_t,_bitshift64Lshr:kt,_bitshift64Shl:Ot,_calloc:yt,_cellAreaKm2:function(e,t){var n,r,i,o=0;if(i=I,I=I+192|0,r=i,Ge(e|=0,t|=0,n=i+168|0),He(e,t,r),(0|(t=0|a[r>>2]))>0){if(o=+Te(r+8|0,r+8+((1!=(0|t)&1)<<4)|0,n)+0,1!=(0|t)){e=1;do{o+=+Te(r+8+(e<<4)|0,r+8+(((0|(e=e+1|0))%(0|t)|0)<<4)|0,n)}while((0|e)<(0|t))}}else o=0;return I=i,6371.007180918475*o*6371.007180918475},_cellAreaM2:function(e,t){var n,r,i,o=0;if(i=I,I=I+192|0,r=i,Ge(e|=0,t|=0,n=i+168|0),He(e,t,r),(0|(t=0|a[r>>2]))>0){if(o=+Te(r+8|0,r+8+((1!=(0|t)&1)<<4)|0,n)+0,1!=(0|t)){e=1;do{o+=+Te(r+8+(e<<4)|0,r+8+(((0|(e=e+1|0))%(0|t)|0)<<4)|0,n)}while((0|e)<(0|t))}}else o=0;return I=i,6371.007180918475*o*6371.007180918475*1e3*1e3},_cellAreaRads2:function(e,t){var n,r,i,o=0;if(i=I,I=I+192|0,r=i,Ge(e|=0,t|=0,n=i+168|0),He(e,t,r),(0|(t=0|a[r>>2]))<=0)return I=i,+(o=0);if(o=+Te(r+8|0,r+8+((1!=(0|t)&1)<<4)|0,n)+0,1==(0|t))return I=i,+o;e=1;do{o+=+Te(r+8+(e<<4)|0,r+8+(((0|(e=e+1|0))%(0|t)|0)<<4)|0,n)}while((0|e)<(0|t));return I=i,+o},_compact:function(e,t,n){t|=0;var r,i=0,o=0,s=0,u=0,c=0,l=0,d=0,p=0,h=0,f=0,m=0,v=0,g=0,A=0,y=0,b=0,x=0,w=0,k=0,O=0,E=0;if(!(n|=0))return 0|(O=0);if(i=0|a[(o=e|=0)>>2],!0&0==(15728640&(o=0|a[o+4>>2])|0)){if((0|n)<=0)return 0|(O=0);if(a[(O=t)>>2]=i,a[O+4>>2]=o,1==(0|n))return 0|(O=0);i=1;do{k=0|a[4+(w=e+(i<<3)|0)>>2],a[(O=t+(i<<3)|0)>>2]=a[w>>2],a[O+4>>2]=k,i=i+1|0}while((0|i)!=(0|n));return 0|(i=0)}if(!(k=0|gt(w=n<<3)))return 0|(O=-3);if(Ct(0|k,0|e,0|w),!(r=0|yt(n,8)))return At(k),0|(O=-3);i=n;e:for(;;){b=0|kt(0|(p=0|a[(u=k)>>2]),0|(u=0|a[u+4>>2]),52),_(),x=(b&=15)-1|0,y=(0|i)>0;t:do{if(y){if(A=((0|i)<0)<<31>>31,v=0|Ot(0|x,0,52),g=0|_(),x>>>0>15)for(o=0,e=p,n=u;;){if(!(0==(0|e)&0==(0|n))){if(s=0|kt(0|e,0|n,52),_(),c=(0|(s&=15))<(0|x),s=(0|s)==(0|x),n=0|_t(0|(d=c?0:s?e:0),0|(e=c?0:s?n:0),0|i,0|A),_(),0==(0|(l=0|a[(c=s=r+(n<<3)|0)>>2]))&0==(0|(c=0|a[c+4>>2])))n=d;else for(v=0,m=n,f=c,n=d;;){if((0|v)>(0|i)){O=41;break e}if((0|l)==(0|n)&(-117440513&f|0)==(0|e)){d=0|kt(0|l,0|f,56),_(),h=1+(d&=7)|0,g=0|kt(0|l,0|f,45),_();n:do{if(0|P(127&g)){if(l=0|kt(0|l,0|f,52),_(),!(l&=15)){c=6;break}for(c=1;;){if(!(0==((g=0|Ot(7,0,3*(15-c|0)|0))&n|0)&0==((0|_())&e|0))){c=7;break n}if(!(c>>>0<l>>>0)){c=6;break}c=c+1|0}}else c=7}while(0);if((d+2|0)>>>0>c>>>0){O=51;break e}g=0|Ot(0|h,0,56),e=0|_()|-117440513&e,a[(c=s)>>2]=0,a[c+4>>2]=0,c=m,n|=g}else c=(m+1|0)%(0|i)|0;if(0==(0|(l=0|a[(f=s=r+(c<<3)|0)>>2]))&0==(0|(f=0|a[f+4>>2])))break;v=v+1|0,m=c}a[(g=s)>>2]=n,a[g+4>>2]=e}if((0|(o=o+1|0))>=(0|i))break t;e=0|a[(n=k+(o<<3)|0)>>2],n=0|a[n+4>>2]}for(o=0,e=p,n=u;;){if(!(0==(0|e)&0==(0|n))){if(c=0|kt(0|e,0|n,52),_(),(0|(c&=15))>=(0|x)){if((0|c)!=(0|x)&&(e|=v,n=-15728641&n|g,c>>>0>=b>>>0)){s=x;do{m=0|Ot(7,0,3*(14-s|0)|0),s=s+1|0,e|=m,n=0|_()|n}while(s>>>0<c>>>0)}}else e=0,n=0;if(c=0|_t(0|e,0|n,0|i,0|A),_(),!(0==(0|(d=0|a[(l=s=r+(c<<3)|0)>>2]))&0==(0|(l=0|a[l+4>>2]))))for(m=0;;){if((0|m)>(0|i)){O=41;break e}if((0|d)==(0|e)&(-117440513&l|0)==(0|n)){h=0|kt(0|d,0|l,56),_(),f=1+(h&=7)|0,E=0|kt(0|d,0|l,45),_();n:do{if(0|P(127&E)){if(d=0|kt(0|d,0|l,52),_(),!(d&=15)){l=6;break}for(l=1;;){if(!(0==((E=0|Ot(7,0,3*(15-l|0)|0))&e|0)&0==((0|_())&n|0))){l=7;break n}if(!(l>>>0<d>>>0)){l=6;break}l=l+1|0}}else l=7}while(0);if((h+2|0)>>>0>l>>>0){O=51;break e}E=0|Ot(0|f,0,56),n=0|_()|-117440513&n,a[(f=s)>>2]=0,a[f+4>>2]=0,e|=E}else c=(c+1|0)%(0|i)|0;if(0==(0|(d=0|a[(l=s=r+(c<<3)|0)>>2]))&0==(0|(l=0|a[l+4>>2])))break;m=m+1|0}a[(E=s)>>2]=e,a[E+4>>2]=n}if((0|(o=o+1|0))>=(0|i))break t;e=0|a[(n=k+(o<<3)|0)>>2],n=0|a[n+4>>2]}}}while(0);if((i+5|0)>>>0<11){O=99;break}if(!(g=0|yt((0|i)/6|0,8))){O=58;break}t:do{if(y){m=0,f=0;do{if(!(0==(0|(o=0|a[(e=c=r+(m<<3)|0)>>2]))&0==(0|(e=0|a[e+4>>2])))){l=0|kt(0|o,0|e,56),_(),n=1+(l&=7)|0,d=-117440513&e,E=0|kt(0|o,0|e,45),_();n:do{if(0|P(127&E)){if(h=0|kt(0|o,0|e,52),_(),0|(h&=15))for(s=1;;){if(!(0==(o&(E=0|Ot(7,0,3*(15-s|0)|0))|0)&0==(d&(0|_())|0)))break n;if(!(s>>>0<h>>>0))break;s=s+1|0}o|=e=0|Ot(0|n,0,56),e=0|_()|d,a[(n=c)>>2]=o,a[n+4>>2]=e,n=l+2|0}}while(0);7==(0|n)&&(a[(E=g+(f<<3)|0)>>2]=o,a[E+4>>2]=-117440513&e,f=f+1|0)}m=m+1|0}while((0|m)!=(0|i));if(y){if(v=((0|i)<0)<<31>>31,h=0|Ot(0|x,0,52),m=0|_(),x>>>0>15)for(e=0,o=0;;){do{if(!(0==(0|p)&0==(0|u))){for(l=0|kt(0|p,0|u,52),_(),s=(0|(l&=15))<(0|x),l=(0|l)==(0|x),s=0|_t(0|(c=s?0:l?p:0),0|(l=s?0:l?u:0),0|i,0|v),_(),n=0;;){if((0|n)>(0|i)){O=98;break e}if((-117440513&(d=0|a[4+(E=r+(s<<3)|0)>>2])|0)==(0|l)&&(0|a[E>>2])==(0|c)){O=70;break}if((0|a[(E=r+((s=(s+1|0)%(0|i)|0)<<3)|0)>>2])==(0|c)&&(0|a[E+4>>2])==(0|l))break;n=n+1|0}if(70==(0|O)&&(O=0,!0&100663296==(117440512&d|0)))break;a[(E=t+(o<<3)|0)>>2]=p,a[E+4>>2]=u,o=o+1|0}}while(0);if((0|(e=e+1|0))>=(0|i)){i=f;break t}p=0|a[(u=k+(e<<3)|0)>>2],u=0|a[u+4>>2]}for(e=0,o=0;;){do{if(!(0==(0|p)&0==(0|u))){if(l=0|kt(0|p,0|u,52),_(),(0|(l&=15))>=(0|x))if((0|l)!=(0|x))if(n=p|h,s=-15728641&u|m,l>>>0<b>>>0)l=s;else{c=x;do{E=0|Ot(7,0,3*(14-c|0)|0),c=c+1|0,n|=E,s=0|_()|s}while(c>>>0<l>>>0);l=s}else n=p,l=u;else n=0,l=0;for(c=0|_t(0|n,0|l,0|i,0|v),_(),s=0;;){if((0|s)>(0|i)){O=98;break e}if((-117440513&(d=0|a[4+(E=r+(c<<3)|0)>>2])|0)==(0|l)&&(0|a[E>>2])==(0|n)){O=93;break}if((0|a[(E=r+((c=(c+1|0)%(0|i)|0)<<3)|0)>>2])==(0|n)&&(0|a[E+4>>2])==(0|l))break;s=s+1|0}if(93==(0|O)&&(O=0,!0&100663296==(117440512&d|0)))break;a[(E=t+(o<<3)|0)>>2]=p,a[E+4>>2]=u,o=o+1|0}}while(0);if((0|(e=e+1|0))>=(0|i)){i=f;break t}p=0|a[(u=k+(e<<3)|0)>>2],u=0|a[u+4>>2]}}else o=0,i=f}else o=0,i=0}while(0);if(Tt(0|r,0,0|w),Ct(0|k,0|g,i<<3|0),At(g),!i)break;t=t+(o<<3)|0}return 41==(0|O)?(At(k),At(r),0|(E=-1)):51==(0|O)?(At(k),At(r),0|(E=-2)):58==(0|O)?(At(k),At(r),0|(E=-3)):98==(0|O)?(At(g),At(k),At(r),0|(E=-1)):(99==(0|O)&&Ct(0|t,0|k,i<<3|0),At(k),At(r),0|(E=0))},_destroyLinkedPolygon:function(e){var t=0,n=0,r=0,i=0;if(e|=0)for(r=1;;){if(0|(t=0|a[e>>2]))do{if(0|(n=0|a[t>>2]))do{i=n,n=0|a[n+16>>2],At(i)}while(0!=(0|n));i=t,t=0|a[t+8>>2],At(i)}while(0!=(0|t));if(t=e,e=0|a[e+8>>2],r||At(t),!e)break;r=0}},_edgeLengthKm:function(e){return+ +i[20752+((e|=0)<<3)>>3]},_edgeLengthM:function(e){return+ +i[20880+((e|=0)<<3)>>3]},_emscripten_replace_memory:function(e){return r=new Int8Array(e),new Uint8Array(e),a=new Int32Array(e),new Float32Array(e),i=new Float64Array(e),n=e,!0},_exactEdgeLengthKm:function(e,t){var n,r,o=0,s=0,u=0,l=0,h=0,f=0;if(r=I,I=I+176|0,Xe(e|=0,t|=0,n=r),(0|(e=0|a[n>>2]))<=1)return I=r,+(u=0);t=e+-1|0,e=0,o=0,s=+i[n+8>>3],u=+i[n+16>>3];do{h=s,s=+i[n+8+((e=e+1|0)<<4)>>3],f=+p(.5*(s-h)),l=u,u=+i[n+8+(e<<4)+8>>3],l=f*f+(l=+p(.5*(u-l)))*(+d(+h)*+d(+s)*l),o+=2*+g(+ +c(+l),+ +c(+(1-l)))}while((0|e)!=(0|t));return I=r,+(f=6371.007180918475*o)},_exactEdgeLengthM:function(e,t){var n,r,o=0,s=0,u=0,l=0,h=0,f=0;if(r=I,I=I+176|0,Xe(e|=0,t|=0,n=r),(0|(e=0|a[n>>2]))<=1)return I=r,+(u=0);t=e+-1|0,e=0,o=0,s=+i[n+8>>3],u=+i[n+16>>3];do{h=s,s=+i[n+8+((e=e+1|0)<<4)>>3],f=+p(.5*(s-h)),l=u,u=+i[n+8+(e<<4)+8>>3],l=f*f+(l=+p(.5*(u-l)))*(+d(+h)*+d(+s)*l),o+=2*+g(+ +c(+l),+ +c(+(1-l)))}while((0|e)!=(0|t));return I=r,+(f=6371.007180918475*o*1e3)},_exactEdgeLengthRads:function(e,t){var n,r,o=0,s=0,u=0,l=0,h=0,f=0;if(r=I,I=I+176|0,Xe(e|=0,t|=0,n=r),(0|(e=0|a[n>>2]))<=1)return I=r,+(u=0);t=e+-1|0,e=0,o=0,s=+i[n+8>>3],u=+i[n+16>>3];do{h=s,s=+i[n+8+((e=e+1|0)<<4)>>3],f=+p(.5*(s-h)),l=u,u=+i[n+8+(e<<4)+8>>3],l=f*f+(l=+p(.5*(u-l)))*(+d(+s)*+d(+h)*l),o+=2*+g(+ +c(+l),+ +c(+(1-l)))}while((0|e)<(0|t));return I=r,+o},_experimentalH3ToLocalIj:function(e,t,n,r,a){var i,o;return a|=0,o=I,I=I+16|0,(e=0|Je(e|=0,t|=0,n|=0,r|=0,i=o))||(he(i,a),e=0),I=o,0|e},_experimentalLocalIjToH3:function(e,t,n,r){var a,i;return e|=0,t|=0,r|=0,a=I,I=I+16|0,fe(n|=0,i=a),r=0|et(e,t,i,r),I=a,0|r},_free:At,_geoToH3:Ue,_getDestinationH3IndexFromUnidirectionalEdge:function(e,t){e|=0;var n,r,i=0;return n=I,I=I+16|0,i=n,!0&268435456==(2013265920&(t|=0)|0)?(r=0|kt(0|e,0|t,56),_(),a[i>>2]=0,i=0|D(e,-2130706433&t|134217728,7&r,i),t=0|_(),w(0|t),I=n,0|i):(i=0,w(0|(t=0)),I=n,0|i)},_getH3IndexesFromUnidirectionalEdge:function(e,t,n){e|=0;var r,i,o,s,u=0;o=I,I=I+16|0,r=o,s=!0&268435456==(2013265920&(t|=0)|0),i=-2130706433&t|134217728,a[(u=n|=0)>>2]=s?e:0,a[u+4>>2]=s?i:0,s?(t=0|kt(0|e,0|t,56),_(),a[r>>2]=0,e=0|D(e,i,7&t,r),t=0|_()):(e=0,t=0),a[(u=n+8|0)>>2]=e,a[u+4>>2]=t,I=o},_getH3UnidirectionalEdge:function(e,t,n,r){var i,o,s=0,u=0,c=0,l=0,d=0;if(o=I,I=I+16|0,i=o,!(0|Ke(e|=0,t|=0,n|=0,r|=0)))return l=0,w(0|(c=0)),I=o,0|l;for(c=-2130706433&t,s=(s=0==(0|De(e,t)))?1:2;a[i>>2]=0,u=s+1|0,!((0|(d=0|D(e,t,s,i)))==(0|n)&(0|_())==(0|r));){if(!(u>>>0<7)){s=0,e=0,l=6;break}s=u}return 6==(0|l)?(w(0|s),I=o,0|e):(d=0|Ot(0|s,0,56),l=0|c|_()|268435456,d|=e,w(0|l),I=o,0|d)},_getH3UnidirectionalEdgeBoundary:Xe,_getH3UnidirectionalEdgesFromHexagon:function(e,t,n){n|=0;var r,i=0;r=0==(0|De(e|=0,t|=0)),t&=-2130706433,a[(i=n)>>2]=r?e:0,a[i+4>>2]=r?285212672|t:0,a[(i=n+8|0)>>2]=e,a[i+4>>2]=301989888|t,a[(i=n+16|0)>>2]=e,a[i+4>>2]=318767104|t,a[(i=n+24|0)>>2]=e,a[i+4>>2]=335544320|t,a[(i=n+32|0)>>2]=e,a[i+4>>2]=352321536|t,a[(n=n+40|0)>>2]=e,a[n+4>>2]=369098752|t},_getOriginH3IndexFromUnidirectionalEdge:function(e,t){var n;return e|=0,w(0|((n=!0&268435456==(2013265920&(t|=0)|0))?-2130706433&t|134217728:0)),0|(n?e:0)},_getPentagonIndexes:qe,_getRes0Indexes:function(e){e|=0;var t=0,n=0,r=0;t=0;do{Ot(0|t,0,45),r=134225919|_(),a[(n=e+(t<<3)|0)>>2]=-1,a[n+4>>2]=r,t=t+1|0}while(122!=(0|t))},_h3Distance:function(e,t,n,r){var a,i,o;return n|=0,r|=0,o=I,I=I+32|0,i=o,e=0==(0|Je(e|=0,t|=0,e,t,a=o+12|0))&&0==(0|Je(e,t,n,r,i))?0|pe(a,i):-1,I=o,0|e},_h3GetBaseCell:Ie,_h3GetFaces:function e(t,n,r){r|=0;var i,o=0,s=0,u=0,c=0,l=0,d=0,p=0,h=0;i=I,I=I+128|0,p=i+112|0,u=i+96|0,h=i,s=0|kt(0|(t|=0),0|(n|=0),52),_(),l=15&s,a[p>>2]=l,c=0|kt(0|t,0|n,45),_(),c&=127;e:do{if(0|P(c)){if(0|l)for(o=1;;){if(!(0==((d=0|Ot(7,0,3*(15-o|0)|0))&t|0)&0==((0|_())&n|0))){s=0;break e}if(!(o>>>0<l>>>0))break;o=o+1|0}if(!(1&s))return d=0|Ot(l+1|0,0,52),h=0|_()|-15728641&n,e((d|t)&~(p=0|Ot(7,0,3*(14-l|0)|0)),h&~(0|_()),r),void(I=i);s=1}else s=0}while(0);We(t,n,u),s?(xe(u,p,h),d=5):(Oe(u,p,h),d=6);e:do{if(0|P(c))if(l)for(o=1;;){if(!(0==((c=0|Ot(7,0,3*(15-o|0)|0))&t|0)&0==((0|_())&n|0))){o=8;break e}if(!(o>>>0<l>>>0)){o=20;break}o=o+1|0}else o=20;else o=8}while(0);if(Tt(0|r,-1,0|o),s){s=0;do{for(_e(u=h+(s<<4)|0,0|a[p>>2]),u=0|a[u>>2],o=0;!(-1==(0|(l=0|a[(c=r+(o<<2)|0)>>2]))|(0|l)==(0|u));)o=o+1|0;a[c>>2]=u,s=s+1|0}while((0|s)!=(0|d))}else{s=0;do{for(we(u=h+(s<<4)|0,0|a[p>>2],0,1),u=0|a[u>>2],o=0;!(-1==(0|(l=0|a[(c=r+(o<<2)|0)>>2]))|(0|l)==(0|u));)o=o+1|0;a[c>>2]=u,s=s+1|0}while((0|s)!=(0|d))}I=i},_h3IndexesAreNeighbors:Ke,_h3IsPentagon:De,_h3IsResClassIII:function(e,t){return t=0|kt(0|(e|=0),0|(t|=0),52),_(),1&t|0},_h3IsValid:je,_h3Line:function(e,t,n,r,i){n|=0,r|=0,i|=0;var o,s=0,c=0,l=0,d=0,p=0,h=0,f=0,m=0,v=0,g=0,A=0,y=0,b=0,x=0,w=0,_=0,k=0;if(o=I,I=I+48|0,c=o+12|0,_=o,0==(0|Je(e|=0,t|=0,e,t,s=o+24|0))&&0==(0|Je(e,t,n,r,c))){if((0|(w=0|pe(s,c)))<0)return I=o,0|(_=w);for(a[s>>2]=0,a[s+4>>2]=0,a[s+8>>2]=0,a[c>>2]=0,a[c+4>>2]=0,a[c+8>>2]=0,Je(e,t,e,t,s),Je(e,t,n,r,c),me(s),me(c),w?(v=+(0|w),x=s,n=h=0|a[s>>2],r=f=0|a[(y=s+4|0)>>2],s=m=0|a[(b=s+8|0)>>2],g=+((0|a[c>>2])-h|0)/v,A=+((0|a[c+4>>2])-f|0)/v,v=+((0|a[c+8>>2])-m|0)/v):(y=r=s+4|0,b=m=s+8|0,x=s,n=0|a[s>>2],r=0|a[r>>2],s=0|a[m>>2],g=0,A=0,v=0),a[_>>2]=n,a[(m=_+4|0)>>2]=r,a[(f=_+8|0)>>2]=s,h=0;;){k=g*(d=+(0|h))+ +(0|n),l=A*d+ +(0|a[y>>2]),d=v*d+ +(0|a[b>>2]),r=~~+St(+k),c=~~+St(+l),n=~~+St(+d),k=+u(+(+(0|r)-k)),l=+u(+(+(0|c)-l)),d=+u(+(+(0|n)-d));do{if(!(k>l&k>d)){if(p=0-r|0,l>d){s=p-n|0;break}s=c,n=p-c|0;break}r=0-(c+n)|0,s=c}while(0);if(a[_>>2]=r,a[m>>2]=s,a[f>>2]=n,ve(_),et(e,t,_,i+(h<<3)|0),(0|h)==(0|w))break;h=h+1|0,n=0|a[x>>2]}return I=o,0|(_=0)}return I=o,0|(_=-1)},_h3LineSize:function(e,t,n,r){var a,i,o;return n|=0,r|=0,o=I,I=I+32|0,i=o,e=0==(0|Je(e|=0,t|=0,e,t,a=o+12|0))&&0==(0|Je(e,t,n,r,i))?0|pe(a,i):-1,I=o,(e>>>31^1)+e|0},_h3SetToLinkedGeo:function(e,t,n){n|=0;var r,i,o,s=0;if(o=I,I=I+32|0,r=o,function(e,t,n){e|=0,n|=0;var r,i,o=0,s=0,u=0,c=0,l=0;if(i=I,I=I+176|0,r=i,(0|(t|=0))<1)return ct(n,0,0),void(I=i);c=0|kt(0|a[(c=e)>>2],0|a[c+4>>2],52),_(),ct(n,(0|t)>6?t:6,15&c),c=0;do{if(He(0|a[(o=e+(c<<3)|0)>>2],0|a[o+4>>2],r),(0|(o=0|a[r>>2]))>0){l=0;do{u=r+8+(l<<4)|0,(s=0|ft(n,o=r+8+(((0|(l=l+1|0))%(0|o)|0)<<4)|0,u))?pt(n,s):ht(n,u,o),o=0|a[r>>2]}while((0|l)<(0|o))}c=c+1|0}while((0|c)!=(0|t));I=i}(e|=0,t|=0,i=o+16|0),a[n>>2]=0,a[n+4>>2]=0,a[n+8>>2]=0,!(e=0|dt(i)))return $e(n),lt(i),void(I=o);do{t=0|Qe(n);do{Ye(t,e),s=e+16|0,a[r>>2]=a[s>>2],a[r+4>>2]=a[s+4>>2],a[r+8>>2]=a[s+8>>2],a[r+12>>2]=a[s+12>>2],pt(i,e),e=0|mt(i,r)}while(0!=(0|e));e=0|dt(i)}while(0!=(0|e));$e(n),lt(i),I=o},_h3ToCenterChild:function(e,t,n){n|=0;var r=0,a=0;if(r=0|kt(0|(e|=0),0|(t|=0),52),_(),(0|n)<16&(0|(r&=15))<=(0|n)){if((0|r)!=(0|n)&&(e|=a=0|Ot(0|n,0,52),t=0|_()|-15728641&t,(0|r)<(0|n)))do{a=0|Ot(7,0,3*(14-r|0)|0),r=r+1|0,e&=~a,t&=~(0|_())}while((0|r)<(0|n))}else t=0,e=0;return w(0|t),0|e},_h3ToChildren:Ne,_h3ToGeo:Ge,_h3ToGeoBoundary:He,_h3ToParent:Me,_h3UnidirectionalEdgeIsValid:function(e,t){var n=0;if(!(!0&268435456==(2013265920&(t|=0)|0)))return 0|(n=0);switch(n=0|kt(0|(e|=0),0|t,56),_(),7&n){case 0:case 7:return 0|(n=0)}return!0&16777216==(117440512&t|0)&0!=(0|De(e,n=-2130706433&t|134217728))?0|(n=0):0|(n=0|je(e,n))},_hexAreaKm2:function(e){return+ +i[20496+((e|=0)<<3)>>3]},_hexAreaM2:function(e){return+ +i[20624+((e|=0)<<3)>>3]},_hexRing:function(e,t,n,r){e|=0,t|=0,r|=0;var i,o=0,s=0,u=0,c=0,l=0,d=0,p=0;if(i=I,I=I+16|0,p=i,!(n|=0))return a[(p=r)>>2]=e,a[p+4>>2]=t,I=i,0|(p=0);a[p>>2]=0;e:do{if(0|De(e,t))e=1;else{if(s=(0|n)>0){o=0,d=e;do{if(0==(0|(d=0|D(d,t,4,p)))&0==(0|(t=0|_()))){e=2;break e}if(o=o+1|0,0|De(d,t)){e=1;break e}}while((0|o)<(0|n));if(a[(l=r)>>2]=d,a[l+4>>2]=t,l=n+-1|0,s){s=0,u=1,o=d,e=t;do{if(0==(0|(o=0|D(o,e,2,p)))&0==(0|(e=0|_()))){e=2;break e}if(a[(c=r+(u<<3)|0)>>2]=o,a[c+4>>2]=e,u=u+1|0,0|De(o,e)){e=1;break e}s=s+1|0}while((0|s)<(0|n));c=0,s=u;do{if(0==(0|(o=0|D(o,e,3,p)))&0==(0|(e=0|_()))){e=2;break e}if(a[(u=r+(s<<3)|0)>>2]=o,a[u+4>>2]=e,s=s+1|0,0|De(o,e)){e=1;break e}c=c+1|0}while((0|c)<(0|n));u=0;do{if(0==(0|(o=0|D(o,e,1,p)))&0==(0|(e=0|_()))){e=2;break e}if(a[(c=r+(s<<3)|0)>>2]=o,a[c+4>>2]=e,s=s+1|0,0|De(o,e)){e=1;break e}u=u+1|0}while((0|u)<(0|n));u=0;do{if(0==(0|(o=0|D(o,e,5,p)))&0==(0|(e=0|_()))){e=2;break e}if(a[(c=r+(s<<3)|0)>>2]=o,a[c+4>>2]=e,s=s+1|0,0|De(o,e)){e=1;break e}u=u+1|0}while((0|u)<(0|n));u=0;do{if(0==(0|(o=0|D(o,e,4,p)))&0==(0|(e=0|_()))){e=2;break e}if(a[(c=r+(s<<3)|0)>>2]=o,a[c+4>>2]=e,s=s+1|0,0|De(o,e)){e=1;break e}u=u+1|0}while((0|u)<(0|n));for(u=0;;){if(0==(0|(o=0|D(o,e,6,p)))&0==(0|(e=0|_()))){e=2;break e}if((0|u)!=(0|l)){if(a[(c=r+(s<<3)|0)>>2]=o,a[c+4>>2]=e,0|De(o,e)){e=1;break e}s=s+1|0}if((0|(u=u+1|0))>=(0|n)){u=d,s=t;break}}}else u=d,o=d,s=t,e=t}else a[(u=r)>>2]=e,a[u+4>>2]=t,u=e,o=e,s=t,e=t;e=1&((0|u)!=(0|o)|(0|s)!=(0|e))}}while(0);return I=i,0|(p=e)},_i64Subtract:bt,_kRing:j,_kRingDistances:function(e,t,n,r,a){var i;if(0|M(e|=0,t|=0,n|=0,r|=0,a|=0)){if(Tt(0|r,0,(i=1+(0|y(3*n|0,n+1|0))|0)<<3|0),0|a)return Tt(0|a,0,i<<2|0),void N(e,t,n,r,a,i,0);(a=0|yt(i,4))&&(N(e,t,n,r,a,i,0),At(a))}},_llvm_minnum_f64:Et,_llvm_round_f64:St,_malloc:gt,_maxFaceCount:function(e,t){var n=0,r=0;if(r=0|kt(0|(e|=0),0|(t|=0),45),_(),!(0|P(127&r)))return 0|(r=2);if(r=0|kt(0|e,0|t,52),_(),!(r&=15))return 0|(r=5);for(n=1;;){if(!(0==((0|Ot(7,0,3*(15-n|0)|0))&e|0)&0==((0|_())&t|0))){n=2,e=6;break}if(!(n>>>0<r>>>0)){n=5,e=6;break}n=n+1|0}return 6==(0|e)?0|n:0},_maxH3ToChildrenSize:function(e,t,n){return n|=0,e=0|kt(0|(e|=0),0|(t|=0),52),_(),(0|n)<16&(0|(e&=15))<=(0|n)?0|(n=0|tt(7,n-e|0)):0|(n=0)},_maxKringSize:function(e){return 1+(0|y(3*(e|=0)|0,e+1|0))|0},_maxPolyfillSize:function(e,t){t|=0;var n,r=0,i=0,o=0,s=0,u=0;if(n=I,I=I+48|0,o=n+8|0,i=n,s=0|a[4+(u=e|=0)>>2],a[(r=i)>>2]=a[u>>2],a[r+4>>2]=s,rt(i,o),o=0|H(o,t),t=0|a[i>>2],(0|(i=0|a[e+8>>2]))<=0)return I=n,0|(u=(u=(s=(0|o)<(0|(u=t)))?u:o)+12|0);r=0|a[e+12>>2],e=0;do{t=(0|a[r+(e<<3)>>2])+t|0,e=e+1|0}while((0|e)<(0|i));return I=n,0|(u=(u=(u=(0|o)<(0|t))?t:o)+12|0)},_maxUncompactSize:function(e,t,n){e|=0,n|=0;var r=0,i=0,o=0,s=0;if((0|(t|=0))<=0)return 0|(n=0);if((0|n)>=16){for(r=0;;){if(!(0==(0|a[(s=e+(r<<3)|0)>>2])&0==(0|a[s+4>>2]))){r=-1,i=13;break}if((0|(r=r+1|0))>=(0|t)){r=0,i=13;break}}if(13==(0|i))return 0|r}r=0,s=0;e:for(;;){o=0|a[(i=e+(s<<3)|0)>>2],i=0|a[i+4>>2];do{if(!(0==(0|o)&0==(0|i))){if(i=0|kt(0|o,0|i,52),_(),(0|(i&=15))>(0|n)){r=-1,i=13;break e}if((0|i)==(0|n)){r=r+1|0;break}r=(0|tt(7,n-i|0))+r|0;break}}while(0);if((0|(s=s+1|0))>=(0|t)){i=13;break}}return 13==(0|i)?0|r:0},_memcpy:Ct,_memset:Tt,_numHexagons:function(e){var t;return e=0|a[(t=21008+((e|=0)<<3)|0)>>2],w(0|a[t+4>>2]),0|e},_pentagonIndexCount:function(){return 12},_pointDistKm:Ce,_pointDistM:function(e,t){e|=0;var n,r,a,o=0;return r=+i[(t|=0)>>3],n=+i[e>>3],o=(a=+p(.5*(r-n)))*a+(o=+p(.5*(+i[t+8>>3]-+i[e+8>>3])))*(+d(+r)*+d(+n)*o),2*+g(+ +c(+o),+ +c(+(1-o)))*6371.007180918475*1e3},_pointDistRads:function(e,t){e|=0;var n,r,a,o=0;return r=+i[(t|=0)>>3],n=+i[e>>3],o=(a=+p(.5*(r-n)))*a+(o=+p(.5*(+i[t+8>>3]-+i[e+8>>3])))*(+d(+r)*+d(+n)*o),2*+g(+ +c(+o),+ +c(+(1-o)))},_polyfill:function(e,t,n){var r,i=0,o=0,s=0,u=0,c=0;if(r=I,I=I+48|0,i=r+8|0,o=r,0|function(e,t,n){t|=0,n|=0;var r=0,i=0,o=0,s=0,u=0,c=0,l=0,d=0,p=0,h=0,f=0,m=0,v=0,g=0,A=0,y=0,b=0,x=0,w=0,O=0,E=0,S=0,C=0,T=0,j=0,D=0,P=0,L=0,F=0,B=0;if(B=I,I=I+112|0,D=B+80|0,c=B+72|0,P=B,L=B+56|0,(F=0|gt(32+(a[(l=8+(e|=0)|0)>>2]<<5)|0))||k(22848,22448,800,22456),at(e,F),r=0|a[(o=e)+4>>2],a[(u=c)>>2]=a[o>>2],a[u+4>>2]=r,rt(c,D),u=0|H(D,t),r=0|a[c>>2],(0|(o=0|a[l>>2]))>0){s=0|a[e+12>>2],i=0;do{r=(0|a[s+(i<<3)>>2])+r|0,i=i+1|0}while((0|i)!=(0|o))}if(i=0|yt(j=(u=(0|u)<(0|r)?r:u)+12|0,8),d=0|yt(j,8),a[D>>2]=0,T=0|a[(C=e)+4>>2],a[(r=c)>>2]=a[C>>2],a[r+4>>2]=T,0|(r=0|R(c,j,t,D,i,d)))return At(i),At(d),At(F),I=B,0|(F=r);e:do{if((0|a[l>>2])>0){for(o=e+12|0,r=0;s=0|R((0|a[o>>2])+(r<<3)|0,j,t,D,i,d),r=r+1|0,!(0|s);)if((0|r)>=(0|a[l>>2]))break e;return At(i),At(d),At(F),I=B,0|(F=s)}}while(0);(0|u)>-12&&Tt(0|d,0,((0|j)>1?j:1)<<3|0);e:do{if((0|a[D>>2])>0){T=((0|j)<0)<<31>>31,x=i,w=d,O=i,E=i,S=d,C=i,r=i,g=i,A=d,y=d,b=d,i=d;t:for(;;){for(v=0|a[D>>2],f=0,m=0,o=0;;){u=(s=P)+56|0;do{a[s>>2]=0,s=s+4|0}while((0|s)<(0|u));if(c=0|a[(t=x+(f<<3)|0)>>2],t=0|a[t+4>>2],0|M(c,t,1,P,0)){u=(s=P)+56|0;do{a[s>>2]=0,s=s+4|0}while((0|s)<(0|u));0|(s=0|yt(7,4))&&(N(c,t,1,P,s,7,0),At(s))}h=0;do{d=0|a[(p=P+(h<<3)|0)>>2],p=0|a[p+4>>2];n:do{if(!(0==(0|d)&0==(0|p))){if(c=0|_t(0|d,0|p,0|j,0|T),_(),t=0|a[(u=s=n+(c<<3)|0)>>2],u=0|a[u+4>>2],!(0==(0|t)&0==(0|u)))for(l=0;;){if((0|l)>(0|j))break t;if((0|t)==(0|d)&(0|u)==(0|p))break n;if(t=0|a[(u=s=n+((c=(c+1|0)%(0|j)|0)<<3)|0)>>2],u=0|a[u+4>>2],0==(0|t)&0==(0|u))break;l=l+1|0}0==(0|d)&0==(0|p)||(Ge(d,p,L),0|it(e,F,L)&&(a[(l=s)>>2]=d,a[l+4>>2]=p,a[(l=w+(o<<3)|0)>>2]=d,a[l+4>>2]=p,o=o+1|0))}}while(0);h=h+1|0}while(h>>>0<7);if((0|(m=m+1|0))>=(0|v))break;f=f+1|0}if((0|v)>0&&Tt(0|O,0,v<<3|0),a[D>>2]=o,!((0|o)>0))break e;d=i,p=b,h=C,f=y,m=A,v=w,i=g,b=r,y=E,A=O,g=d,r=p,C=S,S=h,E=f,O=m,w=x,x=v}return At(E),At(S),At(F),I=B,0|(F=-1)}r=d}while(0);return At(F),At(i),At(r),I=B,0|(F=0)}(e|=0,t|=0,n|=0)){if(s=0|a[(c=e)+4>>2],a[(u=o)>>2]=a[c>>2],a[u+4>>2]=s,rt(o,i),u=0|H(i,t),t=0|a[o>>2],(0|(s=0|a[e+8>>2]))>0){o=0|a[e+12>>2],i=0;do{t=(0|a[o+(i<<3)>>2])+t|0,i=i+1|0}while((0|i)!=(0|s))}(0|(t=(0|u)<(0|t)?t:u))<=-12?I=r:(Tt(0|n,0,8+(((0|(c=t+11|0))>0?c:0)<<3)|0),I=r)}else I=r},_res0IndexCount:function(){return 122},_round:It,_sbrk:jt,_sizeOfCoordIJ:function(){return 8},_sizeOfGeoBoundary:function(){return 168},_sizeOfGeoCoord:function(){return 16},_sizeOfGeoPolygon:function(){return 16},_sizeOfGeofence:function(){return 8},_sizeOfH3Index:function(){return 8},_sizeOfLinkedGeoPolygon:function(){return 12},_uncompact:function(e,t,n,r,i){e|=0,n|=0,r|=0,i|=0;var o=0,s=0,u=0,c=0,l=0,d=0;if((0|(t|=0))<=0)return 0|(i=0);if((0|i)>=16){for(o=0;;){if(!(0==(0|a[(d=e+(o<<3)|0)>>2])&0==(0|a[d+4>>2]))){o=14;break}if((0|(o=o+1|0))>=(0|t)){s=0,o=16;break}}if(14==(0|o))return 0|((0|r)>0?-2:-1);if(16==(0|o))return 0|s}o=0,d=0;e:for(;;){s=0|a[(u=l=e+(d<<3)|0)>>2],u=0|a[u+4>>2];do{if(!(0==(0|s)&0==(0|u))){if((0|o)>=(0|r)){s=-1,o=16;break e}if(c=0|kt(0|s,0|u,52),_(),(0|(c&=15))>(0|i)){s=-2,o=16;break e}if((0|c)==(0|i)){a[(l=n+(o<<3)|0)>>2]=s,a[l+4>>2]=u,o=o+1|0;break}if((0|(s=(0|tt(7,i-c|0))+o|0))>(0|r)){s=-1,o=16;break e}Ne(0|a[l>>2],0|a[l+4>>2],i,n+(o<<3)|0),o=s}}while(0);if((0|(d=d+1|0))>=(0|t)){s=0,o=16;break}}return 16==(0|o)?0|s:0},establishStackSpace:function(e,t){I=e|=0},stackAlloc:function(e){var t;return t=I,I=15+(I=I+(e|=0)|0)&-16,0|t},stackRestore:function(e){I=e|=0},stackSave:function(){return 0|I}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:ue,b:function(e){c=e},c:l,d:function(e,t,n,r){ue("Assertion failed: "+m(e)+", at: "+[t?m(t):"unknown filename",n,r?m(r):"unknown function"])},e:function(e){return n.___errno_location&&(b[n.___errno_location()>>2]=e),e},f:q,g:function(e,t,n){A.set(A.subarray(t,t+n),e)},h:function(e){var t=q();if(e>2130706432)return!1;for(var n=Math.max(t,16777216);n<e;)n=n<=536870912?_(2*n,16777216):Math.min(_((3*n+2147483648)/4,16777216),2130706432);return!!K(n)},i:function(e){ue("OOM")},j:W,k:G,l:K,m:H,n:function(){var e=H();return n.extraStackTrace&&(e+="\n"+n.extraStackTrace()),G(e)},o:24032,p:24016},v),J=(n.___uremdi3=Z.___uremdi3,n._bitshift64Lshr=Z._bitshift64Lshr,n._bitshift64Shl=Z._bitshift64Shl,n._calloc=Z._calloc,n._cellAreaKm2=Z._cellAreaKm2,n._cellAreaM2=Z._cellAreaM2,n._cellAreaRads2=Z._cellAreaRads2,n._compact=Z._compact,n._destroyLinkedPolygon=Z._destroyLinkedPolygon,n._edgeLengthKm=Z._edgeLengthKm,n._edgeLengthM=Z._edgeLengthM,n._emscripten_replace_memory=Z._emscripten_replace_memory),ee=(n._exactEdgeLengthKm=Z._exactEdgeLengthKm,n._exactEdgeLengthM=Z._exactEdgeLengthM,n._exactEdgeLengthRads=Z._exactEdgeLengthRads,n._experimentalH3ToLocalIj=Z._experimentalH3ToLocalIj,n._experimentalLocalIjToH3=Z._experimentalLocalIjToH3,n._free=Z._free,n._geoToH3=Z._geoToH3,n._getDestinationH3IndexFromUnidirectionalEdge=Z._getDestinationH3IndexFromUnidirectionalEdge,n._getH3IndexesFromUnidirectionalEdge=Z._getH3IndexesFromUnidirectionalEdge,n._getH3UnidirectionalEdge=Z._getH3UnidirectionalEdge,n._getH3UnidirectionalEdgeBoundary=Z._getH3UnidirectionalEdgeBoundary,n._getH3UnidirectionalEdgesFromHexagon=Z._getH3UnidirectionalEdgesFromHexagon,n._getOriginH3IndexFromUnidirectionalEdge=Z._getOriginH3IndexFromUnidirectionalEdge,n._getPentagonIndexes=Z._getPentagonIndexes,n._getRes0Indexes=Z._getRes0Indexes,n._h3Distance=Z._h3Distance,n._h3GetBaseCell=Z._h3GetBaseCell,n._h3GetFaces=Z._h3GetFaces,n._h3IndexesAreNeighbors=Z._h3IndexesAreNeighbors,n._h3IsPentagon=Z._h3IsPentagon,n._h3IsResClassIII=Z._h3IsResClassIII,n._h3IsValid=Z._h3IsValid,n._h3Line=Z._h3Line,n._h3LineSize=Z._h3LineSize,n._h3SetToLinkedGeo=Z._h3SetToLinkedGeo,n._h3ToCenterChild=Z._h3ToCenterChild,n._h3ToChildren=Z._h3ToChildren,n._h3ToGeo=Z._h3ToGeo,n._h3ToGeoBoundary=Z._h3ToGeoBoundary,n._h3ToParent=Z._h3ToParent,n._h3UnidirectionalEdgeIsValid=Z._h3UnidirectionalEdgeIsValid,n._hexAreaKm2=Z._hexAreaKm2,n._hexAreaM2=Z._hexAreaM2,n._hexRing=Z._hexRing,n._i64Subtract=Z._i64Subtract,n._kRing=Z._kRing,n._kRingDistances=Z._kRingDistances,n._llvm_minnum_f64=Z._llvm_minnum_f64,n._llvm_round_f64=Z._llvm_round_f64,n._malloc=Z._malloc,n._maxFaceCount=Z._maxFaceCount,n._maxH3ToChildrenSize=Z._maxH3ToChildrenSize,n._maxKringSize=Z._maxKringSize,n._maxPolyfillSize=Z._maxPolyfillSize,n._maxUncompactSize=Z._maxUncompactSize,n._memcpy=Z._memcpy,n._memset=Z._memset,n._numHexagons=Z._numHexagons,n._pentagonIndexCount=Z._pentagonIndexCount,n._pointDistKm=Z._pointDistKm,n._pointDistM=Z._pointDistM,n._pointDistRads=Z._pointDistRads,n._polyfill=Z._polyfill,n._res0IndexCount=Z._res0IndexCount,n._round=Z._round,n._sbrk=Z._sbrk,n._sizeOfCoordIJ=Z._sizeOfCoordIJ,n._sizeOfGeoBoundary=Z._sizeOfGeoBoundary,n._sizeOfGeoCoord=Z._sizeOfGeoCoord,n._sizeOfGeoPolygon=Z._sizeOfGeoPolygon,n._sizeOfGeofence=Z._sizeOfGeofence,n._sizeOfH3Index=Z._sizeOfH3Index,n._sizeOfLinkedGeoPolygon=Z._sizeOfLinkedGeoPolygon,n._uncompact=Z._uncompact,n.establishStackSpace=Z.establishStackSpace,n.stackAlloc=Z.stackAlloc),te=n.stackRestore=Z.stackRestore,ne=n.stackSave=Z.stackSave;if(n.asm=Z,n.cwrap=function(e,t,n,r){var a=(n=n||[]).every(function(e){return"number"===e});return"string"!==t&&a&&!r?p(e):function(){return h(e,t,n,arguments)}},n.setValue=function(e,t,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":g[e>>0]=t;break;case"i16":y[e>>1]=t;break;case"i32":b[e>>2]=t;break;case"i64":B=[t>>>0,(F=t,+j(F)>=1?F>0?(0|D(+N(F/4294967296),4294967295))>>>0:~~+M((F-+(~~F>>>0))/4294967296)>>>0:0)],b[e>>2]=B[0],b[e+4>>2]=B[1];break;case"float":x[e>>2]=t;break;case"double":w[e>>3]=t;break;default:ue("invalid type for setValue: "+n)}},n.getValue=function(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return g[e>>0];case"i16":return y[e>>1];case"i32":case"i64":return b[e>>2];case"float":return x[e>>2];case"double":return w[e>>3];default:ue("invalid type for getValue: "+t)}return null},n.getTempRet0=l,z){V(z)||(Y=z,z=n.locateFile?n.locateFile(Y,o):o+Y),R++,n.monitorRunDependencies&&n.monitorRunDependencies(R);var re=function(e){e.byteLength&&(e=new Uint8Array(e)),A.set(e,8),n.memoryInitializerRequest&&delete n.memoryInitializerRequest.response,function(e){if(R--,n.monitorRunDependencies&&n.monitorRunDependencies(R),0==R&&(null!==P&&(clearInterval(P),P=null),L)){var t=L;L=null,t()}}()},ae=function(){a(z,re,function(){throw"could not load memory initializer "+z})},ie=Q(z);if(ie)re(ie.buffer);else if(n.memoryInitializerRequest){var oe=function(){var e=n.memoryInitializerRequest,t=e.response;if(200!==e.status&&0!==e.status){var r=Q(n.memoryInitializerRequestURL);if(!r)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+z),void ae();t=r.buffer}re(t)};n.memoryInitializerRequest.response?setTimeout(oe,0):n.memoryInitializerRequest.addEventListener("load",oe)}else ae()}function se(e){function t(){$||($=!0,d||(E(C),E(T),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),I.unshift(e);var e;E(I)}()))}e=e||i,R>0||(!function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)e=n.preRun.shift(),S.unshift(e);var e;E(S)}(),R>0||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t()))}function ue(e){throw n.onAbort&&n.onAbort(e),s(e+=""),u(e),d=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(L=function e(){$||se(),$||(L=e)},n.run=se,n.abort=ue,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return se(),e}("object"===typeof r?r:{}),a="number",i={};[["sizeOfH3Index",a],["sizeOfGeoCoord",a],["sizeOfGeoBoundary",a],["sizeOfGeoPolygon",a],["sizeOfGeofence",a],["sizeOfLinkedGeoPolygon",a],["sizeOfCoordIJ",a],["h3IsValid","number",["number","number"]],["geoToH3","number",[a,a,"number"]],["h3ToGeo",null,["number","number",a]],["h3ToGeoBoundary",null,["number","number",a]],["maxKringSize",a,[a]],["kRing",null,["number","number",a,a]],["kRingDistances",null,["number","number",a,a,a]],["hexRing",null,["number","number",a,a]],["maxPolyfillSize",a,[a,"number"]],["polyfill",null,[a,"number",a]],["h3SetToLinkedGeo",null,[a,a,a]],["destroyLinkedPolygon",null,[a]],["compact",a,[a,a,a]],["uncompact",a,[a,a,a,a,"number"]],["maxUncompactSize",a,[a,a,"number"]],["h3IsPentagon","number",["number","number"]],["h3IsResClassIII","number",["number","number"]],["h3GetBaseCell",a,["number","number"]],["maxFaceCount",a,["number","number"]],["h3GetFaces",null,["number","number",a]],["h3ToParent","number",["number","number","number"]],["h3ToChildren",null,["number","number","number",a]],["h3ToCenterChild","number",["number","number","number"]],["maxH3ToChildrenSize",a,["number","number","number"]],["h3IndexesAreNeighbors","number",["number","number","number","number"]],["getH3UnidirectionalEdge","number",["number","number","number","number"]],["getOriginH3IndexFromUnidirectionalEdge","number",["number","number"]],["getDestinationH3IndexFromUnidirectionalEdge","number",["number","number"]],["h3UnidirectionalEdgeIsValid","number",["number","number"]],["getH3IndexesFromUnidirectionalEdge",null,["number","number",a]],["getH3UnidirectionalEdgesFromHexagon",null,["number","number",a]],["getH3UnidirectionalEdgeBoundary",null,["number","number",a]],["h3Distance",a,["number","number","number","number"]],["h3Line",a,["number","number","number","number",a]],["h3LineSize",a,["number","number","number","number"]],["experimentalH3ToLocalIj",a,["number","number","number","number",a]],["experimentalLocalIjToH3",a,["number","number",a,a]],["hexAreaM2",a,["number"]],["hexAreaKm2",a,["number"]],["edgeLengthM",a,["number"]],["edgeLengthKm",a,["number"]],["pointDistM",a,[a,a]],["pointDistKm",a,[a,a]],["pointDistRads",a,[a,a]],["cellAreaM2",a,["number","number"]],["cellAreaKm2",a,["number","number"]],["cellAreaRads2",a,["number","number"]],["exactEdgeLengthM",a,["number","number"]],["exactEdgeLengthKm",a,["number","number"]],["exactEdgeLengthRads",a,["number","number"]],["numHexagons",a,["number"]],["getRes0Indexes",null,[a]],["res0IndexCount",a],["getPentagonIndexes",null,[a,a]],["pentagonIndexCount",a]].forEach(function(e){i[e[0]]=r.cwrap.apply(r,e)});var o=16,s=8,u=(i.sizeOfH3Index(),i.sizeOfGeoCoord()),c=i.sizeOfGeoBoundary();i.sizeOfGeoPolygon(),i.sizeOfGeofence(),i.sizeOfLinkedGeoPolygon(),i.sizeOfCoordIJ();var l=/[^0-9a-fA-F]/;function d(e){if(Array.isArray(e)&&2===e.length&&Number.isInteger(e[0])&&Number.isInteger(e[1]))return e;if("string"!==typeof e||l.test(e))return[0,0];var t=parseInt(e.substring(0,e.length-8),o);return[parseInt(e.substring(e.length-8),o),t]}function p(e){if(e>=0)return e.toString(o);var t=f(8,(e&=2147483647).toString(o));return t=(parseInt(t[0],o)+8).toString(o)+t.substring(1)}function h(e,t){return p(t)+f(8,p(e))}function f(e,t){for(var n=e-t.length,r="",a=0;a<n;a++)r+="0";return r+=t}function m(e){return[e,r.getTempRet0()]}function v(e){var t=m(e),n=t[0],r=t[1];return r?h(n,r):null}function g(e){return 180*r.getValue(e,"double")/Math.PI}function A(e){return[g(e),g(e+s)]}function y(e){return[g(e+s),g(e)]}function b(e,t,n){for(var a=r.getValue(e,"i32"),i=e+s,o=[],u=t?y:A,c=0;c<2*a;c+=2)o.push(u(i+s*c));return n&&o.push(o[0]),o}function x(e,t,n){var a=r._malloc(u);r.HEAPF64.set([e,t].map(_),a/s);var o=v(i.geoToH3(a,n));return r._free(a),o}function w(e,t){var n=r._malloc(c),a=d(e),o=a[0],s=a[1];i.h3ToGeoBoundary(o,s,n);var u=b(n,t,t);return r._free(n),u}function _(e){return e*Math.PI/180}},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(E){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=a;var i={},o={};function s(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=c(e,(0|e)<0?-1:0,!0),a&&(o[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=c(e,e<0?-1:0,!1),a&&(i[e]=n),n)}function u(e,t){if(isNaN(e))return t?A:g;if(t){if(e<0)return A;if(e>=f)return _}else{if(e<=-m)return k;if(e+1>=m)return w}return e<0?u(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=u,r.fromBits=c;var l=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,n).neg();for(var a=u(l(n,8)),i=g,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+s),n);if(s<8){var p=u(l(n,s));i=i.mul(p).add(u(c))}else i=(i=i.mul(a)).add(u(c))}return i.unsigned=t,i}function p(e,t){return"number"===typeof e?u(e,t):"string"===typeof e?d(e,t):c(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=p;var h=4294967296,f=h*h,m=f/2,v=s(1<<24),g=s(0);r.ZERO=g;var A=s(0,!0);r.UZERO=A;var y=s(1);r.ONE=y;var b=s(1,!0);r.UONE=b;var x=s(-1);r.NEG_ONE=x;var w=c(-1,2147483647,!1);r.MAX_VALUE=w;var _=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=_;var k=c(0,-2147483648,!1);r.MIN_VALUE=k;var O=r.prototype;O.toInt=function(){return this.unsigned?this.low>>>0:this.low},O.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},O.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=u(l(e,6),this.unsigned),i=this,o="";;){var s=i.div(a),c=(i.sub(s.mul(a)).toInt()>>>0).toString(e);if((i=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},O.getHighBits=function(){return this.high},O.getHighBitsUnsigned=function(){return this.high>>>0},O.getLowBits=function(){return this.low},O.getLowBitsUnsigned=function(){return this.low>>>0},O.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},O.isZero=function(){return 0===this.high&&0===this.low},O.eqz=O.isZero,O.isNegative=function(){return!this.unsigned&&this.high<0},O.isPositive=function(){return this.unsigned||this.high>=0},O.isOdd=function(){return 1===(1&this.low)},O.isEven=function(){return 0===(1&this.low)},O.equals=function(e){return a(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},O.eq=O.equals,O.notEquals=function(e){return!this.eq(e)},O.neq=O.notEquals,O.ne=O.notEquals,O.lessThan=function(e){return this.comp(e)<0},O.lt=O.lessThan,O.lessThanOrEqual=function(e){return this.comp(e)<=0},O.lte=O.lessThanOrEqual,O.le=O.lessThanOrEqual,O.greaterThan=function(e){return this.comp(e)>0},O.gt=O.greaterThan,O.greaterThanOrEqual=function(e){return this.comp(e)>=0},O.gte=O.greaterThanOrEqual,O.ge=O.greaterThanOrEqual,O.compare=function(e){if(a(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},O.comp=O.compare,O.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(y)},O.neg=O.negate,O.add=function(e){a(e)||(e=p(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,u=e.low>>>16,l=0,d=0,h=0,f=0;return h+=(f+=i+(65535&e.low))>>>16,d+=(h+=r+u)>>>16,l+=(d+=n+s)>>>16,l+=t+o,c((h&=65535)<<16|(f&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},O.subtract=function(e){return a(e)||(e=p(e)),this.add(e.neg())},O.sub=O.subtract,O.multiply=function(e){if(this.isZero())return g;if(a(e)||(e=p(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,l=65535&e.high,d=e.low>>>16,h=65535&e.low,f=0,m=0,A=0,y=0;return A+=(y+=o*h)>>>16,m+=(A+=i*h)>>>16,A&=65535,m+=(A+=o*d)>>>16,f+=(m+=r*h)>>>16,m&=65535,f+=(m+=i*d)>>>16,m&=65535,f+=(m+=o*l)>>>16,f+=t*h+r*d+i*l+o*s,c((A&=65535)<<16|(y&=65535),(f&=65535)<<16|(m&=65535),this.unsigned)},O.mul=O.multiply,O.divide=function(e){if(a(e)||(e=p(e)),e.isZero())throw Error("division by zero");var t,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?A:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return A;if(e.gt(this.shru(1)))return b;i=A}else{if(this.eq(k))return e.eq(y)||e.eq(x)?k:e.eq(k)?y:(t=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:x:(r=this.sub(e.mul(t)),i=t.add(r.div(e)));if(e.eq(k))return this.unsigned?A:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),s=o<=48?1:l(2,o-48),d=u(t),h=d.mul(e);h.isNegative()||h.gt(r);)h=(d=u(t-=s,this.unsigned)).mul(e);d.isZero()&&(d=y),i=i.add(d),r=r.sub(h)}return i},O.div=O.divide,O.modulo=function(e){return a(e)||(e=p(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},O.mod=O.modulo,O.rem=O.modulo,O.not=function(){return c(~this.low,~this.high,this.unsigned)},O.and=function(e){return a(e)||(e=p(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},O.or=function(e){return a(e)||(e=p(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},O.xor=function(e){return a(e)||(e=p(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},O.shiftLeft=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},O.shl=O.shiftLeft,O.shiftRight=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},O.shr=O.shiftRight,O.shiftRightUnsigned=function(e){if(a(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},O.shru=O.shiftRightUnsigned,O.shr_u=O.shiftRightUnsigned,O.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},O.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},O.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},O.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},O.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(718);e.exports=h,e.exports.parse=i,e.exports.compile=function(e,t){return s(i(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=a.exec(e));){var d=n[0],p=n[1],h=n.index;if(s+=e.slice(o,h),o=h+d.length,p)s+=p[1];else{var f=e[o],m=n[2],v=n[3],g=n[4],A=n[5],y=n[6],b=n[7];s&&(r.push(s),s="");var x=null!=m&&null!=f&&f!==m,w="+"===y||"*"===y,_="?"===y||"*"===y,k=n[2]||l,O=g||A;r.push({name:v||i++,prefix:m||"",delimiter:k,optional:_,repeat:w,partial:x,asterisk:!!b,pattern:O?c(O):b?".*":"[^"+u(k)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,a){for(var i="",s=n||{},u=(a||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var d,p=s[l.name];if(null==p){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<p.length;h++){if(d=u(p[h]),!t[c].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===h?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(p).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):u(p),!t[c].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');i+=l.prefix+d}}else i+=l}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,i=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var p=u(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+p+h+")*"),o+=h=c.optional?c.partial?p+"("+h+")?":"(?:"+p+"("+h+"))?":p+"("+h+")"}}var f=u(n.delimiter||"/"),m=o.slice(-f.length)===f;return a||(o=(m?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),o+=i?"$":a&&m?"":"(?="+f+"|$)",l(new RegExp("^"+o,d(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(h(e[a],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return p(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(190),l=n(104),d=n(75),p=n(40);function h(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var f={entering:{opacity:1,transform:h(1)},entered:{opacity:1,transform:"".concat(h(1)," translateZ(0)")}},m=u.a.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onEnter,s=e.onExit,l=e.style,m=e.theme,v=e.timeout,g=void 0===v?"auto":v,A=o()(e,["children","in","onEnter","onExit","style","theme","timeout"]),y=u.a.useRef(),b=u.a.useRef(),x=Object(p.c)(n.ref,t);return u.a.useEffect(function(){return function(){clearTimeout(y.current)}},[]),u.a.createElement(c.a,a()({appear:!0,in:r,onEnter:function(e){Object(d.b)(e);var t=Object(d.a)({style:l,timeout:g},{mode:"enter"}),n=t.duration,r=t.delay,a=0;"auto"===g?(a=m.transitions.getAutoHeightDuration(e.clientHeight),b.current=a):a=n,e.style.transition=[m.transitions.create("opacity",{duration:a,delay:r}),m.transitions.create("transform",{duration:.666*a,delay:r})].join(","),i&&i(e)},onExit:function(e){var t=0,n=Object(d.a)({style:l,timeout:g},{mode:"exit"}),r=n.duration,a=n.delay;"auto"===g?(t=m.transitions.getAutoHeightDuration(e.clientHeight),b.current=t):t=r,e.style.transition=[m.transitions.create("opacity",{duration:t,delay:a}),m.transitions.create("transform",{duration:.666*t,delay:a||.333*t})].join(","),e.style.opacity="0",e.style.transform=h(.75),s&&s(e)},addEndListener:function(e,t){"auto"===g&&(y.current=setTimeout(t,b.current||0))},timeout:"auto"===g?null:g},A),function(e,t){return u.a.cloneElement(n,a()({style:a()({opacity:0,transform:h(.75),visibility:"exited"!==e||r?void 0:"hidden"},f[e],l,n.props.style),ref:x},t))})});m.muiSupportAuto=!0,t.a=Object(l.a)(m)},,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))a.call(n,c)&&(s[c]=n[c]);if(r){o=r(n);for(var l=0;l<o.length;l++)i.call(n,o[l])&&(s[o[l]]=n[o[l]])}}return s}},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(52),l=n.n(c),d=n(108),p=n.n(d),h=n(190),f=n(40),m=n(104),v=n(65),g=n(75),A=24;function y(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var a=window.getComputedStyle(t);n=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform")}var i=0,o=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");i=parseInt(s[4],10),o=parseInt(s[5],10)}return"left"===e?"translateX(100vw) translateX(-".concat(r.left-i,"px)"):"right"===e?"translateX(-".concat(r.left+r.width+A-i,"px)"):"up"===e?"translateY(100vh) translateY(-".concat(r.top-o,"px)"):"translateY(-".concat(r.top+r.height+A-o,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var b={enter:v.b.enteringScreen,exit:v.b.leavingScreen},x=u.a.forwardRef(function(e,t){var n=e.children,r=e.direction,i=void 0===r?"down":r,s=e.in,c=e.onEnter,d=e.onEntering,m=e.onExit,v=e.onExited,A=e.style,x=e.theme,w=e.timeout,_=void 0===w?b:w,k=o()(e,["children","direction","in","onEnter","onEntering","onExit","onExited","style","theme","timeout"]),O=u.a.useRef(null),E=u.a.useCallback(function(e){O.current=l.a.findDOMNode(e)},[]),S=Object(f.c)(n.ref,E),C=Object(f.c)(S,t),T=u.a.useCallback(function(){O.current&&y(i,O.current)},[i]);return u.a.useEffect(function(){if(!s&&"down"!==i&&"right"!==i){var e=p()(function(){O.current&&y(i,O.current)},166);return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}},[i,s]),u.a.useEffect(function(){s||T()},[s,T]),u.a.createElement(h.a,a()({onEnter:function(){var e=O.current;y(i,e),Object(g.b)(e),c&&c(e)},onEntering:function(){var e=O.current,t=Object(g.a)({timeout:_,style:A},{mode:"enter"});e.style.webkitTransition=x.transitions.create("-webkit-transform",a()({},t,{easing:x.transitions.easing.easeOut})),e.style.transition=x.transitions.create("transform",a()({},t,{easing:x.transitions.easing.easeOut})),e.style.webkitTransform="translate(0, 0)",e.style.transform="translate(0, 0)",d&&d(e)},onExit:function(){var e=O.current,t=Object(g.a)({timeout:_,style:A},{mode:"exit"});e.style.webkitTransition=x.transitions.create("-webkit-transform",a()({},t,{easing:x.transitions.easing.sharp})),e.style.transition=x.transitions.create("transform",a()({},t,{easing:x.transitions.easing.sharp})),y(i,e),m&&m(e)},onExited:function(){var e=O.current;e.style.webkitTransition="",e.style.transition="",v&&v(e)},appear:!0,in:s,timeout:_},k),function(e,t){return u.a.cloneElement(n,a()({ref:C,style:a()({visibility:"exited"!==e||s?void 0:"hidden"},A,n.props.style)},t))})});t.a=Object(m.a)(x)},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(738),o=n(142);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,a()({defaultTheme:o.a},t))}},function(e,t,n){"use strict";n.r(t);var r=n(398);n.d(t,"default",function(){return r.a})},function(e,t,n){"use strict";var r=n(57),a=n.n(r),i=n(58),o=n.n(i),s=n(59),u=n.n(s),c=n(60),l=n.n(c),d=n(61),p=n.n(d),h=n(1),f=n.n(h),m=n(52),v=n.n(m),g=n(40),A=function(e){function t(){return a()(this,t),u()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.ref=v.a.findDOMNode(this),Object(g.b)(this.props.rootRef,this.ref)}},{key:"componentDidUpdate",value:function(e){var t=v.a.findDOMNode(this);e.rootRef===this.props.rootRef&&this.ref===t||(e.rootRef!==this.props.rootRef&&Object(g.b)(e.rootRef,null),this.ref=t,Object(g.b)(this.props.rootRef,this.ref))}},{key:"componentWillUnmount",value:function(){this.ref=null,Object(g.b)(this.props.rootRef,null)}},{key:"render",value:function(){return this.props.children}}]),t}(f.a.Component);t.a=A},function(e,t,n){"use strict";n.r(t);var r=n(400);n.d(t,"default",function(){return r.a})},function(e,t,n){"use strict";var r=n(45),a=n.n(r),i=n(15),o=n.n(i),s=n(38),u=n.n(s),c=n(9),l=n.n(c),d=n(1),p=n.n(d),h=n(14),f=n(22),m=n(65),v=n(722),g=n(30),A=n(378),y=n(368),b=p.a.forwardRef(function(e,t){var n=e.action,r=e.anchorOrigin,i=r.vertical,s=r.horizontal,u=e.autoHideDuration,c=e.children,d=e.classes,f=e.className,m=e.ClickAwayListenerProps,A=e.ContentProps,b=e.disableWindowBlurListener,x=e.message,w=e.onClose,_=e.onEnter,k=e.onEntered,O=e.onEntering,E=e.onExit,S=e.onExited,C=e.onExiting,T=e.onMouseEnter,I=e.onMouseLeave,j=e.open,M=e.resumeHideDuration,N=e.TransitionComponent,D=e.transitionDuration,R=e.TransitionProps,P=o()(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),L=p.a.useRef(),F=p.a.useState(!j),B=a()(F,2),z=B[0],U=B[1],V=p.a.useCallback(function(e){var t=null!=e?e:u;w&&null!=t&&(clearTimeout(L.current),L.current=setTimeout(function(){w&&null!=(null!=e?e:u)&&w(null,"timeout")},t))},[u,w]);p.a.useEffect(function(){return j&&V(),function(){clearTimeout(L.current)}},[j,V]);var W=function(){clearTimeout(L.current)},G=p.a.useCallback(function(){if(null!=u){if(null!=M)return void V(M);V(.5*u)}},[u,M,V]);return p.a.useEffect(function(){if(!b&&j)return window.addEventListener("focus",G),window.addEventListener("blur",W),function(){window.removeEventListener("focus",G),window.removeEventListener("blur",W)}},[b,G,j]),!j&&z?null:p.a.createElement(v.a,l()({onClickAway:function(e){w&&w(e,"clickaway")}},m),p.a.createElement("div",l()({className:Object(h.a)(d.root,d["anchorOrigin".concat(Object(g.a)(i)).concat(Object(g.a)(s))],f),onMouseEnter:function(e){T&&T(e),W()},onMouseLeave:function(e){I&&I(e),G()},ref:t},P),p.a.createElement(N,l()({appear:!0,in:j,onEnter:Object(g.b)(function(){U(!1)},_),onEntered:k,onEntering:O,onExit:E,onExited:Object(g.b)(function(){U(!0)},S),onExiting:C,timeout:D,direction:"top"===i?"down":"up"},R),c||p.a.createElement(y.a,l()({message:x,action:n},A)))))});b.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"center"},disableWindowBlurListener:!1,TransitionComponent:A.a,transitionDuration:{enter:m.b.enteringScreen,exit:m.b.leavingScreen}},t.a=Object(f.a)(function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},a={justifyContent:"flex-start"},i={top:24},o={bottom:24},s={right:24},c={left:24},d={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:l()({},t,u()({},e.breakpoints.up("sm"),l()({},i,d))),anchorOriginBottomCenter:l()({},n,u()({},e.breakpoints.up("sm"),l()({},o,d))),anchorOriginTopRight:l()({},t,r,u()({},e.breakpoints.up("sm"),l()({left:"auto"},i,s))),anchorOriginBottomRight:l()({},n,r,u()({},e.breakpoints.up("sm"),l()({left:"auto"},o,s))),anchorOriginTopLeft:l()({},t,a,u()({},e.breakpoints.up("sm"),l()({right:"auto"},i,c))),anchorOriginBottomLeft:l()({},n,a,u()({},e.breakpoints.up("sm"),l()({right:"auto"},o,c)))}},{flip:!1,name:"MuiSnackbar"})(b)},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMuiClasses=t.capitalise=t.getTransitionDirection=t.muiClasses=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(357);var i={right:"left",left:"right",bottom:"up",top:"down"},o=t.muiClasses={root:{},anchorOriginTopCenter:{},anchorOriginBottomCenter:{},anchorOriginTopRight:{},anchorOriginBottomRight:{},anchorOriginTopLeft:{},anchorOriginBottomLeft:{}};t.getTransitionDirection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.defaultAnchorOrigin;return"center"!==e.horizontal?i[e.horizontal]:i[e.vertical]},t.capitalise=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.getMuiClasses=function(e){return Object.keys(e).filter(function(e){return void 0!==o[e]}).reduce(function(t,n){return r({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,e[n]))},{})}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},,function(e,t,n){var r=n(360),a=n(580),i=n(581),o=Object.defineProperty;t.f=n(195)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(258),a=n(257).document,i=r(a)&&r(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(585);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(589)("keys"),a=n(591);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(411);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setByString=t.byString=void 0;t.byString=function(e,t){if(t){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0,a=n.length;r<a;++r){var i=n[r];if(!(e&&i in e))return;e=e[i]}return e}};t.setByString=function(e,t,n){for(var r=e,a=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=a.length,o=0;o<i-1;o++){var s=a[o];r[s]||(r[s]={}),r=r[s]}r[a[i-1]]=n}},function(e,t,n){"use strict";var r=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.hexToRgb=i,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=s(e).values;return"#".concat(t.map(function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)}).join(""))},t.hslToRgb=o,t.decomposeColor=s,t.recomposeColor=u,t.getContrastRatio=function(e,t){var n=c(e),r=c(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.getLuminance=c,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return c(e)>.5?l(e,t):d(e,t)},t.fade=function(e,t){e=s(e),t=a(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a");return e.values[3]=t,u(e)},t.darken=l,t.lighten=d;r(n(53));function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function i(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb(".concat(n.map(function(e){return parseInt(e,16)}).join(", "),")"):""}function o(e){var t=(e=s(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,i=r*Math.min(a,1-a),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-i*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),u({type:c,values:l})}function s(e){if(e.type)return e;if("#"===e.charAt(0))return s(i(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map(function(e){return parseFloat(e)})}}function u(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function c(e){var t="hsl"===(e=s(e)).type?s(o(e)).values:e.values;return t=t.map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){if(e=s(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function d(e,t){if(e=s(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return u(e)}},function(e,t,n){"use strict";var r=n(635),a=n(420);function i(e){a.call(this,e)}i.prototype=Object.create(a.prototype),i.prototype.constructor=i,i.prototype.sendRequest=r.browserSend,i.prototype.abortRequest=r.browserAbort,e.exports=function(e){return new i(e)}},function(e,t,n){"use strict";var r=n(421),a=n(641),i=n(261);function o(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");r(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||i.API_ORIGIN}o.prototype.createRequest=function(e){return new a(this,e)},e.exports=o},function(e,t,n){"use strict";var r=n(640),a={};function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){if(a[e])return a[e];var t=e.split("."),n=t[0],o=t[1];if(!o)throw new Error("Invalid token");var s=function(e){try{return JSON.parse(r.decode(e))}catch(t){throw new Error("Invalid token")}}(o),u={usage:n,user:s.u};return i(s,"a")&&(u.authorization=s.a),i(s,"exp")&&(u.expires=1e3*s.exp),i(s,"iat")&&(u.created=1e3*s.iat),i(s,"scopes")&&(u.scopes=s.scopes),i(s,"client")&&(u.client=s.client),i(s,"ll")&&(u.lastLogin=s.ll),i(s,"iu")&&(u.impersonator=s.iu),a[e]=u,u}},function(e,t){e.exports=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},function(e,t,n){e.exports={simple_select:n(676),direct_select:n(686),draw_point:n(687),draw_polygon:n(688),draw_line_string:n(689)}},function(e,t,n){var r=n(366),a=n(679),i=n(68);e.exports=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=t.geometry,u=s.type,c=s.coordinates,l=t.properties&&t.properties.id,d=[];function p(e,t){var i="",o=null;e.forEach(function(e,s){var u=void 0!==t&&null!==t?"".concat(t,".").concat(s):String(s),c=r(l,e,u,h(u));if(n.midpoints&&o){var p=a(l,o,c,n.map);p&&d.push(p)}o=c;var f=JSON.stringify(e);i!==f&&d.push(c),0===s&&(i=f)})}function h(e){return!!n.selectedPaths&&-1!==n.selectedPaths.indexOf(e)}return u===i.geojsonTypes.POINT?d.push(r(l,c,o,h(o))):u===i.geojsonTypes.POLYGON?c.forEach(function(e,t){p(e,null!==o?"".concat(o,".").concat(t):String(t))}):u===i.geojsonTypes.LINE_STRING?p(c,o):0===u.indexOf(i.geojsonTypes.MULTI_PREFIX)&&function(){var r=u.replace(i.geojsonTypes.MULTI_PREFIX,"");c.forEach(function(a,o){var s={type:i.geojsonTypes.FEATURE,properties:t.properties,geometry:{type:r,coordinates:a}};d=d.concat(e(s,n,o))})}(),d}},function(e,t,n){var r=n(426),a=n(68);e.exports=function(e,t){var n=r(e.map(function(e){return e.toGeoJSON()}),t);e.forEach(function(e){var t,r=e.getCoordinates(),i=function(e){var t={lng:e[0]+n.lng,lat:e[1]+n.lat};return[t.lng,t.lat]},o=function(e){return e.map(function(e){return i(e)})};e.type===a.geojsonTypes.POINT?t=i(r):e.type===a.geojsonTypes.LINE_STRING||e.type===a.geojsonTypes.MULTI_POINT?t=r.map(i):e.type===a.geojsonTypes.POLYGON||e.type===a.geojsonTypes.MULTI_LINE_STRING?t=r.map(o):e.type===a.geojsonTypes.MULTI_POLYGON&&(t=r.map(function(e){return e.map(function(e){return o(e)})})),e.incomingCoords(t)})}},function(e,t,n){var r=n(680),a=n(68),i=a.LAT_MIN,o=a.LAT_MAX,s=a.LAT_RENDERED_MIN,u=a.LAT_RENDERED_MAX,c=a.LNG_MIN,l=a.LNG_MAX;e.exports=function(e,t){var n=i,a=o,d=i,p=o,h=l,f=c;e.forEach(function(e){var t=r(e),i=t[1],o=t[3],s=t[0],u=t[2];i>n&&(n=i),o<a&&(a=o),o>d&&(d=o),i<p&&(p=i),s<h&&(h=s),u>f&&(f=u)});var m=t;return n+m.lat>u&&(m.lat=u-n),d+m.lat>o&&(m.lat=o-d),a+m.lat<s&&(m.lat=s-a),p+m.lat<i&&(m.lat=i-p),h+m.lng<=c&&(m.lng+=360*Math.ceil(Math.abs(m.lng)/360)),f+m.lng>=l&&(m.lng-=360*Math.ceil(Math.abs(m.lng)/360)),m}},function(e,t){e.exports=function(e){if(!e||!e.type)return null;var t=n[e.type];if(!t)return null;if("geometry"===t)return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]};if("feature"===t)return{type:"FeatureCollection",features:[e]};if("featurecollection"===t)return e};var n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},function(e,t){e.exports=function(e,t){return!!e.lngLat&&e.lngLat.lng===t[0]&&e.lngLat.lat===t[1]}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({acos_:function(e){var t={x:Object(i.a)(e,"x","acos")};return r.a.runKernel(a.b,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({acosh_:function(e){var t={x:Object(i.a)(e,"x","acosh")};return r.a.runKernel(a.c,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({asin_:function(e){var t={x:Object(i.a)(e,"x","asin")};return r.a.runKernel(a.j,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({asinh_:function(e){var t={x:Object(i.a)(e,"x","asinh")};return r.a.runKernel(a.k,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({atan_:function(e){var t={x:Object(i.a)(e,"x","atan")};return r.a.runKernel(a.l,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({atanh_:function(e){var t={x:Object(i.a)(e,"x","atanh")};return r.a.runKernel(a.n,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({ceil_:function(e){var t={x:Object(i.a)(e,"x","ceil","float32")};return r.a.runKernel(a.z,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(136),u=n(8);var c=Object(u.b)({clipByValue_:function(e,t,n){var u=Object(i.a)(e,"x","clipByValue");if(o.c(t<=n,function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}),t===n)return Object(s.a)(u.shape,t,u.dtype);var c={x:u},l={clipValueMin:t,clipValueMax:n};return r.a.runKernel(a.A,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10),a=n(4),i=n(3),o=n(20),s=n(28),u=n(8);var c=Object(u.b)({erf_:function(e){var t=Object(i.a)(e,"x","erf");o.c("int32"===t.dtype||"float32"===t.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===t.dtype&&(t=Object(s.a)(t,"float32"));var n={x:t};return r.a.runKernel(a.db,n)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({expm1_:function(e){var t={x:Object(i.a)(e,"x","expm1")};return r.a.runKernel(a.gb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({isFinite_:function(e){var t={x:Object(i.a)(e,"x","isFinite")};return r.a.runKernel(a.xb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({isInf_:function(e){var t={x:Object(i.a)(e,"x","isInf")};return r.a.runKernel(a.yb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({isNaN_:function(e){var t={x:Object(i.a)(e,"x","isNaN")};return r.a.runKernel(a.zb,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(69),a=n(3),i=n(21),o=n(54),s=n(8),u=n(123),c=n(286);var l=Object(s.b)({logSigmoid_:function(e){var t=Object(a.a)(e,"x","logSigmoid");return Object(r.a)(function(e){return{value:Object(o.a)(Object(c.a)(Object(o.a)(e))),gradFunc:function(t){return Object(i.a)(t,Object(u.a)(Object(o.a)(e)))}}})(t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(6),a=n(69),i=n(3),o=n(28),s=n(77),u=n(130),c=n(124),l=n(21),d=n(8),p=n(33),h=n(36);var f=Object(d.b)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(i.a)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));return Object(a.a)(function(e,n){var a=Object(c.a)(e,t,!0),i=Object(p.a)(e,a),d=Object(p.a)(Object(o.a)(i,"float32"),Object(u.a)(Object(h.a)(Object(s.a)(i),t,!0)));return n([d]),{value:d,gradFunc:function(e,n){var a=Object(r.a)(n,1)[0],i=Object(s.a)(a);return Object(p.a)(e,Object(l.a)(Object(h.a)(e,t,!0),i))}}})(n)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({onesLike_:function(e){var t={x:Object(i.a)(e,"x","onesLike")};return r.a.runKernel(a.gc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({reciprocal_:function(e){var t={x:Object(i.a)(e,"x","reciprocal")};return r.a.runKernel(a.sc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({sign_:function(e){var t={x:Object(i.a)(e,"x","sign")};return r.a.runKernel(a.Jc,t)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(i.a)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var o={logits:n},s={dim:t};return r.a.runKernel(a.Nc,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({stridedSlice_:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,p={x:Object(i.a)(e,"x","stridedSlice","string_or_numeric")},h={begin:t,end:n,strides:o,beginMask:s,endMask:u,ellipsisMask:c,newAxisMask:l,shrinkAxisMask:d};return r.a.runKernel(a.bd,p,h)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(10),a=n(4),i=n(3),o=n(8);var s=Object(o.b)({tan_:function(e){var t={x:Object(i.a)(e,"x","tan","float32")};return r.a.runKernel(a.hd,t)}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var r="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof e?e:function(e){return e()};function a(){return new Promise(function(e){return r(function(){return e()})})}}).call(this,n(713).setImmediate)},function(e,t,n){"use strict";n.r(t);var r=n(46),a=n(32);function i(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),i=Object(r.a)(t);return n.setDate(n.getDate()+i),n}function o(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(a.a)(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function s(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),i=Object(r.a)(t),s=n.getMonth()+i,u=new Date(0);u.setFullYear(n.getFullYear(),s,1),u.setHours(0,0,0,0);var c=o(u);return n.setMonth(s,Math.min(c,n.getDate())),n}function u(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return s(e,12*Object(r.a)(t))}function c(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(a.a)(e);return t.setHours(23,59,59,999),t}function l(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,s=null==o?0:Object(r.a)(o),u=null==n.weekStartsOn?s:Object(r.a)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=Object(a.a)(e),l=c.getDay(),d=6+(l<u?-7:0)-(l-u);return c.setDate(c.getDate()+d),c.setHours(23,59,59,999),c}function d(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(a.a)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}var p=n(116);function h(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),r=Object(a.a)(t);return n.getTime()>r.getTime()}function f(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),r=Object(a.a)(t);return n.getTime()<r.getTime()}function m(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(a.a)(e);return t.setHours(0,0,0,0),t}var v=n(324);function g(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var A=n(327),y=n(338),b=n(337),x=n(234);function w(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=n||{},o=i.locale,s=o&&o.options&&o.options.weekStartsOn,u=null==s?0:Object(r.a)(s),c=null==i.weekStartsOn?u:Object(r.a)(i.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(a.a)(e),d=Object(r.a)(t),p=((d%7+7)%7<c?7:0)+d-l.getUTCDay();return l.setUTCDate(l.getUTCDate()+p),l}var _=n(340);var k=n(339);var O=n(146),E=n(132),S=36e5,C=6e4,T=1e3,I={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},j=/^([+-])(\d{2})(\d{2})?|Z/,M=/^([+-])(\d{2})(\d{2})|Z/,N=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,D=/^([+-])(\d{2}):(\d{2})|Z/,R=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function P(e,t,n){var r=t.match(e);if(!r)return null;var a=parseInt(r[0],10);return{value:n?n(a):a,rest:t.slice(r[0].length)}}function L(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*S+i*C+o*T),rest:t.slice(n[0].length)}}function F(e,t){return P(I.anyDigitsSigned,e,t)}function B(e,t,n){switch(e){case 1:return P(I.singleDigit,t,n);case 2:return P(I.twoDigits,t,n);case 3:return P(I.threeDigits,t,n);case 4:return P(I.fourDigits,t,n);default:return P(new RegExp("^\\d{1,"+e+"}"),t,n)}}function z(e,t,n){switch(e){case 1:return P(I.singleDigitSigned,t,n);case 2:return P(I.twoDigitsSigned,t,n);case 3:return P(I.threeDigitsSigned,t,n);case 4:return P(I.fourDigitsSigned,t,n);default:return P(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function U(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function V(e,t){var n,r=t>0,a=r?t:1-t;if(a<=50)n=e||100;else{var i=a+50;n=e+100*Math.floor(i/100)-(e>=i%100?100:0)}return r?n:1-n}var W=[31,28,31,30,31,30,31,31,30,31,30,31],G=[31,29,31,30,31,30,31,31,30,31,30,31];function H(e){return e%400===0||e%4===0&&e%100!==0}var q={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return e.setUTCFullYear(1===n?10:-9,0,1),e.setUTCHours(0,0,0,0),e}},y:{priority:130,parse:function(e,t,n,r){var a=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return B(4,e,a);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:a});default:return B(t.length,e,a)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var a=Object(x.a)(e,r);if(n.isTwoDigitYear){var i=V(n.year,a);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var o=a>0?n.year:1-n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}},Y:{priority:130,parse:function(e,t,n,r){var a=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return B(4,e,a);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:a});default:return B(t.length,e,a)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var a=e.getUTCFullYear();if(n.isTwoDigitYear){var i=V(n.year,a);return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(E.a)(e,r)}var o=a>0?n.year:1-n.year;return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(E.a)(e,r)}},R:{priority:130,parse:function(e,t,n,r){return z("R"===t?4:t.length,e)},set:function(e,t,n,r){var a=new Date(0);return a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0),Object(O.a)(a)}},u:{priority:130,parse:function(e,t,n,r){return z("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return B(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return B(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}},M:{priority:110,parse:function(e,t,n,r){var a=function(e){return e-1};switch(t){case"M":return P(I.month,e,a);case"MM":return B(2,e,a);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:a});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}},L:{priority:110,parse:function(e,t,n,r){var a=function(e){return e-1};switch(t){case"L":return P(I.month,e,a);case"LL":return B(2,e,a);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:a});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return P(I.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return B(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,i){return Object(E.a)(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Object(a.a)(e),o=Object(r.a)(t),s=Object(k.a)(i,n)-o;return i.setUTCDate(i.getUTCDate()-7*s),i}(e,n,i),i)}},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return P(I.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return B(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,i){return Object(O.a)(function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),i=Object(r.a)(t),o=Object(_.a)(n)-i;return n.setUTCDate(n.getUTCDate()-7*o),n}(e,n,i),i)}},d:{priority:90,parse:function(e,t,n,r){switch(t){case"d":return P(I.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return B(t.length,e)}},validate:function(e,t,n){var r=H(e.getUTCFullYear()),a=e.getUTCMonth();return r?t>=1&&t<=G[a]:t>=1&&t<=W[a]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}},D:{priority:90,parse:function(e,t,n,r){switch(t){case"D":case"DD":return P(I.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return B(t.length,e)}},validate:function(e,t,n){return H(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=w(e,n,r)).setUTCHours(0,0,0,0),e}},e:{priority:90,parse:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return B(t.length,e,a);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:a});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=w(e,n,r)).setUTCHours(0,0,0,0),e}},c:{priority:90,parse:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return B(t.length,e,a);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:a});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=w(e,n,r)).setUTCHours(0,0,0,0),e}},i:{priority:90,parse:function(e,t,n,r){var a=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return B(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:a})||n.day(e,{width:"short",context:"formatting",valueCallback:a})||n.day(e,{width:"narrow",context:"formatting",valueCallback:a});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:a});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:a})||n.day(e,{width:"narrow",context:"formatting",valueCallback:a});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:a})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:a})||n.day(e,{width:"short",context:"formatting",valueCallback:a})||n.day(e,{width:"narrow",context:"formatting",valueCallback:a})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,i){return(e=function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(r.a)(t);n%7===0&&(n-=7);var i=Object(a.a)(e),o=((n%7+7)%7<1?7:0)+n-i.getUTCDay();return i.setUTCDate(i.getUTCDate()+o),i}(e,n,i)).setUTCHours(0,0,0,0),e}},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(U(n),0,0,0),e}},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(U(n),0,0,0),e}},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(U(n),0,0,0),e}},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return P(I.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return B(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var a=e.getUTCHours()>=12;return a&&n<12?e.setUTCHours(n+12,0,0,0):a||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return P(I.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return B(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e}},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return P(I.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return B(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return P(I.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return B(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var a=n<=24?n%24:n;return e.setUTCHours(a,0,0,0),e}},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return P(I.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return B(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e}},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return P(I.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return B(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e}},S:{priority:30,parse:function(e,t,n,r){return B(t.length,e,function(e){return Math.floor(e*Math.pow(10,3-t.length))})},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e}},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return L(j,e);case"XX":return L(M,e);case"XXXX":return L(N,e);case"XXXXX":return L(R,e);case"XXX":default:return L(D,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)}},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return L(j,e);case"xx":return L(M,e);case"xxxx":return L(N,e);case"xxxxx":return L(R,e);case"xxx":default:return L(D,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)}},t:{priority:40,parse:function(e,t,n,r){return F(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]}},T:{priority:20,parse:function(e,t,n,r){return F(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]}}},K=n(325),X=n(148),Q=10,Y=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Z=/^'(.*?)'?$/,J=/''/g,ee=/\S/,te=/[a-zA-Z]/;function ne(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function re(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(a.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ae(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(a.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ie(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,s=null==o?0:Object(r.a)(o),u=null==n.weekStartsOn?s:Object(r.a)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=Object(a.a)(e),l=c.getDay(),d=(l<u?7:0)+l-u;return c.setDate(c.getDate()-d),c.setHours(0,0,0,0),c}function oe(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var t=Object(a.a)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var se=function(){function e(e){var t=(void 0===e?{}:e).locale;this.yearFormat="yyyy",this.yearMonthFormat="MMMM yyyy",this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=t}return e.prototype.addDays=function(e,t){return i(e,t)},e.prototype.isValid=function(e){return Object(v.a)(this.date(e))},e.prototype.getDiff=function(e,t){return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),r=Object(a.a)(t);return n.getTime()-r.getTime()}(e,this.date(t))},e.prototype.isAfter=function(e,t){return h(e,t)},e.prototype.isBefore=function(e,t){return f(e,t)},e.prototype.startOfDay=function(e){return m(e)},e.prototype.endOfDay=function(e){return c(e)},e.prototype.getHours=function(e){return function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e).getHours()}(e)},e.prototype.setHours=function(e,t){return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),i=Object(r.a)(t);return n.setHours(i),n}(e,t)},e.prototype.setMinutes=function(e,t){return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),i=Object(r.a)(t);return n.setMinutes(i),n}(e,t)},e.prototype.getSeconds=function(e){return function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e).getSeconds()}(e)},e.prototype.setSeconds=function(e,t){return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),i=Object(r.a)(t);return n.setSeconds(i),n}(e,t)},e.prototype.isSameDay=function(e,t){return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=m(e),r=m(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.startOfMonth=function(e){return re(e)},e.prototype.endOfMonth=function(e){return ae(e)},e.prototype.getYear=function(e){return function(e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(a.a)(e).getFullYear()}(e)},e.prototype.setYear=function(e,t){return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),i=Object(r.a)(t);return isNaN(n)?new Date(NaN):(n.setFullYear(i),n)}(e,t)},e.prototype.date=function(e){return"undefined"===typeof e?new Date:null===e?null:new Date(e)},e.prototype.parse=function(e,t){return""===e?null:function(e,t,n,i){if(arguments.length<3)throw new TypeError("3 arguments required, but only "+arguments.length+" present");var o=String(e),s=String(t),u=i||{},c=u.locale||b.a;if(!c.match)throw new RangeError("locale must contain match property");var l=c.options&&c.options.firstWeekContainsDate,d=null==l?1:Object(r.a)(l),p=null==u.firstWeekContainsDate?d:Object(r.a)(u.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=c.options&&c.options.weekStartsOn,f=null==h?0:Object(r.a)(h),m=null==u.weekStartsOn?f:Object(r.a)(u.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===s)return""===o?Object(a.a)(n):new Date(NaN);var v,x={firstWeekContainsDate:p,weekStartsOn:m,locale:c},w=[{priority:Q,set:ne,index:0}],_=s.match($).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,K.a[t])(e,c.formatLong,x):e}).join("").match(Y);for(v=0;v<_.length;v++){var k=_[v];!u.useAdditionalWeekYearTokens&&Object(X.b)(k)&&Object(X.c)(k),!u.useAdditionalDayOfYearTokens&&Object(X.a)(k)&&Object(X.c)(k);var O=k[0],E=q[O];if(E){var S=E.parse(o,k,c.match,x);if(!S)return new Date(NaN);w.push({priority:E.priority,set:E.set,validate:E.validate,value:S.value,index:w.length}),o=S.rest}else{if(O.match(te))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");if("''"===k?k="'":"'"===O&&(k=k.match(Z)[1].replace(J,"'")),0!==o.indexOf(k))return new Date(NaN);o=o.slice(k.length)}}if(o.length>0&&ee.test(o))return new Date(NaN);var C=w.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return w.filter(function(t){return t.priority===e}).reverse()}).map(function(e){return e[0]}),T=Object(a.a)(n);if(isNaN(T))return new Date(NaN);var I=Object(y.a)(T,Object(A.a)(T)),j={};for(v=0;v<C.length;v++){var M=C[v];if(M.validate&&!M.validate(I,M.value,x))return new Date(NaN);var N=M.set(I,j,M.value,x);N[0]?(I=N[0],g(j,N[1])):I=N}return I}(e,t,new Date,{locale:this.locale})},e.prototype.format=function(e,t){return Object(p.default)(e,t,{locale:this.locale})},e.prototype.isEqual=function(e,t){return null===e&&null===t||function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),r=Object(a.a)(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.isNull=function(e){return null===e},e.prototype.isAfterDay=function(e,t){return h(e,c(t))},e.prototype.isBeforeDay=function(e,t){return f(e,m(t))},e.prototype.isBeforeYear=function(e,t){return f(e,oe(t))},e.prototype.isAfterYear=function(e,t){return h(e,d(t))},e.prototype.formatNumber=function(e){return e},e.prototype.getMinutes=function(e){return e.getMinutes()},e.prototype.getMonth=function(e){return e.getMonth()},e.prototype.setMonth=function(e,t){return function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(a.a)(e),i=Object(r.a)(t),s=n.getFullYear(),u=n.getDate(),c=new Date(0);c.setFullYear(s,i,15),c.setHours(0,0,0,0);var l=o(c);return n.setMonth(i,Math.min(u,l)),n}(e,t)},e.prototype.getMeridiemText=function(e){return"am"===e?"AM":"PM"},e.prototype.getNextMonth=function(e){return s(e,1)},e.prototype.getPreviousMonth=function(e){return s(e,-1)},e.prototype.getMonthArray=function(e){for(var t=[oe(e)];t.length<12;){var n=t[t.length-1];t.push(this.getNextMonth(n))}return t},e.prototype.mergeDateAndTime=function(e,t){return this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t))},e.prototype.getWeekdays=function(){var e=this,t=new Date;return function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=e||{},r=Object(a.a)(n.start),i=Object(a.a)(n.end).getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var o=[],s=r;s.setHours(0,0,0,0);var u=t&&"step"in t?Number(t.step):1;if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;s.getTime()<=i;)o.push(Object(a.a)(s)),s.setDate(s.getDate()+u),s.setHours(0,0,0,0);return o}({start:ie(t,{locale:this.locale}),end:l(t,{locale:this.locale})}).map(function(t){return Object(p.default)(t,"EEEEEE",{locale:e.locale})})},e.prototype.getWeekArray=function(e){for(var t=ie(re(e),{locale:this.locale}),n=l(ae(e),{locale:this.locale}),r=0,a=t,o=[];f(a,n);){var s=Math.floor(r/7);o[s]=o[s]||[],o[s].push(a),a=i(a,1),r+=1}return o},e.prototype.getYearRange=function(e,t){for(var n=oe(e),r=d(t),a=[],i=n;f(i,r);)a.push(i),i=u(i,1);return a},e.prototype.getCalendarHeaderText=function(e){return Object(p.default)(e,this.yearMonthFormat,{locale:this.locale})},e.prototype.getYearText=function(e){return Object(p.default)(e,"yyyy",{locale:this.locale})},e.prototype.getDatePickerHeaderText=function(e){return Object(p.default)(e,"EEE, MMM d",{locale:this.locale})},e.prototype.getDateTimePickerHeaderText=function(e){return Object(p.default)(e,"MMM d",{locale:this.locale})},e.prototype.getMonthText=function(e){return Object(p.default)(e,"MMMM",{locale:this.locale})},e.prototype.getDayText=function(e){return Object(p.default)(e,"d",{locale:this.locale})},e.prototype.getHourText=function(e,t){return Object(p.default)(e,t?"hh":"HH",{locale:this.locale})},e.prototype.getMinuteText=function(e){return Object(p.default)(e,"mm",{locale:this.locale})},e.prototype.getSecondText=function(e){return Object(p.default)(e,"ss",{locale:this.locale})},e}();t.default=se},function(e,t,n){"use strict";n.r(t);var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n}var s=n(1),u=n.n(s),c=n(23),l=n(14),d=n(191),p=n(396),h=n(39),f=n(453),m=n(22),v=n(268),g=n(805),A=n(808),y=n(726),b=n(834),x=n(312),w=n(225),_=n(226),k=n(468),O=n.n(k),E=n(469),S=n.n(E),C=n(190),T=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return S()(e,t)})},I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){t.removeClasses(e,"exit"),t.addClass(e,n?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=n?"appear":"enter";t.addClass(e,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=n?"appear":"enter";t.removeClasses(e,r),t.addClass(e,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),t.addClass(e,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){t.addClass(e,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){t.removeClasses(e,"exit"),t.addClass(e,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,a=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:a,activeClassName:r?a+"-active":n[e+"Active"],doneClassName:r?a+"-done":n[e+"Done"]}},t}Object(_.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"];"appear"===t&&"done"===n&&(r+=" "+this.getClassNames("enter").doneClassName),"active"===n&&e&&e.scrollTop,this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach(function(t){return O()(e,t)})}(e,r)},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,a=n.active,i=n.done;this.appliedClasses[t]={},r&&T(e,r),a&&T(e,a),i&&T(e,i)},n.render=function(){var e=this.props,t=(e.classNames,Object(w.a)(e,["classNames"]));return u.a.createElement(C.a,Object(x.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.a.Component);I.defaultProps={classNames:""},I.propTypes={};var j=I,M=n(309),N=n(815),D=n(826),R=n(827),P=n(812),L=n(733),F=n(813),B=n(829),z=n(98),U=function(e){function t(t){var n;return(n=e.call(this,t)||this)._state=null,n._del=!1,n._handleChange=function(e){var t=n.state.value,r=e.target.value,a=e.target,i=r.length>t.length,o=n._del,s=t===n.props.format(r);n.setState({value:r,local:!0},function(){var e=a.selectionStart,u=n.props.refuse||/[^\d]+/g,c=r.substr(0,e).replace(u,"");if(n._state={input:a,before:c,op:i,di:o&&s,del:o},n.props.replace&&n.props.replace(t)&&i&&!s){for(var l=-1,d=0;d!==c.length;++d)l=Math.max(l,r.toLowerCase().indexOf(c[d].toLowerCase(),l+1));var p=r.substr(l+1).replace(u,"")[0];l=r.indexOf(p,l+1),r=""+r.substr(0,l)+r.substr(l+1)}var h=n.props.format(r);t===h?n.setState({value:r}):n.props.onChange(h)})},n._hKD=function(e){"Delete"===e.code&&(n._del=!0)},n._hKU=function(e){"Delete"===e.code&&(n._del=!1)},n.state={value:t.value,local:!0},n}Object(z.a)(t,e),t.getDerivedStateFromProps=function(e,t){return{value:t.local?t.value:e.value,local:!1}};var n=t.prototype;return n.render=function(){var e=this._handleChange,t=this.state.value;return(0,this.props.children)({value:t,onChange:e})},n.componentWillUnmount=function(){document.removeEventListener("keydown",this._hKD),document.removeEventListener("keyup",this._hKU)},n.componentDidMount=function(){document.addEventListener("keydown",this._hKD),document.addEventListener("keyup",this._hKU)},n.componentDidUpdate=function(){var e=this._state;if(e){for(var t=this.state.value,n=-1,r=0;r!==e.before.length;++r)n=Math.max(n,t.toLowerCase().indexOf(e.before[r].toLowerCase(),n+1));if(this.props.replace&&(e.op||e.del&&!e.di))for(;t[n+1]&&(this.props.refuse||/[^\d]+/).test(t[n+1]);)n+=1;e.input.selectionStart=e.input.selectionEnd=n+1+(e.di?1:0)}this._state=null},t}(s.Component),V=n(818),W=n(830),G=n(832),H=n(253);n.d(t,"Calendar",function(){return ke}),n.d(t,"Clock",function(){return He}),n.d(t,"DatePicker",function(){return _t}),n.d(t,"DateTimePicker",function(){return Bt}),n.d(t,"Day",function(){return he}),n.d(t,"KeyboardDatePicker",function(){return kt}),n.d(t,"KeyboardDateTimePicker",function(){return zt}),n.d(t,"KeyboardTimePicker",function(){return jt}),n.d(t,"MuiPickersContext",function(){return q}),n.d(t,"MuiPickersUtilsProvider",function(){return K}),n.d(t,"Picker",function(){return tt}),n.d(t,"TimePicker",function(){return It}),n.d(t,"TimePickerView",function(){return Ze}),n.d(t,"makeKeyboardPicker",function(){return bt}),n.d(t,"makePurePicker",function(){return gt}),n.d(t,"useKeyboardPickerState",function(){return yt}),n.d(t,"usePickerState",function(){return mt}),n.d(t,"useUtils",function(){return Q}),n.d(t,"validate",function(){return pt});var q=Object(s.createContext)(null),K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={utils:null},t}return a(t,e),t.getDerivedStateFromProps=function(e){var t=e.locale,n=e.libInstance;return{utils:new(0,e.utils)({locale:t,instance:n})}},t.prototype.render=function(){return Object(s.createElement)(q.Provider,{value:this.state.utils,children:this.props.children})},t}(s.Component),X=function(e){if(!e)throw new Error("Can not find utils in context. You either a) forgot to wrap your component tree in MuiPickersUtilsProvider; or b) mixed named and direct file imports.  Recommendation: use named imports from the module index.")};function Q(){var e=Object(s.useContext)(q);return X(e),e}var Y=Object(p.a)(function(e){var t="light"===e.palette.type?e.palette.primary.contrastText:e.palette.getContrastText(e.palette.background.default);return{toolbarTxt:{color:Object(h.d)(t,.54)},toolbarBtnSelected:{color:t}}},{name:"MuiPickersToolbarText"}),$=function(e){var t,n=e.selected,r=e.label,a=e.className,u=void 0===a?null:a,c=o(e,["selected","label","className"]),p=Y();return Object(s.createElement)(d.a,i({children:r,className:Object(l.a)(p.toolbarTxt,u,(t={},t[p.toolbarBtnSelected]=n,t))},c))},Z=function(e){var t=e.classes,n=e.className,r=void 0===n?null:n,a=e.label,u=e.selected,c=e.variant,d=e.typographyClassName,p=o(e,["classes","className","label","selected","variant","typographyClassName"]);return Object(s.createElement)(g.a,i({variant:"text",className:Object(l.a)(t.toolbarBtn,r)},p),Object(s.createElement)($,{className:d,variant:c,label:a,selected:u}))};Z.defaultProps={className:""};var J=Object(f.a)({toolbarBtn:{padding:0,minWidth:"16px",textTransform:"none"}}),ee=Object(m.a)(J,{name:"MuiPickersToolbarButton"})(Z),te=Object(p.a)(function(e){return{toolbar:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:100,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default}}},{name:"MuiPickersToolbar"}),ne=function(e){var t=e.children,n=e.className,r=void 0===n?null:n,a=o(e,["children","className"]),u=te();return Object(s.createElement)(A.a,i({className:Object(l.a)(u.toolbar,r)},a),t)};function re(e,t){return-1!==e.indexOf(t)}var ae=function(e){return 1===e.length&&"year"===e[0]},ie=function(e){return 2===e.length&&re(e,"month")&&re(e,"year")},oe=function(e,t){return ae(e)?t.yearFormat:ie(e)?t.yearMonthFormat:t.dateFormat},se=Object(p.a)({toolbarCenter:{flexDirection:"row",alignItems:"center"}},{name:"MuiPickersDatePickerRoot"}),ue=function(e){var t,n=e.date,r=e.views,a=e.setOpenView,i=e.openView,o=Q(),u=se(),c=Object(s.useMemo)(function(){return ae(r)},[r]),d=Object(s.useMemo)(function(){return ie(r)},[r]);return Object(s.createElement)(ne,{className:Object(l.a)((t={},t[u.toolbarCenter]=c,t))},Object(s.createElement)(ee,{variant:c?"h3":"subtitle1",onClick:function(){return a("year")},selected:"year"===i,label:o.getYearText(n)}),!c&&!d&&Object(s.createElement)(ee,{variant:"h4",onClick:function(){return a("date")},selected:"date"===i,label:o.getDatePickerHeaderText(n)}),d&&Object(s.createElement)(ee,{variant:"h4",onClick:function(){return a("month")},selected:"month"===i,label:o.getMonthText(n)}))},ce=(Object(c.oneOfType)([c.object,c.string,c.number,Object(c.instanceOf)(Date)]),Object(c.oneOf)(["year","month","day"]),{ampm:!0,invalidDateMessage:"Invalid Time Format"}),le={minDate:new Date("1900-01-01"),maxDate:new Date("2100-01-01"),invalidDateMessage:"Invalid Date Format",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",allowKeyboardControl:!0},de=i({},ce,le,{showTabs:!0}),pe=Object(p.a)(function(e){return{day:{width:36,height:36,fontSize:e.typography.caption.fontSize,margin:"0 2px",color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:e.palette.primary.main,fontWeight:600},daySelected:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{backgroundColor:e.palette.primary.main}},dayDisabled:{pointerEvents:"none",color:e.palette.text.hint}}},{name:"MuiPickersDay"}),he=function(e){var t,n=e.children,r=e.disabled,a=e.hidden,u=e.current,c=e.selected,p=o(e,["children","disabled","hidden","current","selected"]),h=pe(),f=Object(l.a)(h.day,((t={})[h.hidden]=a,t[h.current]=u,t[h.daySelected]=c,t[h.dayDisabled]=r,t));return Object(s.createElement)(y.a,i({className:f,tabIndex:a||r?-1:0},p),Object(s.createElement)(d.a,{variant:"body2",color:"inherit"},n))};he.displayName="Day",he.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1};var fe=function(e){var t=e.children,n=e.value,r=e.disabled,a=e.onSelect,u=e.dayInCurrentMonth,c=o(e,["children","value","disabled","onSelect","dayInCurrentMonth"]),l=Object(s.useCallback)(function(){return a(n)},[a,n]);return Object(s.createElement)("div",i({role:"presentation",onClick:u&&!r?l:void 0,onKeyPress:u&&!r?l:void 0},c),t)},me=Object(p.a)(function(e){var t=e.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:t},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-200%)",transition:t},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(200%)",transition:t}}},{name:"MuiPickersSlideTransition"}),ve=function(e){var t=e.children,n=e.transKey,r=e.slideDirection,a=e.className,i=void 0===a?null:a,o=me(),u={exit:o.slideExit,enterActive:o.slideEnterActive,enter:o["slideEnter-"+r],exitActive:o["slideExitActiveLeft-"+r]};return Object(s.createElement)(b.a,{className:Object(l.a)(o.transitionContainer,i),childFactory:function(e){return Object(s.cloneElement)(e,{classNames:u})}},Object(s.createElement)(j,{mountOnEnter:!0,unmountOnExit:!0,key:n+r,timeout:350,classNames:u,children:t}))},ge=Object(p.a)(function(e){return{switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing(.5),marginBottom:e.spacing(1)},transitionContainer:{width:"100%",height:20},iconButton:{zIndex:2,backgroundColor:e.palette.background.paper,"& > *":{backgroundColor:e.palette.background.paper,"& > *":{zIndex:1,overflow:"visible"}}},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:e.palette.text.hint}}},{name:"MuiPickersCalendarHeader"}),Ae=function(e){var t=e.currentMonth,n=e.onMonthChange,r=e.leftArrowIcon,a=e.rightArrowIcon,o=e.leftArrowButtonProps,u=e.rightArrowButtonProps,c=e.disablePrevMonth,l=e.disableNextMonth,p=e.slideDirection,h=Q(),f=ge(),m="rtl"===Object(v.a)().direction;return Object(s.createElement)("div",null,Object(s.createElement)("div",{className:f.switchHeader},Object(s.createElement)(y.a,i({},o,{disabled:c,onClick:function(){return n(h.getPreviousMonth(t),"right")},className:f.iconButton}),m?a:r),Object(s.createElement)(ve,{slideDirection:p,transKey:t.toString(),className:f.transitionContainer},Object(s.createElement)(d.a,{align:"center",variant:"body1"},h.getCalendarHeaderText(t))),Object(s.createElement)(y.a,i({},u,{disabled:l,onClick:function(){return n(h.getNextMonth(t),"left")},className:f.iconButton}),m?r:a)),Object(s.createElement)("div",{className:f.daysHeader},h.getWeekdays().map(function(e,t){return Object(s.createElement)(d.a,{key:t,variant:"caption",className:f.dayLabel},e)})))};Ae.displayName="CalendarHeader",Ae.defaultProps={leftArrowIcon:Object(s.createElement)(function(e){return u.a.createElement(M.a,i({},e),u.a.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))},null),rightArrowIcon:Object(s.createElement)(function(e){return u.a.createElement(M.a,i({},e),u.a.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))},null),disablePrevMonth:!1,disableNextMonth:!1};var ye="undefined"===typeof window?s.useEffect:s.useLayoutEffect;function be(e,t){var n=t[e.key];n&&(n(),e.preventDefault())}function xe(e,t){var n=Object(s.useRef)(t);ye(function(){n.current=t}),Object(s.useEffect)(function(){if(e){var n=function(e){be(e,t)};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}},[e,t])}var we=function(e){var t=e.onKeyDown;return Object(s.useEffect)(function(){return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}},[t]),null},_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={slideDirection:"left",currentMonth:t.props.utils.startOfMonth(t.props.date),loadingQueue:0},t.pushToLoadingQueue=function(){var e=t.state.loadingQueue+1;t.setState({loadingQueue:e})},t.popFromLoadingQueue=function(){var e=t.state.loadingQueue;e=e<=0?0:e-1,t.setState({loadingQueue:e})},t.handleChangeMonth=function(e,n){if(t.setState({currentMonth:e,slideDirection:n}),t.props.onMonthChange){var r=t.props.onMonthChange(e);r&&(t.pushToLoadingQueue(),r.then(function(){t.popFromLoadingQueue()}))}},t.validateMinMaxDate=function(e){var n=t.props,r=n.minDate,a=n.maxDate,i=n.utils,o=n.disableFuture,s=n.disablePast,u=i.date();return Boolean(o&&i.isAfterDay(e,u)||s&&i.isBeforeDay(e,u)||r&&i.isBeforeDay(e,i.date(r))||a&&i.isAfterDay(e,i.date(a)))},t.shouldDisablePrevMonth=function(){var e=t.props,n=e.utils,r=e.disablePast,a=e.minDate,i=n.date(),o=n.startOfMonth(r&&n.isAfter(i,n.date(a))?i:n.date(a));return!n.isBefore(o,t.state.currentMonth)},t.shouldDisableNextMonth=function(){var e=t.props,n=e.utils,r=e.disableFuture,a=e.maxDate,i=n.date(),o=n.startOfMonth(r&&n.isBefore(i,n.date(a))?i:n.date(a));return!n.isAfter(o,t.state.currentMonth)},t.shouldDisableDate=function(e){var n=t.props.shouldDisableDate;return t.validateMinMaxDate(e)||Boolean(n&&n(e))},t.handleDaySelect=function(e,n){void 0===n&&(n=!0);var r=t.props,a=r.date,i=r.utils;t.props.onChange(i.mergeDateAndTime(e,a),n)},t.moveToDay=function(e){var n=t.props.utils;e&&!t.shouldDisableDate(e)&&(n.getMonth(e)!==n.getMonth(t.state.currentMonth)&&t.handleChangeMonth(n.startOfMonth(e),"left"),t.handleDaySelect(e,!1))},t.handleKeyDown=function(e){var n=t.props,r=n.theme,a=n.date,i=n.utils;be(e,{ArrowUp:function(){return t.moveToDay(i.addDays(a,-7))},ArrowDown:function(){return t.moveToDay(i.addDays(a,7))},ArrowLeft:function(){return t.moveToDay(i.addDays(a,"ltr"===r.direction?-1:1))},ArrowRight:function(){return t.moveToDay(i.addDays(a,"ltr"===r.direction?1:-1))}})},t.renderWeeks=function(){var e=t.props,n=e.utils,r=e.classes;return n.getWeekArray(t.state.currentMonth).map(function(e){return Object(s.createElement)("div",{key:"week-"+e[0].toString(),className:r.week},t.renderDays(e))})},t.renderDays=function(e){var n=t.props,r=n.date,a=n.renderDay,i=n.utils,o=i.date(),u=i.startOfDay(r),c=i.getMonth(t.state.currentMonth);return e.map(function(e){var n=t.shouldDisableDate(e),r=i.getMonth(e)===c,l=Object(s.createElement)(he,{disabled:n,current:i.isSameDay(e,o),hidden:!r,selected:i.isSameDay(u,e)},i.getDayText(e));return a&&(l=a(e,u,r,l)),Object(s.createElement)(fe,{value:e,key:e.toString(),disabled:n,dayInCurrentMonth:r,onSelect:t.handleDaySelect},l)})},t}return a(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.utils,r=e.date;if(!n.isEqual(r,t.lastDate)){var a=n.getMonth(r),i=t.lastDate||r,o=n.getMonth(i);return{lastDate:r,currentMonth:e.utils.startOfMonth(r),slideDirection:a===o?t.slideDirection:n.isAfterDay(r,i)?"left":"right"}}return null},t.prototype.componentDidMount=function(){var e=this.props,t=e.date,n=e.minDate,r=e.maxDate,a=e.utils,i=e.disablePast,o=e.disableFuture;if(this.shouldDisableDate(t)){var s=function(e){var t=e.date,n=e.utils,r=e.minDate,a=e.maxDate,i=e.disableFuture,o=e.disablePast,s=e.shouldDisableDate,u=n.startOfDay(n.date());o&&n.isBefore(r,u)&&(r=u),i&&n.isAfter(a,u)&&(a=u);var c=t,l=t;for(n.isBefore(t,r)&&(c=n.date(r),l=null),n.isAfter(t,a)&&(l&&(l=n.date(a)),c=null);c||l;){if(c&&n.isAfter(c,a)&&(c=null),l&&n.isBefore(l,r)&&(l=null),c){if(!s(c))return c;c=n.addDays(c,1)}if(l){if(!s(l))return l;l=n.addDays(l,-1)}}return null}({date:t,utils:a,minDate:a.date(n),maxDate:a.date(r),disablePast:Boolean(i),disableFuture:Boolean(o),shouldDisableDate:this.shouldDisableDate});this.handleDaySelect(s,!1)}},t.prototype.render=function(){var e=this.state,t=e.currentMonth,n=e.slideDirection,r=this.props,a=r.classes,i=r.allowKeyboardControl,o=r.leftArrowButtonProps,u=r.leftArrowIcon,c=r.rightArrowButtonProps,l=r.rightArrowIcon,d=r.loadingIndicator,p=d||Object(s.createElement)(N.a,null);return Object(s.createElement)(s.Fragment,null,i&&Object(s.createElement)(we,{onKeyDown:this.handleKeyDown}),Object(s.createElement)(Ae,{currentMonth:t,slideDirection:n,onMonthChange:this.handleChangeMonth,leftArrowIcon:u,leftArrowButtonProps:o,rightArrowIcon:l,rightArrowButtonProps:c,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),Object(s.createElement)(ve,{slideDirection:n,transKey:t.toString(),className:a.transitionContainer},Object(s.createElement)(s.Fragment,null,this.state.loadingQueue>0&&Object(s.createElement)("div",{className:a.progressContainer},p)||Object(s.createElement)("div",null,this.renderWeeks()))))},t.defaultProps={minDate:new Date("1900-01-01"),maxDate:new Date("2100-01-01"),disablePast:!1,disableFuture:!1,allowKeyboardControl:!0},t}(s.Component),ke=Object(m.a)(function(e){return{transitionContainer:{minHeight:216,marginTop:e.spacing(1.5)},progressContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},week:{display:"flex",justifyContent:"center"}}},{name:"MuiPickersCalendar",withTheme:!0})(function(e){var t=function(t){var n=Q();return Object(s.createElement)(e,i({utils:n},t))};return t.displayName="WithUtils("+(e.displayName||e.name)+")",t}(_e));var Oe=Object(p.a)(function(e){return{root:{height:e.spacing(5),display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},yearSelected:{margin:"10px 0",fontWeight:e.typography.fontWeightMedium},yearDisabled:{pointerEvents:"none",color:e.palette.text.hint}}},{name:"MuiPickersYear"}),Ee=function(e){var t,n=e.onSelect,r=e.forwardedRef,a=e.value,u=e.selected,c=e.disabled,p=e.children,h=o(e,["onSelect","forwardedRef","value","selected","disabled","children"]),f=Oe(),m=Object(s.useCallback)(function(){return n(a)},[n,a]);return Object(s.createElement)(d.a,i({role:"button",component:"div",tabIndex:c?-1:0,onClick:m,onKeyPress:m,color:u?"primary":void 0,variant:u?"h5":"subtitle1",children:p,ref:r,className:Object(l.a)(f.root,(t={},t[f.yearSelected]=u,t[f.yearDisabled]=c,t))},h))};Ee.displayName="Year";var Se=Object(s.forwardRef)(function(e,t){return Object(s.createElement)(Ee,i({},e,{forwardedRef:t}))}),Ce=Object(p.a)({container:{height:300,overflowY:"auto"}},{name:"MuiPickersYearSelection"}),Te=function(e){var t=e.date,n=e.onChange,r=e.onYearChange,a=e.minDate,i=e.maxDate,o=e.disablePast,u=e.disableFuture,c=e.animateYearScrolling,l=Q(),d=Ce(),p=Object(s.useRef)(null);Object(s.useEffect)(function(){p.current&&p.current.scrollIntoView&&p.current.scrollIntoView({behavior:c?"smooth":"auto"})},[]);var h=l.getYear(t),f=Object(s.useCallback)(function(e){var a=l.setYear(t,e);r&&r(a),n(a,!0)},[t,n,r,l]);return Object(s.createElement)("div",{className:d.container},l.getYearRange(a,i).map(function(e){var t=l.getYear(e),n=t===h;return Object(s.createElement)(Se,{key:l.getYearText(e),selected:n,value:t,onSelect:f,ref:n?p:void 0,disabled:Boolean(o&&l.isBeforeYear(e,l.date())||u&&l.isAfterYear(e,l.date()))},l.getYearText(e))}))},Ie=Object(p.a)(function(e){return{root:{flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none",height:75,transition:e.transitions.create("font-size",{duration:"100ms"}),"&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},monthSelected:{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium},monthDisabled:{pointerEvents:"none",color:e.palette.text.hint}}},{name:"MuiPickersMonth"}),je=function(e){var t,n=e.selected,r=e.onSelect,a=e.disabled,u=e.value,c=e.children,p=o(e,["selected","onSelect","disabled","value","children"]),h=Ie(),f=Object(s.useCallback)(function(){r(u)},[r,u]);return Object(s.createElement)(d.a,i({role:"button",component:"div",className:Object(l.a)(h.root,(t={},t[h.monthSelected]=n,t[h.monthDisabled]=a,t)),tabIndex:a?-1:0,onClick:f,onKeyPress:f,color:n?"primary":void 0,variant:n?"h5":"subtitle1",children:c},p))};je.displayName="Month";var Me,Ne=Object(p.a)({container:{width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch"}},{name:"MuiPickersMonthSelection"}),De=function(e){var t=e.disablePast,n=e.disableFuture,r=e.minDate,a=e.maxDate,i=e.date,o=e.onMonthChange,u=e.onChange,c=Q(),l=Ne(),d=c.getMonth(i),p=function(e){var i=c.date(),o=c.date(r),s=c.date(a),u=c.startOfMonth(t&&c.isAfter(i,o)?i:o),l=c.startOfMonth(n&&c.isBefore(i,s)?i:s),d=c.isBefore(e,u),p=c.isAfter(e,l);return d||p},h=Object(s.useCallback)(function(e){var t=c.setMonth(i,e);u(t,!0),o&&o(t)},[i,u,o,c]);return Object(s.createElement)("div",{className:l.container},c.getMonthArray(i).map(function(e){var t=c.getMonth(e),n=c.format(e,"MMM");return Object(s.createElement)(je,{key:n,value:t,selected:t===d,onSelect:h,disabled:p(e)},n)}))};!function(e){e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds"}(Me||(Me={}));var Re=Me,Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={toAnimateTransform:!1,previousType:void 0},t.getAngleStyle=function(){var e=t.props,n=e.value,r=e.isInner,a=e.type,i=360/(a===Re.HOURS?12:60)*n;return a===Re.HOURS&&n>12&&(i-=360),{height:r?"26%":"40%",transform:"rotateZ("+i+"deg)"}},t}return a(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.classes,a=n.hasSelected;return Object(s.createElement)("div",{style:this.getAngleStyle(),className:Object(l.a)(r.pointer,(e={},e[r.animateTransform]=this.state.toAnimateTransform,e))},Object(s.createElement)("div",{className:Object(l.a)(r.thumb,(t={},t[r.noPoint]=a,t))}))},t.getDerivedStateFromProps=function(e,t){return e.type!==t.previousType?{toAnimateTransform:!0,previousType:e.type}:{toAnimateTransform:!1,previousType:e.type}},t}(s.Component),Le=Object(m.a)(function(e){return Object(f.a)({pointer:{width:2,backgroundColor:e.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:e.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:e.palette.primary.contrastText,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid "+e.palette.primary.main,boxSizing:"content-box"},noPoint:{backgroundColor:e.palette.primary.main}})},{name:"MuiPickersClockPointer"})(Pe),Fe={x:130,y:130},Be=Fe.x-Fe.x,ze=0-Fe.y,Ue=function(e,t,n){var r=t-Fe.x,a=n-Fe.y,i=Math.atan2(Be,ze)-Math.atan2(r,a),o=57.29577951308232*i;o=Math.round(o/e)*e,o%=360;var s=Math.floor(o/e)||0,u=Math.pow(r,2)+Math.pow(a,2);return{value:s,distance:Math.sqrt(u)}},Ve=function(e,t){return t.getHours(e)>=12?"pm":"am"},We=function(e,t,n,r){if(n&&(r.getHours(e)>=12?"pm":"am")!==t){var a="am"===t?r.getHours(e)-12:r.getHours(e)+12;return r.setHours(e,a)}return e},Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isMoving=!1,t.handleTouchMove=function(e){t.isMoving=!0,t.setTime(e)},t.handleTouchEnd=function(e){t.isMoving&&(t.setTime(e,!0),t.isMoving=!1)},t.handleMove=function(e){e.preventDefault(),e.stopPropagation(),("undefined"===typeof e.buttons?1===e.nativeEvent.which:1===e.buttons)&&t.setTime(e.nativeEvent,!1)},t.handleMouseUp=function(e){t.isMoving&&(t.isMoving=!1),t.setTime(e.nativeEvent,!0)},t.hasSelected=function(){var e=t.props,n=e.type,r=e.value;return n===Re.HOURS||r%5===0},t}return a(t,e),t.prototype.setTime=function(e,t){void 0===t&&(t=!1);var n=e.offsetX,r=e.offsetY;if("undefined"===typeof n){var a=e.target.getBoundingClientRect();n=e.changedTouches[0].clientX-a.left,r=e.changedTouches[0].clientY-a.top}var i=this.props.type===Re.SECONDS||this.props.type===Re.MINUTES?function(e,t,n){void 0===n&&(n=1);var r=Ue(6*n,e,t).value;return r=r*n%60}(n,r,this.props.minutesStep):function(e,t,n){var r=Ue(30,e,t),a=r.value,i=r.distance;return a=a||12,n?a%=12:i<90&&(a+=12,a%=24),a}(n,r,Boolean(this.props.ampm));this.props.onChange(i,t)},t.prototype.render=function(){var e=this.props,t=e.classes,n=e.value,r=e.children,a=e.type,i=!e.ampm&&a===Re.HOURS&&(n<1||n>12);return Object(s.createElement)("div",{className:t.container},Object(s.createElement)("div",{className:t.clock},Object(s.createElement)("div",{role:"menu",tabIndex:-1,className:t.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),Object(s.createElement)("div",{className:t.pin}),Object(s.createElement)(Le,{type:a,value:n,isInner:i,hasSelected:this.hasSelected()}),r))},t.defaultProps={ampm:!1,minutesStep:1},t}(s.Component),He=Object(m.a)(function(e){return Object(f.a)({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:e.spacing(2)+"px 0 "+e.spacing(1)+"px"},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none",zIndex:1},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})},{name:"MuiPickersClock"})(Ge),qe={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},Ke=Object(p.a)(function(e){var t=e.spacing(4);return{clockNumber:{width:t,height:t,userSelect:"none",position:"absolute",left:"calc(50% - "+t/2+"px)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"light"===e.palette.type?e.palette.text.primary:e.palette.text.hint},clockNumberSelected:{color:e.palette.primary.contrastText}}},{name:"MuiPickersClockNumber"}),Xe=function(e){var t,n=e.selected,r=e.label,a=e.index,i=e.isInner,o=Ke(),u=Object(l.a)(o.clockNumber,((t={})[o.clockNumberSelected]=n,t)),c=Object(s.useMemo)(function(){var e=qe[a];return{transform:"translate("+e[0]+"px, "+e[1]+"px"}},[a]);return Object(s.createElement)(d.a,{component:"span",className:u,variant:i?"body2":"body1",style:c,children:r})},Qe=function(e){for(var t=e.ampm,n=e.utils,r=e.date,a=n.getHours(r),o=[],u=t?12:23,c=function(e){return t?12===e?12===a||0===a:a===e||a-12===e:a===e},l=t?1:0;l<=u;l+=1){var d=l.toString();0===l&&(d="00");var p={index:l,label:n.formatNumber(d),selected:c(l),isInner:!t&&(0===l||l>12)};o.push(Object(s.createElement)(Xe,i({key:l},p)))}return o},Ye=function(e){var t=e.value,n=e.utils.formatNumber;return[Object(s.createElement)(Xe,{label:n("00"),selected:0===t,index:12,key:12}),Object(s.createElement)(Xe,{label:n("05"),selected:5===t,index:1,key:1}),Object(s.createElement)(Xe,{label:n("10"),selected:10===t,index:2,key:2}),Object(s.createElement)(Xe,{label:n("15"),selected:15===t,index:3,key:3}),Object(s.createElement)(Xe,{label:n("20"),selected:20===t,index:4,key:4}),Object(s.createElement)(Xe,{label:n("25"),selected:25===t,index:5,key:5}),Object(s.createElement)(Xe,{label:n("30"),selected:30===t,index:6,key:6}),Object(s.createElement)(Xe,{label:n("35"),selected:35===t,index:7,key:7}),Object(s.createElement)(Xe,{label:n("40"),selected:40===t,index:8,key:8}),Object(s.createElement)(Xe,{label:n("45"),selected:45===t,index:9,key:9}),Object(s.createElement)(Xe,{label:n("50"),selected:50===t,index:10,key:10}),Object(s.createElement)(Xe,{label:n("55"),selected:55===t,index:11,key:11})]},$e=function(e){var t=e.type,n=e.onHourChange,r=e.onMinutesChange,a=e.onSecondsChange,o=e.ampm,u=e.date,c=e.minutesStep,l=Q(),d=Object(s.useMemo)(function(){switch(t){case Re.HOURS:return{value:l.getHours(u),children:Qe({date:u,utils:l,ampm:Boolean(o)}),onChange:function(e,t){var r=Ve(u,l),a=We(l.setHours(u,e),r,Boolean(o),l);n(a,t)}};case Re.MINUTES:var e=l.getMinutes(u);return{value:e,children:Ye({value:e,utils:l}),onChange:function(e,t){var n=l.setMinutes(u,e);r(n,t)}};case Re.SECONDS:var i=l.getSeconds(u);return{value:i,children:Ye({value:i,utils:l}),onChange:function(e,t){var n=l.setSeconds(u,e);a(n,t)}};default:throw new Error("You must provide the type for TimePickerView")}},[o,u,n,r,a,t,l]);return Object(s.createElement)(He,i({type:t,ampm:o,minutesStep:c},d))};$e.displayName="TimePickerView",$e.defaultProps={ampm:!0,minutesStep:1};var Ze=Object(s.memo)($e),Je={year:Te,month:De,date:ke,hours:$e,minutes:$e,seconds:$e},et=Object(p.a)({pickerView:{minHeight:305,display:"flex",flexDirection:"column",justifyContent:"center"}},{name:"MuiPickersBasePicker"}),tt=function(e){var t=e.date,n=e.ampm,r=e.views,a=e.disableToolbar,o=e.disablePast,u=e.disableFuture,c=e.hideTabs,l=e.onChange,d=e.openTo,p=e.minutesStep,h=e.dateRangeIcon,f=e.timeIcon,m=e.minDate,v=e.maxDate,g=e.animateYearScrolling,A=e.leftArrowIcon,y=e.rightArrowIcon,b=e.renderDay,x=e.shouldDisableDate,w=e.allowKeyboardControl,_=e.onMonthChange,k=e.onYearChange,O=e.leftArrowButtonProps,E=e.rightArrowButtonProps,S=e.ToolbarComponent,C=e.loadingIndicator,T=Q(),I=et(),j=function(e,t,n){var r=Object(s.useState)(t&&re(e,t)?t:e[0]),a=r[0],i=r[1];return{handleChangeAndOpenNext:Object(s.useCallback)(function(t,r){var o=e[e.indexOf(a)+1];if(r&&o)return n(t,!1),void i(o);n(t,Boolean(r))},[n,a,e]),openView:a,setOpenView:i}}(r,d,l),M=j.openView,N=j.setOpenView,D=j.handleChangeAndOpenNext,R=Object(s.useMemo)(function(){return T.date(m)},[m,T]),P=Object(s.useMemo)(function(){return T.date(v)},[v,T]);return Object(s.createElement)(s.Fragment,null,!a&&Object(s.createElement)(S,i({date:t,onChange:l,setOpenView:N,openView:M,hideTabs:c,dateRangeIcon:h,timeIcon:f},e)),Object(s.createElement)("div",{className:I.pickerView},"year"===M&&Object(s.createElement)(Te,{date:t,onChange:D,minDate:R,maxDate:P,disablePast:o,disableFuture:u,onYearChange:k,animateYearScrolling:g}),"month"===M&&Object(s.createElement)(De,{date:t,onChange:D,minDate:R,maxDate:P,disablePast:o,disableFuture:u,onMonthChange:_}),"date"===M&&Object(s.createElement)(ke,{date:t,onChange:D,onMonthChange:_,disablePast:o,disableFuture:u,minDate:R,maxDate:P,leftArrowIcon:A,leftArrowButtonProps:O,rightArrowIcon:y,rightArrowButtonProps:E,renderDay:b,shouldDisableDate:x,allowKeyboardControl:w,loadingIndicator:C}),("hours"===M||"minutes"===M||"seconds"===M)&&Object(s.createElement)($e,{date:t,ampm:n,type:M,minutesStep:p,onHourChange:D,onMinutesChange:D,onSecondsChange:D})))};tt.defaultProps=i({},le,{views:Object.keys(Je)});var nt=function(e){var t,n,r=e.children,a=e.classes,u=e.onAccept,c=e.onDismiss,d=e.onClear,p=e.onSetToday,h=e.okLabel,f=e.cancelLabel,m=e.clearLabel,v=e.todayLabel,A=e.clearable,y=e.showTodayButton,b=(e.showTabs,e.wider),x=o(e,["children","classes","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","clearable","showTodayButton","showTabs","wider"]);return Object(s.createElement)(P.a,i({role:"dialog",onClose:c,classes:{paper:Object(l.a)(a.dialogRoot,(t={},t[a.dialogRootWider]=b,t))}},x),Object(s.createElement)(R.a,{children:r,className:a.dialog}),Object(s.createElement)(D.a,{classes:{root:Object(l.a)((n={},n[a.withAdditionalAction]=A||y,n))}},A&&Object(s.createElement)(g.a,{color:"primary",onClick:d},m),!A&&y&&Object(s.createElement)(g.a,{color:"primary",onClick:p},v),f&&Object(s.createElement)(g.a,{color:"primary",onClick:c},f),h&&Object(s.createElement)(g.a,{color:"primary",onClick:u},h)))};nt.displayName="ModalDialog";var rt=Object(f.a)({dialogRoot:{minWidth:310,maxWidth:325},dialogRootWider:{minWidth:325},dialog:{overflow:"hidden","&:first-child":{padding:0}},withAdditionalAction:{justifyContent:"flex-start","& > *:first-child":{marginRight:"auto"}}}),at=Object(m.a)(rt,{name:"MuiPickersModal"})(nt),it=function(e){var t=e.open,n=e.children,r=e.okLabel,a=e.cancelLabel,u=e.clearLabel,c=e.todayLabel,l=e.showTodayButton,d=e.clearable,p=e.DialogProps,h=e.showTabs,f=e.wider,m=e.InputComponent,v=e.DateInputProps,g=e.onClear,A=e.onAccept,y=e.onDismiss,b=e.onSetToday,x=o(e,["open","children","okLabel","cancelLabel","clearLabel","todayLabel","showTodayButton","clearable","DialogProps","showTabs","wider","InputComponent","DateInputProps","onClear","onAccept","onDismiss","onSetToday"]);return xe(t,{Enter:A}),Object(s.createElement)(s.Fragment,null,Object(s.createElement)(m,i({},x,v)),Object(s.createElement)(at,i({wider:f,showTabs:h,open:t,onClear:g,onAccept:A,onDismiss:y,onSetToday:b,clearLabel:u,todayLabel:c,okLabel:r,cancelLabel:a,clearable:d,showTodayButton:l,children:n},p)))};it.defaultProps={okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1};var ot=Object(p.a)({popoverPaper:{width:310,paddingBottom:8},popoverPaperWider:{width:325}},{name:"MuiPickersInlineWrapper"}),st=function(e){var t,n=e.open,r=e.wider,a=e.children,u=e.PopoverProps,c=(e.onClear,e.onDismiss,e.onSetToday,e.onAccept),d=(e.showTabs,e.DateInputProps),p=e.InputComponent,h=o(e,["open","wider","children","PopoverProps","onClear","onDismiss","onSetToday","onAccept","showTabs","DateInputProps","InputComponent"]),f=Object(s.useRef)(),m=ot();return xe(n,{Enter:c}),Object(s.createElement)(s.Fragment,null,Object(s.createElement)(p,i({},h,d,{inputRef:f})),Object(s.createElement)(L.a,i({open:n,onClose:c,anchorEl:f.current,classes:{paper:Object(l.a)(m.popoverPaper,(t={},t[m.popoverPaperWider]=r,t))},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:a},u)))};var ut=function(e){var t=e.variant,n=o(e,["variant"]),r=function(e){switch(e){case"inline":return st;default:return it}}(t);return Object(s.createElement)(r,i({},n))};var ct=function(e,t,n,r,a){var i=a.invalidLabel,o=a.emptyLabel,s=a.labelFunc,u=n.date(e);return s?s(r?null:u,i):r?o||"":n.isValid(u)?n.format(u,t):i},lt=function(e,t,n){return t?n:e.endOfDay(n)},dt=function(e,t,n){return t?n:e.startOfDay(n)},pt=function(e,t,n){var r=n.maxDate,a=n.minDate,i=n.disablePast,o=n.disableFuture,s=n.maxDateMessage,u=n.minDateMessage,c=n.invalidDateMessage,l=n.strictCompareDates,d=t.date(e);return null===e?"":t.isValid(e)?r&&t.isAfter(d,lt(t,!!l,t.date(r)))?s:o&&t.isAfter(d,lt(t,!!l,t.date()))?s:a&&t.isBefore(d,dt(t,!!l,t.date(a)))?u:i&&t.isBefore(d,dt(t,!!l,t.date()))?u:"":c};function ht(e,t,n){return void 0===t&&(t=!0),e||(t?n["12h"]:n["24h"])}var ft=function(e,t){var n=t.value,r=t.initialFocusedDate,a=n||r||e.date(),i=e.date(a);return i&&e.isValid(i)?i:e.date()};function mt(e,t){var n=e.autoOk,r=e.disabled,a=e.onAccept,i=e.onChange,o=e.onError,u=e.value,c=e.variant,l=Q(),d=function(e){var t,n=e.open,r=e.onOpen,a=e.onClose,i=null;return void 0!==n&&null!==n||(n=(t=Object(s.useState)(!1))[0],i=t[1]),{isOpen:n,setIsOpen:Object(s.useCallback)(function(e){return i&&i(e),e?r&&r():a&&a()},[r,a,i])}}(e),p=d.isOpen,h=d.setIsOpen,f=function(e,t){var n=Q();return{date:ft(n,e),format:e.format||t.getDefaultFormat()}}(e,t),m=f.date,v=f.format,g=Object(s.useState)(m),A=g[0],y=g[1];Object(s.useEffect)(function(){p||l.isEqual(A,m)||y(m)},[m,p,A,l]);var b=Object(s.useCallback)(function(e){h(!1),i(e),a&&a(e)},[a,i,h]),x=Object(s.useMemo)(function(){return{format:v,open:p,onClear:function(){return b(null)},onAccept:function(){return b(A)},onSetToday:function(){return y(l.date())},onDismiss:function(){h(!1)}}},[b,v,p,A,h,l]),w=Object(s.useMemo)(function(){return{date:A,onChange:function(e,t){void 0===t&&(t=!0),y(e),"inline"===c&&i(e),t&&n&&b(e)}}},[b,n,i,A,c]),_=pt(u,l,e);Object(s.useEffect)(function(){_&&o&&o(_,u)},[o,_,u]);var k=ct(m,v,l,null===u,e),O={pickerProps:w,inputProps:Object(s.useMemo)(function(){return{inputValue:k,validationError:_,onClick:function(){return!r&&h(!0)}}},[r,k,h,_]),wrapperProps:x};return Object(s.useDebugValue)(O),O}var vt=function(e){var t=e.inputValue,n=e.inputVariant,r=e.validationError,a=e.InputProps,u=e.TextFieldComponent,c=void 0===u?F.a:u,l=o(e,["inputValue","inputVariant","validationError","InputProps","TextFieldComponent"]),d=Object(s.useMemo)(function(){return i({},a,{readOnly:!0})},[a]);return Object(s.createElement)(c,i({error:Boolean(r),helperText:r},l,{value:t,variant:n,InputProps:d}))};function gt(e){var t=e.useOptions,n=e.ToolbarComponent;return function(e){var r=e.allowKeyboardControl,a=e.ampm,u=e.hideTabs,c=e.animateYearScrolling,l=(e.autoOk,e.disableFuture),d=e.disablePast,p=(e.format,e.forwardedRef,e.initialFocusedDate,e.invalidDateMessage,e.labelFunc,e.leftArrowIcon),h=e.leftArrowButtonProps,f=e.maxDate,m=(e.maxDateMessage,e.minDate),v=(e.onOpen,e.onClose,e.minDateMessage,e.strictCompareDates),g=e.minutesStep,A=(e.onAccept,e.onChange,e.onMonthChange),y=e.onYearChange,b=e.renderDay,x=e.views,w=e.openTo,_=e.rightArrowIcon,k=e.rightArrowButtonProps,O=e.shouldDisableDate,E=e.dateRangeIcon,S=(e.emptyLabel,e.timeIcon),C=(e.value,e.variant),T=e.disableToolbar,I=e.loadingIndicator,j=o(e,["allowKeyboardControl","ampm","hideTabs","animateYearScrolling","autoOk","disableFuture","disablePast","format","forwardedRef","initialFocusedDate","invalidDateMessage","labelFunc","leftArrowIcon","leftArrowButtonProps","maxDate","maxDateMessage","minDate","onOpen","onClose","minDateMessage","strictCompareDates","minutesStep","onAccept","onChange","onMonthChange","onYearChange","renderDay","views","openTo","rightArrowIcon","rightArrowButtonProps","shouldDisableDate","dateRangeIcon","emptyLabel","timeIcon","value","variant","disableToolbar","loadingIndicator"]),M=mt(e,t(e)),N=M.pickerProps,D=M.inputProps,R=M.wrapperProps;return Object(s.createElement)(ut,i({variant:C,InputComponent:vt,DateInputProps:D},R,j),Object(s.createElement)(tt,i({},N,{disableToolbar:T,ToolbarComponent:n,hideTabs:u,ampm:a,views:x,openTo:w,allowKeyboardControl:r,minutesStep:g,animateYearScrolling:c,disableFuture:l,disablePast:d,leftArrowIcon:p,leftArrowButtonProps:h,maxDate:f,minDate:m,strictCompareDates:v,onMonthChange:A,onYearChange:y,renderDay:b,dateRangeIcon:E,timeIcon:S,rightArrowIcon:_,rightArrowButtonProps:k,shouldDisableDate:O,loadingIndicator:I})))}}vt.displayName="PureDateInput";var At=function(e){var t=e.inputValue,n=e.inputVariant,r=e.validationError,a=e.KeyboardButtonProps,u=e.InputAdornmentProps,c=e.onClick,l=e.onChange,d=e.InputProps,p=e.mask,h=e.maskChar,f=void 0===h?"_":h,m=e.refuse,v=void 0===m?/[^\dap]+/gi:m,g=e.format,A=e.keyboardIcon,b=e.disabled,x=e.TextFieldComponent,w=void 0===x?F.a:x,_=o(e,["inputValue","inputVariant","validationError","KeyboardButtonProps","InputAdornmentProps","onClick","onChange","InputProps","mask","maskChar","refuse","format","keyboardIcon","disabled","TextFieldComponent"]),k=p||function(e,t){return e.replace(/[a-z]/gi,t)}(g,f),O=Object(s.useCallback)(function(e,t,n){return function(r){if(""===r)return r;for(var a="",i=r.replace(n,""),o=0,s=0;o<e.length;){var u=e[o];u===t&&s<i.length?(a+=i[s],s+=1):a+=u,o+=1}return a}}(k,f,v),[p,f]),E=u&&u.position?u.position:"end";return Object(s.createElement)(U,{value:t,onChange:l,refuse:v,format:O},function(e){var t,o=e.onChange,l=e.value;return Object(s.createElement)(w,i({disabled:b,error:Boolean(r),helperText:r},_,{value:l,onChange:o,variant:n,InputProps:i({},d,(t={},t[E+"Adornment"]=Object(s.createElement)(B.a,i({position:E},u),Object(s.createElement)(y.a,i({disabled:b},a,{onClick:c}),A)),t))}))})};function yt(e,t){var n=e.format,r=void 0===n?t.getDefaultFormat():n,a=e.inputValue,o=e.onChange,u=e.value,c=Q(),l=ct(u,r,c,null===u,e),d=Object(s.useState)(l),p=d[0],h=d[1],f=a?function(e,t,r){try{return t.parse(e,r)}catch(n){return null}}(a,c,r):u;Object(s.useEffect)(function(){(null===u||c.isValid(u))&&h(l)},[l,h,c,u]);var m=Object(s.useCallback)(function(e){o(e,null===e?null:c.format(e,r))},[r,o,c]),v=mt(i({},e,{value:f,onChange:m}),t),g=v.inputProps,A=v.wrapperProps,y=v.pickerProps;return{inputProps:Object(s.useMemo)(function(){return i({},g,{format:A.format,inputValue:a||p,onChange:function(e){h(e);var t=""===e?null:c.parse(e,A.format);o(t,e)}})},[g,p,a,o,c,A.format]),wrapperProps:A,pickerProps:y}}function bt(e){var t=e.useOptions,n=e.ToolbarComponent;return function(e){var r=e.allowKeyboardControl,a=e.ampm,u=e.hideTabs,c=e.animateYearScrolling,l=(e.autoOk,e.disableFuture),d=e.disablePast,p=(e.format,e.forwardedRef,e.initialFocusedDate,e.invalidDateMessage,e.labelFunc,e.leftArrowIcon),h=e.leftArrowButtonProps,f=e.maxDate,m=(e.maxDateMessage,e.minDate),v=(e.onOpen,e.onClose,e.minDateMessage,e.strictCompareDates),g=e.minutesStep,A=(e.onAccept,e.onChange,e.onMonthChange),y=e.onYearChange,b=e.renderDay,x=e.views,w=e.openTo,_=e.rightArrowIcon,k=e.rightArrowButtonProps,O=e.shouldDisableDate,E=(e.value,e.dateRangeIcon),S=(e.emptyLabel,e.timeIcon),C=e.variant,T=e.disableToolbar,I=e.loadingIndicator,j=o(e,["allowKeyboardControl","ampm","hideTabs","animateYearScrolling","autoOk","disableFuture","disablePast","format","forwardedRef","initialFocusedDate","invalidDateMessage","labelFunc","leftArrowIcon","leftArrowButtonProps","maxDate","maxDateMessage","minDate","onOpen","onClose","minDateMessage","strictCompareDates","minutesStep","onAccept","onChange","onMonthChange","onYearChange","renderDay","views","openTo","rightArrowIcon","rightArrowButtonProps","shouldDisableDate","value","dateRangeIcon","emptyLabel","timeIcon","variant","disableToolbar","loadingIndicator"]),M=yt(e,t(e)),N=M.pickerProps,D=M.inputProps,R=M.wrapperProps;return Object(s.createElement)(ut,i({variant:C,InputComponent:At,DateInputProps:D},R,j),Object(s.createElement)(tt,i({},N,{ToolbarComponent:n,disableToolbar:T,hideTabs:u,ampm:a,views:x,openTo:w,allowKeyboardControl:r,minutesStep:g,animateYearScrolling:c,disableFuture:l,disablePast:d,leftArrowIcon:p,leftArrowButtonProps:h,maxDate:f,minDate:m,strictCompareDates:v,onMonthChange:A,onYearChange:y,renderDay:b,dateRangeIcon:E,timeIcon:S,rightArrowIcon:_,rightArrowButtonProps:k,shouldDisableDate:O,loadingIndicator:I})))}}At.defaultProps={keyboardIcon:Object(s.createElement)(function(e){return u.a.createElement(M.a,i({},e),u.a.createElement("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))},null)};var xt=i({},le,{openTo:"date",views:["year","date"]});function wt(e){var t=Q();return{getDefaultFormat:function(){return oe(e.views,t)}}}var _t=gt({useOptions:wt,ToolbarComponent:ue}),kt=bt({useOptions:wt,ToolbarComponent:ue});_t.defaultProps=xt,kt.defaultProps=xt;var Ot=Object(p.a)({toolbar:{flexDirection:"row",alignItems:"center"},toolbarLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},ampmSelection:{marginLeft:20,marginRight:-20,display:"flex",flexDirection:"column"},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelReverse:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row-reverse"}},{name:"MuiPickersTimePickerToolbar"});function Et(e,t,n){var r=Q();return{meridiemMode:Ve(e,r),handleMeridiemChange:Object(s.useCallback)(function(a){var i=We(e,a,Boolean(t),r);n(i,!1)},[t,e,n,r])}}var St=function(e){var t,n,r=e.date,a=e.views,i=e.ampm,o=e.openView,u=e.onChange,c=e.setOpenView,d=Q(),p=Object(v.a)(),h=Ot(),f=Et(r,i,u),m=f.meridiemMode,g=f.handleMeridiemChange,A="rtl"===p.direction?h.hourMinuteLabelReverse:h.hourMinuteLabel;return Object(s.createElement)(ne,{className:Object(l.a)(h.toolbar,(t={},t[h.toolbarLeftPadding]=i,t))},Object(s.createElement)("div",{className:A},re(a,"hours")&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(ee,{variant:"h2",onClick:function(){return c(Re.HOURS)},selected:o===Re.HOURS,label:d.getHourText(r,Boolean(i))}),Object(s.createElement)($,{variant:"h2",label:":",selected:!1,className:h.separator})),re(a,"minutes")&&Object(s.createElement)(ee,{variant:"h2",onClick:function(){return c(Re.MINUTES)},selected:o===Re.MINUTES,label:d.getMinuteText(r)}),re(a,"seconds")&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)($,{variant:"h2",label:":",selected:!1,className:h.separator}),Object(s.createElement)(ee,{variant:"h2",onClick:function(){return c(Re.SECONDS)},selected:o===Re.SECONDS,label:d.getSecondText(r)}))),i&&Object(s.createElement)("div",{className:Object(l.a)(h.ampmSelection,(n={},n[h.ampmSelectionWithSeconds]=re(a,"seconds"),n))},Object(s.createElement)(ee,{disableRipple:!0,variant:"subtitle1",selected:"am"===m,typographyClassName:h.ampmLabel,label:d.getMeridiemText("am"),onClick:function(){return g("am")}}),Object(s.createElement)(ee,{disableRipple:!0,variant:"subtitle1",selected:"pm"===m,typographyClassName:h.ampmLabel,label:d.getMeridiemText("pm"),onClick:function(){return g("pm")}})))},Ct=i({},ce,{openTo:"hours",views:["hours","minutes"]});function Tt(e){var t=Q();return{getDefaultFormat:function(){return ht(e.format,e.ampm,{"12h":t.time12hFormat,"24h":t.time24hFormat})}}}var It=gt({useOptions:Tt,ToolbarComponent:St}),jt=bt({useOptions:Tt,ToolbarComponent:St});It.defaultProps=Ct,jt.defaultProps=Ct;var Mt=function(e){return"date"===e||"year"===e?"date":"time"},Nt=Object(p.a)(function(e){var t="light"===e.palette.type?e.palette.primary.main:e.palette.background.default;return{tabs:{color:e.palette.getContrastText(t),backgroundColor:t}}},{name:"MuiPickerDTTabs"}),Dt=function(e){var t=e.view,n=e.onChange,r=e.dateRangeIcon,a=e.timeIcon,i=Nt(),o="light"===Object(v.a)().palette.type?"secondary":"primary";return Object(s.createElement)(H.a,null,Object(s.createElement)(G.a,{variant:"fullWidth",value:Mt(t),onChange:function(e,r){r!==Mt(t)&&n("date"===r?"date":"hours")},className:i.tabs,indicatorColor:o},Object(s.createElement)(W.a,{value:"date",icon:Object(s.createElement)(s.Fragment,null,r)}),Object(s.createElement)(W.a,{value:"time",icon:Object(s.createElement)(s.Fragment,null,a)})))};Dt.defaultProps={dateRangeIcon:Object(s.createElement)(function(e){return u.a.createElement(M.a,i({},e),u.a.createElement("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))},null),timeIcon:Object(s.createElement)(function(e){return u.a.createElement(M.a,i({},e),u.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),u.a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}))},null)};var Rt=Object(p.a)(function(e){return{toolbar:{flexDirection:"row",alignItems:"center",paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"}}},{name:"MuiPickerDTToolbar"}),Pt=function(e){var t=e.date,n=e.openView,r=e.setOpenView,a=e.ampm,i=e.hideTabs,o=e.dateRangeIcon,u=e.timeIcon,c=e.onChange,l=Q(),d=Rt(),p=!i&&"undefined"!==typeof window&&window.innerHeight>667,h=Et(t,a,c),f=h.meridiemMode,m=h.handleMeridiemChange,g="rtl"===Object(v.a)().direction;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(ne,{className:d.toolbar},Object(s.createElement)(V.a,{container:!0,justify:"center",wrap:"nowrap"},Object(s.createElement)(V.a,{item:!0,container:!0,xs:5,justify:"flex-start",direction:"column"},Object(s.createElement)("div",null,Object(s.createElement)(ee,{variant:"subtitle1",onClick:function(){return r("year")},selected:"year"===n,label:l.getYearText(t)})),Object(s.createElement)("div",null,Object(s.createElement)(ee,{variant:"h4",onClick:function(){return r("date")},selected:"date"===n,label:l.getDateTimePickerHeaderText(t)}))),Object(s.createElement)(V.a,{item:!0,container:!0,xs:6,justify:"center",alignItems:"flex-end",direction:g?"row-reverse":"row"},Object(s.createElement)(ee,{variant:"h3",onClick:function(){return r("hours")},selected:"hours"===n,label:l.getHourText(t,a)}),Object(s.createElement)($,{variant:"h3",label:":",className:d.separator}),Object(s.createElement)(ee,{variant:"h3",onClick:function(){return r("minutes")},selected:"minutes"===n,label:l.getMinuteText(t)})),a&&Object(s.createElement)(V.a,{item:!0,container:!0,xs:1,direction:"column",justify:"flex-end"},Object(s.createElement)(ee,{variant:"subtitle1",selected:"am"===f,label:l.getMeridiemText("am"),onClick:function(){return m("am")}}),Object(s.createElement)(ee,{variant:"subtitle1",selected:"pm"===f,label:l.getMeridiemText("pm"),onClick:function(){return m("pm")}})))),p&&Object(s.createElement)(Dt,{dateRangeIcon:o,timeIcon:u,view:n,onChange:r}))},Lt=i({},de,{wider:!0,openTo:"date",views:["year","date","hours","minutes"]});function Ft(e){var t=Q();return{getDefaultFormat:function(){return ht(e.format,e.ampm,{"12h":t.dateTime12hFormat,"24h":t.dateTime24hFormat})}}}var Bt=gt({useOptions:Ft,ToolbarComponent:Pt}),zt=bt({useOptions:Ft,ToolbarComponent:Pt});Bt.defaultProps=Lt,zt.defaultProps=Lt},function(e,t,n){"use strict";function r(e){return function(e){return e}(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(1),o=n.n(i),s=(n(53),n(307)),u=n(497),c=n(311);var l=function(e){var t=e.children,n=e.theme,r=Object(u.a)(),i=o.a.useMemo(function(){var e=null===r?n:function(e,t){return"function"===typeof t?t(e):a()({},e,t)}(r,n);return null!==r&&e&&(e[c.a]=!0),e},[n,r]);return o.a.createElement(s.a.Provider,{value:i},t)};t.a=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=r},function(e,t,n){"use strict";(function(e){for(var n="undefined"!==typeof window&&"undefined"!==typeof document,r=["Edge","Trident","Firefox"],a=0,i=0;i<r.length;i+=1)if(n&&navigator.userAgent.indexOf(r[i])>=0){a=1;break}var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},a))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(n+a+r)?e:l(c(e))}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),p=n&&/MSIE 10/.test(navigator.userAgent);function h(e){return 11===e?d:10===e?p:d||p}function f(e){if(!e)return document.documentElement;for(var t=h(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?f(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function v(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,a=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(a,0);var o=i.commonAncestorContainer;if(e!==o&&t!==o||r.contains(a))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||f(e.firstElementChild)===e)}(o)?o:f(o);var s=m(e);return s.host?v(s.host,t):v(e,m(t).host)}function g(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function A(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function y(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],h(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,r=h(10)&&getComputedStyle(n);return{height:y("Height",t,n,r),width:y("Width",t,n,r)}}var x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function O(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function E(e){var t={};try{if(h(10)){t=e.getBoundingClientRect();var n=g(e,"top"),r=g(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(p){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?b(e.ownerDocument):{},o=i.width||e.clientWidth||a.right-a.left,s=i.height||e.clientHeight||a.bottom-a.top,c=e.offsetWidth-o,l=e.offsetHeight-s;if(c||l){var d=u(e);c-=A(d,"x"),l-=A(d,"y"),a.width-=c,a.height-=l}return O(a)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(10),a="HTML"===t.nodeName,i=E(e),o=E(t),s=l(e),c=u(t),d=parseFloat(c.borderTopWidth,10),p=parseFloat(c.borderLeftWidth,10);n&&a&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=O({top:i.top-o.top-d,left:i.left-o.left-p,width:i.width,height:i.height});if(f.marginTop=0,f.marginLeft=0,!r&&a){var m=parseFloat(c.marginTop,10),v=parseFloat(c.marginLeft,10);f.top-=d-m,f.bottom-=d-m,f.left-=p-v,f.right-=p-v,f.marginTop=m,f.marginLeft=v}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(t,"top"),a=g(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=a*i,e.right+=a*i,e}(f,t)),f}function C(e){if(!e||!e.parentElement||h())return document.documentElement;for(var t=e.parentElement;t&&"none"===u(t,"transform");)t=t.parentElement;return t||document.documentElement}function T(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},o=a?C(e):v(e,t);if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=S(e,n),a=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:g(n),s=t?0:g(n,"left");return O({top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:a,height:i})}(o,a);else{var s=void 0;"scrollParent"===r?"BODY"===(s=l(c(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var d=S(s,o,a);if("HTML"!==s.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===u(t,"position"))return!0;var r=c(t);return!!r&&e(r)}(o))i=d;else{var p=b(e.ownerDocument),h=p.height,f=p.width;i.top+=d.top-d.marginTop,i.bottom=h+d.top,i.left+=d.left-d.marginLeft,i.right=f+d.left}}var m="number"===typeof(n=n||0);return i.left+=m?n:n.left||0,i.top+=m?n:n.top||0,i.right-=m?n:n.right||0,i.bottom-=m?n:n.bottom||0,i}function I(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=T(n,r,i,a),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},u=Object.keys(s).map(function(e){return k({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=u.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),l=c.length>0?c[0].key:u[0].key,d=e.split("-")[1];return l+(d?"-"+d:"")}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return S(n,r?C(t):v(t,n),r)}function M(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function N(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function D(e,t,n){n=n.split("-")[0];var r=M(e),a={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),o=i?"top":"left",s=i?"left":"top",u=i?"height":"width",c=i?"width":"height";return a[o]=t[o]+t[u]/2-r[u]/2,a[s]=n===s?t[s]-r[c]:t[N(s)],a}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function P(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=R(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=O(t.offsets.popper),t.offsets.reference=O(t.offsets.reference),t=n(t,e))}),t}function L(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var a=t[r],i=a?""+a+n:e;if("undefined"!==typeof document.body.style[i])return i}return null}function B(e){var t=e.ownerDocument;return t?t.defaultView:window}function z(e,t,n,r){n.updateBound=r,B(e).addEventListener("resize",n.updateBound,{passive:!0});var a=l(e);return function e(t,n,r,a){var i="BODY"===t.nodeName,o=i?t.ownerDocument.defaultView:t;o.addEventListener(n,r,{passive:!0}),i||e(l(o.parentNode),n,r,a),a.push(o)}(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function U(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,B(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function V(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function W(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&V(t[n])&&(r="px"),e.style[n]=t[n]+r})}var G=n&&/Firefox/i.test(navigator.userAgent);function H(e,t,n){var r=R(e,function(e){return e.name===t}),a=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!a){var i="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return a}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],K=q.slice(3);function X(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=K.indexOf(e),r=K.slice(n+1).concat(K.slice(0,n));return t?r.reverse():r}var Q={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Y(e,t,n,r){var a=[0,0],i=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=o.indexOf(R(o,function(e){return-1!==e.search(/,|\s/)}));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(u)[0]]),[o[s].split(u)[1]].concat(o.slice(s+1))]:[o];return(c=c.map(function(e,r){var a=(1===r?!i:i)?"height":"width",o=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+a[1],o=a[2];if(!i)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return O(s)[t]/100*i}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,a,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){V(n)&&(a[t]+=n*("-"===e[r-1]?-1:1))})}),a}var $={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var a=e.offsets,i=a.reference,o=a.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:_({},u,i[u]),end:_({},u,i[u]+i[c]-o[c])};e.offsets.popper=k({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,a=e.offsets,i=a.popper,o=a.reference,s=r.split("-")[0],u=void 0;return u=V(+n)?[+n,0]:Y(n,i,o,s),"left"===s?(i.top+=u[0],i.left-=u[1]):"right"===s?(i.top+=u[0],i.left+=u[1]):"top"===s?(i.left+=u[0],i.top-=u[1]):"bottom"===s&&(i.left+=u[0],i.top+=u[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||f(e.instance.popper);e.instance.reference===n&&(n=f(n));var r=F("transform"),a=e.instance.popper.style,i=a.top,o=a.left,s=a[r];a.top="",a.left="",a[r]="";var u=T(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);a.top=i,a.left=o,a[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,d={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),_({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),_({},n,r)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=k({},l,d[t](e))}),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,a=e.placement.split("-")[0],i=Math.floor,o=-1!==["top","bottom"].indexOf(a),s=o?"right":"bottom",u=o?"left":"top",c=o?"width":"height";return n[s]<i(r[u])&&(e.offsets.popper[u]=i(r[u])-n[c]),n[u]>i(r[s])&&(e.offsets.popper[u]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!H(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],i=e.offsets,o=i.popper,s=i.reference,c=-1!==["left","right"].indexOf(a),l=c?"height":"width",d=c?"Top":"Left",p=d.toLowerCase(),h=c?"left":"top",f=c?"bottom":"right",m=M(r)[l];s[f]-m<o[p]&&(e.offsets.popper[p]-=o[p]-(s[f]-m)),s[p]+m>o[f]&&(e.offsets.popper[p]+=s[p]+m-o[f]),e.offsets.popper=O(e.offsets.popper);var v=s[p]+s[l]/2-m/2,g=u(e.instance.popper),A=parseFloat(g["margin"+d],10),y=parseFloat(g["border"+d+"Width"],10),b=v-e.offsets.popper[p]-A-y;return b=Math.max(Math.min(o[l]-m,b),0),e.arrowElement=r,e.offsets.arrow=(_(n={},p,Math.round(b)),_(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(L(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=T(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],a=N(r),i=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case Q.FLIP:o=[r,a];break;case Q.CLOCKWISE:o=X(r);break;case Q.COUNTERCLOCKWISE:o=X(r,!0);break;default:o=t.behavior}return o.forEach(function(s,u){if(r!==s||o.length===u+1)return e;r=e.placement.split("-")[0],a=N(r);var c=e.offsets.popper,l=e.offsets.reference,d=Math.floor,p="left"===r&&d(c.right)>d(l.left)||"right"===r&&d(c.left)<d(l.right)||"top"===r&&d(c.bottom)>d(l.top)||"bottom"===r&&d(c.top)<d(l.bottom),h=d(c.left)<d(n.left),f=d(c.right)>d(n.right),m=d(c.top)<d(n.top),v=d(c.bottom)>d(n.bottom),g="left"===r&&h||"right"===r&&f||"top"===r&&m||"bottom"===r&&v,A=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(A&&"start"===i&&h||A&&"end"===i&&f||!A&&"start"===i&&m||!A&&"end"===i&&v),b=!!t.flipVariationsByContent&&(A&&"start"===i&&f||A&&"end"===i&&h||!A&&"start"===i&&v||!A&&"end"===i&&m),x=y||b;(p||g||x)&&(e.flipped=!0,(p||g)&&(r=o[u+1]),x&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=k({},e.offsets.popper,D(e.instance.popper,e.offsets.reference,e.placement)),e=P(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,a=r.popper,i=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return a[o?"left":"top"]=i[n]-(s?a[o?"width":"height"]:0),e.placement=N(t),e.offsets.popper=O(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!H(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=R(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,a=e.offsets.popper,i=R(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==i?i:t.gpuAcceleration,s=f(e.instance.popper),u=E(s),c={position:a.position},l=function(e,t){var n=e.offsets,r=n.popper,a=n.reference,i=Math.round,o=Math.floor,s=function(e){return e},u=i(a.width),c=i(r.width),l=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?l||d||u%2===c%2?i:o:s,h=t?i:s;return{left:p(u%2===1&&c%2===1&&!d&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!G),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=F("transform"),m=void 0,v=void 0;if(v="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,m="right"===p?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,o&&h)c[h]="translate3d("+m+"px, "+v+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var g="bottom"===d?-1:1,A="right"===p?-1:1;c[d]=v*g,c[p]=m*A,c.willChange=d+", "+p}var y={"x-placement":e.placement};return e.attributes=k({},y,e.attributes),e.styles=k({},c,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return W(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&W(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,a){var i=j(a,t,e,n.positionFixed),o=I(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),W(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Z=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=k({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(k({},e.Defaults.modifiers,a.modifiers)).forEach(function(t){r.options.modifiers[t]=k({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return k({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&s(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return w(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=j(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=I(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=D(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=P(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),e}();Z.Utils=("undefined"!==typeof window?window:e).PopperUtils,Z.placements=q,Z.Defaults=$,t.a=Z}).call(this,n(91))},function(e,t){function n(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return o[e];var n,i=String(e);return(n=r[i.toLowerCase()])?n:(n=a[i.toLowerCase()])||(1===i.length?i.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"===typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"===typeof t){var i;if(i=r[t.toLowerCase()])return i===n;if(i=a[t.toLowerCase()])return i===n}else if("number"===typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)r[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)r[i-48]=i;for(i=1;i<13;i++)r["f"+i]=i+111;for(i=0;i<10;i++)r["numpad "+i]=i+96;var o=t.names=t.title={};for(i in r)o[r[i]]=i;for(var s in a)r[s]=a[s]},function(e,t,n){!function(){var t=n(562),r=n(405).utf8,a=n(563),i=n(405).bin,o=function e(n,o){n.constructor==String?n=o&&"binary"===o.encoding?i.stringToBytes(n):r.stringToBytes(n):a(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var s=t.bytesToWords(n),u=8*n.length,c=1732584193,l=-271733879,d=-1732584194,p=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var f=e._ff,m=e._gg,v=e._hh,g=e._ii;for(h=0;h<s.length;h+=16){var A=c,y=l,b=d,x=p;c=f(c,l,d,p,s[h+0],7,-680876936),p=f(p,c,l,d,s[h+1],12,-389564586),d=f(d,p,c,l,s[h+2],17,606105819),l=f(l,d,p,c,s[h+3],22,-1044525330),c=f(c,l,d,p,s[h+4],7,-176418897),p=f(p,c,l,d,s[h+5],12,1200080426),d=f(d,p,c,l,s[h+6],17,-1473231341),l=f(l,d,p,c,s[h+7],22,-45705983),c=f(c,l,d,p,s[h+8],7,1770035416),p=f(p,c,l,d,s[h+9],12,-1958414417),d=f(d,p,c,l,s[h+10],17,-42063),l=f(l,d,p,c,s[h+11],22,-1990404162),c=f(c,l,d,p,s[h+12],7,1804603682),p=f(p,c,l,d,s[h+13],12,-40341101),d=f(d,p,c,l,s[h+14],17,-1502002290),c=m(c,l=f(l,d,p,c,s[h+15],22,1236535329),d,p,s[h+1],5,-165796510),p=m(p,c,l,d,s[h+6],9,-1069501632),d=m(d,p,c,l,s[h+11],14,643717713),l=m(l,d,p,c,s[h+0],20,-373897302),c=m(c,l,d,p,s[h+5],5,-701558691),p=m(p,c,l,d,s[h+10],9,38016083),d=m(d,p,c,l,s[h+15],14,-660478335),l=m(l,d,p,c,s[h+4],20,-405537848),c=m(c,l,d,p,s[h+9],5,568446438),p=m(p,c,l,d,s[h+14],9,-1019803690),d=m(d,p,c,l,s[h+3],14,-187363961),l=m(l,d,p,c,s[h+8],20,1163531501),c=m(c,l,d,p,s[h+13],5,-1444681467),p=m(p,c,l,d,s[h+2],9,-51403784),d=m(d,p,c,l,s[h+7],14,1735328473),c=v(c,l=m(l,d,p,c,s[h+12],20,-1926607734),d,p,s[h+5],4,-378558),p=v(p,c,l,d,s[h+8],11,-2022574463),d=v(d,p,c,l,s[h+11],16,1839030562),l=v(l,d,p,c,s[h+14],23,-35309556),c=v(c,l,d,p,s[h+1],4,-1530992060),p=v(p,c,l,d,s[h+4],11,1272893353),d=v(d,p,c,l,s[h+7],16,-155497632),l=v(l,d,p,c,s[h+10],23,-1094730640),c=v(c,l,d,p,s[h+13],4,681279174),p=v(p,c,l,d,s[h+0],11,-358537222),d=v(d,p,c,l,s[h+3],16,-722521979),l=v(l,d,p,c,s[h+6],23,76029189),c=v(c,l,d,p,s[h+9],4,-640364487),p=v(p,c,l,d,s[h+12],11,-421815835),d=v(d,p,c,l,s[h+15],16,530742520),c=g(c,l=v(l,d,p,c,s[h+2],23,-995338651),d,p,s[h+0],6,-198630844),p=g(p,c,l,d,s[h+7],10,1126891415),d=g(d,p,c,l,s[h+14],15,-1416354905),l=g(l,d,p,c,s[h+5],21,-57434055),c=g(c,l,d,p,s[h+12],6,1700485571),p=g(p,c,l,d,s[h+3],10,-1894986606),d=g(d,p,c,l,s[h+10],15,-1051523),l=g(l,d,p,c,s[h+1],21,-2054922799),c=g(c,l,d,p,s[h+8],6,1873313359),p=g(p,c,l,d,s[h+15],10,-30611744),d=g(d,p,c,l,s[h+6],15,-1560198380),l=g(l,d,p,c,s[h+13],21,1309151649),c=g(c,l,d,p,s[h+4],6,-145523070),p=g(p,c,l,d,s[h+11],10,-1120210379),d=g(d,p,c,l,s[h+2],15,718787259),l=g(l,d,p,c,s[h+9],21,-343485551),c=c+A>>>0,l=l+y>>>0,d=d+b>>>0,p=p+x>>>0}return t.endian([c,l,d,p])};o._ff=function(e,t,n,r,a,i,o){var s=e+(t&n|~t&r)+(a>>>0)+o;return(s<<i|s>>>32-i)+t},o._gg=function(e,t,n,r,a,i,o){var s=e+(t&r|n&~r)+(a>>>0)+o;return(s<<i|s>>>32-i)+t},o._hh=function(e,t,n,r,a,i,o){var s=e+(t^n^r)+(a>>>0)+o;return(s<<i|s>>>32-i)+t},o._ii=function(e,t,n,r,a,i,o){var s=e+(n^(t|~r))+(a>>>0)+o;return(s<<i|s>>>32-i)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(o(e,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):t.bytesToHex(r)}}()},function(e,t,n){"use strict";n.d(t,"b",function(){return m});var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(321),l=n(22),d=n(121),p=n(94),h=n(320),f=n(499),m=function(e){return{root:{position:"relative",width:"100%"},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",paddingRight:32,borderRadius:0,width:"calc(100% - 32px)",minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper}},filled:{width:"calc(100% - 44px)"},outlined:{width:"calc(100% - 46px)",borderRadius:e.shape.borderRadius},selectMenu:{width:"auto",height:"auto",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",color:e.palette.action.active,"pointer-events":"none"}}},v=u.a.createElement(f.a,null),g=u.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.IconComponent,s=void 0===i?h.a:i,l=e.input,p=void 0===l?v:l,f=e.inputProps,m=e.muiFormControl,g=(e.variant,o()(e,["children","classes","IconComponent","input","inputProps","muiFormControl","variant"])),A=Object(d.a)({props:e,muiFormControl:m,states:["variant"]});return u.a.cloneElement(p,a()({inputComponent:c.a,inputProps:a()({children:n,classes:r,IconComponent:s,variant:A.variant,type:void 0},f,p?p.props.inputProps:{}),ref:t},g))});g.muiName="Select",t.a=Object(l.a)(m,{name:"MuiNativeSelect"})(Object(p.a)(g))},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(733),p=n(734),h=(n(53),n(52)),f=n.n(h),m=n(40),v={vertical:"top",horizontal:"right"},g={vertical:"top",horizontal:"left"},A=u.a.forwardRef(function(e,t){var n=e.autoFocus,r=e.children,i=e.classes,s=e.disableAutoFocusItem,l=void 0!==s&&s,h=e.MenuListProps,A=void 0===h?{}:h,y=e.onClose,b=e.onEntering,x=e.open,w=e.PaperProps,_=void 0===w?{}:w,k=e.PopoverClasses,O=e.theme,E=e.transitionDuration,S=void 0===E?"auto":E,C=e.variant,T=void 0===C?"selectedMenu":C,I=o()(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","theme","transitionDuration","variant"]),j=void 0!==n?n:!l,M=u.a.useRef(null),N=u.a.useRef(null),D=u.a.useRef(null),R=null,P=null,L=u.a.Children.map(r,function(e,t){if(!u.a.isValidElement(e))return null;null===R&&(R=t);var n=null;return"menu"!==T&&null===P&&e.props.selected&&!e.props.disabled?(P=t,n={},j&&(n.autoFocus=!0),void 0===e.props.tabIndex&&(n.tabIndex=0),n.ref=function(t){D.current=f.a.findDOMNode(t),Object(m.b)(e.ref,t)}):t===R&&(n={ref:function(t){N.current=f.a.findDOMNode(t),Object(m.b)(e.ref,t)}}),null!==n?u.a.cloneElement(e,n):e});return u.a.createElement(d.a,a()({getContentAnchorEl:function(){return D.current||N.current},classes:k,onClose:y,onEntering:function(e){M.current&&M.current.adjustStyleForScrollbar(e,O),b&&b(e)},anchorOrigin:"rtl"===O.direction?v:g,transformOrigin:"rtl"===O.direction?v:g,PaperProps:a()({},_,{classes:a()({},_.classes,{root:i.paper})}),open:x,ref:t,transitionDuration:S},I),u.a.createElement(p.a,a()({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),y&&y(e,"tabKeyDown"))},actions:M,autoFocus:j&&null===P},A,{className:Object(c.a)(i.list,A.className)}),L))});t.a=Object(l.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:"none"}},{name:"MuiMenu",withTheme:!0})(A)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(131);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){var r=n(401),a=n(404),i=n(402);e.exports=function(e){return r(e)||a(e)||i()}},function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(57)),i=r(n(58)),o=r(n(59)),s=r(n(60)),u=r(n(61)),c=r(n(180)),l=r(n(15)),d=r(n(9)),p=r(n(1));r(n(23)),r(n(53));var h=function(){var e=null;return function(){if(null!==e)return e;var t,n,r,a=!1;try{window.addEventListener("test",null,(t={},n="passive",r={get:function(){a=!0}},Object.defineProperty(t,n,r)))}catch(i){}return e=a,a}()}(),f={capture:!1,passive:!1};function m(e){return d({},f,e)}function v(e,t,n){var r=[e,t];return r.push(h?n:n.capture),r}function g(e,t,n,r){e.addEventListener.apply(e,v(t,n,r))}function A(e,t,n,r){e.removeEventListener.apply(e,v(t,n,r))}var y=function(e){function t(){return a(this,t),o(this,s(t).apply(this,arguments))}return u(t,e),i(t,[{key:"componentDidMount",value:function(){this.applyListeners(g)}},{key:"componentDidUpdate",value:function(e){this.applyListeners(A,e),this.applyListeners(g)}},{key:"componentWillUnmount",value:function(){this.applyListeners(A)}},{key:"applyListeners",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=t.target;if(n){var r=n;"string"===typeof n&&(r=window[n]),function(e,t){e.children,e.target;var n=l(e,["children","target"]);Object.keys(n).forEach(function(e){if("on"===e.substring(0,2)){var r=n[e],a=c(r),i="object"===a;if(i||"function"===a){var o="capture"===e.substr(-7).toLowerCase(),s=e.substring(2).toLowerCase();s=o?s.substring(0,s.length-7):s,i?t(s,r.handler,r.options):t(s,r,m({capture:o}))}}})}(t,e.bind(null,r))}}},{key:"render",value:function(){return this.props.children||null}}]),t}(p.PureComponent);y.propTypes={},t.withOptions=function(e,t){return{handler:e,options:m(t)}},t.default=y},function(e,t,n){e.exports=n(593)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){e.exports=n(599)},function(e,t,n){e.exports=n(607)},function(e,t,n){"use strict";var r=n(73);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=r(n(614));e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";var r=n(628),a=n(632),i=n(151),o=n(369).EventEmitter,s=n(633),u=n(634),c=n(644),l=n(652),d=n(654),p=n(655);function h(e){this._eventEmitter=new o,this.options=i({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null}h.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},onAdd:function(e){if(this._map=e,this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=c(u({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new l(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",a(this._onKeyDown,200)),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(e){this.eventManager.keyevent(e,this)}.bind(this));var i=document.createElement("div");i.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),i.appendChild(this._clearEl),i.appendChild(this._loadingEl),t.appendChild(n),t.appendChild(this._inputEl),t.appendChild(i),this._typeahead=new r(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1),t},createIcon:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),n.innerHTML=t,n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onKeyDown:function(e){var t=27,n=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target;if(!(r?r.value:""))return this.fresh=!0,e.keyCode!==n&&this.clear(e),this._clearEl.style.display="none";e.metaKey||-1!==[n,t,37,39,13,38,40].indexOf(e.keyCode)||r.value.length>=this.options.minLength&&this._geocode(r.value)},_showButton:function(){this._typeahead.selected&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;if(e&&e.id!==this.lastSelected){var t;if(this._clearEl.style.display="none",this.options.flyTo)if(e.properties&&!s[e.properties.short_code]&&e.bbox){var n=e.bbox;t=i({},this.options.flyTo),this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],t)}else if(e.properties&&s[e.properties.short_code])t=i({},this.options.flyTo),this._map.fitBounds(s[e.properties.short_code].bbox,t);else{var r={zoom:this.options.zoom};(t=i({},r,this.options.flyTo)).center=e.center,this._map.flyTo(t)}this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this),this.lastSelected=e.id}},_geocode:function(e){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:e}),this.inputString=e;var t,n=this,r=["bbox","limit","proximity","countries","types","language","reverseMode","mode"].reduce(function(e,t){return n.options[t]&&(["countries","types","language"].indexOf(t)>-1?e[t]=n.options[t].split(/[\s,]+/):e[t]=n.options[t],"proximity"===t&&n.options[t]&&n.options[t].longitude&&n.options[t].latitude&&(e[t]=[n.options[t].longitude,n.options[t].latitude])),e},{});if(this.options.localGeocoderOnly)t=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(e)){var a=e.split(/[\s(,)?]+/).map(function(e){return parseFloat(e,10)}).reverse();!r.types||r.types[0],r=i(r,{query:a,limit:1}),t=this.geocoderService.reverseGeocode(r).send()}else r=i(r,{query:e}),t=this.geocoderService.forwardGeocode(r).send();var o=[];return this.options.localGeocoder&&((o=this.options.localGeocoder(e))||(o=[])),t.then(function(e){this._loadingEl.style.display="none";var t={};e?"200"==e.statusCode&&(t=e.body):t={type:"FeatureCollection",features:[]},t.config=r,this.fresh&&(this.eventManager.start(this),this.fresh=!1),t.features=t.features?o.concat(t.features):o,this.options.filter&&t.features.length&&(t.features=t.features.filter(this.options.filter)),t.features.length?(this._clearEl.style.display="block",this._eventEmitter.emit("results",t),this._typeahead.update(t.features)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",t))}.bind(this)),t.catch(function(e){this._loadingEl.style.display="none",o.length&&this.options.localGeocoder?(this._clearEl.style.display="block",this._typeahead.update(o)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:o}),this._eventEmitter.emit("error",{error:e})}.bind(this)),t},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){e.relatedTarget&&this._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var n=t.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=p.language(e),n=d.placeholder[t];if(n)return n}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this},setProximity:function(e){return this.options.proximity=e,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&"function"==typeof e&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},_handleMarker:function(e){this._removeMarker();var t=i({},{color:"#4668F2"},this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(t),this.mapMarker.setLngLat(e.center).addTo(this._map),this},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}},e.exports=h},function(e,t,n){var r=[{id:"traffic-street-link-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:15,filter:["all",["==","$type","LineString"],["all",["has","congestion"],["in","class","link","motorway_link","service","street"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[14,2.5],[20,15.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.5,stops:[[14,2],[20,18]]},"line-opacity":{base:1,stops:[[15,0],[16,1]]}}},{id:"traffic-secondary-tertiary-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["has","congestion"],["in","class","secondary","tertiary"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[9,1.5],[18,11],[20,16.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.5,stops:[[10,.5],[15,5],[18,11],[20,14.5]]},"line-opacity":{base:1,stops:[[13,0],[14,1]]}}},{id:"traffic-primary-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","class","primary"],["has","congestion"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[10,.75],[15,6],[20,18]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.2,stops:[[10,0],[12,1.5],[18,13],[20,16]]},"line-opacity":{base:1,stops:[[11,0],[12,1]]}}},{id:"traffic-trunk-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["has","congestion"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[8,.5],[9,2.25],[18,13],[20,17.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.5,stops:[[7,0],[9,1],[18,13],[20,18]]},"line-opacity":1}},{id:"traffic-motorway-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["has","congestion"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[6,.5],[9,3],[18,16],[20,20]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-opacity":1,"line-offset":{base:1.5,stops:[[7,0],[9,1.2],[11,1.2],[18,10],[20,15.5]]}}},{id:"traffic-primary",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-primary-bg",paint:{"line-width":{base:1.5,stops:[[10,1],[15,4],[20,16]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.2,stops:[[10,0],[12,1.5],[18,13],[20,16]]},"line-opacity":1}},{id:"traffic-secondary-tertiary",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-secondary-tertiary-bg",paint:{"line-width":{base:1.5,stops:[[9,.5],[18,9],[20,14]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.5,stops:[[10,.5],[15,5],[18,11],[20,14.5]]},"line-opacity":1}},{id:"traffic-street-link",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-street-link-bg",paint:{"line-width":{base:1.5,stops:[[14,1.5],[20,13.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.5,stops:[[14,2],[20,18]]},"line-opacity":1}},{id:"traffic-trunk",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-trunk-bg",paint:{"line-width":{base:1.5,stops:[[8,.75],[18,11],[20,15]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.5,stops:[[7,0],[9,1],[18,13],[20,18]]},"line-opacity":1}},{id:"traffic-motorway",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-motorway-bg",paint:{"line-width":{base:1.5,stops:[[6,.5],[9,1.5],[18,14],[20,18]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-opacity":1,"line-offset":{base:1.5,stops:[[7,0],[9,1.2],[11,1.2],[18,10],[20,15.5]]}}}];function a(e){if(!(this instanceof a))throw new Error("MapboxTraffic needs to be called with the new keyword");this.options=Object.assign({showTraffic:!1,showTrafficButton:!0,trafficSource:/mapbox-traffic-v\d/},e),this.render=this.render.bind(this),this.toggleTraffic=this.toggleTraffic.bind(this),this._hideTraffic=this._hideTraffic.bind(this),this._showTraffic=this._showTraffic.bind(this),this._hasTraffic=this._hasTraffic.bind(this),this._toggle=new i({show:this.options.showTrafficButton,onToggle:this.toggleTraffic.bind(this)})}function i(e){e=Object.assign({show:!0,onToggle:function(){}},e),this._btn=function(){var e=document.createElement("button");return e.className="mapboxgl-ctrl-icon mapboxgl-ctrl-traffic",e.type="button",e["aria-label"]="Inspect",e}(),this._btn.onclick=e.onToggle,this.elem=function(e,t){var n=document.createElement("div");return n.className="mapboxgl-ctrl mapboxgl-ctrl-group",n.appendChild(e),t||(n.style.display="none"),n}(this._btn,e.show)}a.prototype._hasTraffic=function(){var e=this._map.getStyle(),t=this.options.trafficSource;return Object.keys(e.sources).filter(function(e){return t.test(e)}).length>0},a.prototype.toggleTraffic=function(){this.options.showTraffic=!this.options.showTraffic,this.render()},a.prototype.render=function(){if(!this._hasTraffic()){this._map.addSource("mapbox://mapbox.mapbox-traffic-v1",{type:"vector",url:"mapbox://mapbox.mapbox-traffic-v1"});var e=this._map.getStyle().layers.filter(function(e){return"road"===e["source-layer"]}),t=e[e.length-1].id,n=function(e,t,n){for(var r=0;r<e.layers.length;r++)if(n===e.layers[r].id){var a=e.layers.slice(0,r).concat(t).concat(e.layers.slice(r));return Object.assign({},e,{layers:a})}return e}(this._map.getStyle(),r,t);this._map.setStyle(n)}this.options.showTraffic?(this._showTraffic(),this._toggle.setMapIcon()):(this._hideTraffic(),this._toggle.setTrafficIcon())},a.prototype._hideTraffic=function(){var e=this._map.getStyle(),t=this.options.trafficSource;e.layers.forEach(function(e){t.test(e.source)&&(e.layout=e.layout||{},e.layout.visibility="none")}),this._map.setStyle(e)},a.prototype._showTraffic=function(){var e=this._map.getStyle(),t=this.options.trafficSource;e.layers.forEach(function(e){t.test(e.source)&&(e.layout=e.layout||{},e.layout.visibility="visible")}),this._map.setStyle(e)},a.prototype.onAdd=function(e){return this._map=e,e.on("load",this.render),this._toggle.elem},a.prototype.onRemove=function(){this._map.off("load",this.render);var e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0},i.prototype.setTrafficIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-traffic"},i.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"},"undefined"!==typeof e.exports?e.exports=a:window.MapboxTraffic=a},function(e,t,n){var r=n(656),a=n(674),i=n(690),o=n(68);e.exports=function(e){!function(e,t){var n={options:e=a(e)};t=i(n,t),n.api=t;var s=r(n);t.onAdd=s.onAdd,t.onRemove=s.onRemove,t.types=o.types,t.options=e}(e,this)},e.exports.modes=n(423)},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});var r=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var r=n(7),a=n.n(r),i=n(16),o=n(5),s=n(11),u=n(18),c=n(12),l=n(17),d=n(0),p=n(84),h=n(493),f=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"decodeUTF8",value:function(){return new m(this)}}]),t}(p.a),m=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this))).upstream=e,n.impl=new v(e),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(h.a),v=function(t){function r(e){var t;if(Object(o.a)(this,r),(t=Object(u.a)(this,Object(c.a)(r).call(this))).upstream=e,Object(d.he)().get("IS_BROWSER"))t.decoder=new TextDecoder("utf-8");else{var a=n(716).StringDecoder;t.decoder=new a("utf8")}return t}return Object(l.a)(r,t),Object(s.a)(r,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Utf8")}},{key:"pump",value:function(){var t=Object(i.a)(a.a.mark(function t(){var n,r,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.upstream.next();case 2:if(!(n=t.sent).done){t.next=7;break}return t.abrupt("return",!1);case 7:r=n.value;case 8:return i=Object(d.he)().get("IS_BROWSER")?this.decoder.decode(r,{stream:!0}):this.decoder.write(e.from(r.buffer)),this.outputQueue.push(i),t.abrupt("return",!0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),r}(p.b)}).call(this,n(256).Buffer)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(7),a=n.n(r),i=n(16),o=n(5),s=n(11),u=n(18),c=n(12),l=n(17),d=n(84),p=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"split",value:function(e){return new h(this,e)}}]),t}(d.a),h=function(e){function t(e,n){var r;return Object(o.a)(this,t),(r=Object(u.a)(this,Object(c.a)(t).call(this))).upstream=e,r.impl=new f(e,n),r}return Object(l.a)(t,e),Object(s.a)(t,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=Object(i.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(p),f=function(e){function t(e,n){var r;return Object(o.a)(this,t),(r=Object(u.a)(this,Object(c.a)(t).call(this))).upstream=e,r.separator=n,r.carryover="",r}return Object(l.a)(t,e),Object(s.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Split('").concat(this.separator,"')")}},{key:"pump",value:function(){var e=Object(i.a)(a.a.mark(function e(){var t,n,r,i,o,s,u,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=9;break}if(""!==this.carryover){e.next=6;break}return e.abrupt("return",!1);case 6:return this.outputQueue.push(this.carryover),this.carryover="",e.abrupt("return",!0);case 9:for((n=t.value.split(this.separator))[0]=this.carryover+n[0],r=!0,i=!1,o=void 0,e.prev=14,s=n.slice(0,-1)[Symbol.iterator]();!(r=(u=s.next()).done);r=!0)c=u.value,this.outputQueue.push(c);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),i=!0,o=e.t0;case 22:e.prev=22,e.prev=23,r||null==s.return||s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return this.carryover=n[n.length-1],e.abrupt("return",!0);case 32:case"end":return e.stop()}},e,this,[[14,18,22,30],[23,,25,29]])}));return function(){return e.apply(this,arguments)}}()}]),t}(d.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(98),a=n(1),i=n.n(a),o=n(176),s=n(128),u=n(55),c=n(239),l=n(26);i.a.Component;var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(r.a)(t,e),t.prototype.render=function(){return i.a.createElement(o.b,{history:this.history,children:this.props.children})},t}(i.a.Component);i.a.Component},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(91))},function(e,t,n){"use strict";var r=n(57),a=n.n(r),i=n(58),o=n.n(i),s=n(318),u=n(86),c=n(319);function l(e){var t=Object(u.a)(e),n=Object(c.a)(t);return t.body===e?n.innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}var d=n(177);function p(e,t){var n=-1;return e.some(function(e,r){return!!t(e)&&(n=r,!0)}),n}function h(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,e);var n=t.hideSiblingNodes,r=void 0===n||n,i=t.handleContainerOverflow,o=void 0===i||i;this.hideSiblingNodes=r,this.handleContainerOverflow=o,this.modals=[],this.data=[]}return o()(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Object(d.a)(e.modalRef,!1),this.hideSiblingNodes&&Object(d.b)(t,e.mountNode,e.modalRef,!0);var r=p(this.data,function(e){return e.container===t});if(-1!==r)return this.data[r].modals.push(e),n;var a={modals:[e],container:t,overflowing:l(t),prevPaddings:[]};return this.data.push(a),n}},{key:"mount",value:function(e){var t=p(this.data,function(t){return-1!==t.modals.indexOf(e)}),n=this.data[t];!n.style&&this.handleContainerOverflow&&function(e){e.style={overflow:e.container.style.overflow,paddingRight:e.container.style.paddingRight};var t={overflow:"hidden"};if(e.overflowing){var n=Object(s.a)();t.paddingRight="".concat(h(e.container)+n,"px");for(var r=Object(u.a)(e.container).querySelectorAll(".mui-fixed"),a=0;a<r.length;a+=1){var i=h(r[a]);e.prevPaddings.push(i),r[a].style.paddingRight="".concat(i+n,"px")}}Object.keys(t).forEach(function(n){e.container.style[n]=t[n]})}(n)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=p(this.data,function(t){return-1!==t.modals.indexOf(e)}),r=this.data[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)this.handleContainerOverflow&&function(e){e.style&&Object.keys(e.style).forEach(function(t){e.container.style[t]=e.style[t]});for(var t=Object(u.a)(e.container).querySelectorAll(".mui-fixed"),n=0;n<t.length;n+=1)t[n].style.paddingRight="".concat(e.prevPaddings[n],"px")}(r),e.modalRef&&Object(d.a)(e.modalRef,!0),this.hideSiblingNodes&&Object(d.b)(r.container,e.mountNode,e.modalRef,!1),this.data.splice(n,1);else if(this.hideSiblingNodes){var a=r.modals[r.modals.length-1];a.modalRef&&Object(d.a)(a.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}();t.a=f},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),a=n.n(r),i=n(307);function o(){return a.a.useContext(i.a)}},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(190),l=n(65),d=n(104),p=n(75),h=n(40),f={entering:{opacity:1},entered:{opacity:1}},m={enter:l.b.enteringScreen,exit:l.b.leavingScreen},v=u.a.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onEnter,s=e.onExit,l=e.style,d=e.theme,v=e.timeout,g=void 0===v?m:v,A=o()(e,["children","in","onEnter","onExit","style","theme","timeout"]),y=Object(h.c)(n.ref,t);return u.a.createElement(c.a,a()({appear:!0,in:r,onEnter:function(e){Object(p.b)(e);var t=Object(p.a)({style:l,timeout:g},{mode:"enter"});e.style.webkitTransition=d.transitions.create("opacity",t),e.style.transition=d.transitions.create("opacity",t),i&&i(e)},onExit:function(e){var t=Object(p.a)({style:l,timeout:g},{mode:"exit"});e.style.webkitTransition=d.transitions.create("opacity",t),e.style.transition=d.transitions.create("opacity",t),s&&s(e)},timeout:g},A),function(e,t){return u.a.cloneElement(n,a()({style:a()({opacity:0,visibility:"exited"!==e||r?void 0:"hidden"},f[e],l,n.props.style),ref:y},t))})});t.a=Object(d.a)(v)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(501),d=n(22),p=u.a.forwardRef(function(e,t){var n=e.disableUnderline,r=e.classes,i=e.fullWidth,s=void 0!==i&&i,d=e.inputComponent,p=void 0===d?"input":d,h=e.multiline,f=void 0!==h&&h,m=e.type,v=void 0===m?"text":m,g=o()(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return u.a.createElement(l.a,a()({classes:a()({},r,{root:Object(c.a)(r.root,!n&&r.underline),underline:null}),fullWidth:s,inputComponent:p,multiline:f,ref:t,type:v},g))});p.muiName="Input",t.a=Object(d.a)(function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary[t?"dark":"light"]),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},{name:"MuiInput"})(p)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(57),u=n.n(s),c=n(58),l=n.n(c),d=n(59),p=n.n(d),h=n(60),f=n.n(h),m=n(93),v=n.n(m),g=n(61),A=n.n(g),y=n(1),b=n.n(y),x=n(52),w=n.n(x),_=n(86),k=n(725),O=n(30),E=n(40),S=n(238),C=n(721),T=n(308),I=n(496);n(53);var j=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,a=e.disableEnforceFocus,i=void 0!==a&&a,o=e.disableRestoreFocus,s=void 0!==o&&o,u=e.getDoc,c=e.isEnabled,l=e.open,d=b.a.useRef(),p=b.a.useRef(null),h=b.a.useRef(null),f=b.a.useRef(),m=b.a.useRef(null),v=b.a.useCallback(function(e){m.current=w.a.findDOMNode(e)},[]),g=Object(E.c)(t.ref,v);return b.a.useMemo(function(){l&&(f.current=u().activeElement)},[l]),b.a.useEffect(function(){if(l){var e=Object(_.a)(m.current);r||!m.current||m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var t=function(){i||!c()||d.current?d.current=!1:m.current&&!m.current.contains(e.activeElement)&&m.current.focus()},n=function(t){!i&&c()&&9===t.keyCode&&e.activeElement===m.current&&(d.current=!0,t.shiftKey?h.current.focus():p.current.focus())};return e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0),function(){e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),s||(f.current&&f.current.focus&&f.current.focus(),f.current=null)}}},[r,i,s,c,l]),b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),b.a.cloneElement(t,{ref:g}),b.a.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelEnd"}))},M={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",touchAction:"none"},invisible:{backgroundColor:"transparent"}},N=b.a.forwardRef(function(e,t){var n=e.invisible,r=e.open,i=o()(e,["invisible","open"]);return r?b.a.createElement("div",a()({"aria-hidden":!0,ref:t},i,{style:a()({},M.root,n?M.invisible:{},i.style)})):null});N.defaultProps={invisible:!1};var D=N,R=n(177);function P(e){return!!e.children&&e.children.props.hasOwnProperty("in")}var L=function(e){function t(e){var n;return u()(this,t),(n=p()(this,f()(t).call(this))).handleOpen=function(){var e=function(e){return e="function"===typeof e?e():e,w.a.findDOMNode(e)}(n.props.container)||n.getDoc().body;n.props.manager.add(v()(n),e),n.modalRef&&n.handleOpened()},n.handleRendered=function(){n.props.onRendered&&n.props.onRendered(),n.props.open?n.handleOpened():Object(R.a)(n.modalRef,!0)},n.handleOpened=function(){n.props.manager.mount(v()(n)),n.modalRef.scrollTop=0},n.handleClose=function(e){P(n.props)&&n.props.closeAfterTransition&&"unmount"!==e||n.props.manager.remove(v()(n))},n.handleEnter=function(){n.setState({exited:!1})},n.handleExited=function(){n.props.closeAfterTransition&&n.props.manager.remove(v()(n)),n.setState({exited:!0})},n.handleBackdropClick=function(e){e.target===e.currentTarget&&(n.props.onBackdropClick&&n.props.onBackdropClick(e),!n.props.disableBackdropClick&&n.props.onClose&&n.props.onClose(e,"backdropClick"))},n.handleKeyDown=function(e){"Escape"===e.key&&n.isTopModal()&&(e.stopPropagation(),n.props.onEscapeKeyDown&&n.props.onEscapeKeyDown(e),!n.props.disableEscapeKeyDown&&n.props.onClose&&n.props.onClose(e,"escapeKeyDown"))},n.handlePortalRef=function(e){n.mountNode=e},n.handleModalRef=function(e){n.modalRef=e,Object(E.b)(n.props.innerRef,e)},n.isTopModal=function(){return n.props.manager.isTopModal(v()(n))},n.getDoc=function(){return Object(_.a)(n.mountNode)},n.state={exited:!e.open},n}return A()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.props.open&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){e.open&&!this.props.open?this.handleClose():!e.open&&this.props.open&&this.handleOpen()}},{key:"componentWillUnmount",value:function(){(this.props.open||P(this.props)&&!this.state.exited)&&this.handleClose("unmount")}},{key:"render",value:function(){var e=this.props,t=e.BackdropComponent,n=e.BackdropProps,r=e.children,i=(e.closeAfterTransition,e.container),s=e.disableAutoFocus,u=(e.disableBackdropClick,e.disableEnforceFocus),c=(e.disableEscapeKeyDown,e.disablePortal),l=e.disableRestoreFocus,d=e.hideBackdrop,p=(e.innerRef,e.keepMounted),h=(e.manager,e.onBackdropClick,e.onClose,e.onEscapeKeyDown,e.onRendered,e.open),f=e.theme,m=o()(e,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","hideBackdrop","innerRef","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open","theme"]),v=this.state.exited,g=P(this.props);if(!p&&!h&&(!g||v))return null;var A={};g&&(A.onEnter=Object(O.b)(this.handleEnter,r.props.onEnter),A.onExited=Object(O.b)(this.handleExited,r.props.onExited)),void 0===r.props.role&&(A.role=r.props.role||"document"),void 0===r.props.tabIndex&&(A.tabIndex=r.props.tabIndex||"-1");var y=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(f||{zIndex:T.a});return b.a.createElement(k.a,{ref:this.handlePortalRef,container:i,disablePortal:c,onRendered:this.handleRendered},b.a.createElement("div",a()({ref:this.handleModalRef,onKeyDown:this.handleKeyDown,role:"presentation"},m,{style:a()({},y.root,!h&&v?y.hidden:{},m.style)}),d?null:b.a.createElement(t,a()({open:h,onClick:this.handleBackdropClick},n)),b.a.createElement(j,{disableEnforceFocus:u,disableAutoFocus:s,disableRestoreFocus:l,getDoc:this.getDoc,isEnabled:this.isTopModal,open:h},b.a.cloneElement(r,A))))}}]),t}(b.a.Component);L.defaultProps={BackdropComponent:D,closeAfterTransition:!1,disableAutoFocus:!1,disableBackdropClick:!1,disableEnforceFocus:!1,disableEscapeKeyDown:!1,disablePortal:!1,disableRestoreFocus:!1,hideBackdrop:!1,keepMounted:!1,manager:new I.a};t.a=Object(C.a)(Object(S.a)(L))},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(45),o=n.n(i),s=n(15),u=n.n(s),c=n(1),l=n.n(c),d=(n(53),n(14)),p=n(121),h=n(157),f=n(22),m=n(40),v=n(108),g=n.n(v);function A(e,t){return parseInt(e[t],10)||0}var y="undefined"!==typeof window?l.a.useLayoutEffect:l.a.useEffect,b={visibility:"hidden",position:"absolute",overflow:"hidden",height:"0"},x=l.a.forwardRef(function(e,t){var n=e.onChange,r=e.rows,i=e.rowsMax,s=e.style,c=e.value,d=u()(e,["onChange","rows","rowsMax","style","value"]),p=l.a.useRef(null!=c).current,h=l.a.useRef(null),f=l.a.useState({}),v=o()(f,2),x=v[0],w=v[1],_=l.a.useRef(null),k=Object(m.c)(t,h),O=l.a.useCallback(function(){var t=h.current,n=_.current,a=window.getComputedStyle(t);n.style.width=a.width,n.value=t.value||e.placeholder||"x";var o=n.scrollHeight,s=a["box-sizing"];n.value="x";var u=n.scrollHeight,c=o;null!=r&&(c=Math.max(Number(r)*u,c)),null!=i&&(c=Math.min(Number(i)*u,c)),c=Math.max(c,u),"content-box"===s?c-=A(a,"padding-bottom")+A(a,"padding-top"):"border-box"===s&&(c+=A(a,"border-bottom-width")+A(a,"border-top-width")),w(function(e){return o>0&&Math.abs((e.innerHeight||0)-o)>1?{innerHeight:o,outerHeight:c}:e})},[w,r,i,e.placeholder]);l.a.useEffect(function(){var e=g()(function(){O()},166);return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}},[O]),y(function(){O()});return l.a.createElement(l.a.Fragment,null,l.a.createElement("textarea",a()({value:c,onChange:function(e){p||O(),n&&n(e)},ref:k,style:a()({height:x.outerHeight,overflow:x.outerHeight===x.innerHeight?"hidden":null},s)},d)),l.a.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:_,tabIndex:-1,style:a()({},b,s)}))}),w=n(186),_=l.a.forwardRef(function(e,t){var n=e["aria-describedby"],r=e.autoComplete,i=e.autoFocus,s=e.classes,c=e.className,f=e.defaultValue,v=e.disabled,g=e.endAdornment,A=(e.error,e.fullWidth),y=void 0!==A&&A,b=e.id,_=e.inputComponent,k=void 0===_?"input":_,O=e.inputProps,E=(O=void 0===O?{}:O).className,S=u()(O,["className"]),C=e.inputRef,T=(e.margin,e.multiline),I=void 0!==T&&T,j=e.name,M=e.onBlur,N=e.onChange,D=e.onClick,R=e.onEmpty,P=e.onFilled,L=e.onFocus,F=e.onKeyDown,B=e.onKeyUp,z=e.placeholder,U=e.readOnly,V=e.renderPrefix,W=e.rows,G=e.rowsMax,H=e.startAdornment,q=e.type,K=void 0===q?"text":q,X=e.value,Q=u()(e,["aria-describedby","autoComplete","autoFocus","classes","className","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onEmpty","onFilled","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderPrefix","rows","rowsMax","startAdornment","type","value"]),Y=l.a.useRef(null!=X).current,$=l.a.useRef(),Z=l.a.useCallback(function(e){},[]),J=Object(m.c)(S.ref,Z),ee=Object(m.c)(C,J),te=Object(m.c)($,ee),ne=l.a.useState(!1),re=o()(ne,2),ae=re[0],ie=re[1],oe=l.a.useContext(h.a),se=Object(p.a)({props:e,muiFormControl:oe,states:["disabled","error","margin","required","filled"]});se.focused=oe?oe.focused:ae,l.a.useEffect(function(){!oe&&v&&ae&&(ie(!1),M&&M())},[oe,v,ae,M]);var ue=l.a.useCallback(function(e){if(Object(w.b)(e))return oe&&oe.onFilled&&oe.onFilled(),void(P&&P());oe&&oe.onEmpty&&oe.onEmpty(),R&&R()},[oe,R,P]);l.a.useEffect(function(){Y&&ue({value:X})},[X,ue,Y]),l.a.useEffect(function(){Y||ue($.current)},[ue,Y]);var ce=k,le=a()({},S,{ref:te});return"string"!==typeof ce?le=a()({inputRef:te,type:K},le,{ref:null}):I?W&&!G?ce="textarea":(le=a()({rows:W,rowsMax:G},le),ce=x):le=a()({type:K},le),l.a.createElement("div",a()({className:Object(d.a)(s.root,c,se.disabled&&s.disabled,se.error&&s.error,y&&s.fullWidth,se.focused&&s.focused,oe&&s.formControl,"dense"===se.margin&&s.marginDense,I&&s.multiline,H&&s.adornedStart,g&&s.adornedEnd),onClick:function(e){$.current&&e.currentTarget===e.target&&$.current.focus(),D&&D(e)},ref:t},Q),V?V(a()({},se,{startAdornment:H})):null,H,l.a.createElement(h.a.Provider,{value:null},l.a.createElement(ce,a()({"aria-invalid":se.error,"aria-describedby":n,autoComplete:r,autoFocus:i,className:Object(d.a)(s.input,E,se.disabled&&s.disabled,"search"===K&&s.inputTypeSearch,I&&s.inputMultiline,"dense"===se.margin&&s.inputMarginDense,H&&s.inputAdornedStart,g&&s.inputAdornedEnd),defaultValue:f,disabled:se.disabled,id:b,name:j,onBlur:function(e){M&&M(e),oe&&oe.onBlur?oe.onBlur(e):ie(!1)},onChange:function(e){if(Y||ue({value:(e.target||$.current).value}),N){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];N.apply(void 0,[e].concat(n))}},onFocus:function(e){se.disabled?e.stopPropagation():(L&&L(e),oe&&oe.onFocus?oe.onFocus(e):ie(!0))},onKeyDown:F,onKeyUp:B,placeholder:z,readOnly:U,required:se.required,rows:W,value:X},le))),g)});t.a=Object(f.a)(function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},a={opacity:t?.42:.5};return{root:{fontFamily:e.typography.fontFamily,color:e.palette.text.primary,fontSize:e.typography.pxToRem(16),lineHeight:"1.1875em",boxSizing:"border-box",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}},formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1875em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{}}},{name:"MuiInputBase"})(_)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(393),a="function"===typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,o=a?Symbol.for("react.portal"):60106,s=a?Symbol.for("react.fragment"):60107,u=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,l=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,p=a?Symbol.for("react.concurrent_mode"):60111,h=a?Symbol.for("react.forward_ref"):60112,f=a?Symbol.for("react.suspense"):60113,m=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function A(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,a,i,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,i,o,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&A("85"),this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=x.prototype;var k=_.prototype=new w;k.constructor=_,r(k,x.prototype),k.isPureReactComponent=!0;var O={current:null},E={current:null},S=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r=void 0,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!C.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var j=/\/+/g,M=[];function N(e,t,n,r){if(M.length){var a=M.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return r(a,t,""===n?"."+P(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+P(s=t[c],c);u+=e(s,l,r,a)}else if(l=null===t||"object"!==typeof t?null:"function"===typeof(l=g&&t[g]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+P(s,c++),r,a);else"object"===s&&A("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,function(e){return e}):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,a){var i="";null!=n&&(i=(""+n).replace(j,"$&/")+"/"),R(e,F,t=N(t,i,r,a)),D(t)}function z(){var e=O.current;return null===e&&A("321"),e}var U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,L,t=N(null,null,t,n)),D(t)},count:function(e){return R(e,function(){return null},null)},toArray:function(e){var t=[];return B(e,t,null,function(e){return e}),t},only:function(e){return I(e)||A("143"),e}},createRef:function(){return{current:null}},Component:x,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return z().useCallback(e,t)},useContext:function(e,t){return z().useContext(e,t)},useEffect:function(e,t){return z().useEffect(e,t)},useImperativeHandle:function(e,t,n){return z().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return z().useLayoutEffect(e,t)},useMemo:function(e,t){return z().useMemo(e,t)},useReducer:function(e,t,n){return z().useReducer(e,t,n)},useRef:function(e){return z().useRef(e)},useState:function(e){return z().useState(e)},Fragment:s,StrictMode:u,Suspense:f,createElement:T,cloneElement:function(e,t,n){(null===e||void 0===e)&&A("267",e);var a=void 0,o=r({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=E.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(a in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)S.call(t,a)&&!C.hasOwnProperty(a)&&(o[a]=void 0===t[a]&&void 0!==l?l[a]:t[a])}if(1===(a=arguments.length-2))o.children=n;else if(1<a){l=Array(a);for(var d=0;d<a;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:s,ref:u,props:o,_owner:c}},createFactory:function(e){var t=T.bind(null,e);return t.type=e,t},isValidElement:I,version:"16.8.6",unstable_ConcurrentMode:p,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:O,ReactCurrentOwner:E,assign:r}},V={default:U},W=V&&U||V;e.exports=W.default||W},function(e,t,n){"use strict";var r=n(1),a=n(393),i=n(539);function o(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,a,i,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,i,o,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||o("227");var s=!1,u=null,c=!1,l=null,d={onError:function(e){s=!0,u=e}};function p(e,t,n,r,a,i,o,c,l){s=!1,u=null,function(e,t,n,r,a,i,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(d,arguments)}var h=null,f={};function m(){if(h)for(var e in f){var t=f[e],n=h.indexOf(e);if(-1<n||o("96",e),!g[n])for(var r in t.extractEvents||o("97",e),g[n]=t,n=t.eventTypes){var a=void 0,i=n[r],s=t,u=r;A.hasOwnProperty(u)&&o("99",u),A[u]=i;var c=i.phasedRegistrationNames;if(c){for(a in c)c.hasOwnProperty(a)&&v(c[a],s,u);a=!0}else i.registrationName?(v(i.registrationName,s,u),a=!0):a=!1;a||o("98",r,e)}}}function v(e,t,n){y[e]&&o("100",e),y[e]=t,b[e]=t.eventTypes[n].dependencies}var g=[],A={},y={},b={},x=null,w=null,_=null;function k(e,t,n){var r=e.type||"unknown-event";e.currentTarget=_(n),function(e,t,n,r,a,i,d,h,f){if(p.apply(this,arguments),s){if(s){var m=u;s=!1,u=null}else o("198"),m=void 0;c||(c=!0,l=m)}}(r,t,void 0,e),e.currentTarget=null}function O(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function E(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var S=null;function C(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)k(e,t[r],n[r]);else t&&k(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var T={injectEventPluginOrder:function(e){h&&o("101"),h=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];f.hasOwnProperty(t)&&f[t]===r||(f[t]&&o("102",t),f[t]=r,n=!0)}n&&m()}};function I(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&o("231",t,typeof n),n)}function j(e){if(null!==e&&(S=O(S,e)),e=S,S=null,e&&(E(e,C),S&&o("95"),c))throw e=l,c=!1,l=null,e}var M=Math.random().toString(36).slice(2),N="__reactInternalInstance$"+M,D="__reactEventHandlers$"+M;function R(e){if(e[N])return e[N];for(;!e[N];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[N]).tag||6===e.tag?e:null}function P(e){return!(e=e[N])||5!==e.tag&&6!==e.tag?null:e}function L(e){if(5===e.tag||6===e.tag)return e.stateNode;o("33")}function F(e){return e[D]||null}function B(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function z(e,t,n){(t=I(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function U(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=B(t);for(t=n.length;0<t--;)z(n[t],"captured",e);for(t=0;t<n.length;t++)z(n[t],"bubbled",e)}}function V(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=I(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function W(e){e&&e.dispatchConfig.registrationName&&V(e._targetInst,null,e)}function G(e){E(e,U)}var H=!("undefined"===typeof window||!window.document||!window.document.createElement);function q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var K={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionend:q("Transition","TransitionEnd")},X={},Q={};function Y(e){if(X[e])return X[e];if(!K[e])return e;var t,n=K[e];for(t in n)if(n.hasOwnProperty(t)&&t in Q)return X[e]=n[t];return e}H&&(Q=document.createElement("div").style,"AnimationEvent"in window||(delete K.animationend.animation,delete K.animationiteration.animation,delete K.animationstart.animation),"TransitionEvent"in window||delete K.transitionend.transition);var $=Y("animationend"),Z=Y("animationiteration"),J=Y("animationstart"),ee=Y("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ae=null;function ie(){if(ae)return ae;var e,t,n=re,r=n.length,a="value"in ne?ne.value:ne.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return ae=a.slice(e,1<t?1-t:void 0)}function oe(){return!0}function se(){return!1}function ue(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?oe:se,this.isPropagationStopped=se,this}function ce(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function le(e){e instanceof this||o("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ce,e.release=le}a(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=oe)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=oe)},persist:function(){this.isPersistent=oe},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,de(n),n},de(ue);var pe=ue.extend({data:null}),he=ue.extend({data:null}),fe=[9,13,27,32],me=H&&"CompositionEvent"in window,ve=null;H&&"documentMode"in document&&(ve=document.documentMode);var ge=H&&"TextEvent"in window&&!ve,Ae=H&&(!me||ve&&8<ve&&11>=ve),ye=String.fromCharCode(32),be={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xe=!1;function we(e,t){switch(e){case"keyup":return-1!==fe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _e(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ke=!1;var Oe={eventTypes:be,extractEvents:function(e,t,n,r){var a=void 0,i=void 0;if(me)e:{switch(e){case"compositionstart":a=be.compositionStart;break e;case"compositionend":a=be.compositionEnd;break e;case"compositionupdate":a=be.compositionUpdate;break e}a=void 0}else ke?we(e,n)&&(a=be.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=be.compositionStart);return a?(Ae&&"ko"!==n.locale&&(ke||a!==be.compositionStart?a===be.compositionEnd&&ke&&(i=ie()):(re="value"in(ne=r)?ne.value:ne.textContent,ke=!0)),a=pe.getPooled(a,t,n,r),i?a.data=i:null!==(i=_e(n))&&(a.data=i),G(a),i=a):i=null,(e=ge?function(e,t){switch(e){case"compositionend":return _e(t);case"keypress":return 32!==t.which?null:(xe=!0,ye);case"textInput":return(e=t.data)===ye&&xe?null:e;default:return null}}(e,n):function(e,t){if(ke)return"compositionend"===e||!me&&we(e,t)?(e=ie(),ae=re=ne=null,ke=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ae&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=he.getPooled(be.beforeInput,t,n,r)).data=e,G(t)):t=null,null===i?t:null===t?i:[i,t]}},Ee=null,Se=null,Ce=null;function Te(e){if(e=w(e)){"function"!==typeof Ee&&o("280");var t=x(e.stateNode);Ee(e.stateNode,e.type,t)}}function Ie(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function je(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Me(e,t){return e(t)}function Ne(e,t,n){return e(t,n)}function De(){}var Re=!1;function Pe(e,t){if(Re)return e(t);Re=!0;try{return Me(e,t)}finally{Re=!1,(null!==Se||null!==Ce)&&(De(),je())}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Le[e.type]:"textarea"===t}function Be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ze(e){if(!H)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function Ue(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=Ue(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ue(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ge=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ge.hasOwnProperty("ReactCurrentDispatcher")||(Ge.ReactCurrentDispatcher={current:null});var He=/^(.*)[\\\/]/,qe="function"===typeof Symbol&&Symbol.for,Ke=qe?Symbol.for("react.element"):60103,Xe=qe?Symbol.for("react.portal"):60106,Qe=qe?Symbol.for("react.fragment"):60107,Ye=qe?Symbol.for("react.strict_mode"):60108,$e=qe?Symbol.for("react.profiler"):60114,Ze=qe?Symbol.for("react.provider"):60109,Je=qe?Symbol.for("react.context"):60110,et=qe?Symbol.for("react.concurrent_mode"):60111,tt=qe?Symbol.for("react.forward_ref"):60112,nt=qe?Symbol.for("react.suspense"):60113,rt=qe?Symbol.for("react.memo"):60115,at=qe?Symbol.for("react.lazy"):60116,it="function"===typeof Symbol&&Symbol.iterator;function ot(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=it&&e[it]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case et:return"ConcurrentMode";case Qe:return"Fragment";case Xe:return"Portal";case $e:return"Profiler";case Ye:return"StrictMode";case nt:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case Je:return"Context.Consumer";case Ze:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case at:if(e=1===e._status?e._result:null)return st(e)}return null}function ut(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,a=e._debugSource,i=st(e.type);n=null,r&&(n=st(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace(He,"")+":"+a.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var ct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lt=Object.prototype.hasOwnProperty,dt={},pt={};function ht(e,t,n,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new ht(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ft[e]=new ht(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ft[e]=new ht(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ft[e]=new ht(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function gt(e,t,n,r){var a=ft.hasOwnProperty(t)?ft[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!lt.call(pt,e)||!lt.call(dt,e)&&(ct.test(e)?pt[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function At(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function yt(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function bt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=At(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&gt(e,"checked",t,!1)}function wt(e,t){xt(e,t);var n=At(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?kt(e,t.type,n):t.hasOwnProperty("defaultValue")&&kt(e,t.type,At(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _t(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function kt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,vt);ft[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,vt);ft[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,vt);ft[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new ht(e,1,!1,e.toLowerCase(),null)});var Ot={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Et(e,t,n){return(e=ue.getPooled(Ot.change,e,t,n)).type="change",Ie(n),G(e),e}var St=null,Ct=null;function Tt(e){j(e)}function It(e){if(We(L(e)))return e}function jt(e,t){if("change"===e)return t}var Mt=!1;function Nt(){St&&(St.detachEvent("onpropertychange",Dt),Ct=St=null)}function Dt(e){"value"===e.propertyName&&It(Ct)&&Pe(Tt,e=Et(Ct,e,Be(e)))}function Rt(e,t,n){"focus"===e?(Nt(),Ct=n,(St=t).attachEvent("onpropertychange",Dt)):"blur"===e&&Nt()}function Pt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return It(Ct)}function Lt(e,t){if("click"===e)return It(t)}function Ft(e,t){if("input"===e||"change"===e)return It(t)}H&&(Mt=ze("input")&&(!document.documentMode||9<document.documentMode));var Bt={eventTypes:Ot,_isInputEventSupported:Mt,extractEvents:function(e,t,n,r){var a=t?L(t):window,i=void 0,o=void 0,s=a.nodeName&&a.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===a.type?i=jt:Fe(a)?Mt?i=Ft:(i=Pt,o=Rt):(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(i=Lt),i&&(i=i(e,t)))return Et(i,n,r);o&&o(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&kt(a,"number",a.value)}},zt=ue.extend({view:null,detail:null}),Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ut[e])&&!!t[e]}function Wt(){return Vt}var Gt=0,Ht=0,qt=!1,Kt=!1,Xt=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Gt;return Gt=e.screenX,qt?"mousemove"===e.type?e.screenX-t:0:(qt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ht;return Ht=e.screenY,Kt?"mousemove"===e.type?e.screenY-t:0:(Kt=!0,0)}}),Qt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Yt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$t={eventTypes:Yt,extractEvents:function(e,t,n,r){var a="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(a&&(n.relatedTarget||n.fromElement)||!i&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,i?(i=t,t=(t=n.relatedTarget||n.toElement)?R(t):null):i=null,i===t)return null;var o=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(o=Xt,s=Yt.mouseLeave,u=Yt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=Qt,s=Yt.pointerLeave,u=Yt.pointerEnter,c="pointer");var l=null==i?a:L(i);if(a=null==t?a:L(t),(e=o.getPooled(s,i,n,r)).type=c+"leave",e.target=l,e.relatedTarget=a,(n=o.getPooled(u,t,n,r)).type=c+"enter",n.target=a,n.relatedTarget=l,r=t,i&&r)e:{for(a=r,c=0,o=t=i;o;o=B(o))c++;for(o=0,u=a;u;u=B(u))o++;for(;0<c-o;)t=B(t),c--;for(;0<o-c;)a=B(a),o--;for(;c--;){if(t===a||t===a.alternate)break e;t=B(t),a=B(a)}t=null}else t=null;for(a=t,t=[];i&&i!==a&&(null===(c=i.alternate)||c!==a);)t.push(i),i=B(i);for(i=[];r&&r!==a&&(null===(c=r.alternate)||c!==a);)i.push(r),r=B(r);for(r=0;r<t.length;r++)V(t[r],"bubbled",e);for(r=i.length;0<r--;)V(i[r],"captured",n);return[e,n]}};function Zt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Jt=Object.prototype.hasOwnProperty;function en(e,t){if(Zt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Jt.call(t,n[r])||!Zt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&o("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&o("188"),1===t?null:e;for(var n=e,r=t;;){var a=n.return,i=a?a.alternate:null;if(!a||!i)break;if(a.child===i.child){for(var s=a.child;s;){if(s===n)return nn(a),e;if(s===r)return nn(a),t;s=s.sibling}o("188")}if(n.return!==r.return)n=a,r=i;else{s=!1;for(var u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}s||o("189")}}n.alternate!==r&&o("190")}return 3!==n.tag&&o("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),on=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=zt.extend({relatedTarget:null});function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=zt.extend({key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ln[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wt,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=Xt.extend({dataTransfer:null}),hn=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wt}),fn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[$,"animationEnd"],[Z,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],gn={},An={};function yn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},gn[e]=t,An[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){yn(e,!0)}),vn.forEach(function(e){yn(e,!1)});var bn={eventTypes:gn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=An[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var a=An[e];if(!a)return null;switch(e){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=hn;break;case $:case Z:case J:e=an;break;case ee:e=fn;break;case"scroll":e=zt;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Qt;break;default:e=ue}return G(t=e.getPooled(a,t,n,r)),t}},xn=bn.isInteractiveTopLevelEventType,wn=[];function _n(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=R(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=Be(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,o=null,s=0;s<g.length;s++){var u=g[s];u&&(u=u.extractEvents(r,t,i,a))&&(o=O(o,u))}j(o)}}var kn=!0;function On(e,t){if(!t)return null;var n=(xn(e)?Sn:Cn).bind(null,e);t.addEventListener(e,n,!1)}function En(e,t){if(!t)return null;var n=(xn(e)?Sn:Cn).bind(null,e);t.addEventListener(e,n,!0)}function Sn(e,t){Ne(Cn,e,t)}function Cn(e,t){if(kn){var n=Be(t);if(null===(n=R(n))||"number"!==typeof n.tag||2===tn(n)||(n=null),wn.length){var r=wn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Pe(_n,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wn.length&&wn.push(e)}}}var Tn={},In=0,jn="_reactListenersID"+(""+Math.random()).slice(2);function Mn(e){return Object.prototype.hasOwnProperty.call(e,jn)||(e[jn]=In++,Tn[e[jn]]={}),Tn[e[jn]]}function Nn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rn(e,t){var n,r=Dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dn(r)}}function Pn(){for(var e=window,t=Nn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Nn((e=t.contentWindow).document)}return t}function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Fn(e){var t=Pn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Ln(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=Rn(n,i);var o=Rn(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bn=H&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Un=null,Vn=null,Wn=null,Gn=!1;function Hn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Gn||null==Un||Un!==Nn(n)?null:("selectionStart"in(n=Un)&&Ln(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wn&&en(Wn,n)?null:(Wn=n,(e=ue.getPooled(zn.select,Vn,e,t)).type="select",e.target=Un,G(e),e))}var qn={eventTypes:zn,extractEvents:function(e,t,n,r){var a,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!i)){e:{i=Mn(i),a=b.onSelect;for(var o=0;o<a.length;o++){var s=a[o];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}a=!i}if(a)return null;switch(i=t?L(t):window,e){case"focus":(Fe(i)||"true"===i.contentEditable)&&(Un=i,Vn=t,Wn=null);break;case"blur":Wn=Vn=Un=null;break;case"mousedown":Gn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gn=!1,Hn(n,r);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return Hn(n,r)}return null}};function Kn(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Xn(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+At(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Qn(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&o("92"),Array.isArray(t)&&(1>=t.length||o("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:At(n)}}function $n(e,t){var n=At(t.value),r=At(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Zn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}T.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=F,w=P,_=L,T.injectEventPluginsByName({SimpleEventPlugin:bn,EnterLeaveEventPlugin:$t,ChangeEventPlugin:Bt,SelectEventPlugin:qn,BeforeInputEventPlugin:Oe});var Jn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,ar=(nr=function(e,t){if(e.namespaceURI!==Jn.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var or={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function ur(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function cr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ur(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(or).forEach(function(e){sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});var lr=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(e,t){t&&(lr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&o("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&o("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||o("61")),null!=t.style&&"object"!==typeof t.style&&o("62",""))}function pr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hr(e,t){var n=Mn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=b[t];for(var r=0;r<t.length;r++){var a=t[r];if(!n.hasOwnProperty(a)||!n[a]){switch(a){case"scroll":En("scroll",e);break;case"focus":case"blur":En("focus",e),En("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ze(a)&&En(a,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(a)&&On(a,e)}n[a]=!0}}}function fr(){}var mr=null,vr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ar(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"===typeof setTimeout?setTimeout:void 0,br="function"===typeof clearTimeout?clearTimeout:void 0,xr=i.unstable_scheduleCallback,wr=i.unstable_cancelCallback;function _r(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function kr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Or=[],Er=-1;function Sr(e){0>Er||(e.current=Or[Er],Or[Er]=null,Er--)}function Cr(e,t){Or[++Er]=e.current,e.current=t}var Tr={},Ir={current:Tr},jr={current:!1},Mr=Tr;function Nr(e,t){var n=e.type.contextTypes;if(!n)return Tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rr(e){Sr(jr),Sr(Ir)}function Pr(e){Sr(jr),Sr(Ir)}function Lr(e,t,n){Ir.current!==Tr&&o("168"),Cr(Ir,t),Cr(jr,n)}function Fr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())i in e||o("108",st(t)||"Unknown",i);return a({},n,r)}function Br(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Tr,Mr=Ir.current,Cr(Ir,t),Cr(jr,jr.current),!0}function zr(e,t,n){var r=e.stateNode;r||o("169"),n?(t=Fr(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=t,Sr(jr),Sr(Ir),Cr(Ir,t)):Sr(jr),Cr(jr,n)}var Ur=null,Vr=null;function Wr(e){return function(t){try{return e(t)}catch(n){}}}function Gr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Hr(e,t,n,r){return new Gr(e,t,n,r)}function qr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Kr(e,t){var n=e.alternate;return null===n?((n=Hr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xr(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)qr(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case Qe:return Qr(n.children,a,i,t);case et:return Yr(n,3|a,i,t);case Ye:return Yr(n,2|a,i,t);case $e:return(e=Hr(12,n,t,4|a)).elementType=$e,e.type=$e,e.expirationTime=i,e;case nt:return(e=Hr(13,n,t,a)).elementType=nt,e.type=nt,e.expirationTime=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Ze:s=10;break e;case Je:s=9;break e;case tt:s=11;break e;case rt:s=14;break e;case at:s=16,r=null;break e}o("130",null==e?e:typeof e,"")}return(t=Hr(s,n,t,a)).elementType=e,t.type=r,t.expirationTime=i,t}function Qr(e,t,n,r){return(e=Hr(7,e,r,t)).expirationTime=n,e}function Yr(e,t,n,r){return e=Hr(8,e,r,t),t=0===(1&t)?Ye:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function $r(e,t,n){return(e=Hr(6,e,null,t)).expirationTime=n,e}function Zr(e,t,n){return(t=Hr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),na(t,e)}function ea(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),na(t,e)}function ta(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function na(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,a=t.earliestPendingTime,i=t.latestPingedTime;0===(a=0!==a?a:i)&&(0===e||r<e)&&(a=r),0!==(e=a)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=a,t.expirationTime=e}function ra(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var aa=(new r.Component).refs;function ia(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ws(),a=Qi(r=Qo(r,e));a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Wo(),$i(e,a),Zo(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ws(),a=Qi(r=Qo(r,e));a.tag=Wi,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Wo(),$i(e,a),Zo(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ws(),r=Qi(n=Qo(n,e));r.tag=Gi,void 0!==t&&null!==t&&(r.callback=t),Wo(),$i(e,r),Zo(e,n)}};function sa(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(a,i))}function ua(e,t,n){var r=!1,a=Tr,i=t.contextType;return"object"===typeof i&&null!==i?i=Ui(i):(a=Dr(t)?Mr:Ir.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Nr(e,a):Tr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ca(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=aa;var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ui(i):(i=Dr(t)?Mr:Ir.current,a.context=Nr(e,i)),null!==(i=e.updateQueue)&&(to(e,i,n,a,r),a.state=e.memoizedState),"function"===typeof(i=t.getDerivedStateFromProps)&&(ia(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&oa.enqueueReplaceState(a,a.state,null),null!==(i=e.updateQueue)&&(to(e,i,n,a,r),a.state=e.memoizedState)),"function"===typeof a.componentDidMount&&(e.effectTag|=4)}var da=Array.isArray;function pa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&o("309"),r=n.stateNode),r||o("147",e);var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===aa&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}"string"!==typeof e&&o("284"),n._owner||o("290",e)}return e}function ha(e,t){"textarea"!==e.type&&o("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function fa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=Kr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=pa(e,t,n),r.return=e,r):((r=Xr(n.type,n.key,n.props,null,e.mode,r)).ref=pa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Qr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ke:return(n=Xr(t.type,t.key,t.props,null,e.mode,n)).ref=pa(e,null,t),n.return=e,n;case Xe:return(t=Zr(t,e.mode,n)).return=e,t}if(da(t)||ot(t))return(t=Qr(t,e.mode,n,null)).return=e,t;ha(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ke:return n.key===a?n.type===Qe?d(e,t,n.props.children,r,a):c(e,t,n,r):null;case Xe:return n.key===a?l(e,t,n,r):null}if(da(n)||ot(n))return null!==a?null:d(e,t,n,r,null);ha(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ke:return e=e.get(null===r.key?n:r.key)||null,r.type===Qe?d(t,e,r.props.children,a,r.key):c(t,e,r,a);case Xe:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(da(r)||ot(r))return d(t,e=e.get(n)||null,r,a,null);ha(t,r)}return null}function m(a,o,s,u){for(var c=null,l=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=h(a,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),o=i(g,o,m),null===l?c=g:l.sibling=g,l=g,d=v}if(m===s.length)return n(a,d),c;if(null===d){for(;m<s.length;m++)(d=p(a,s[m],u))&&(o=i(d,o,m),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(a,d);m<s.length;m++)(v=f(d,a,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=i(v,o,m),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach(function(e){return t(a,e)}),c}function v(a,s,u,c){var l=ot(u);"function"!==typeof l&&o("150"),null==(u=l.call(u))&&o("151");for(var d=l=null,m=s,v=s=0,g=null,A=u.next();null!==m&&!A.done;v++,A=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var y=h(a,m,A.value,c);if(null===y){m||(m=g);break}e&&m&&null===y.alternate&&t(a,m),s=i(y,s,v),null===d?l=y:d.sibling=y,d=y,m=g}if(A.done)return n(a,m),l;if(null===m){for(;!A.done;v++,A=u.next())null!==(A=p(a,A.value,c))&&(s=i(A,s,v),null===d?l=A:d.sibling=A,d=A);return l}for(m=r(a,m);!A.done;v++,A=u.next())null!==(A=f(m,a,v,A.value,c))&&(e&&null!==A.alternate&&m.delete(null===A.key?v:A.key),s=i(A,s,v),null===d?l=A:d.sibling=A,d=A);return e&&m.forEach(function(e){return t(a,e)}),l}return function(e,r,i,u){var c="object"===typeof i&&null!==i&&i.type===Qe&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case Ke:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?i.type===Qe:c.elementType===i.type){n(e,c.sibling),(r=a(c,i.type===Qe?i.props.children:i.props)).ref=pa(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===Qe?((r=Qr(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Xr(i.type,i.key,i.props,null,e.mode,u)).ref=pa(e,r,i),u.return=e,e=u)}return s(e);case Xe:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zr(i,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=$r(i,e.mode,u)).return=e,e=r),s(e);if(da(i))return m(e,r,i,u);if(ot(i))return v(e,r,i,u);if(l&&ha(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 0:o("152",(u=e.type).displayName||u.name||"Component")}return n(e,r)}}var ma=fa(!0),va=fa(!1),ga={},Aa={current:ga},ya={current:ga},ba={current:ga};function xa(e){return e===ga&&o("174"),e}function wa(e,t){Cr(ba,t),Cr(ya,e),Cr(Aa,ga);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Sr(Aa),Cr(Aa,t)}function _a(e){Sr(Aa),Sr(ya),Sr(ba)}function ka(e){xa(ba.current);var t=xa(Aa.current),n=tr(t,e.type);t!==n&&(Cr(ya,e),Cr(Aa,n))}function Oa(e){ya.current===e&&(Sr(Aa),Sr(ya))}var Ea=0,Sa=2,Ca=4,Ta=8,Ia=16,ja=32,Ma=64,Na=128,Da=Ge.ReactCurrentDispatcher,Ra=0,Pa=null,La=null,Fa=null,Ba=null,za=null,Ua=null,Va=0,Wa=null,Ga=0,Ha=!1,qa=null,Ka=0;function Xa(){o("321")}function Qa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function Ya(e,t,n,r,a,i){if(Ra=i,Pa=t,Fa=null!==e?e.memoizedState:null,Da.current=null===Fa?ci:li,t=n(r,a),Ha){do{Ha=!1,Ka+=1,Fa=null!==e?e.memoizedState:null,Ua=Ba,Wa=za=La=null,Da.current=li,t=n(r,a)}while(Ha);qa=null,Ka=0}return Da.current=ui,(e=Pa).memoizedState=Ba,e.expirationTime=Va,e.updateQueue=Wa,e.effectTag|=Ga,e=null!==La&&null!==La.next,Ra=0,Ua=za=Ba=Fa=La=Pa=null,Va=0,Wa=null,Ga=0,e&&o("300"),t}function $a(){Da.current=ui,Ra=0,Ua=za=Ba=Fa=La=Pa=null,Va=0,Wa=null,Ga=0,Ha=!1,qa=null,Ka=0}function Za(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===za?Ba=za=e:za=za.next=e,za}function Ja(){if(null!==Ua)Ua=(za=Ua).next,Fa=null!==(La=Fa)?La.next:null;else{null===Fa&&o("310");var e={memoizedState:(La=Fa).memoizedState,baseState:La.baseState,queue:La.queue,baseUpdate:La.baseUpdate,next:null};za=null===za?Ba=e:za.next=e,Fa=La.next}return za}function ei(e,t){return"function"===typeof t?t(e):t}function ti(e){var t=Ja(),n=t.queue;if(null===n&&o("311"),n.lastRenderedReducer=e,0<Ka){var r=n.dispatch;if(null!==qa){var a=qa.get(n);if(void 0!==a){qa.delete(n);var i=t.memoizedState;do{i=e(i,a.action),a=a.next}while(null!==a);return Zt(i,t.memoizedState)||(xi=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),n.lastRenderedState=i,[i,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(i=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=a=null,c=r,l=!1;do{var d=c.expirationTime;d<Ra?(l||(l=!0,u=s,a=i),d>Va&&(Va=d)):i=c.eagerReducer===e?c.eagerState:e(i,c.action),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,a=i),Zt(i,t.memoizedState)||(xi=!0),t.memoizedState=i,t.baseUpdate=u,t.baseState=a,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Wa?(Wa={lastEffect:null}).lastEffect=e.next=e:null===(t=Wa.lastEffect)?Wa.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Wa.lastEffect=e),e}function ri(e,t,n,r){var a=Za();Ga|=e,a.memoizedState=ni(t,n,void 0,void 0===r?null:r)}function ai(e,t,n,r){var a=Ja();r=void 0===r?null:r;var i=void 0;if(null!==La){var o=La.memoizedState;if(i=o.destroy,null!==r&&Qa(r,o.deps))return void ni(Ea,n,i,r)}Ga|=e,a.memoizedState=ni(t,n,i,r)}function ii(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function oi(){}function si(e,t,n){25>Ka||o("301");var r=e.alternate;if(e===Pa||null!==r&&r===Pa)if(Ha=!0,e={expirationTime:Ra,action:n,eagerReducer:null,eagerState:null,next:null},null===qa&&(qa=new Map),void 0===(n=qa.get(t)))qa.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Wo();var a=ws(),i={expirationTime:a=Qo(a,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)i.next=i;else{var u=s.next;null!==u&&(i.next=u),s.next=i}if(t.last=i,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(i.eagerReducer=r,i.eagerState=l,Zt(l,c))return}catch(d){}Zo(e,a)}}var ui={readContext:Ui,useCallback:Xa,useContext:Xa,useEffect:Xa,useImperativeHandle:Xa,useLayoutEffect:Xa,useMemo:Xa,useReducer:Xa,useRef:Xa,useState:Xa,useDebugValue:Xa},ci={readContext:Ui,useCallback:function(e,t){return Za().memoizedState=[e,void 0===t?null:t],e},useContext:Ui,useEffect:function(e,t){return ri(516,Na|Ma,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ri(4,Ca|ja,ii.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ri(4,Ca|ja,e,t)},useMemo:function(e,t){var n=Za();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Za();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=si.bind(null,Pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Za().memoizedState=e},useState:function(e){var t=Za();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e}).dispatch=si.bind(null,Pa,e),[t.memoizedState,e]},useDebugValue:oi},li={readContext:Ui,useCallback:function(e,t){var n=Ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Ui,useEffect:function(e,t){return ai(516,Na|Ma,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ai(4,Ca|ja,ii.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ai(4,Ca|ja,e,t)},useMemo:function(e,t){var n=Ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ti,useRef:function(){return Ja().memoizedState},useState:function(e){return ti(ei)},useDebugValue:oi},di=null,pi=null,hi=!1;function fi(e,t){var n=Hr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function mi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function vi(e){if(hi){var t=pi;if(t){var n=t;if(!mi(e,t)){if(!(t=_r(n))||!mi(e,t))return e.effectTag|=2,hi=!1,void(di=e);fi(di,n)}di=e,pi=kr(t)}else e.effectTag|=2,hi=!1,di=e}}function gi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;di=e}function Ai(e){if(e!==di)return!1;if(!hi)return gi(e),hi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ar(t,e.memoizedProps))for(t=pi;t;)fi(e,t),t=_r(t);return gi(e),pi=di?_r(e.stateNode):null,!0}function yi(){pi=di=null,hi=!1}var bi=Ge.ReactCurrentOwner,xi=!1;function wi(e,t,n,r){t.child=null===e?va(t,null,n,r):ma(t,e.child,n,r)}function _i(e,t,n,r,a){n=n.render;var i=t.ref;return zi(t,a),r=Ya(e,t,n,r,i,a),null===e||xi?(t.effectTag|=1,wi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Mi(e,t,a))}function ki(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||qr(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xr(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Oi(e,t,o,r,a,i))}return o=e.child,a<i&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:en)(a,r)&&e.ref===t.ref)?Mi(e,t,i):(t.effectTag|=1,(e=Kr(o,r)).ref=t.ref,e.return=t,t.child=e)}function Oi(e,t,n,r,a,i){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(xi=!1,a<i)?Mi(e,t,i):Si(e,t,n,r,i)}function Ei(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Si(e,t,n,r,a){var i=Dr(n)?Mr:Ir.current;return i=Nr(t,i),zi(t,a),n=Ya(e,t,n,r,i,a),null===e||xi?(t.effectTag|=1,wi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Mi(e,t,a))}function Ci(e,t,n,r,a){if(Dr(n)){var i=!0;Br(t)}else i=!1;if(zi(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ua(t,n,r),la(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ui(c):c=Nr(t,c=Dr(n)?Mr:Ir.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ca(t,o,r,c),qi=!1;var p=t.memoizedState;u=o.state=p;var h=t.updateQueue;null!==h&&(to(t,h,r,o,a),u=t.memoizedState),s!==r||p!==u||jr.current||qi?("function"===typeof l&&(ia(t,n,l,r),u=t.memoizedState),(s=qi||sa(t,n,s,r,p,u,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:ra(t.type,s),u=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ui(c):c=Nr(t,c=Dr(n)?Mr:Ir.current),(d="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ca(t,o,r,c),qi=!1,u=t.memoizedState,p=o.state=u,null!==(h=t.updateQueue)&&(to(t,h,r,o,a),p=t.memoizedState),s!==r||u!==p||jr.current||qi?("function"===typeof l&&(ia(t,n,l,r),p=t.memoizedState),(l=qi||sa(t,n,s,r,u,p,c))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ti(e,t,n,r,i,a)}function Ti(e,t,n,r,a,i){Ei(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return a&&zr(t,n,!1),Mi(e,t,i);r=t.stateNode,bi.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=ma(t,e.child,null,i),t.child=ma(t,null,s,i)):wi(e,t,s,i),t.memoizedState=r.state,a&&zr(t,n,!0),t.child}function Ii(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),wa(e,t.containerInfo)}function ji(e,t,n){var r=t.mode,a=t.pendingProps,i=t.memoizedState;if(0===(64&t.effectTag)){i=null;var o=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},o=!0,t.effectTag&=-65;if(null===e)if(o){var s=a.fallback;e=Qr(null,r,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Qr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=va(t,null,a.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,o?(n=a.fallback,a=Kr(r,r.pendingProps),0===(1&t.mode)&&((o=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(a.child=o)),r=a.sibling=Kr(s,n,s.expirationTime),n=a,a.childExpirationTime=0,n.return=r.return=t):n=r=ma(t,r.child,a.children,n)):(s=e.child,o?(o=a.fallback,(a=Qr(null,r,0,null)).child=s,0===(1&t.mode)&&(a.child=null!==t.memoizedState?t.child.child:t.child),(r=a.sibling=Qr(o,r,n,null)).effectTag|=2,n=a,a.childExpirationTime=0,n.return=r.return=t):r=n=ma(t,s,a.children,n)),t.stateNode=e.stateNode;return t.memoizedState=i,t.child=n,r}function Mi(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&o("153"),null!==t.child){for(n=Kr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Kr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ni(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||jr.current)xi=!0;else if(r<n){switch(xi=!1,t.tag){case 3:Ii(t),yi();break;case 5:ka(t);break;case 1:Dr(t.type)&&Br(t);break;case 4:wa(t,t.stateNode.containerInfo);break;case 10:Fi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ji(e,t,n):null!==(t=Mi(e,t,n))?t.sibling:null}return Mi(e,t,n)}}else xi=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var a=Nr(t,Ir.current);if(zi(t,n),a=Ya(null,t,r,e,a,n),t.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,$a(),Dr(r)){var i=!0;Br(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&ia(t,r,s,e),a.updater=oa,t.stateNode=a,a._reactInternalFiber=t,la(t,r,e,n),t=Ti(null,t,r,!0,i,n)}else t.tag=0,wi(null,t,a,n),t=t.child;return t;case 16:switch(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),i=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(a),t.type=e,a=t.tag=function(e){if("function"===typeof e)return qr(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),i=ra(e,i),s=void 0,a){case 0:s=Si(null,t,e,i,n);break;case 1:s=Ci(null,t,e,i,n);break;case 11:s=_i(null,t,e,i,n);break;case 14:s=ki(null,t,e,ra(e.type,i),r,n);break;default:o("306",e,"")}return s;case 0:return r=t.type,a=t.pendingProps,Si(e,t,r,a=t.elementType===r?a:ra(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ci(e,t,r,a=t.elementType===r?a:ra(r,a),n);case 3:return Ii(t),null===(r=t.updateQueue)&&o("282"),a=null!==(a=t.memoizedState)?a.element:null,to(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===a?(yi(),t=Mi(e,t,n)):(a=t.stateNode,(a=(null===e||null===e.child)&&a.hydrate)&&(pi=kr(t.stateNode.containerInfo),di=t,a=hi=!0),a?(t.effectTag|=2,t.child=va(t,null,r,n)):(wi(e,t,r,n),yi()),t=t.child),t;case 5:return ka(t),null===e&&vi(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,Ar(r,a)?s=null:null!==i&&Ar(r,i)&&(t.effectTag|=16),Ei(e,t),1!==n&&1&t.mode&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(wi(e,t,s,n),t=t.child),t;case 6:return null===e&&vi(t),null;case 13:return ji(e,t,n);case 4:return wa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ma(t,null,r,n):wi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,_i(e,t,r,a=t.elementType===r?a:ra(r,a),n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,Fi(t,i=a.value),null!==s){var u=s.value;if(0===(i=Zt(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===a.children&&!jr.current){t=Mi(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.contextDependencies;if(null!==c){s=u.child;for(var l=c.first;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=Qi(n)).tag=Gi,$i(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),l=n;for(var d=u.return;null!==d;){var p=d.alternate;if(d.childExpirationTime<l)d.childExpirationTime=l,null!==p&&p.childExpirationTime<l&&(p.childExpirationTime=l);else{if(!(null!==p&&p.childExpirationTime<l))break;p.childExpirationTime=l}d=d.return}c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}wi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,zi(t,n),r=r(a=Ui(a,i.unstable_observedBits)),t.effectTag|=1,wi(e,t,r,n),t.child;case 14:return i=ra(a=t.type,t.pendingProps),ki(e,t,a,i=ra(a.type,i),r,n);case 15:return Oi(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ra(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Dr(r)?(e=!0,Br(t)):e=!1,zi(t,n),ua(t,r,a),la(t,r,a,n),Ti(null,t,r,!0,e,n)}o("156")}var Di={current:null},Ri=null,Pi=null,Li=null;function Fi(e,t){var n=e.type._context;Cr(Di,n._currentValue),n._currentValue=t}function Bi(e){var t=Di.current;Sr(Di),e.type._context._currentValue=t}function zi(e,t){Ri=e,Li=Pi=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(xi=!0),e.contextDependencies=null}function Ui(e,t){return Li!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(Li=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Pi?(null===Ri&&o("308"),Pi=t,Ri.contextDependencies={first:t,expirationTime:0}):Pi=Pi.next=t),e._currentValue}var Vi=0,Wi=1,Gi=2,Hi=3,qi=!1;function Ki(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Qi(e){return{expirationTime:e,tag:Vi,payload:null,callback:null,next:null,nextEffect:null}}function Yi(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function $i(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,a=null;null===r&&(r=e.updateQueue=Ki(e.memoizedState))}else r=e.updateQueue,a=n.updateQueue,null===r?null===a?(r=e.updateQueue=Ki(e.memoizedState),a=n.updateQueue=Ki(n.memoizedState)):r=e.updateQueue=Xi(a):null===a&&(a=n.updateQueue=Xi(r));null===a||r===a?Yi(r,t):null===r.lastUpdate||null===a.lastUpdate?(Yi(r,t),Yi(a,t)):(Yi(r,t),a.lastUpdate=t)}function Zi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Ki(e.memoizedState):Ji(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Ji(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Xi(t)),t}function eo(e,t,n,r,i,o){switch(n.tag){case Wi:return"function"===typeof(e=n.payload)?e.call(o,r,i):e;case Hi:e.effectTag=-2049&e.effectTag|64;case Vi:if(null===(i="function"===typeof(e=n.payload)?e.call(o,r,i):e)||void 0===i)break;return a({},r,i);case Gi:qi=!0}return r}function to(e,t,n,r,a){qi=!1;for(var i=(t=Ji(e,t)).baseState,o=null,s=0,u=t.firstUpdate,c=i;null!==u;){var l=u.expirationTime;l<a?(null===o&&(o=u,i=c),s<l&&(s=l)):(c=eo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var d=u.expirationTime;d<a?(null===l&&(l=u,null===o&&(i=c)),s<d&&(s=d)):(c=eo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===o&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===l&&(i=c),t.baseState=i,t.firstUpdate=o,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function no(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ro(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ro(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ro(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!==typeof n&&o("191",n),n.call(r)}e=e.nextEffect}}function ao(e,t){return{value:e,source:t,stack:ut(t)}}function io(e){e.effectTag|=4}var oo=void 0,so=void 0,uo=void 0,co=void 0;oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},so=function(){},uo=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var s=t.stateNode;switch(xa(Aa.current),e=null,n){case"input":o=yt(s,o),r=yt(s,r),e=[];break;case"option":o=Kn(s,o),r=Kn(s,r),e=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":o=Qn(s,o),r=Qn(s,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(s.onclick=fr)}dr(n,r),s=n=void 0;var u=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var c=o[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(y.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(e||(e=[]),e.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(n,""+l)):"children"===n?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(y.hasOwnProperty(n)?(null!=l&&hr(i,n),e||c===l||(e=[])):(e=e||[]).push(n,l))}u&&(e=e||[]).push("style",u),i=e,(t.updateQueue=i)&&io(t)}},co=function(e,t,n,r){n!==r&&io(t)};var lo="function"===typeof WeakSet?WeakSet:Set;function po(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ut(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(a){setTimeout(function(){throw a})}}function ho(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Xo(e,n)}else t.current=null}function fo(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Ea){var a=r.destroy;r.destroy=void 0,void 0!==a&&a()}(r.tag&t)!==Ea&&(a=r.create,r.destroy=a()),r=r.next}while(r!==n)}}function mo(e){switch("function"===typeof Vr&&Vr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var a=e;try{r()}catch(i){Xo(a,i)}}n=n.next}while(n!==t)}break;case 1:if(ho(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(i){Xo(e,i)}break;case 5:ho(e);break;case 4:Ao(e)}}function vo(e){return 5===e.tag||3===e.tag||4===e.tag}function go(e){e:{for(var t=e.return;null!==t;){if(vo(t)){var n=t;break e}t=t.return}o("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:o("161")}16&n.effectTag&&(ir(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)if(n)if(r){var i=t,s=a.stateNode,u=n;8===i.nodeType?i.parentNode.insertBefore(s,u):i.insertBefore(s,u)}else t.insertBefore(a.stateNode,n);else r?(s=t,u=a.stateNode,8===s.nodeType?(i=s.parentNode).insertBefore(u,s):(i=s).appendChild(u),null!==(s=s._reactRootContainer)&&void 0!==s||null!==i.onclick||(i.onclick=fr)):t.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function Ao(e){for(var t=e,n=!1,r=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&o("160"),n.tag){case 5:r=n.stateNode,a=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var i=t,s=i;;)if(mo(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a?(i=r,s=t.stateNode,8===i.nodeType?i.parentNode.removeChild(s):i.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,a=!0,t.child.return=t,t=t.child;continue}}else if(mo(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function yo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:fo(Ca,Ta,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var a=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&function(e,t,n,r,a){e[D]=a,"input"===n&&"radio"===a.type&&null!=a.name&&xt(e,a),pr(n,r),r=pr(n,a);for(var i=0;i<t.length;i+=2){var o=t[i],s=t[i+1];"style"===o?cr(e,s):"dangerouslySetInnerHTML"===o?ar(e,s):"children"===o?ir(e,s):gt(e,o,s,r)}switch(n){case"input":wt(e,a);break;case"textarea":$n(e,a);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!a.multiple,null!=(n=a.value)?Xn(e,!!a.multiple,n,!1):t!==!!a.multiple&&(null!=a.defaultValue?Xn(e,!!a.multiple,a.defaultValue,!0):Xn(e,!!a.multiple,a.multiple?[]:"",!1))}}(n,i,a,e,r)}break;case 6:null===t.stateNode&&o("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=ws())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=ur("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new lo),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Qo(t=ws(),e),null!==(e=$o(e,t))&&(Jr(e,t),0!==(t=e.expirationTime)&&_s(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:o("163")}}var bo="function"===typeof WeakMap?WeakMap:Map;function xo(e,t,n){(n=Qi(n)).tag=Hi,n.payload={element:null};var r=t.value;return n.callback=function(){Ms(r),po(e,t)},n}function wo(e,t,n){(n=Qi(n)).tag=Hi;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Fo?Fo=new Set([this]):Fo.add(this));var n=t.value,a=t.stack;po(e,t),this.componentDidCatch(n,{componentStack:null!==a?a:""})}),n}function _o(e){switch(e.tag){case 1:Dr(e.type)&&Rr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return _a(),Pr(),0!==(64&(t=e.effectTag))&&o("285"),e.effectTag=-2049&t|64,e;case 5:return Oa(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return _a(),null;case 10:return Bi(e),null;default:return null}}var ko=Ge.ReactCurrentDispatcher,Oo=Ge.ReactCurrentOwner,Eo=1073741822,So=!1,Co=null,To=null,Io=0,jo=-1,Mo=!1,No=null,Do=!1,Ro=null,Po=null,Lo=null,Fo=null;function Bo(){if(null!==Co)for(var e=Co.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Rr();break;case 3:_a(),Pr();break;case 5:Oa(t);break;case 4:_a();break;case 10:Bi(t)}e=e.return}To=null,Io=0,jo=-1,Mo=!1,Co=null}function zo(){for(;null!==No;){var e=No.effectTag;if(16&e&&ir(No.stateNode,""),128&e){var t=No.alternate;null!==t&&(null!==(t=t.ref)&&("function"===typeof t?t(null):t.current=null))}switch(14&e){case 2:go(No),No.effectTag&=-3;break;case 6:go(No),No.effectTag&=-3,yo(No.alternate,No);break;case 4:yo(No.alternate,No);break;case 8:Ao(e=No),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}No=No.nextEffect}}function Uo(){for(;null!==No;){if(256&No.effectTag)e:{var e=No.alternate,t=No;switch(t.tag){case 0:case 11:case 15:fo(Sa,Ea,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ra(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:o("163")}}No=No.nextEffect}}function Vo(e,t){for(;null!==No;){var n=No.effectTag;if(36&n){var r=No.alternate,a=No,i=t;switch(a.tag){case 0:case 11:case 15:fo(Ia,ja,a);break;case 1:var s=a.stateNode;if(4&a.effectTag)if(null===r)s.componentDidMount();else{var u=a.elementType===a.type?r.memoizedProps:ra(a.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=a.updateQueue)&&no(0,r,s);break;case 3:if(null!==(r=a.updateQueue)){if(s=null,null!==a.child)switch(a.child.tag){case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}no(0,r,s)}break;case 5:i=a.stateNode,null===r&&4&a.effectTag&&gr(a.type,a.memoizedProps)&&i.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:o("163")}}128&n&&(null!==(a=No.ref)&&(i=No.stateNode,"function"===typeof a?a(i):a.current=i)),512&n&&(Ro=e),No=No.nextEffect}}function Wo(){null!==Po&&wr(Po),null!==Lo&&Lo()}function Go(e,t){Do=So=!0,e.current===t&&o("177");var n=e.pendingCommitExpirationTime;0===n&&o("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,a=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Jr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Jr(e,t)):t>n&&Jr(e,t)}na(0,e)}(e,a>r?a:r),Oo.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,mr=kn,vr=function(){var e=Pn();if(Ln(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{t.nodeType,a.nodeType}catch(h){t=null;break e}var i=0,o=-1,s=-1,u=0,c=0,l=e,d=null;t:for(;;){for(var p;l!==t||0!==r&&3!==l.nodeType||(o=i+r),l!==a||0!==n&&3!==l.nodeType||(s=i+n),3===l.nodeType&&(i+=l.nodeValue.length),null!==(p=l.firstChild);)d=l,l=p;for(;;){if(l===e)break t;if(d===t&&++u===r&&(o=i),d===a&&++c===n&&(s=i),null!==(p=l.nextSibling))break;d=(l=d).parentNode}l=p}t=-1===o||-1===s?null:{start:o,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),kn=!1,No=r;null!==No;){a=!1;var s=void 0;try{Uo()}catch(c){a=!0,s=c}a&&(null===No&&o("178"),Xo(No,s),null!==No&&(No=No.nextEffect))}for(No=r;null!==No;){a=!1,s=void 0;try{zo()}catch(c){a=!0,s=c}a&&(null===No&&o("178"),Xo(No,s),null!==No&&(No=No.nextEffect))}for(Fn(vr),vr=null,kn=!!mr,mr=null,e.current=t,No=r;null!==No;){a=!1,s=void 0;try{Vo(e,n)}catch(c){a=!0,s=c}a&&(null===No&&o("178"),Xo(No,s),null!==No&&(No=No.nextEffect))}if(null!==r&&null!==Ro){var u=function(e,t){Lo=Po=Ro=null;var n=as;as=!0;do{if(512&t.effectTag){var r=!1,a=void 0;try{var i=t;fo(Na,Ea,i),fo(Ea,Ma,i)}catch(u){r=!0,a=u}r&&Xo(t,a)}t=t.nextEffect}while(null!==t);as=n,0!==(n=e.expirationTime)&&_s(e,n),ls||as||Cs(1073741823,!1)}.bind(null,e,r);Po=i.unstable_runWithPriority(i.unstable_NormalPriority,function(){return xr(u)}),Lo=u}So=Do=!1,"function"===typeof Ur&&Ur(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Fo=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Ho(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(1024&e.effectTag)){Co=e;e:{var i=t,s=Io,u=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Dr(t.type)&&Rr();break;case 3:_a(),Pr(),(u=t.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==i&&null!==i.child||(Ai(t),t.effectTag&=-3),so(t);break;case 5:Oa(t);var c=xa(ba.current);if(s=t.type,null!==i&&null!=t.stateNode)uo(i,t,s,u,c),i.ref!==t.ref&&(t.effectTag|=128);else if(u){var l=xa(Aa.current);if(Ai(t)){i=(u=t).stateNode;var d=u.type,p=u.memoizedProps,h=c;switch(i[N]=u,i[D]=p,s=void 0,c=d){case"iframe":case"object":On("load",i);break;case"video":case"audio":for(d=0;d<te.length;d++)On(te[d],i);break;case"source":On("error",i);break;case"img":case"image":case"link":On("error",i),On("load",i);break;case"form":On("reset",i),On("submit",i);break;case"details":On("toggle",i);break;case"input":bt(i,p),On("invalid",i),hr(h,"onChange");break;case"select":i._wrapperState={wasMultiple:!!p.multiple},On("invalid",i),hr(h,"onChange");break;case"textarea":Yn(i,p),On("invalid",i),hr(h,"onChange")}for(s in dr(c,p),d=null,p)p.hasOwnProperty(s)&&(l=p[s],"children"===s?"string"===typeof l?i.textContent!==l&&(d=["children",l]):"number"===typeof l&&i.textContent!==""+l&&(d=["children",""+l]):y.hasOwnProperty(s)&&null!=l&&hr(h,s));switch(c){case"input":Ve(i),_t(i,p,!0);break;case"textarea":Ve(i),Zn(i);break;case"select":case"option":break;default:"function"===typeof p.onClick&&(i.onclick=fr)}s=d,u.updateQueue=s,(u=null!==s)&&io(t)}else{p=t,h=s,i=u,d=9===c.nodeType?c:c.ownerDocument,l===Jn.html&&(l=er(h)),l===Jn.html?"script"===h?((i=d.createElement("div")).innerHTML="<script><\/script>",d=i.removeChild(i.firstChild)):"string"===typeof i.is?d=d.createElement(h,{is:i.is}):(d=d.createElement(h),"select"===h&&(h=d,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):d=d.createElementNS(l,h),(i=d)[N]=p,i[D]=u,oo(i,t,!1,!1),h=i;var f=c,m=pr(d=s,p=u);switch(d){case"iframe":case"object":On("load",h),c=p;break;case"video":case"audio":for(c=0;c<te.length;c++)On(te[c],h);c=p;break;case"source":On("error",h),c=p;break;case"img":case"image":case"link":On("error",h),On("load",h),c=p;break;case"form":On("reset",h),On("submit",h),c=p;break;case"details":On("toggle",h),c=p;break;case"input":bt(h,p),c=yt(h,p),On("invalid",h),hr(f,"onChange");break;case"option":c=Kn(h,p);break;case"select":h._wrapperState={wasMultiple:!!p.multiple},c=a({},p,{value:void 0}),On("invalid",h),hr(f,"onChange");break;case"textarea":Yn(h,p),c=Qn(h,p),On("invalid",h),hr(f,"onChange");break;default:c=p}dr(d,c),l=void 0;var v=d,g=h,A=c;for(l in A)if(A.hasOwnProperty(l)){var b=A[l];"style"===l?cr(g,b):"dangerouslySetInnerHTML"===l?null!=(b=b?b.__html:void 0)&&ar(g,b):"children"===l?"string"===typeof b?("textarea"!==v||""!==b)&&ir(g,b):"number"===typeof b&&ir(g,""+b):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(y.hasOwnProperty(l)?null!=b&&hr(f,l):null!=b&&gt(g,l,b,m))}switch(d){case"input":Ve(h),_t(h,p,!1);break;case"textarea":Ve(h),Zn(h);break;case"option":null!=p.value&&h.setAttribute("value",""+At(p.value));break;case"select":(c=h).multiple=!!p.multiple,null!=(h=p.value)?Xn(c,!!p.multiple,h,!1):null!=p.defaultValue&&Xn(c,!!p.multiple,p.defaultValue,!0);break;default:"function"===typeof c.onClick&&(h.onclick=fr)}(u=gr(s,u))&&io(t),t.stateNode=i}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&o("166");break;case 6:i&&null!=t.stateNode?co(i,t,i.memoizedProps,u):("string"!==typeof u&&(null===t.stateNode&&o("166")),i=xa(ba.current),xa(Aa.current),Ai(t)?(s=(u=t).stateNode,i=u.memoizedProps,s[N]=u,(u=s.nodeValue!==i)&&io(t)):(s=t,(u=(9===i.nodeType?i:i.ownerDocument).createTextNode(u))[N]=t,s.stateNode=u));break;case 11:break;case 13:if(u=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=s,Co=t;break e}u=null!==u,s=null!==i&&null!==i.memoizedState,null!==i&&!u&&s&&(null!==(i=i.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=i,i.nextEffect=c):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),(u||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:_a(),so(t);break;case 10:Bi(t);break;case 9:case 14:break;case 17:Dr(t.type)&&Rr();break;case 18:break;default:o("156")}Co=null}if(t=e,1===Io||1!==t.childExpirationTime){for(u=0,s=t.child;null!==s;)(i=s.expirationTime)>u&&(u=i),(c=s.childExpirationTime)>u&&(u=c),s=s.sibling;t.childExpirationTime=u}if(null!==Co)return Co;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=_o(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function qo(e){var t=Ni(e.alternate,e,Io);return e.memoizedProps=e.pendingProps,null===t&&(t=Ho(e)),Oo.current=null,t}function Ko(e,t){So&&o("243"),Wo(),So=!0;var n=ko.current;ko.current=ui;var r=e.nextExpirationTimeToWorkOn;r===Io&&e===To&&null!==Co||(Bo(),Io=r,Co=Kr((To=e).current,null),e.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(t)for(;null!==Co&&!Es();)Co=qo(Co);else for(;null!==Co;)Co=qo(Co)}catch(g){if(Li=Pi=Ri=null,$a(),null===Co)a=!0,Ms(g);else{null===Co&&o("271");var i=Co,s=i.return;if(null!==s){e:{var u=e,c=s,l=i,d=g;if(s=Io,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==d&&"object"===typeof d&&"function"===typeof d.then){var p=d;d=c;var h=-1,f=-1;do{if(13===d.tag){var m=d.alternate;if(null!==m&&null!==(m=m.memoizedState)){f=10*(1073741822-m.timedOutAt);break}"number"===typeof(m=d.pendingProps.maxDuration)&&(0>=m?h=0:(-1===h||m<h)&&(h=m))}d=d.return}while(null!==d);d=c;do{if((m=13===d.tag)&&(m=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),m){if(null===(c=d.updateQueue)?((c=new Set).add(p),d.updateQueue=c):c.add(p),0===(1&d.mode)){d.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((s=Qi(1073741823)).tag=Gi,$i(l,s))),l.expirationTime=1073741823;break e}c=s;var v=(l=u).pingCache;null===v?(v=l.pingCache=new bo,m=new Set,v.set(p,m)):void 0===(m=v.get(p))&&(m=new Set,v.set(p,m)),m.has(c)||(m.add(c),l=Yo.bind(null,l,p,c),p.then(l,l)),-1===h?u=1073741823:(-1===f&&(f=10*(1073741822-ta(u,s))-5e3),u=f+h),0<=u&&jo<u&&(jo=u),d.effectTag|=2048,d.expirationTime=s;break e}d=d.return}while(null!==d);d=Error((st(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ut(l))}Mo=!0,d=ao(d,l),u=c;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=s,Zi(u,s=xo(u,d,s));break e;case 1:if(h=d,f=u.type,l=u.stateNode,0===(64&u.effectTag)&&("function"===typeof f.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===Fo||!Fo.has(l)))){u.effectTag|=2048,u.expirationTime=s,Zi(u,s=wo(u,h,s));break e}}u=u.return}while(null!==u)}Co=Ho(i);continue}a=!0,Ms(g)}}break}if(So=!1,ko.current=n,Li=Pi=Ri=null,$a(),a)To=null,e.finishedWork=null;else if(null!==Co)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&o("281"),To=null,Mo){if(a=e.latestPendingTime,i=e.latestSuspendedTime,s=e.latestPingedTime,0!==a&&a<r||0!==i&&i<r||0!==s&&s<r)return ea(e,r),void xs(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void xs(e,n,r,t,-1)}t&&-1!==jo?(ea(e,r),(t=10*(1073741822-ta(e,r)))<jo&&(jo=t),t=10*(1073741822-ws()),t=jo-t,xs(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Xo(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Fo||!Fo.has(r)))return $i(n,e=wo(n,e=ao(t,e),1073741823)),void Zo(n,1073741823);break;case 3:return $i(n,e=xo(n,e=ao(t,e),1073741823)),void Zo(n,1073741823)}n=n.return}3===e.tag&&($i(e,n=xo(e,n=ao(t,e),1073741823)),Zo(e,1073741823))}function Qo(e,t){var n=i.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&t.mode))r=1073741823;else if(So&&!Do)r=Io;else{switch(n){case i.unstable_ImmediatePriority:r=1073741823;break;case i.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case i.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case i.unstable_LowPriority:case i.unstable_IdlePriority:r=1;break;default:o("313")}null!==To&&r===Io&&--r}return n===i.unstable_UserBlockingPriority&&(0===ss||r<ss)&&(ss=r),r}function Yo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==To&&Io===n?To=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),na(n,e),0!==(n=e.expirationTime)&&_s(e,n)))}function $o(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,a=null;if(null===r&&3===e.tag)a=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return a}function Zo(e,t){null!==(e=$o(e,t))&&(!So&&0!==Io&&t>Io&&Bo(),Jr(e,t),So&&!Do&&To===e||_s(e,e.expirationTime),gs>vs&&(gs=0,o("185")))}function Jo(e,t,n,r,a){return i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){return e(t,n,r,a)})}var es=null,ts=null,ns=0,rs=void 0,as=!1,is=null,os=0,ss=0,us=!1,cs=null,ls=!1,ds=!1,ps=null,hs=i.unstable_now(),fs=1073741822-(hs/10|0),ms=fs,vs=50,gs=0,As=null;function ys(){fs=1073741822-((i.unstable_now()-hs)/10|0)}function bs(e,t){if(0!==ns){if(t<ns)return;null!==rs&&i.unstable_cancelCallback(rs)}ns=t,e=i.unstable_now()-hs,rs=i.unstable_scheduleCallback(Ss,{timeout:10*(1073741822-t)-e})}function xs(e,t,n,r,a){e.expirationTime=r,0!==a||Es()?0<a&&(e.timeoutHandle=yr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,ys(),ms=fs,Ts(e,n)}.bind(null,e,t,n),a)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function ws(){return as?ms:(ks(),0!==os&&1!==os||(ys(),ms=fs),ms)}function _s(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),as||(ls?ds&&(is=e,os=1073741823,Is(e,1073741823,!1)):1073741823===t?Cs(1073741823,!1):bs(e,t))}function ks(){var e=0,t=null;if(null!==ts)for(var n=ts,r=es;null!==r;){var a=r.expirationTime;if(0===a){if((null===n||null===ts)&&o("244"),r===r.nextScheduledRoot){es=ts=r.nextScheduledRoot=null;break}if(r===es)es=a=r.nextScheduledRoot,ts.nextScheduledRoot=a,r.nextScheduledRoot=null;else{if(r===ts){(ts=n).nextScheduledRoot=es,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(a>e&&(e=a,t=r),r===ts)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}is=t,os=e}var Os=!1;function Es(){return!!Os||!!i.unstable_shouldYield()&&(Os=!0)}function Ss(){try{if(!Es()&&null!==es){ys();var e=es;do{var t=e.expirationTime;0!==t&&fs<=t&&(e.nextExpirationTimeToWorkOn=fs),e=e.nextScheduledRoot}while(e!==es)}Cs(0,!0)}finally{Os=!1}}function Cs(e,t){if(ks(),t)for(ys(),ms=fs;null!==is&&0!==os&&e<=os&&!(Os&&fs>os);)Is(is,os,fs>os),ks(),ys(),ms=fs;else for(;null!==is&&0!==os&&e<=os;)Is(is,os,!1),ks();if(t&&(ns=0,rs=null),0!==os&&bs(is,os),gs=0,As=null,null!==ps)for(e=ps,ps=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){us||(us=!0,cs=r)}}if(us)throw e=cs,cs=null,us=!1,e}function Ts(e,t){as&&o("253"),is=e,os=t,Is(e,t,!1),Cs(1073741823,!1)}function Is(e,t,n){if(as&&o("245"),as=!0,n){var r=e.finishedWork;null!==r?js(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),Ko(e,n),null!==(r=e.finishedWork)&&(Es()?e.finishedWork=r:js(e,r,t)))}else null!==(r=e.finishedWork)?js(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),Ko(e,n),null!==(r=e.finishedWork)&&js(e,r,t));as=!1}function js(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ps?ps=[r]:ps.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===As?gs++:(As=e,gs=0),i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){Go(e,t)})}function Ms(e){null===is&&o("246"),is.expirationTime=0,us||(us=!0,cs=e)}function Ns(e,t){var n=ls;ls=!0;try{return e(t)}finally{(ls=n)||as||Cs(1073741823,!1)}}function Ds(e,t){if(ls&&!ds){ds=!0;try{return e(t)}finally{ds=!1}}return e(t)}function Rs(e,t,n){ls||as||0===ss||(Cs(ss,!1),ss=0);var r=ls;ls=!0;try{return i.unstable_runWithPriority(i.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(ls=r)||as||Cs(1073741823,!1)}}function Ps(e,t,n,r,a){var i=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||o("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Dr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);o("171"),s=void 0}if(1===n.tag){var u=n.type;if(Dr(u)){n=Fr(n,u,s);break e}}n=s}else n=Tr;return null===t.context?t.context=n:t.pendingContext=n,t=a,(a=Qi(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(a.callback=t),Wo(),$i(i,a),Zo(i,r),r}function Ls(e,t,n,r){var a=t.current;return Ps(e,t,n,a=Qo(ws(),a),r)}function Fs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bs(e){var t=1073741822-25*(1+((1073741822-ws()+500)/25|0));t>=Eo&&(t=Eo-1),this._expirationTime=Eo=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function zs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Us(e,t,n){e={current:t=Hr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Vs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ws(e,t,n,r,a){var i=n._reactRootContainer;if(i){if("function"===typeof a){var o=a;a=function(){var e=Fs(i._internalRoot);o.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,a):i.render(t,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Us(e,!1,t)}(n,r),"function"===typeof a){var s=a;a=function(){var e=Fs(i._internalRoot);s.call(e)}}Ds(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,a):i.render(t,a)})}return Fs(i._internalRoot)}function Gs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Vs(t)||o("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ee=function(e,t,n){switch(t){case"input":if(wt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=F(r);a||o("90"),We(r),wt(r,a)}}}break;case"textarea":$n(e,n);break;case"select":null!=(t=n.value)&&Xn(e,!!n.multiple,t,!1)}},Bs.prototype.render=function(e){this._defer||o("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new zs;return Ps(e,t,null,n,r._onCommit),r},Bs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Bs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||o("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,a=t;a!==this;)r=a,a=a._next;null===r&&o("251"),r._next=a._next,this._next=t,e.firstBatch=this}this._defer=!1,Ts(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Bs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},zs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},zs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&o("191",n),n()}}},Us.prototype.render=function(e,t){var n=this._internalRoot,r=new zs;return null!==(t=void 0===t?null:t)&&r.then(t),Ls(e,n,null,r._onCommit),r},Us.prototype.unmount=function(e){var t=this._internalRoot,n=new zs;return null!==(e=void 0===e?null:e)&&n.then(e),Ls(null,t,null,n._onCommit),n},Us.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,a=new zs;return null!==(n=void 0===n?null:n)&&a.then(n),Ls(t,r,e,a._onCommit),a},Us.prototype.createBatch=function(){var e=new Bs(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Me=Ns,Ne=Rs,De=function(){as||0===ss||(Cs(ss,!1),ss=0)};var Hs={createPortal:Gs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?o("188"):o("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Vs(t)||o("200"),Ws(null,e,t,!0,n)},render:function(e,t,n){return Vs(t)||o("200"),Ws(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Vs(n)||o("200"),(null==e||void 0===e._reactInternalFiber)&&o("38"),Ws(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Vs(e)||o("40"),!!e._reactRootContainer&&(Ds(function(){Ws(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Gs.apply(void 0,arguments)},unstable_batchedUpdates:Ns,unstable_interactiveUpdates:Rs,flushSync:function(e,t){as&&o("187");var n=ls;ls=!0;try{return Jo(e,t)}finally{ls=n,Cs(1073741823,!1)}},unstable_createRoot:function(e,t){return Vs(e)||o("299","unstable_createRoot"),new Us(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=ls;ls=!0;try{Jo(e)}finally{(ls=t)||as||Cs(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[P,L,F,T.injectEventPluginsByName,A,G,function(e){E(e,W)},Ie,je,Cn,j]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ur=Wr(function(e){return t.onCommitFiberRoot(n,e)}),Vr=Wr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(r){}})(a({},e,{overrideProps:null,currentDispatcherRef:Ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:R,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var qs={default:Hs},Ks=qs&&Hs||qs;e.exports=Ks.default||Ks},function(e,t,n){"use strict";e.exports=n(540)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,a=3,i=-1,o=-1,s=!1,u=!1;function c(){if(!s){var e=n.expirationTime;u?_():u=!0,w(p,e)}}function l(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=a,s=o;a=e,o=t;try{var u=r()}finally{a=i,o=s}if("function"===typeof u)if(u={callback:u,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=u,c()),(t=r.previous).next=r.previous=u,u.next=r,u.previous=t}}function d(){if(-1===i&&null!==n&&1===n.priorityLevel){s=!0;try{do{l()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?c():u=!1}}}function p(e){s=!0;var a=r;r=e;try{if(e)for(;null!==n;){var i=t.unstable_now();if(!(n.expirationTime<=i))break;do{l()}while(null!==n&&n.expirationTime<=i)}else if(null!==n)do{l()}while(null!==n&&!k())}finally{s=!1,r=a,null!==n?c():u=!1,d()}}var h,f,m=Date,v="function"===typeof setTimeout?setTimeout:void 0,g="function"===typeof clearTimeout?clearTimeout:void 0,A="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,y="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function b(e){h=A(function(t){g(f),e(t)}),f=v(function(){y(h),e(t.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var x=performance;t.unstable_now=function(){return x.now()}}else t.unstable_now=function(){return m.now()};var w,_,k,O=null;if("undefined"!==typeof window?O=window:"undefined"!==typeof e&&(O=e),O&&O._schedMock){var E=O._schedMock;w=E[0],_=E[1],k=E[2],t.unstable_now=E[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var S=null,C=function(e){if(null!==S)try{S(e)}finally{S=null}};w=function(e){null!==S?setTimeout(w,0,e):(S=e,setTimeout(C,0,!1))},_=function(){S=null},k=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof A&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var T=null,I=!1,j=-1,M=!1,N=!1,D=0,R=33,P=33;k=function(){return D<=t.unstable_now()};var L=new MessageChannel,F=L.port2;L.port1.onmessage=function(){I=!1;var e=T,n=j;T=null,j=-1;var r=t.unstable_now(),a=!1;if(0>=D-r){if(!(-1!==n&&n<=r))return M||(M=!0,b(B)),T=e,void(j=n);a=!0}if(null!==e){N=!0;try{e(a)}finally{N=!1}}};var B=function e(t){if(null!==T){b(e);var n=t-D+P;n<P&&R<P?(8>n&&(n=8),P=n<R?R:n):R=n,D=t+P,I||(I=!0,F.postMessage(void 0))}else M=!1};w=function(e,t){T=e,j=t,N||0>t?F.postMessage(void 0):M||(M=!0,b(B))},_=function(){T=null,I=!1,j=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=a,o=i;a=e,i=t.unstable_now();try{return n()}finally{a=r,i=o,d()}},t.unstable_next=function(e){switch(a){case 1:case 2:case 3:var n=3;break;default:n=a}var r=a,o=i;a=n,i=t.unstable_now();try{return e()}finally{a=r,i=o,d()}},t.unstable_scheduleCallback=function(e,r){var o=-1!==i?i:t.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=o+r.timeout;else switch(a){case 1:r=o+-1;break;case 2:r=o+250;break;case 5:r=o+1073741823;break;case 4:r=o+1e4;break;default:r=o+5e3}if(e={callback:e,priorityLevel:a,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,c();else{o=null;var s=n;do{if(s.expirationTime>r){o=s;break}s=s.next}while(s!==n);null===o?o=n:o===n&&(n=e,c()),(r=o.previous).next=o.previous=e,e.next=o,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=a;return function(){var r=a,o=i;a=n,i=t.unstable_now();try{return e.apply(this,arguments)}finally{a=r,i=o,d()}}},t.unstable_getCurrentPriorityLevel=function(){return a},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<o||k())},t.unstable_continueExecution=function(){null!==n&&c()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(91))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=h(i),s=h(n(23)),u=h(n(192)),c=h(n(356)),l=n(357),d=h(n(546)),p=h(n(553));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function m(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.queue=[],n.handleEnqueueSnackbar=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.key,i=t.preventDuplicate,o=m(t,["key","preventDuplicate"]);if(i||n.props.preventDuplicate){var s=n.queue.findIndex(function(t){return t.message===e})>-1,u=n.state.snacks.findIndex(function(t){return t.message===e})>-1;if(s||u)return null}var c=a||(new Date).getTime()+Math.random(),l=r({key:c,message:e},o,{open:!0});return o.persist&&(l.autoHideDuration=void 0),n.queue.push(l),n.handleDisplaySnack(),c},n.handleDisplaySnack=function(){var e=n.props.maxSnack;return n.state.snacks.length>=e?n.handleDismissOldest():n.processQueue()},n.processQueue=function(){if(n.queue.length>0){var e=n.queue.shift();n.setState(function(t){var n=t.snacks;return{snacks:[].concat(f(n),[e])}})}},n.handleDismissOldest=function(){var e=!1,t=!1;n.state.snacks.reduce(function(e,t){return e+(t.open&&t.persist?1:0)},0)===n.props.maxSnack&&((0,p.default)(l.MESSAGES.NO_PERSIST_ALL),t=!0),n.setState(function(a){return{snacks:a.snacks.filter(function(e){return!0===e.open}).map(function(a){return e||a.persist&&!t?r({},a):(e=!0,a.onClose&&a.onClose(null,"maxsnack",a.key),n.props.onClose&&n.props.onClose(null,"maxsnack",a.key),r({},a,{open:!1}))})}})},n.handleCloseSnack=function(e,t,a){n.setState(function(e){return{snacks:e.snacks.map(function(e){return a&&e.key!==a?r({},e):r({},e,{open:!1})})}}),n.props.onClose&&n.props.onClose(e,t,a)},n.handleDismissSnack=function(e){n.handleCloseSnack(null,null,e)},n.handleExitedSnack=function(e,t){var r=l.TRANSITION_DELAY+l.TRANSITION_DOWN_DURATION+40;n.setState(function(e){return{snacks:e.snacks.filter(function(e){return e.key!==t})}},function(){return setTimeout(n.handleDisplaySnack,r)}),n.props.onExited&&n.props.onExited(e,t)},n.handleSetHeight=function(e,t){n.setState(function(n){return{snacks:n.snacks.map(function(n){return n.key===e?r({},n,{height:t}):r({},n)})}})},n.state={snacks:[],contextValue:{handleEnqueueSnackbar:n.handleEnqueueSnackbar,handleCloseSnackbar:n.handleDismissSnack}},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=(t.maxSnack,t.dense,m(t,["children","maxSnack","dense"])),i=this.state,s=i.contextValue,u=i.snacks;return o.default.createElement(c.default.Provider,{value:s},n,u.map(function(t,n){return o.default.createElement(d.default,r({},a,{key:t.key,snack:t,offset:e.offsets[n],onClose:e.handleCloseSnack,onExited:e.handleExitedSnack,onSetHeight:e.handleSetHeight}))}))}},{key:"offsets",get:function(){var e=this,t=this.state.snacks;return t.map(function(n,r){for(var a=r,i=e.props.dense?{view:0,snackbar:4}:{view:20,snackbar:12},o=i.snackbar,s=i.view;t[a-1];){s+=(t[a-1].height||48)+o,a-=1}return s})}}]),t}();v.propTypes={children:s.default.node.isRequired,classes:s.default.object,maxSnack:s.default.number,dense:s.default.bool,preventDuplicate:s.default.bool,hideIconVariant:s.default.bool,iconVariant:s.default.shape({success:s.default.any.isRequired,warning:s.default.any.isRequired,error:s.default.any.isRequired,info:s.default.any.isRequired}),action:s.default.func,anchorOrigin:s.default.shape({horizontal:s.default.oneOf(["left","center","right"]).isRequired,vertical:s.default.oneOf(["top","bottom"]).isRequired}),autoHideDuration:s.default.number,disableWindowBlurListener:s.default.bool,onClose:s.default.func,onEnter:s.default.func,onEntered:s.default.func,onEntering:s.default.func,onExit:s.default.func,onExited:s.default.func,onExiting:s.default.func,resumeHideDuration:s.default.number,TransitionComponent:s.default.elementType,transitionDuration:s.default.oneOfType([s.default.number,s.default.shape({enter:s.default.number,exit:s.default.number})])},v.defaultProps={maxSnack:3,dense:!1,preventDuplicate:!1,hideIconVariant:!1,iconVariant:l.iconVariant,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:5e3,TransitionComponent:u.default},t.default=v},function(e,t,n){"use strict";var r=n(543);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,A=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case p:case o:case u:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case v:case c:return e;default:return t}}case i:return t}}}function _(e){return w(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=c,t.Element=a,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||w(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===p||e===u||e===s||e===f||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===A)},t.typeOf=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(547),i=(r=a)&&r.__esModule?r:{default:r};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=m(i),s=m(n(395)),u=m(n(23)),c=n(99),l=m(n(397)),d=m(n(399)),p=m(n(358)),h=n(550),f=n(403);function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClose=function(e){return function(t,r){var a=n.props,i=a.onClose,o=a.snack.onClose;"clickaway"!==r&&(o&&o(t,r,e),i(t,r,e))}},n.handleExited=function(e){return function(t){var r=n.props,a=r.onExited,i=r.snack.onExited;i&&i(t,e),a(t,e)}},n.componentDidMount=function(){var e=n.props,t=e.onSetHeight,r=e.snack,a=n.ref.current&&n.ref.current.clientHeight;t(r.key,a)},n.ref=o.default.createRef(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.action,a=e.anchorOrigin,i=e.ContentProps,u=void 0===i?{}:i,c=e.hideIconVariant,m=(e.preventDuplicate,e.iconVariant),g=e.offset,A=e.snack,y=e.style,b=(e.onSetHeight,v(e,["classes","action","anchorOrigin","ContentProps","hideIconVariant","preventDuplicate","iconVariant","offset","snack","style","onSetHeight"])),x=u.action,w=u.className,_=v(u,["action","className"]),k=A.key,O=(A.persist,A.variant),E=void 0===O?"default":O,S=A.action,C=A.ContentProps,T=void 0===C?{}:C,I=v(A,["key","persist","variant","action","ContentProps"]),j=m[E],M=r({},_,T,{action:S||T.action||x||n}),N=I.anchorOrigin||a,D=M.action;"function"===typeof D&&(D=M.action(k));var R=A.children;return R&&"function"===typeof R&&(R=R(k)),o.default.createElement(l.default,{rootRef:this.ref},o.default.createElement(d.default,r({anchorOrigin:N,TransitionProps:{direction:(0,f.getTransitionDirection)(N)},style:r({},y,(0,h.getTransitionStyles)(g,N))},b,I,{open:A.open,classes:(0,f.getMuiClasses)(t),onClose:this.handleClose(k),onExited:this.handleExited(k)}),R||o.default.createElement(p.default,r({className:(0,s.default)(t.base,t["variant"+(0,f.capitalise)(E)],!c&&j?t.lessPadding:null,w)},M,{"aria-describedby":"client-snackbar",message:o.default.createElement("span",{id:"client-snackbar",className:t.message},c?null:j,A.message),action:D}))))}}]),t}();g.propTypes={classes:u.default.object.isRequired,offset:u.default.number.isRequired,snack:u.default.shape({message:u.default.oneOfType([u.default.string,u.default.node]).isRequired,variant:u.default.oneOf(["default","error","success","warning","info"]),key:u.default.oneOfType([u.default.string,u.default.number]).isRequired,open:u.default.bool.isRequired}).isRequired,iconVariant:u.default.shape({success:u.default.any.isRequired,warning:u.default.any.isRequired,error:u.default.any.isRequired,info:u.default.any.isRequired}).isRequired,hideIconVariant:u.default.bool.isRequired,preventDuplicate:u.default.bool.isRequired,onSetHeight:u.default.func.isRequired,onClose:u.default.func.isRequired,onExited:u.default.func.isRequired},t.default=(0,c.withStyles)(h.styles)(g)},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitionStyles=t.styles=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(551)),i=u(n(552)),o=n(403),s=n(357);function u(e){return e&&e.__esModule?e:{default:e}}t.styles=function(e){return r({},o.muiClasses,{base:{fontSize:"0.875rem",lineHeight:"1.46429em",fontWeight:e.typography.fontWeightRegular,fontFamily:e.typography.fontFamily},lessPadding:{paddingLeft:20},variantSuccess:{backgroundColor:a.default[600]},variantError:{backgroundColor:e.palette.error.dark},variantInfo:{backgroundColor:"#2979ff"},variantWarning:{backgroundColor:i.default[700]},message:{display:"flex",alignItems:"center"}})},t.getTransitionStyles=function(e,t){return Object.assign((n={},r=t.vertical,a=e,r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n),{WebKitTransition:"all "+s.TRANSITION_DOWN_DURATION+"ms",MozTransition:"all "+s.TRANSITION_DOWN_DURATION+"ms",msTransition:"all "+s.TRANSITION_DOWN_DURATION+"ms",OTransition:"all "+s.TRANSITION_DOWN_DURATION+"ms",transition:"all "+s.TRANSITION_DOWN_DURATION+"ms",transitionDelay:s.TRANSITION_DELAY+"ms"});var n,r,a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(1)),i=s(n(85)),o=(s(n(555)),s(n(356)));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=a.default.forwardRef(function(t,n){return a.default.createElement(o.default.Consumer,null,function(i){return a.default.createElement(e,r({},t,{ref:n,enqueueSnackbar:i.handleEnqueueSnackbar,closeSnackbar:i.handleCloseSnackbar}))})});return(0,i.default)(t,e),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(245),i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||function(e){var t=(""+e).match(i);return t&&t[1]||""}(e)||t};t.default=function(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return o(e,"Component");if("object"===("undefined"===typeof e?"undefined":r(e)))switch(e.$$typeof){case a.ForwardRef:return function(e,t,n){var r=o(t);return e.displayName||(""!==r?n+"("+r+")":n)}(e,e.render,"ForwardRef");default:return}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1),i=n(356),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){var e=(0,a.useContext)(o.default);return{enqueueSnackbar:e.handleEnqueueSnackbar,closeSnackbar:e.handleCloseSnackbar}}},,function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new S(r||[]);return i._invoke=function(e,t,n){var r=l;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",f={};function m(){}function v(){}function g(){}var A={};A[i]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(C([])));b&&b!==n&&r.call(b,i)&&(A=b);var x=g.prototype=m.prototype=Object.create(A);function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function _(e){var t;this._invoke=function(n,a){function i(){return new Promise(function(t,i){!function t(n,a,i,o){var s=c(e[n],e,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(l).then(function(e){u.value=e,i(u)},function(e){return t("throw",e,i,o)})}o(s.arg)}(n,a,t,i)})}return t=t?t.then(i,i):i()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var a=c(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:T}}function T(){return{value:t,done:!0}}return v.prototype=x.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(_.prototype),_.prototype[o]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,r,a){var i=new _(u(t,n,r,a));return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(x),x[s]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var a=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(a>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,a=0;r<e.length;a=++r%4)0!=a&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*a+8)-1)<<2*a|t.indexOf(e.charAt(r))>>>6-2*a);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],o=n[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,r,o)),u=0,l=o>0?r-4:r,d=0;d<l;d+=4)t=a[e.charCodeAt(d)]<<18|a[e.charCodeAt(d+1)]<<12|a[e.charCodeAt(d+2)]<<6|a[e.charCodeAt(d+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===o&&(t=a[e.charCodeAt(d)]<<2|a[e.charCodeAt(d+1)]>>4,s[u++]=255&t);1===o&&(t=a[e.charCodeAt(d)]<<10|a[e.charCodeAt(d+1)]<<4|a[e.charCodeAt(d+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i=[],o=0,s=n-a;o<s;o+=16383)i.push(l(e,o,o+16383>s?s:o+16383));1===a?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],a=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],a[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var a,i,o=[],s=t;s<n;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?a-1:0,p=n?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=p,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=256*o+e[t+d],d+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),i-=c}return(h?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,s,u,c=8*i-a-1,l=(1<<c)-1,d=l>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*u-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+h]=255&s,h+=f,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[n+h]=255&o,h+=f,o/=256,c-=8);e[n+h-f]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},,function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=u.a.forwardRef(function(e,t){var n=e.alt,r=e.children,i=e.childrenClassName,s=e.classes,l=e.className,d=e.component,p=void 0===d?"div":d,h=e.imgProps,f=e.sizes,m=e.src,v=e.srcSet,g=o()(e,["alt","children","childrenClassName","classes","className","component","imgProps","sizes","src","srcSet"]),A=null,y=m||v;return A=y?u.a.createElement("img",a()({alt:n,src:m,srcSet:v,sizes:f,className:s.img},h)):i&&u.a.isValidElement(r)?u.a.cloneElement(r,{className:Object(c.a)(i,r.props.className)}):r,u.a.createElement(p,a()({className:Object(c.a)(s.root,s.system,l,!y&&s.colorDefault),ref:t},g),A)});t.a=Object(l.a)(function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover"}}},{name:"MuiAvatar"})(d)},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=void 0;var i=a(n(9)),o=a(n(1)),s=n(79),u=r(n(359)),c=a(n(23)),l=n(418),d=function(e){return o.default.createElement("div",{style:{display:"table",width:"100%",height:"100%",backgroundColor:(0,l.fade)(e.theme.palette.background.paper,.7)}},o.default.createElement("div",{style:{display:"table-cell",width:"100%",height:"100%",verticalAlign:"middle",textAlign:"center"}},o.default.createElement(s.CircularProgress,null)))};d.propTypes={theme:c.default.any};var p={actions:[],classes:{},columns:[],components:{Action:u.MTableAction,Actions:u.MTableActions,Body:u.MTableBody,Cell:u.MTableCell,Container:function(e){return o.default.createElement(s.Paper,(0,i.default)({elevation:2},e))},EditField:u.MTableEditField,EditRow:u.MTableEditRow,FilterRow:u.MTableFilterRow,Groupbar:u.MTableGroupbar,GroupRow:u.MTableGroupRow,Header:u.MTableHeader,OverlayLoading:d,Pagination:s.TablePagination,Row:u.MTableBodyRow,Toolbar:u.MTableToolbar},data:[],icons:{Add:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"add_box")}),Check:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"check")}),Clear:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"clear")}),Delete:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"delete_outline")}),DetailPanel:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"chevron_right")}),Edit:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"edit")}),Export:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"save_alt")}),Filter:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"filter_list")}),FirstPage:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"first_page")}),LastPage:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"last_page")}),NextPage:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"chevron_right")}),PreviousPage:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"chevron_left")}),ResetSearch:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"clear")}),Search:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"search")}),SortArrow:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"arrow_upward")}),ThirdStateCheck:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"remove")}),ViewColumn:o.default.forwardRef(function(e,t){return o.default.createElement(s.Icon,(0,i.default)({},e,{ref:t}),"view_column")})},isLoading:!1,title:"Table Title",options:{actionsColumnIndex:0,addRowPosition:"last",columnsButton:!1,detailPanelType:"multiple",debounceInterval:200,doubleHorizontalScroll:!1,emptyRowsWhenPaging:!0,exportAllData:!1,exportButton:!1,exportDelimiter:",",filtering:!1,header:!0,loadingType:"overlay",paging:!0,pageSize:5,pageSizeOptions:[5,10,20],paginationType:"normal",showEmptyDataSourceMessage:!0,showFirstLastPageButtons:!0,showSelectAllCheckbox:!0,search:!0,showTitle:!0,showTextRowsSelected:!0,toolbarButtonAlignment:"right",searchFieldAlignment:"right",searchFieldStyle:{},selection:!1,selectionProps:{},sorting:!0,toolbar:!0,defaultExpanded:!1,detailPanelColumnAlignment:"left"},localization:{grouping:{groupedBy:"Grouped By:",placeholder:"Drag headers here to group by"},pagination:{labelDisplayedRows:"{from}-{to} of {count}",labelRowsPerPage:"Rows per page:",labelRowsSelect:"rows"},toolbar:{},header:{},body:{filterRow:{},editRow:{saveTooltip:"Save",cancelTooltip:"Cancel",deleteText:"Are you sure delete this row?"},addTooltip:"Add",deleteTooltip:"Delete",editTooltip:"Edit"}},style:{}};t.defaultProps=p},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9)),o=a(n(57)),s=a(n(58)),u=a(n(59)),c=a(n(60)),l=a(n(61)),d=r(n(1)),p=a(n(23)),h=n(79),f=function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props.action;if("function"===typeof t&&!(t=t(this.props.data)))return null;if(t.hidden)return null;var n=d.createElement("span",null,d.createElement(h.IconButton,{color:"inherit",disabled:t.disabled,onClick:function(n){return function(n){t.onClick&&(t.onClick(n,e.props.data),n.stopPropagation())}(n)}},"string"===typeof t.icon?d.createElement(h.Icon,(0,i.default)({},t.iconProps,{fontSize:"small"}),t.icon):d.createElement(t.icon,(0,i.default)({},t.iconProps,{disabled:t.disabled}))));return t.tooltip?d.createElement(h.Tooltip,{title:t.tooltip},n):n}}]),t}(d.Component);f.defaultProps={action:{},data:{}},f.propTypes={action:p.default.oneOfType([p.default.func,p.default.object]).isRequired,data:p.default.oneOfType([p.default.object,p.default.arrayOf(p.default.object)])};var m=f;t.default=m},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(57)),o=a(n(58)),s=a(n(59)),u=a(n(60)),c=a(n(61)),l=r(n(1)),d=a(n(23)),p=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this;return this.props.actions?this.props.actions.map(function(t,n){return l.createElement(e.props.components.Action,{action:t,key:"action-"+n,data:e.props.data})}):null}}]),t}(l.Component);p.defaultProps={actions:[],data:{}},p.propTypes={components:d.default.object.isRequired,actions:d.default.array.isRequired,data:d.default.oneOfType([d.default.object,d.default.arrayOf(d.default.object)])};var h=p;t.default=h},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(66)),o=a(n(111)),s=a(n(57)),u=a(n(58)),c=a(n(59)),l=a(n(60)),d=a(n(61)),p=n(79),h=a(n(23)),f=r(n(1)),m=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,u.default)(t,[{key:"renderEmpty",value:function(e,n){var r=this,a=(0,o.default)({},t.defaultProps.localization,this.props.localization);if(this.props.options.showEmptyDataSourceMessage&&0===n.length){var s=0;return(this.props.options.selection||this.props.actions&&this.props.actions.filter(function(e){return!e.isFreeAction&&!r.props.options.selection}).length>0)&&s++,this.props.hasDetailPanel&&s++,this.props.isTreeData&&s++,f.createElement(p.TableRow,{style:{height:49*(this.props.options.paging&&this.props.options.emptyRowsWhenPaging?this.props.pageSize:1)},key:"empty-0"},f.createElement(p.TableCell,{style:{paddingTop:0,paddingBottom:0,textAlign:"center"},colSpan:this.props.columns.length+s,key:"empty-"},a.emptyDataSourceMessage))}if(this.props.options.emptyRowsWhenPaging)return f.createElement(f.Fragment,null,(0,i.default)(Array(e)).map(function(e,t){return f.createElement(p.TableRow,{style:{height:49},key:"empty-"+t})}),e>0&&f.createElement(p.TableRow,{style:{height:1},key:"empty-last1"}))}},{key:"renderUngroupedRows",value:function(e){var n=this;return e.map(function(e,r){return e.tableData.editing?f.createElement(n.props.components.EditRow,{columns:n.props.columns.filter(function(e){return!e.hidden}),components:n.props.components,data:e,icons:n.props.icons,localization:(0,o.default)({},t.defaultProps.localization.editRow,n.props.localization.editRow),key:r,mode:e.tableData.editing,options:n.props.options,isTreeData:n.props.isTreeData,detailPanel:n.props.detailPanel,onEditingCanceled:n.props.onEditingCanceled,onEditingApproved:n.props.onEditingApproved,getFieldValue:n.props.getFieldValue}):f.createElement(n.props.components.Row,{components:n.props.components,icons:n.props.icons,data:e,index:r,key:"row-"+e.tableData.id,level:0,options:n.props.options,localization:(0,o.default)({},t.defaultProps.localization.editRow,n.props.localization.editRow),onRowSelected:n.props.onRowSelected,actions:n.props.actions,columns:n.props.columns,getFieldValue:n.props.getFieldValue,detailPanel:n.props.detailPanel,path:[r+n.props.pageSize*n.props.currentPage],onToggleDetailPanel:n.props.onToggleDetailPanel,onRowClick:n.props.onRowClick,isTreeData:n.props.isTreeData,onTreeExpandChanged:n.props.onTreeExpandChanged,onEditingCanceled:n.props.onEditingCanceled,onEditingApproved:n.props.onEditingApproved,hasAnyEditingRow:n.props.hasAnyEditingRow,treeDataMaxLevel:n.props.treeDataMaxLevel})})}},{key:"renderGroupedRows",value:function(e,t){var n=this;return t.map(function(t,r){return f.createElement(n.props.components.GroupRow,{actions:n.props.actions,key:null==t.value?""+r:t.value,columns:n.props.columns,components:n.props.components,detailPanel:n.props.detailPanel,getFieldValue:n.props.getFieldValue,groupData:t,groups:e,icons:n.props.icons,level:0,path:[r+n.props.pageSize*n.props.currentPage],onGroupExpandChanged:n.props.onGroupExpandChanged,onRowSelected:n.props.onRowSelected,onRowClick:n.props.onRowClick,onEditingCanceled:n.props.onEditingCanceled,onEditingApproved:n.props.onEditingApproved,onToggleDetailPanel:n.props.onToggleDetailPanel,onTreeExpandChanged:n.props.onTreeExpandChanged,options:n.props.options,isTreeData:n.props.isTreeData,hasAnyEditingRow:n.props.hasAnyEditingRow})})}},{key:"render",value:function(){var e=this,n=this.props.renderData,r=this.props.columns.filter(function(e){return e.tableData.groupOrder>-1}).sort(function(e,t){return e.tableData.groupOrder-t.tableData.groupOrder}),a=0;return this.props.options.paging&&(a=this.props.pageSize-n.length),f.createElement(p.TableBody,null,this.props.options.filtering&&f.createElement(this.props.components.FilterRow,{columns:this.props.columns.filter(function(e){return!e.hidden}),icons:this.props.icons,emptyCell:this.props.options.selection||this.props.actions&&this.props.actions.filter(function(t){return!t.isFreeAction&&!e.props.options.selection}).length>0,hasActions:this.props.actions&&this.props.actions.filter(function(t){return!t.isFreeAction&&!e.props.options.selection}).length>0,actionsColumnIndex:this.props.options.actionsColumnIndex,onFilterChanged:this.props.onFilterChanged,selection:this.props.options.selection,localization:(0,o.default)({},t.defaultProps.localization.filterRow,this.props.localization.filterRow),hasDetailPanel:!!this.props.detailPanel,isTreeData:this.props.isTreeData,filterCellStyle:this.props.options.filterCellStyle}),this.props.showAddRow&&"first"===this.props.options.addRowPosition&&f.createElement(this.props.components.EditRow,{columns:this.props.columns.filter(function(e){return!e.hidden}),data:this.props.initialFormData,components:this.props.components,icons:this.props.icons,key:"key-add-row",mode:"add",localization:(0,o.default)({},t.defaultProps.localization.editRow,this.props.localization.editRow),options:this.props.options,isTreeData:this.props.isTreeData,detailPanel:this.props.detailPanel,onEditingCanceled:this.props.onEditingCanceled,onEditingApproved:this.props.onEditingApproved,getFieldValue:this.props.getFieldValue}),r.length>0?this.renderGroupedRows(r,n):this.renderUngroupedRows(n),this.props.showAddRow&&"last"===this.props.options.addRowPosition&&f.createElement(this.props.components.EditRow,{columns:this.props.columns.filter(function(e){return!e.hidden}),data:this.props.initialFormData,components:this.props.components,icons:this.props.icons,key:"key-add-row",mode:"add",localization:(0,o.default)({},t.defaultProps.localization.editRow,this.props.localization.editRow),options:this.props.options,isTreeData:this.props.isTreeData,detailPanel:this.props.detailPanel,onEditingCanceled:this.props.onEditingCanceled,onEditingApproved:this.props.onEditingApproved,getFieldValue:this.props.getFieldValue}),this.renderEmpty(a,n))}}]),t}(f.Component);m.defaultProps={actions:[],currentPage:0,pageSize:5,renderData:[],selection:!1,localization:{emptyDataSourceMessage:"No records to display",filterRow:{},editRow:{}}},m.propTypes={actions:h.default.array,components:h.default.object.isRequired,columns:h.default.array.isRequired,currentPage:h.default.number,detailPanel:h.default.oneOfType([h.default.func,h.default.arrayOf(h.default.oneOfType([h.default.object,h.default.func]))]),getFieldValue:h.default.func.isRequired,hasAnyEditingRow:h.default.bool,hasDetailPanel:h.default.bool.isRequired,icons:h.default.object.isRequired,isTreeData:h.default.bool.isRequired,onRowSelected:h.default.func,options:h.default.object.isRequired,pageSize:h.default.number,renderData:h.default.array,initialFormData:h.default.object,selection:h.default.bool.isRequired,showAddRow:h.default.bool,treeDataMaxLevel:h.default.number,localization:h.default.object,onFilterChanged:h.default.func,onGroupExpandChanged:h.default.func,onToggleDetailPanel:h.default.func.isRequired,onTreeExpandChanged:h.default.func.isRequired,onRowClick:h.default.func,onEditingCanceled:h.default.func,onEditingApproved:h.default.func};var v=m;t.default=v},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(66)),o=a(n(15)),s=a(n(9)),u=a(n(111)),c=a(n(57)),l=a(n(58)),d=a(n(59)),p=a(n(60)),h=a(n(93)),f=a(n(61)),m=a(n(38)),v=n(79),g=a(n(23)),A=r(n(1)),y=function(e){function t(){var e,n;(0,c.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,d.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(a))),(0,m.default)((0,h.default)(n),"rotateIconStyle",function(e){return{transform:e?"rotate(90deg)":"none"}}),n}return(0,f.default)(t,e),(0,l.default)(t,[{key:"renderColumns",value:function(){var e=this;return this.props.columns.filter(function(e){return!e.hidden&&!(e.tableData.groupOrder>-1)}).sort(function(e,t){return e.tableData.columnOrder-t.tableData.columnOrder}).map(function(t,n){var r=e.props.getFieldValue(e.props.data,t);return A.createElement(e.props.components.Cell,{icons:e.props.icons,columnDef:t,value:r,key:"cell-"+e.props.data.tableData.id+"-"+t.tableData.id,rowData:e.props.data})})}},{key:"renderActions",value:function(){var e=this,t=this.props.actions.filter(function(t){return!t.isFreeAction&&!e.props.options.selection});return A.createElement(v.TableCell,{padding:"none",key:"key-actions-column",style:(0,u.default)({width:42*t.length,padding:"0px 5px"},this.props.options.actionsCellStyle)},A.createElement("div",{style:{display:"flex"}},A.createElement(this.props.components.Actions,{data:this.props.data,actions:t,components:this.props.components})))}},{key:"renderSelectionColumn",value:function(){var e=this,t=this.props.options.selectionProps||{};return"function"===typeof t&&(t=t(this.props.data)),A.createElement(v.TableCell,{padding:"none",key:"key-selection-column",style:{width:42+9*(this.props.treeDataMaxLevel-1)}},A.createElement(v.Checkbox,(0,s.default)({checked:!0===this.props.data.tableData.checked,onClick:function(e){return e.stopPropagation()},value:this.props.data.tableData.id.toString(),onChange:function(t){return e.props.onRowSelected(t,e.props.path,e.props.data)},style:{marginLeft:9*this.props.level}},t)))}},{key:"renderDetailPanelColumn",value:function(){var e=this,t=function(e){var t=e.icon,n=e.style;return"string"===typeof t?A.createElement(v.Icon,{style:n},t):A.createElement(t,{style:n})};return"function"==typeof this.props.detailPanel?A.createElement(v.TableCell,{padding:"none",key:"key-detail-panel-column",style:{width:42,textAlign:"center"}},A.createElement(v.IconButton,{style:(0,u.default)({transition:"all ease 200ms"},this.rotateIconStyle(this.props.data.tableData.showDetailPanel)),onClick:function(t){e.props.onToggleDetailPanel(e.props.path,e.props.detailPanel),t.stopPropagation()}},A.createElement(this.props.icons.DetailPanel,null))):A.createElement(v.TableCell,{padding:"none",key:"key-detail-panel-column"},A.createElement("div",{style:{width:42*this.props.detailPanel.length,textAlign:"center",display:"inline-block"}},this.props.detailPanel.map(function(n,r){"function"===typeof n&&(n=n(e.props.data));var a=(e.props.data.tableData.showDetailPanel||"").toString()===n.render.toString(),i=A.createElement(e.props.icons.DetailPanel,null),o=!0;return a?n.openIcon?(i=A.createElement(t,{icon:n.openIcon}),o=!1):n.icon&&(i=A.createElement(t,{icon:n.icon})):n.icon&&(i=A.createElement(t,{icon:n.icon}),o=!1),i=A.createElement(v.IconButton,{key:"key-detail-panel-"+r,style:(0,u.default)({transition:"all ease 200ms"},e.rotateIconStyle(o&&a)),disabled:n.disabled,onClick:function(t){e.props.onToggleDetailPanel(e.props.path,n.render),t.stopPropagation()}},i),n.tooltip&&(i=A.createElement(v.Tooltip,{key:"key-detail-panel-"+r,title:n.tooltip},i)),i})))}},{key:"getStyle",value:function(e){var t={transition:"all ease 300ms"};return"function"===typeof this.props.options.rowStyle?t=(0,u.default)({},t,this.props.options.rowStyle(this.props.data,e)):this.props.options.rowStyle&&(t=(0,u.default)({},t,this.props.options.rowStyle)),this.props.onRowClick&&(t.cursor="pointer"),this.props.hasAnyEditingRow&&(t.opacity=.2),t}},{key:"render",value:function(){var e=this,t=this.renderColumns();if(this.props.options.selection&&t.splice(0,0,this.renderSelectionColumn()),this.props.actions&&this.props.actions.filter(function(t){return!t.isFreeAction&&!e.props.options.selection}).length>0)if(-1===this.props.options.actionsColumnIndex)t.push(this.renderActions());else if(this.props.options.actionsColumnIndex>=0){var n=0;this.props.options.selection&&(n=1),t.splice(this.props.options.actionsColumnIndex+n,0,this.renderActions())}this.props.isTreeData&&(this.props.data.tableData.childRows&&this.props.data.tableData.childRows.length>0?t.splice(0,0,A.createElement(v.TableCell,{padding:"none",key:"key-tree-data-column",style:{width:48+9*(this.props.treeDataMaxLevel-2)}},A.createElement(v.IconButton,{style:(0,u.default)({transition:"all ease 200ms",marginLeft:9*this.props.level},this.rotateIconStyle(this.props.data.tableData.isTreeExpanded)),onClick:function(t){e.props.onTreeExpandChanged(e.props.path,e.props.data),t.stopPropagation()}},A.createElement(this.props.icons.DetailPanel,null)))):t.splice(0,0,A.createElement(v.TableCell,{padding:"none",key:"key-tree-data-column"}))),this.props.detailPanel&&("right"===this.props.options.detailPanelColumnAlignment?t.push(this.renderDetailPanelColumn()):t.splice(0,0,this.renderDetailPanelColumn())),this.props.columns.filter(function(e){return e.tableData.groupOrder>-1}).forEach(function(e){t.splice(0,0,A.createElement(v.TableCell,{padding:"none",key:"key-group-cell"+e.tableData.id}))});var r=this.props,a=(r.icons,r.data,r.columns,r.components,r.detailPanel),c=(r.getFieldValue,r.isTreeData,r.onRowClick),l=(r.onRowSelected,r.onTreeExpandChanged,r.onToggleDetailPanel),d=r.onEditingCanceled,p=r.onEditingApproved,h=(r.options,r.hasAnyEditingRow),f=r.treeDataMaxLevel,m=(0,o.default)(r,["icons","data","columns","components","detailPanel","getFieldValue","isTreeData","onRowClick","onRowSelected","onTreeExpandChanged","onToggleDetailPanel","onEditingCanceled","onEditingApproved","options","hasAnyEditingRow","treeDataMaxLevel"]);return A.createElement(A.Fragment,null,A.createElement(v.TableRow,(0,s.default)({selected:h},m,{hover:!!c,style:this.getStyle(this.props.index),onClick:function(t){c&&c(t,e.props.data,function(t){var n=a;Array.isArray(n)&&(n=n[t||0].render),l(e.props.path,n)})}}),t),this.props.data.tableData.childRows&&this.props.data.tableData.isTreeExpanded&&this.props.data.tableData.childRows.map(function(t,n){return t.tableData.editing?A.createElement(e.props.components.EditRow,{columns:e.props.columns.filter(function(e){return!e.hidden}),components:e.props.components,data:t,icons:e.props.icons,localization:e.props.localization,key:n,mode:t.tableData.editing,options:e.props.options,isTreeData:e.props.isTreeData,detailPanel:e.props.detailPanel,onEditingCanceled:d,onEditingApproved:p}):A.createElement(e.props.components.Row,(0,s.default)({},e.props,{data:t,index:n,key:n,level:e.props.level+1,path:[].concat((0,i.default)(e.props.path),[n]),onEditingCanceled:d,onEditingApproved:p,hasAnyEditingRow:e.props.hasAnyEditingRow,treeDataMaxLevel:f}))}),this.props.data.tableData&&this.props.data.tableData.showDetailPanel&&A.createElement(v.TableRow,null,A.createElement(v.TableCell,{colSpan:t.length,padding:"none"},this.props.data.tableData.showDetailPanel(this.props.data))))}}]),t}(A.Component);t.default=y,y.defaultProps={actions:[],index:0,data:{},options:{},path:[]},y.propTypes={actions:g.default.array,icons:g.default.any.isRequired,index:g.default.number.isRequired,data:g.default.object.isRequired,detailPanel:g.default.oneOfType([g.default.func,g.default.arrayOf(g.default.oneOfType([g.default.object,g.default.func]))]),hasAnyEditingRow:g.default.bool,options:g.default.object.isRequired,onRowSelected:g.default.func,path:g.default.arrayOf(g.default.number),treeDataMaxLevel:g.default.number,getFieldValue:g.default.func.isRequired,columns:g.default.array,onToggleDetailPanel:g.default.func.isRequired,onRowClick:g.default.func,onEditingApproved:g.default.func,onEditingCanceled:g.default.func}},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9)),o=a(n(111)),s=a(n(57)),u=a(n(58)),c=a(n(59)),l=a(n(60)),d=a(n(93)),p=a(n(61)),h=a(n(38)),f=n(79),m=a(n(23)),v=r(n(1)),g=n(367),A=function(e){function t(e){var n;return(0,s.default)(this,t),n=(0,c.default)(this,(0,l.default)(t).call(this,e)),(0,h.default)((0,d.default)(n),"getItemStyle",function(e,t){return(0,o.default)({userSelect:"none",margin:"0 ".concat(8,"px 0 0")},t)}),(0,h.default)((0,d.default)(n),"getListStyle",function(e){return{background:"#0000000a",display:"flex",width:"100%",padding:8,overflow:"auto",border:"1px solid #ccc",borderStyle:"dashed"}}),n.state={},n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this;return v.createElement(f.Toolbar,{style:{padding:0,minHeight:"unset"}},v.createElement(g.Droppable,{droppableId:"groups",direction:"horizontal",placeholder:"Deneme"},function(t,n){return v.createElement("div",{ref:t.innerRef,style:e.getListStyle(n.isDraggingOver)},e.props.groupColumns.length>0&&v.createElement(f.Typography,{variant:"caption",style:{padding:8}},e.props.localization.groupedBy),e.props.groupColumns.map(function(t,n){return v.createElement(g.Draggable,{key:t.tableData.id,draggableId:t.tableData.id.toString(),index:n},function(r,a){return v.createElement("div",(0,i.default)({ref:r.innerRef},r.draggableProps,r.dragHandleProps,{style:e.getItemStyle(a.isDragging,r.draggableProps.style)}),v.createElement(f.Chip,(0,i.default)({},r.dragHandleProps,{onClick:function(){return e.props.onSortChanged(t)},label:v.createElement("div",null,v.createElement("div",{style:{float:"left"}},t.title),t.tableData.groupSort&&v.createElement(e.props.icons.SortArrow,{style:{transition:"300ms ease all",transform:"desc"===t.tableData.groupSort?"rotate(-180deg)":"none",fontSize:18}})),style:{boxShadow:"none",textTransform:"none"},onDelete:function(){return e.props.onGroupRemoved(t,n)}})))})}),0===e.props.groupColumns.length&&v.createElement(f.Typography,{variant:"caption",style:{padding:8}},e.props.localization.placeholder),t.placeholder)}))}}]),t}(v.Component);A.defaultProps={},A.propTypes={localization:m.default.shape({groupedBy:m.default.string,placeholder:m.default.string})};var y=A;t.default=y},function(e,t,n){n(576),e.exports=n(150).Object.assign},function(e,t,n){var r=n(194);r(r.S+r.F,"Object",{assign:n(583)})},function(e,t,n){var r=n(578);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(407),a=n(582);e.exports=n(195)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(195)&&!n(259)(function(){return 7!=Object.defineProperty(n(408)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(258);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(195),a=n(260),i=n(592),o=n(415),s=n(416),u=n(410),c=Object.assign;e.exports=!c||n(259)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=s(e),c=arguments.length,l=1,d=i.f,p=o.f;c>l;)for(var h,f=u(arguments[l++]),m=d?a(f).concat(d(f)):a(f),v=m.length,g=0;v>g;)h=m[g++],r&&!p.call(f,h)||(n[h]=f[h]);return n}:c},function(e,t,n){var r=n(409),a=n(361),i=n(586)(!1),o=n(413)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),u=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(c,n)||c.push(n));return c}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(361),a=n(587),i=n(588);e.exports=function(e){return function(t,n,o){var s,u=r(t),c=a(u.length),l=i(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(412),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t,n){var r=n(412),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):i(e,t)}},function(e,t,n){var r=n(150),a=n(257),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(590)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){n(594);var r=n(150).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(194);r(r.S,"Object",{create:n(595)})},function(e,t,n){var r=n(360),a=n(596),i=n(414),o=n(413)("IE_PROTO"),s=function(){},u=function(){var e,t=n(408)("iframe"),r=i.length;for(t.style.display="none",n(597).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=u(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(407),a=n(360),i=n(260);e.exports=n(195)?Object.defineProperties:function(e,t){a(e);for(var n,o=i(t),s=o.length,u=0;s>u;)r.f(e,n=o[u++],t[n]);return e}},function(e,t,n){var r=n(257).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){n(600),e.exports=n(150).Object.values},function(e,t,n){var r=n(194),a=n(601)(!1);r(r.S,"Object",{values:function(e){return a(e)}})},function(e,t,n){var r=n(195),a=n(260),i=n(361),o=n(415).f;e.exports=function(e){return function(t){for(var n,s=i(t),u=a(s),c=u.length,l=0,d=[];c>l;)n=u[l++],r&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},function(e,t,n){n(603),e.exports=n(150).Object.keys},function(e,t,n){var r=n(416),a=n(260);n(604)("keys",function(){return function(e){return a(r(e))}})},function(e,t,n){var r=n(194),a=n(150),i=n(259);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",o)}},function(e,t,n){n(606),e.exports=n(150).Date.now},function(e,t,n){var r=n(194);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){n(608),e.exports=n(150).Number.isInteger},function(e,t,n){var r=n(194);r(r.S,"Number",{isInteger:n(609)})},function(e,t,n){var r=n(258),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(111)),o=a(n(66)),s=a(n(57)),u=a(n(58)),c=a(n(59)),l=a(n(60)),d=a(n(93)),p=a(n(61)),h=a(n(38)),f=n(79),m=a(n(23)),v=r(n(1)),g=function(e){function t(){var e,n;(0,s.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,c.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(a))),(0,h.default)((0,d.default)(n),"rotateIconStyle",function(e){return{transform:e?"rotate(90deg)":"none"}}),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props.columns.filter(function(e){return!e.hidden}).length;this.props.options.selection&&t++,this.props.detailPanel&&t++,this.props.actions&&this.props.actions.length>0&&t++;var n,r=this.props.groups[this.props.level];this.props.groupData.isExpanded&&(n=this.props.groups.length>this.props.level+1?this.props.groupData.groups.map(function(t,n){return v.createElement(e.props.components.GroupRow,{actions:e.props.actions,key:t.value||""+n,columns:e.props.columns,components:e.props.components,detailPanel:e.props.detailPanel,getFieldValue:e.props.getFieldValue,groupData:t,groups:e.props.groups,icons:e.props.icons,level:e.props.level+1,path:[].concat((0,o.default)(e.props.path),[n]),onGroupExpandChanged:e.props.onGroupExpandChanged,onRowSelected:e.props.onRowSelected,onRowClick:e.props.onRowClick,onToggleDetailPanel:e.props.onToggleDetailPanel,onTreeExpandChanged:e.props.onTreeExpandChanged,onEditingCanceled:e.props.onEditingCanceled,onEditingApproved:e.props.onEditingApproved,options:e.props.options,hasAnyEditingRow:e.props.hasAnyEditingRow,isTreeData:e.props.isTreeData})}):this.props.groupData.data.map(function(t,n){return v.createElement(e.props.components.Row,{actions:e.props.actions,key:n,columns:e.props.columns,components:e.props.components,data:t,detailPanel:e.props.detailPanel,getFieldValue:e.props.getFieldValue,icons:e.props.icons,path:[].concat((0,o.default)(e.props.path),[n]),onRowSelected:e.props.onRowSelected,onRowClick:e.props.onRowClick,onToggleDetailPanel:e.props.onToggleDetailPanel,options:e.props.options,isTreeData:e.props.isTreeData,onTreeExpandChanged:e.props.onTreeExpandChanged,onEditingCanceled:e.props.onEditingCanceled,onEditingApproved:e.props.onEditingApproved,hasAnyEditingRow:e.props.hasAnyEditingRow})}));for(var a=[],s=0;s<this.props.level;s++)a.push(v.createElement(f.TableCell,{padding:"checkbox"}));var u=this.props.groupData.value;return r.lookup&&(u=r.lookup[u]),v.createElement(v.Fragment,null,v.createElement(f.TableRow,null,a,v.createElement(this.props.components.Cell,{colSpan:t,padding:"none",columnDef:r,value:u,icons:this.props.icons},v.createElement(f.IconButton,{style:(0,i.default)({transition:"all ease 200ms"},this.rotateIconStyle(this.props.groupData.isExpanded)),onClick:function(t){e.props.onGroupExpandChanged(e.props.path)}},v.createElement(this.props.icons.DetailPanel,null)),v.createElement("b",null,r.title+": "))),n)}}]),t}(v.Component);t.default=g,g.defaultProps={columns:[],groups:[],options:{},level:0},g.propTypes={actions:m.default.array,columns:m.default.arrayOf(m.default.object),components:m.default.object,detailPanel:m.default.oneOfType([m.default.func,m.default.arrayOf(m.default.object)]),getFieldValue:m.default.func,groupData:m.default.object,groups:m.default.arrayOf(m.default.object),hasAnyEditingRow:m.default.bool,icons:m.default.object,isTreeData:m.default.bool.isRequired,level:m.default.number,onGroupExpandChanged:m.default.func,onRowSelected:m.default.func,onRowClick:m.default.func,onToggleDetailPanel:m.default.func.isRequired,onTreeExpandChanged:m.default.func.isRequired,onEditingCanceled:m.default.func,onEditingApproved:m.default.func,options:m.default.object,path:m.default.arrayOf(m.default.number)}},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9)),o=a(n(15)),s=a(n(111)),u=a(n(57)),c=a(n(58)),l=a(n(59)),d=a(n(60)),p=a(n(93)),h=a(n(61)),f=a(n(38)),m=r(n(1)),v=n(79),g=a(n(23)),A=function(e){function t(){var e,n;(0,u.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(a))),(0,f.default)((0,p.default)(n),"handleClickCell",function(e){n.props.columnDef.disableClick&&e.stopPropagation()}),(0,f.default)((0,p.default)(n),"getStyle",function(){var e={};return e="function"===typeof n.props.columnDef.cellStyle?(0,s.default)({},e,n.props.columnDef.cellStyle(n.props.value,n.props.rowData)):(0,s.default)({},e,n.props.columnDef.cellStyle),n.props.columnDef.disableClick&&(e.cursor="default"),(0,s.default)({},n.props.style,e)}),n}return(0,h.default)(t,e),(0,c.default)(t,[{key:"getRenderValue",value:function(){if(void 0!==this.props.columnDef.emptyValue&&(void 0===this.props.value||null===this.props.value))return this.getEmptyValue(this.props.columnDef.emptyValue);if(this.props.columnDef.render)return this.props.rowData?this.props.columnDef.render(this.props.rowData,"row"):this.props.columnDef.render(this.props.value,"group");if("boolean"===this.props.columnDef.type){var e={textAlign:"left",verticalAlign:"middle",width:48};return this.props.value?m.createElement(this.props.icons.Check,{style:e}):m.createElement(this.props.icons.ThirdStateCheck,{style:e})}return"date"===this.props.columnDef.type?this.props.value instanceof Date?this.props.value.toLocaleDateString():this.props.value:"time"===this.props.columnDef.type?this.props.value instanceof Date?this.props.value.toLocaleTimeString():this.props.value:"datetime"===this.props.columnDef.type?this.props.value instanceof Date?this.props.value.toLocaleString():this.props.value:"currency"===this.props.columnDef.type?this.getCurrencyValue(this.props.columnDef.currencySetting,this.props.value):this.props.value}},{key:"getEmptyValue",value:function(e){return"function"===typeof e?this.props.columnDef.emptyValue(this.props.rowData):e}},{key:"getCurrencyValue",value:function(e,t){return void 0!==e?new Intl.NumberFormat(void 0!==e.locale?e.locale:"en-US",{style:"currency",currency:void 0!==e.currencyCode?e.currencyCode:"USD",minimumFractionDigits:void 0!==e.minimumFractionDigits?e.minimumFractionDigits:2,maximumFractionDigits:void 0!==e.maximumFractionDigits?e.maximumFractionDigits:2}).format(void 0!==t?t:0):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(void 0!==t?t:0)}},{key:"render",value:function(){var e=this.props,t=(e.icons,e.columnDef,e.rowData,(0,o.default)(e,["icons","columnDef","rowData"]));return m.createElement(v.TableCell,(0,i.default)({},t,{style:this.getStyle(),align:-1!==["numeric"].indexOf(this.props.columnDef.type)?"right":"left",onClick:this.handleClickCell}),this.props.children,this.getRenderValue())}}]),t}(m.Component);t.default=A,A.defaultProps={columnDef:{},value:void 0},A.propTypes={columnDef:g.default.object.isRequired,value:g.default.any,rowData:g.default.object}},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9)),o=a(n(111)),s=a(n(15)),u=a(n(57)),c=a(n(58)),l=a(n(59)),d=a(n(60)),p=a(n(61)),h=n(79),f=a(n(23)),m=r(n(1)),v=n(417),g=function(e){function t(e){var n;return(0,u.default)(this,t),(n=(0,l.default)(this,(0,d.default)(t).call(this,e))).state={data:e.data?JSON.parse(JSON.stringify(e.data)):{}},n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"renderColumns",value:function(){var e=this;return this.props.columns.filter(function(e){return!e.hidden&&!(e.tableData.groupOrder>-1)}).sort(function(e,t){return e.tableData.columnOrder-t.tableData.columnOrder}).map(function(t,n){var r="undefined"!==typeof e.state.data[t.field]?e.state.data[t.field]:(0,v.byString)(e.state.data,t.field);0===n&&e.props.level;var a=!1;if(void 0===t.editable&&(a=!0),"always"===t.editable&&(a=!0),"onAdd"===t.editable&&"add"===e.props.mode&&(a=!0),"onUpdate"===t.editable&&"update"===e.props.mode&&(a=!0),"function"==typeof t.editable&&(a=t.editable(t,e.props.data)),t.field&&a){var i=t.editComponent,u=(0,s.default)(t,["editComponent"]),c=i||e.props.components.EditField;return m.createElement(h.TableCell,{key:t.tableData.id,align:-1!==["numeric"].indexOf(t.type)?"right":"left"},m.createElement(c,{key:t.tableData.id,columnDef:u,value:r,rowData:e.state.data,onChange:function(n){var r=(0,o.default)({},e.state.data);(0,v.setByString)(r,t.field,n),e.setState({data:r})},onRowDataChange:function(t){e.setState({data:t})}}))}var l=e.props.getFieldValue(e.state.data,t);return m.createElement(e.props.components.Cell,{icons:e.props.icons,columnDef:t,value:l,key:t.tableData.id,rowData:e.props.data})})}},{key:"renderActions",value:function(){var e=this,n=(0,o.default)({},t.defaultProps.localization,this.props.localization),r=[{icon:this.props.icons.Check,tooltip:n.saveTooltip,onClick:function(){delete e.state.data.tableData,e.props.onEditingApproved(e.props.mode,e.state.data,e.props.data)}},{icon:this.props.icons.Clear,tooltip:n.cancelTooltip,onClick:function(){e.props.onEditingCanceled(e.props.mode,e.props.data)}}];return m.createElement(h.TableCell,{padding:"none",key:"key-actions-column",style:{width:42*r.length,padding:"0px 5px"}},m.createElement("div",{style:{display:"flex"}},m.createElement(this.props.components.Actions,{data:this.props.data,actions:r,components:this.props.components})))}},{key:"getStyle",value:function(){return{borderBottom:"1px solid red"}}},{key:"render",value:function(){var e,n=(0,o.default)({},t.defaultProps.localization,this.props.localization);if("add"===this.props.mode||"update"===this.props.mode)e=this.renderColumns();else{var r=this.props.columns.filter(function(e){return!e.hidden&&!(e.tableData.groupOrder>-1)}).length;e=[m.createElement(h.TableCell,{padding:0===this.props.options.actionsColumnIndex?"none":void 0,key:"key-selection-cell",colSpan:r},m.createElement(h.Typography,{variant:"h6"},n.deleteText))]}if(this.props.options.selection&&e.splice(0,0,m.createElement(h.TableCell,{padding:"none",key:"key-selection-cell"})),this.props.isTreeData&&e.splice(0,0,m.createElement(h.TableCell,{padding:"none",key:"key-tree-data-cell"})),-1===this.props.options.actionsColumnIndex)e.push(this.renderActions());else if(this.props.options.actionsColumnIndex>=0){var a=0;this.props.options.selection&&(a=1),this.props.isTreeData&&(a=1,this.props.options.selection&&e.splice(1,1)),e.splice(this.props.options.actionsColumnIndex+a,0,this.renderActions())}this.props.detailPanel&&e.splice(0,0,m.createElement(h.TableCell,{padding:"none",key:"key-detail-panel-cell"})),this.props.columns.filter(function(e){return e.tableData.groupOrder>-1}).forEach(function(t){e.splice(0,0,m.createElement(h.TableCell,{padding:"none",key:"key-group-cell"+t.tableData.id}))});var u=this.props,c=(u.detailPanel,u.isTreeData,u.onRowClick,u.onRowSelected,u.onTreeExpandChanged,u.onToggleDetailPanel,u.onEditingApproved,u.onEditingCanceled,(0,s.default)(u,["detailPanel","isTreeData","onRowClick","onRowSelected","onTreeExpandChanged","onToggleDetailPanel","onEditingApproved","onEditingCanceled"]));return m.createElement(m.Fragment,null,m.createElement(h.TableRow,(0,i.default)({},c,{style:this.getStyle()}),e))}}]),t}(m.Component);t.default=g,g.defaultProps={actions:[],index:0,options:{},path:[],localization:{saveTooltip:"Save",cancelTooltip:"Cancel",deleteText:"Are you sure delete this row?"}},g.propTypes={actions:f.default.array,icons:f.default.any.isRequired,index:f.default.number.isRequired,data:f.default.object,detailPanel:f.default.oneOfType([f.default.func,f.default.arrayOf(f.default.oneOfType([f.default.object,f.default.func]))]),options:f.default.object.isRequired,onRowSelected:f.default.func,path:f.default.arrayOf(f.default.number),columns:f.default.array,onRowClick:f.default.func,onEditingApproved:f.default.func,onEditingCanceled:f.default.func,localization:f.default.object,getFieldValue:f.default.func}},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9)),o=a(n(15)),s=a(n(57)),u=a(n(58)),c=a(n(59)),l=a(n(60)),d=a(n(61)),p=r(n(1)),h=n(79),f=a(n(451)),m=n(452),v=a(n(23)),g=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,u.default)(t,[{key:"getProps",value:function(){var e=this.props;e.columnDef,e.rowData;return(0,o.default)(e,["columnDef","rowData"])}},{key:"renderLookupField",value:function(){var e=this;return p.createElement(h.Select,(0,i.default)({},this.getProps(),{value:void 0===this.props.value?"":this.props.value,onChange:function(t){return e.props.onChange(t.target.value)},style:{fontSize:13}}),Object.keys(this.props.columnDef.lookup).map(function(t){return p.createElement(h.MenuItem,{key:t,value:t},e.props.columnDef.lookup[t])}))}},{key:"renderBooleanField",value:function(){var e=this;return p.createElement(h.Checkbox,(0,i.default)({},this.getProps(),{value:String(this.props.value),checked:Boolean(this.props.value),onChange:function(t){return e.props.onChange(t.target.checked)},style:{paddingLeft:0,paddingTop:0,paddingBottom:0}}))}},{key:"renderDateField",value:function(){return p.createElement(m.MuiPickersUtilsProvider,{utils:f.default},p.createElement(m.DatePicker,(0,i.default)({},this.getProps(),{format:"dd.MM.yyyy",value:this.props.value||null,onChange:this.props.onChange,clearable:!0,InputProps:{style:{fontSize:13}}})))}},{key:"renderTimeField",value:function(){return p.createElement(m.MuiPickersUtilsProvider,{utils:f.default},p.createElement(m.TimePicker,(0,i.default)({},this.getProps(),{format:"HH:mm:ss",value:this.props.value||null,onChange:this.props.onChange,clearable:!0,InputProps:{style:{fontSize:13}}})))}},{key:"renderDateTimeField",value:function(){return p.createElement(m.MuiPickersUtilsProvider,{utils:f.default},p.createElement(m.DateTimePicker,(0,i.default)({},this.getProps(),{format:"dd.MM.yyyy HH:mm:ss",value:this.props.value||null,onChange:this.props.onChange,clearable:!0,InputProps:{style:{fontSize:13}}})))}},{key:"renderTextField",value:function(){var e=this;return p.createElement(h.TextField,(0,i.default)({},this.getProps(),{style:"numeric"===this.props.columnDef.type?{float:"right"}:{},type:"numeric"===this.props.columnDef.type?"number":"text",placeholder:this.props.columnDef.title,value:void 0===this.props.value?"":this.props.value,onChange:function(t){return e.props.onChange(t.target.value)},InputProps:{style:{fontSize:13}}}))}},{key:"renderCurrencyField",value:function(){return"ok"}},{key:"render",value:function(){return this.props.columnDef.lookup?this.renderLookupField():"boolean"===this.props.columnDef.type?this.renderBooleanField():"date"===this.props.columnDef.type?this.renderDateField():"time"===this.props.columnDef.type?this.renderTimeField():"datetime"===this.props.columnDef.type?this.renderDateTimeField():"currency"===this.props.columnDef.type?this.renderCurrencyField():this.renderTextField()}}]),t}(p.Component);g.propTypes={value:v.default.any,onChange:v.default.func.isRequired,columnDef:v.default.object.isRequired};var A=g;t.default=A},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(111)),o=a(n(57)),s=a(n(58)),u=a(n(59)),c=a(n(60)),l=a(n(93)),d=a(n(61)),p=a(n(38)),h=r(n(1)),f=a(n(23)),m=n(79),v=a(n(451)),g=n(452),A={PaperProps:{style:{maxHeight:224,width:250}}},y=function(e){function t(){var e,n,r=this;(0,o.default)(this,t);for(var a=arguments.length,s=new Array(a),d=0;d<a;d++)s[d]=arguments[d];return n=(0,u.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(s))),(0,p.default)((0,l.default)(n),"renderLookupFilter",function(e){return h.createElement(m.FormControl,{style:{width:"100%"}},h.createElement(m.Select,{multiple:!0,value:e.tableData.filterValue||[],onChange:function(t){n.props.onFilterChanged(e.tableData.id,t.target.value)},input:h.createElement(m.Input,{id:"select-multiple-checkbox"}),renderValue:function(t){return t.map(function(t){return e.lookup[t]}).join(", ")},MenuProps:A},Object.keys(e.lookup).map(function(t){return h.createElement(m.MenuItem,{key:t,value:t},h.createElement(m.Checkbox,{checked:!!e.tableData.filterValue&&e.tableData.filterValue.indexOf(t.toString())>-1}),h.createElement(m.ListItemText,{primary:e.lookup[t]}))})))}),(0,p.default)((0,l.default)(n),"renderBooleanFilter",function(e){return h.createElement(m.Checkbox,{indeterminate:void 0===e.tableData.filterValue,checked:"checked"===e.tableData.filterValue,onChange:function(){var t;void 0===e.tableData.filterValue?t="checked":"checked"===e.tableData.filterValue&&(t="unchecked"),n.props.onFilterChanged(e.tableData.id,t)}})}),(0,p.default)((0,l.default)(n),"renderDefaultFilter",function(e){var a=(0,i.default)({},t.defaultProps.localization,n.props.localization);return h.createElement(m.TextField,{style:"numeric"===e.type?{float:"right"}:{},type:"numeric"===e.type?"number":"text",value:e.tableData.filterValue||"",onChange:function(t){n.props.onFilterChanged(e.tableData.id,t.target.value)},InputProps:{startAdornment:h.createElement(m.InputAdornment,{position:"start"},h.createElement(m.Tooltip,{title:a.filterTooltip},h.createElement(r.props.icons.Filter,null)))}})}),(0,p.default)((0,l.default)(n),"renderDateTypeFilter",function(e){var t=null,r=function(t){return n.props.onFilterChanged(e.tableData.id,t)};return"date"===e.type?t=h.createElement(g.DatePicker,{value:e.tableData.filterValue||null,onChange:r,clearable:!0}):"datetime"===e.type?t=h.createElement(g.DateTimePicker,{value:e.tableData.filterValue||null,onChange:r,clearable:!0}):"time"===e.type&&(t=h.createElement(g.TimePicker,{value:e.tableData.filterValue||null,onChange:r,clearable:!0})),h.createElement(g.MuiPickersUtilsProvider,{utils:v.default},t)}),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"getComponentForColumn",value:function(e){return!1===e.filtering?null:e.field||e.customFilterAndSearch?e.lookup?this.renderLookupFilter(e):"boolean"===e.type?this.renderBooleanFilter(e):["date","datetime","time"].includes(e.type)?this.renderDateTypeFilter(e):this.renderDefaultFilter(e):void 0}},{key:"render",value:function(){var e=this,t=this.props.columns.filter(function(e){return!e.hidden&&!(e.tableData.groupOrder>-1)}).sort(function(e,t){return e.tableData.columnOrder-t.tableData.columnOrder}).map(function(t){return h.createElement(m.TableCell,{key:t.tableData.id,style:(0,i.default)({},e.props.filterCellStyle,t.filterCellStyle)},e.getComponentForColumn(t))});if(this.props.selection&&t.splice(0,0,h.createElement(m.TableCell,{padding:"none",key:"key-selection-column"})),this.props.emptyCell&&this.props.hasActions)if(-1===this.props.actionsColumnIndex)t.push(h.createElement(m.TableCell,{key:"key-action-column"}));else{var n=0;this.props.selection&&(n=1),t.splice(this.props.actionsColumnIndex+n,0,h.createElement(m.TableCell,{key:"key-action-column"}))}return this.props.hasDetailPanel&&t.splice(0,0,h.createElement(m.TableCell,{padding:"none",key:"key-detail-panel-column"})),this.props.isTreeData>0&&t.splice(0,0,h.createElement(m.TableCell,{padding:"none",key:"key-tree-data-filter"})),this.props.columns.filter(function(e){return e.tableData.groupOrder>-1}).forEach(function(e){t.splice(0,0,h.createElement(m.TableCell,{padding:"checkbox",key:"key-group-filter"+e.tableData.id}))}),h.createElement(m.TableRow,{style:{height:10}},t)}}]),t}(h.Component);y.defaultProps={emptyCell:!1,columns:[],selection:!1,hasActions:!1,localization:{filterTooltip:"Filter"}},y.propTypes={emptyCell:f.default.bool,columns:f.default.array.isRequired,hasDetailPanel:f.default.bool.isRequired,isTreeData:f.default.bool.isRequired,onFilterChanged:f.default.func.isRequired,filterCellStyle:f.default.object,selection:f.default.bool.isRequired,actionsColumnIndex:f.default.number,hasActions:f.default.bool,localization:f.default.object};var b=y;t.default=b},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=t.MTableHeader=void 0;var i=a(n(111)),o=a(n(9)),s=a(n(57)),u=a(n(58)),c=a(n(59)),l=a(n(60)),d=a(n(61)),p=r(n(1)),h=a(n(23)),f=n(79),m=n(367),v=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,u.default)(t,[{key:"renderHeader",value:function(){var e=this;return this.props.columns.filter(function(e){return!e.hidden&&!(e.tableData.groupOrder>-1)}).sort(function(e,t){return e.tableData.columnOrder-t.tableData.columnOrder}).map(function(t,n){var r=p.createElement(m.Draggable,{key:t.tableData.id,draggableId:t.tableData.id.toString(),index:n},function(e,n){return p.createElement("div",(0,o.default)({ref:e.innerRef},e.draggableProps,e.dragHandleProps),t.title)});return!1!==t.sorting&&e.props.sorting&&(r=p.createElement(f.TableSortLabel,{active:e.props.orderBy===t.tableData.id,direction:e.props.orderDirection||"asc",onClick:function(){var n=t.tableData.id!==e.props.orderBy?"asc":"asc"===e.props.orderDirection?"desc":"asc";e.props.onOrderChange(t.tableData.id,n)}},r)),p.createElement(f.TableCell,{key:t.tableData.id,align:-1!==["numeric"].indexOf(t.type)?"right":"left",className:e.props.classes.header,style:(0,i.default)({},e.props.headerStyle,t.headerStyle)},r)})}},{key:"renderActionsHeader",value:function(){var e=(0,i.default)({},t.defaultProps.localization,this.props.localization);return p.createElement(f.TableCell,{key:"key-actions-column",padding:"checkbox",className:this.props.classes.header,style:(0,i.default)({},this.props.headerStyle,{textAlign:"center"})},p.createElement(f.TableSortLabel,{disabled:!0},e.actions))}},{key:"renderSelectionHeader",value:function(){var e=this;return p.createElement(f.TableCell,{padding:"none",key:"key-selection-column",className:this.props.classes.header,style:(0,i.default)({},this.props.headerStyle)},this.props.showSelectAllCheckbox&&p.createElement(f.Checkbox,{indeterminate:this.props.selectedCount>0&&this.props.selectedCount<this.props.dataCount,checked:this.props.dataCount>0&&this.props.selectedCount===this.props.dataCount,onChange:function(t,n){return e.props.onAllSelected&&e.props.onAllSelected(n)}}))}},{key:"renderDetailPanelColumnCell",value:function(){return p.createElement(f.TableCell,{padding:"none",key:"key-detail-panel-column",className:this.props.classes.header,style:(0,i.default)({},this.props.headerStyle)})}},{key:"render",value:function(){var e=this,t=this.renderHeader();if(this.props.hasSelection&&t.splice(0,0,this.renderSelectionHeader()),this.props.showActionsColumn)if(this.props.actionsHeaderIndex>=0){var n=0;this.props.hasSelection&&(n=1),t.splice(this.props.actionsHeaderIndex+n,0,this.renderActionsHeader())}else-1===this.props.actionsHeaderIndex&&t.push(this.renderActionsHeader());return this.props.hasDetailPanel&&("right"===this.props.detailPanelColumnAlignment?t.push(this.renderDetailPanelColumnCell()):t.splice(0,0,this.renderDetailPanelColumnCell())),this.props.isTreeData>0&&t.splice(0,0,p.createElement(f.TableCell,{padding:"none",key:"key-tree-data-header",className:this.props.classes.header,style:(0,i.default)({},this.props.headerStyle)})),this.props.columns.filter(function(e){return e.tableData.groupOrder>-1}).forEach(function(n){t.splice(0,0,p.createElement(f.TableCell,{padding:"checkbox",key:"key-group-header"+n.tableData.id,className:e.props.classes.header}))}),p.createElement(f.TableHead,null,p.createElement(f.TableRow,null,t))}}]),t}(p.Component);t.MTableHeader=v,v.defaultProps={dataCount:0,hasSelection:!1,headerStyle:{},selectedCount:0,sorting:!0,localization:{actions:"Actions"},orderBy:void 0,orderDirection:"asc",actionsHeaderIndex:0,detailPanelColumnAlignment:"left"},v.propTypes={columns:h.default.array.isRequired,dataCount:h.default.number,hasDetailPanel:h.default.bool.isRequired,detailPanelColumnAlignment:h.default.string,hasSelection:h.default.bool,headerStyle:h.default.object,localization:h.default.object,selectedCount:h.default.number,sorting:h.default.bool,onAllSelected:h.default.func,onOrderChange:h.default.func,orderBy:h.default.number,orderDirection:h.default.string,actionsHeaderIndex:h.default.number,showActionsColumn:h.default.bool,showSelectAllCheckbox:h.default.bool};var g=function(e){return{header:{position:"sticky",top:0,zIndex:10,backgroundColor:e.palette.background.paper}}};t.styles=g;var A=(0,f.withStyles)(g)(v);t.default=A},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(111)),o=a(n(57)),s=a(n(58)),u=a(n(59)),c=a(n(60)),l=a(n(93)),d=a(n(61)),p=a(n(38)),h=n(79),f=a(n(23)),m=r(n(1)),v=function(e){function t(){var e,n;(0,o.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,u.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(a))),(0,p.default)((0,l.default)(n),"handleFirstPageButtonClick",function(e){n.props.onChangePage(e,0)}),(0,p.default)((0,l.default)(n),"handleBackButtonClick",function(e){n.props.onChangePage(e,n.props.page-1)}),(0,p.default)((0,l.default)(n),"handleNextButtonClick",function(e){n.props.onChangePage(e,n.props.page+1)}),(0,p.default)((0,l.default)(n),"handleLastPageButtonClick",function(e){n.props.onChangePage(e,Math.max(0,Math.ceil(n.props.count/n.props.rowsPerPage)-1))}),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,n=e.classes,r=e.count,a=e.page,o=e.rowsPerPage,s=e.theme,u=e.showFirstLastPageButtons,c=(0,i.default)({},t.defaultProps.localization,this.props.localization);return m.createElement("div",{className:n.root},u&&m.createElement(h.Tooltip,{title:c.firstTooltip},m.createElement("span",null,m.createElement(h.IconButton,{onClick:this.handleFirstPageButtonClick,disabled:0===a,"aria-label":c.firstAriaLabel},"rtl"===s.direction?m.createElement(this.props.icons.LastPage,null):m.createElement(this.props.icons.FirstPage,null)))),m.createElement(h.Tooltip,{title:c.previousTooltip},m.createElement("span",null,m.createElement(h.IconButton,{onClick:this.handleBackButtonClick,disabled:0===a,"aria-label":c.previousAriaLabel},"rtl"===s.direction?m.createElement(this.props.icons.NextPage,null):m.createElement(this.props.icons.PreviousPage,null)))),m.createElement(h.Typography,{variant:"caption",style:{flex:1,textAlign:"center",alignSelf:"center",flexBasis:"inherit"}},c.labelDisplayedRows.replace("{from}",this.props.page*this.props.rowsPerPage+1).replace("{to}",Math.min((this.props.page+1)*this.props.rowsPerPage,this.props.count)).replace("{count}",this.props.count)),m.createElement(h.Tooltip,{title:c.nextTooltip},m.createElement("span",null,m.createElement(h.IconButton,{onClick:this.handleNextButtonClick,disabled:a>=Math.ceil(r/o)-1,"aria-label":c.nextAriaLabel},"rtl"===s.direction?m.createElement(this.props.icons.PreviousPage,null):m.createElement(this.props.icons.NextPage,null)))),u&&m.createElement(h.Tooltip,{title:c.lastTooltip},m.createElement("span",null,m.createElement(h.IconButton,{onClick:this.handleLastPageButtonClick,disabled:a>=Math.ceil(r/o)-1,"aria-label":c.lastAriaLabel},"rtl"===s.direction?m.createElement(this.props.icons.FirstPage,null):m.createElement(this.props.icons.LastPage,null)))))}}]),t}(m.Component);v.propTypes={onChangePage:f.default.func,page:f.default.number,count:f.default.number,rowsPerPage:f.default.number,classes:f.default.object,localization:f.default.object,theme:f.default.any,showFirstLastPageButtons:f.default.bool},v.defaultProps={showFirstLastPageButtons:!0,localization:{firstTooltip:"First Page",previousTooltip:"Previous Page",nextTooltip:"Next Page",lastTooltip:"Last Page",labelDisplayedRows:"{from}-{to} of {count}",labelRowsPerPage:"Rows per page:"}};var g=(0,h.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,display:"flex"}}},{withTheme:!0})(v);t.default=g},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(111)),o=a(n(57)),s=a(n(58)),u=a(n(59)),c=a(n(60)),l=a(n(93)),d=a(n(61)),p=a(n(38)),h=n(79),f=a(n(23)),m=r(n(1)),v=function(e){function t(){var e,n;(0,o.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,u.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(a))),(0,p.default)((0,l.default)(n),"handleFirstPageButtonClick",function(e){n.props.onChangePage(e,0)}),(0,p.default)((0,l.default)(n),"handleBackButtonClick",function(e){n.props.onChangePage(e,n.props.page-1)}),(0,p.default)((0,l.default)(n),"handleNextButtonClick",function(e){n.props.onChangePage(e,n.props.page+1)}),(0,p.default)((0,l.default)(n),"handleNumberButtonClick",function(e){return function(t){n.props.onChangePage(t,e)}}),(0,p.default)((0,l.default)(n),"handleLastPageButtonClick",function(e){n.props.onChangePage(e,Math.max(0,Math.ceil(n.props.count/n.props.rowsPerPage)-1))}),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"renderPagesButton",value:function(e,t){for(var n=[],r=e;r<=t;r++){var a=r===this.props.page?"contained":"default";n.push(m.createElement(h.Button,{size:"small",style:{boxShadow:"none",maxWidth:"30px",maxHeight:"30px",minWidth:"30px",minHeight:"30px"},disabled:r===this.props.page,variant:a,onClick:this.handleNumberButtonClick(r)},r+1))}return m.createElement("span",null,n)}},{key:"render",value:function(){var e=this.props,n=e.classes,r=e.count,a=e.page,o=e.rowsPerPage,s=(0,i.default)({},t.defaultProps.localization,this.props.localization),u=Math.ceil(r/o)-1,c=Math.max(a-1,0),l=Math.min(u,a+1);return m.createElement("div",{className:n.root},m.createElement(h.Tooltip,{title:s.previousTooltip},m.createElement("span",null,m.createElement(h.IconButton,{onClick:this.handleBackButtonClick,disabled:0===a,"aria-label":s.previousAriaLabel},m.createElement(this.props.icons.PreviousPage,null)))),m.createElement(h.Hidden,{smDown:!0},this.renderPagesButton(c,l)),m.createElement(h.Tooltip,{title:s.nextTooltip},m.createElement("span",null,m.createElement(h.IconButton,{onClick:this.handleNextButtonClick,disabled:a>=u,"aria-label":s.nextAriaLabel},m.createElement(this.props.icons.NextPage,null)))))}}]),t}(m.Component);v.propTypes={onChangePage:f.default.func,page:f.default.number,count:f.default.number,rowsPerPage:f.default.number,classes:f.default.object,localization:f.default.object},v.defaultProps={localization:{previousTooltip:"Previous Page",nextTooltip:"Next Page",labelDisplayedRows:"{from}-{to} of {count}",labelRowsPerPage:"Rows per page:"}};var g=(0,h.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:e.spacing(2.5)}}},{withTheme:!0})(v);t.default=g},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=t.MTableToolbar=void 0;var i=a(n(111)),o=a(n(57)),s=a(n(58)),u=a(n(59)),c=a(n(60)),l=a(n(93)),d=a(n(61)),p=a(n(38)),h=n(79),f=n(418),m=a(n(395)),v=n(620),g=r(n(23)),A=r(n(1)),y=function(e){function t(e){var n;return(0,o.default)(this,t),n=(0,u.default)(this,(0,c.default)(t).call(this,e)),(0,p.default)((0,l.default)(n),"defaultExportCsv",function(){var e=n.props.columns.filter(function(e){return!e.hidden&&e.field&&!1!==e.export}),t=(n.props.exportAllData?n.props.data:n.props.renderData).map(function(t){return e.map(function(e){return n.props.getFieldValue(t,e)})});new v.CsvBuilder((n.props.exportFileName||n.props.title||"data")+".csv").setDelimeter(n.props.exportDelimiter).setColumns(e.map(function(e){return e.title})).addRows(t).exportFile()}),(0,p.default)((0,l.default)(n),"exportCsv",function(){n.props.exportCsv?n.props.exportCsv(n.props.columns,n.props.data):n.defaultExportCsv(),n.setState({exportButtonAnchorEl:null})}),n.state={columnsButtonAnchorEl:null,exportButtonAnchorEl:null},n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"renderSearch",value:function(){var e=this,n=(0,i.default)({},t.defaultProps.localization,this.props.localization);return this.props.search?A.createElement(h.TextField,{className:"left"===this.props.searchFieldAlignment&&!1===this.props.showTitle?null:this.props.classes.searchField,value:this.props.searchText,onChange:function(t){return e.props.onSearchChanged(t.target.value)},placeholder:n.searchPlaceholder,color:"inherit",InputProps:{startAdornment:A.createElement(h.InputAdornment,{position:"start"},A.createElement(h.Tooltip,{title:n.searchTooltip},A.createElement(this.props.icons.Search,{color:"inherit",fontSize:"small"}))),endAdornment:A.createElement(h.InputAdornment,{position:"end"},A.createElement(h.IconButton,{disabled:!this.props.searchText,onClick:function(){return e.props.onSearchChanged("")}},A.createElement(this.props.icons.ResetSearch,{color:"inherit",fontSize:"small"}))),style:this.props.searchFieldStyle}}):null}},{key:"renderDefaultActions",value:function(){var e=this,n=(0,i.default)({},t.defaultProps.localization,this.props.localization);return A.createElement("div",null,this.props.columnsButton&&A.createElement("span",null,A.createElement(h.Tooltip,{title:n.showColumnsTitle},A.createElement(h.IconButton,{color:"inherit",onClick:function(t){return e.setState({columnsButtonAnchorEl:t.currentTarget})},"aria-label":n.showColumnsAriaLabel},A.createElement(this.props.icons.ViewColumn,null))),A.createElement(h.Menu,{anchorEl:this.state.columnsButtonAnchorEl,open:Boolean(this.state.columnsButtonAnchorEl),onClose:function(){return e.setState({columnsButtonAnchorEl:null})}},A.createElement(h.MenuItem,{key:"text",disabled:!0,style:{opacity:1,fontWeight:600,fontSize:12}},n.addRemoveColumns),this.props.columns.map(function(t,n){return A.createElement(h.MenuItem,{key:t.tableData.id,disabled:!1===t.removable},A.createElement(h.FormControlLabel,{label:t.title,control:A.createElement(h.Checkbox,{checked:!t.hidden,onChange:function(n,r){e.props.onColumnsChanged(t.tableData.id,!r)}})}))}))),this.props.exportButton&&A.createElement("span",null,A.createElement(h.Tooltip,{title:n.exportTitle},A.createElement(h.IconButton,{color:"inherit",onClick:function(t){return e.setState({exportButtonAnchorEl:t.currentTarget})},"aria-label":n.exportAriaLabel},A.createElement(this.props.icons.Export,null))),A.createElement(h.Menu,{anchorEl:this.state.exportButtonAnchorEl,open:Boolean(this.state.exportButtonAnchorEl),onClose:function(){return e.setState({exportButtonAnchorEl:null})}},A.createElement(h.MenuItem,{key:"export-csv",onClick:this.exportCsv},n.exportName))),A.createElement(this.props.components.Actions,{actions:this.props.actions&&this.props.actions.filter(function(e){return e.isFreeAction}),components:this.props.components}))}},{key:"renderSelectedActions",value:function(){return A.createElement(A.Fragment,null,A.createElement(this.props.components.Actions,{actions:this.props.actions.filter(function(e){return!e.isFreeAction}),data:this.props.selectedRows,components:this.props.components}))}},{key:"renderActions",value:function(){var e=this.props.classes;return A.createElement("div",{className:e.actions},A.createElement("div",null,this.props.selectedRows&&this.props.selectedRows.length>0?this.renderSelectedActions():this.renderDefaultActions()))}},{key:"render",value:function(){var e=this.props.classes,n=(0,i.default)({},t.defaultProps.localization,this.props.localization),r=this.props.showTextRowsSelected&&this.props.selectedRows&&this.props.selectedRows.length>0?n.nRowsSelected.replace("{0}",this.props.selectedRows.length):this.props.showTitle?this.props.title:null;return A.createElement(h.Toolbar,{className:(0,m.default)(e.root,(0,p.default)({},e.highlight,this.props.showTextRowsSelected&&this.props.selectedRows&&this.props.selectedRows.length>0))},r&&A.createElement("div",{className:e.title},A.createElement(h.Typography,{variant:"h6"},r)),"left"===this.props.searchFieldAlignment&&this.renderSearch(),"left"===this.props.toolbarButtonAlignment&&this.renderActions(),A.createElement("div",{className:e.spacer}),"right"===this.props.searchFieldAlignment&&this.renderSearch(),"right"===this.props.toolbarButtonAlignment&&this.renderActions())}}]),t}(A.Component);t.MTableToolbar=y,y.defaultProps={actions:[],columns:[],columnsButton:!1,localization:{addRemoveColumns:"Add or remove columns",nRowsSelected:"{0} row(s) selected",showColumnsTitle:"Show Columns",showColumnsAriaLabel:"Show Columns",exportTitle:"Export",exportAriaLabel:"Export",exportName:"Export as CSV",searchTooltip:"Search",searchPlaceholder:"Search"},search:!0,showTitle:!0,showTextRowsSelected:!0,toolbarButtonAlignment:"right",searchFieldAlignment:"right",searchText:"",selectedRows:[],title:"No Title!"},y.propTypes={actions:g.default.array,columns:g.default.array,columnsButton:g.default.bool,components:g.default.object.isRequired,getFieldValue:g.default.func.isRequired,localization:g.default.object.isRequired,onColumnsChanged:g.default.func.isRequired,onSearchChanged:g.default.func.isRequired,search:g.default.bool.isRequired,searchFieldStyle:g.default.object,searchText:g.default.string.isRequired,selectedRows:g.default.array,title:g.default.oneOfType([g.default.element,g.default.string]),showTitle:g.default.bool.isRequired,showTextRowsSelected:g.default.bool.isRequired,toolbarButtonAlignment:g.default.string.isRequired,searchFieldAlignment:g.default.string.isRequired,renderData:g.default.array,data:g.default.array,exportAllData:g.default.bool,exportButton:g.default.bool,exportDelimiter:g.default.string,exportFileName:g.default.string,exportCsv:g.default.func,classes:g.default.object};var b=function(e){return{root:{paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:(0,f.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 10%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},searchField:{paddingLeft:e.spacing(2)}}};t.styles=b;var x=(0,h.withStyles)(b)(y);t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(621);t.CsvBuilder=r.default},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this)||this;return n._FileName="",n._Delimeter=",",n._Columns=[],n._RowData=[],n._FileName=t,n}return r(t,e),t.prototype.setColumns=function(e){return this._Columns=e,this},t.prototype.setDelimeter=function(e){return this._Delimeter=e,this},t.prototype.addRow=function(e){return this._RowData.push(e),this},t.prototype.addRows=function(e){return this._RowData=this._RowData.concat(e),this},t.prototype.escapeCell=function(e){return"string"===typeof e?'"'+e.replace('"','""')+'"':e},t.prototype.getRowData=function(e){return e.map(this.escapeCell).join(this._Delimeter)},t.prototype.exportFile=function(){var t=this,n=[];this._Columns&&this._Columns.length>0&&n.push(this.getRowData(this._Columns)),this._RowData.forEach(function(e){n.push(t.getRowData(e))});var r=n.join("\r\n");e.prototype.exportFile.call(this,"csv",this._FileName,r)},t}(a(n(622)).default);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.exportFile=function(e,t,n){if(window.navigator.msSaveOrOpenBlob){var r=new Blob([n]);window.navigator.msSaveOrOpenBlob(r,t)}var a="data:text/"+e+";charset=utf-8,\ufeff"+encodeURIComponent(n),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download",t),document.body.appendChild(i),i.click()},e}();t.default=r},function(e,t,n){"use strict";var r=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.propTypes=void 0;var a=r(n(23)),i=a.default.shape({current:a.default.element}),o=a.default.shape({classes:a.default.object,innerRef:i}),s={actions:a.default.arrayOf(a.default.oneOfType([a.default.func,a.default.shape({icon:a.default.oneOfType([a.default.element,a.default.func,a.default.string]).isRequired,isFreeAction:a.default.bool,tooltip:a.default.string,onClick:a.default.func.isRequired,iconProps:a.default.object,disabled:a.default.bool,hidden:a.default.bool})])),columns:a.default.arrayOf(a.default.shape({cellStyle:a.default.oneOfType([a.default.object,a.default.func]),currencySetting:a.default.shape({locale:a.default.string,currencyCode:a.default.string,minimumFractionDigits:a.default.number,maximumFractionDigits:a.default.number}),customFilterAndSearch:a.default.func,customSort:a.default.func,defaultFilter:a.default.any,defaultSort:a.default.oneOf(["asc","desc"]),editComponent:a.default.oneOfType([a.default.element,a.default.func]),emptyValue:a.default.oneOfType([a.default.string,a.default.node,a.default.func]),export:a.default.bool,field:a.default.string,filtering:a.default.bool,filterCellStyle:a.default.object,grouping:a.default.bool,headerStyle:a.default.object,hidden:a.default.bool,lookup:a.default.object,editable:a.default.oneOf(["always","onUpdate","onAdd","never",a.default.func]),removable:a.default.bool,render:a.default.func,searchable:a.default.bool,sorting:a.default.bool,title:a.default.oneOfType([a.default.element,a.default.string]),type:a.default.oneOf(["string","boolean","numeric","date","datetime","time","currency"])})).isRequired,components:a.default.shape({Action:a.default.oneOfType([a.default.element,a.default.func,o]),Actions:a.default.oneOfType([a.default.element,a.default.func,o]),Body:a.default.oneOfType([a.default.element,a.default.func,o]),Cell:a.default.oneOfType([a.default.element,a.default.func,o]),Container:a.default.oneOfType([a.default.element,a.default.func,o]),EditField:a.default.oneOfType([a.default.element,a.default.func,o]),EditRow:a.default.oneOfType([a.default.element,a.default.func,o]),FilterRow:a.default.oneOfType([a.default.element,a.default.func,o]),Groupbar:a.default.oneOfType([a.default.element,a.default.func,o]),GroupRow:a.default.oneOfType([a.default.element,a.default.func,o]),Header:a.default.oneOfType([a.default.element,a.default.func,o]),OverlayLoading:a.default.oneOfType([a.default.element,a.default.func,o]),Pagination:a.default.oneOfType([a.default.element,a.default.func,o]),Row:a.default.oneOfType([a.default.element,a.default.func,o]),Toolbar:a.default.oneOfType([a.default.element,a.default.func,o])}),data:a.default.oneOfType([a.default.arrayOf(a.default.object),a.default.func]).isRequired,editable:a.default.shape({onRowAdd:a.default.func,onRowUpdate:a.default.func,onRowDelete:a.default.func}),detailPanel:a.default.oneOfType([a.default.func,a.default.arrayOf(a.default.oneOfType([a.default.func,a.default.shape({disabled:a.default.bool,icon:a.default.oneOfType([a.default.element,a.default.func,a.default.string]),openIcon:a.default.oneOfType([a.default.element,a.default.func,a.default.string]),tooltip:a.default.string,render:a.default.func.isRequired})]))]),icons:a.default.shape({Add:a.default.oneOfType([a.default.element,a.default.func,i]),Check:a.default.oneOfType([a.default.element,a.default.func,i]),Clear:a.default.oneOfType([a.default.element,a.default.func,i]),Delete:a.default.oneOfType([a.default.element,a.default.func,i]),DetailPanel:a.default.oneOfType([a.default.element,a.default.func,i]),Edit:a.default.oneOfType([a.default.element,a.default.func,i]),Export:a.default.oneOfType([a.default.element,a.default.func,i]),Filter:a.default.oneOfType([a.default.element,a.default.func,i]),FirstPage:a.default.oneOfType([a.default.element,a.default.func,i]),LastPage:a.default.oneOfType([a.default.element,a.default.func,i]),NextPage:a.default.oneOfType([a.default.element,a.default.func,i]),PreviousPage:a.default.oneOfType([a.default.element,a.default.func,i]),ResetSearch:a.default.oneOfType([a.default.element,a.default.func,i]),Search:a.default.oneOfType([a.default.element,a.default.func,i]),SortArrow:a.default.oneOfType([a.default.element,a.default.func,i]),ThirdStateCheck:a.default.oneOfType([a.default.element,a.default.func,i]),ViewColumn:a.default.oneOfType([a.default.element,a.default.func,i])}),isLoading:a.default.bool,title:a.default.oneOfType([a.default.element,a.default.string]),options:a.default.shape({actionsCellStyle:a.default.object,actionsColumnIndex:a.default.number,addRowPosition:a.default.oneOf(["first","last"]),columnsButton:a.default.bool,defaultExpanded:a.default.bool,debounceInterval:a.default.number,detailPanelType:a.default.oneOf(["single","multiple"]),doubleHorizontalScroll:a.default.bool,emptyRowsWhenPaging:a.default.bool,exportAllData:a.default.bool,exportButton:a.default.bool,exportDelimiter:a.default.string,exportFileName:a.default.string,exportCsv:a.default.func,filtering:a.default.bool,filterCellStyle:a.default.object,header:a.default.bool,headerStyle:a.default.object,initialPage:a.default.number,maxBodyHeight:a.default.oneOfType([a.default.number,a.default.string]),loadingType:a.default.oneOf(["overlay","linear"]),paging:a.default.bool,pageSize:a.default.number,pageSizeOptions:a.default.arrayOf(a.default.number),paginationType:a.default.oneOf(["normal","stepped"]),rowStyle:a.default.oneOfType([a.default.object,a.default.func]),search:a.default.bool,toolbarButtonAlignment:a.default.oneOf(["left","right"]),searchFieldAlignment:a.default.oneOf(["left","right"]),searchFieldStyle:a.default.object,selection:a.default.bool,selectionProps:a.default.oneOfType([a.default.object,a.default.func]),showEmptyDataSourceMessage:a.default.bool,showFirstLastPageButtons:a.default.bool,showSelectAllCheckbox:a.default.bool,showTitle:a.default.bool,showTextRowsSelected:a.default.bool,sorting:a.default.bool,toolbar:a.default.bool}),localization:a.default.shape({grouping:a.default.shape({groupedBy:a.default.string,placeholder:a.default.string}),pagination:a.default.object,toolbar:a.default.object,header:a.default.object,body:a.default.object}),initialFormData:a.default.object,onSelectionChange:a.default.func,onChangeRowsPerPage:a.default.func,onChangePage:a.default.func,onOrderChange:a.default.func,onRowClick:a.default.func,onTreeExpandChange:a.default.func,tableRef:a.default.any,style:a.default.object};t.propTypes=s},function(e,t,n){"use strict";var r=n(92),a=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9)),o=a(n(66)),s=a(n(111)),u=a(n(57)),c=a(n(58)),l=a(n(59)),d=a(n(60)),p=a(n(93)),h=a(n(61)),f=a(n(38)),m=n(79),v=a(n(625)),g=r(n(1)),A=n(359),y=n(367),b=a(n(626)),x=n(108),w=function(e){function t(e){var n;(0,u.default)(this,t),n=(0,l.default)(this,(0,d.default)(t).call(this,e)),(0,f.default)((0,p.default)(n),"dataManager",new b.default),(0,f.default)((0,p.default)(n),"isRemoteData",function(e){return!Array.isArray((e||n.props).data)}),(0,f.default)((0,p.default)(n),"onAllSelected",function(e){n.dataManager.changeAllSelected(e),n.setState(n.dataManager.getRenderState(),function(){return n.onSelectionChange()})}),(0,f.default)((0,p.default)(n),"onChangeColumnHidden",function(e,t){n.dataManager.changeColumnHidden(e,t),n.setState(n.dataManager.getRenderState())}),(0,f.default)((0,p.default)(n),"onChangeGroupOrder",function(e){n.dataManager.changeGroupOrder(e.tableData.id),n.setState(n.dataManager.getRenderState())}),(0,f.default)((0,p.default)(n),"onChangeOrder",function(e,t){if(n.dataManager.changeOrder(e,t),n.isRemoteData()){var r=(0,s.default)({},n.state.query);r.page=0,r.orderBy=n.state.columns.find(function(t){return t.tableData.id===e}),r.orderDirection=t,n.onQueryChange(r,function(){n.props.onOrderChange&&n.props.onOrderChange(e,t)})}else n.setState(n.dataManager.getRenderState(),function(){n.props.onOrderChange&&n.props.onOrderChange(e,t)})}),(0,f.default)((0,p.default)(n),"onChangePage",function(e,t){if(n.isRemoteData()){var r=(0,s.default)({},n.state.query);r.page=t,n.onQueryChange(r,function(){n.props.onChangePage&&n.props.onChangePage(t)})}else n.dataManager.changeCurrentPage(t),n.setState(n.dataManager.getRenderState(),function(){n.props.onChangePage&&n.props.onChangePage(t)})}),(0,f.default)((0,p.default)(n),"onChangeRowsPerPage",function(e){var t=e.target.value;if(n.dataManager.changePageSize(t),n.isRemoteData()){var r=(0,s.default)({},n.state.query);r.pageSize=e.target.value,r.page=0,n.onQueryChange(r,function(){n.props.onChangeRowsPerPage&&n.props.onChangeRowsPerPage(t)})}else n.dataManager.changeCurrentPage(0),n.setState(n.dataManager.getRenderState(),function(){n.props.onChangeRowsPerPage&&n.props.onChangeRowsPerPage(t)})}),(0,f.default)((0,p.default)(n),"onDragEnd",function(e){n.dataManager.changeByDrag(e),n.setState(n.dataManager.getRenderState())}),(0,f.default)((0,p.default)(n),"onGroupExpandChanged",function(e){n.dataManager.changeGroupExpand(e),n.setState(n.dataManager.getRenderState())}),(0,f.default)((0,p.default)(n),"onGroupRemoved",function(e,t){var r={combine:null,destination:{droppableId:"headers",index:0},draggableId:e.tableData.id,mode:"FLUID",reason:"DROP",source:{index:t,droppableId:"groups"},type:"DEFAULT"};n.dataManager.changeByDrag(r),n.setState(n.dataManager.getRenderState())}),(0,f.default)((0,p.default)(n),"onEditingApproved",function(e,t,r){"add"===e?n.setState({isLoading:!0},function(){n.props.editable.onRowAdd(t).then(function(e){n.setState({isLoading:!1,showAddRow:!1},function(){n.isRemoteData()&&n.onQueryChange(n.state.query)})}).catch(function(e){n.setState({isLoading:!1})})}):"update"===e?n.setState({isLoading:!0},function(){n.props.editable.onRowUpdate(t,r).then(function(e){n.dataManager.changeRowEditing(r),n.setState((0,s.default)({isLoading:!1},n.dataManager.getRenderState()),function(){n.isRemoteData()&&n.onQueryChange(n.state.query)})}).catch(function(e){n.setState({isLoading:!1})})}):"delete"===e&&n.setState({isLoading:!0},function(){n.props.editable.onRowDelete(r).then(function(e){n.dataManager.changeRowEditing(r),n.setState((0,s.default)({isLoading:!1},n.dataManager.getRenderState()),function(){n.isRemoteData()&&n.onQueryChange(n.state.query)})}).catch(function(e){n.setState({isLoading:!1})})})}),(0,f.default)((0,p.default)(n),"onEditingCanceled",function(e,t){"add"===e?n.setState({showAddRow:!1}):"update"!==e&&"delete"!==e||(n.dataManager.changeRowEditing(t),n.setState(n.dataManager.getRenderState()))}),(0,f.default)((0,p.default)(n),"onQueryChange",function(e,t){e=(0,s.default)({},n.state.query,e),n.setState({isLoading:!0},function(){n.props.data(e).then(function(r){e.totalCount=r.totalCount,e.page=r.page,n.dataManager.setData(r.data),n.setState((0,s.default)({isLoading:!1},n.dataManager.getRenderState(),{query:e}),function(){t&&t()})})})}),(0,f.default)((0,p.default)(n),"onRowSelected",function(e,t,r){n.dataManager.changeRowSelected(e.target.checked,t),n.setState(n.dataManager.getRenderState(),function(){return n.onSelectionChange(r)})}),(0,f.default)((0,p.default)(n),"onSelectionChange",function(e){if(n.props.onSelectionChange){var t=[];!function e(n){n.forEach(function(n){n.tableData.checked&&t.push(n),n.tableData.childRows&&e(n.tableData.childRows)})}(n.state.originalData),n.props.onSelectionChange(t,e)}}),(0,f.default)((0,p.default)(n),"onSearchChange",function(e){return n.setState({searchText:e},n.onSearchChangeDebounce)}),(0,f.default)((0,p.default)(n),"onSearchChangeDebounce",(0,x.debounce)(function(){if(n.dataManager.changeSearchText(n.state.searchText),n.isRemoteData()){var e=(0,s.default)({},n.state.query);e.page=0,e.search=n.state.searchText,n.onQueryChange(e)}else n.setState(n.dataManager.getRenderState())},n.props.options.debounceInterval)),(0,f.default)((0,p.default)(n),"onFilterChange",function(e,t){n.dataManager.changeFilterValue(e,t),n.setState({},n.onFilterChangeDebounce)}),(0,f.default)((0,p.default)(n),"onFilterChangeDebounce",(0,x.debounce)(function(){if(n.isRemoteData()){var e=(0,s.default)({},n.state.query);e.filters=n.state.columns.filter(function(e){return e.tableData.filterValue}).map(function(e){return{column:e,operator:"=",value:e.tableData.filterValue}}),n.onQueryChange(e)}else n.setState(n.dataManager.getRenderState())},n.props.options.debounceInterval)),(0,f.default)((0,p.default)(n),"onTreeExpandChanged",function(e,t){n.dataManager.changeTreeExpand(e),n.setState(n.dataManager.getRenderState(),function(){n.props.onTreeExpandChange&&n.props.onTreeExpandChange(t,t.tableData.isTreeExpanded)})}),(0,f.default)((0,p.default)(n),"onToggleDetailPanel",function(e,t){n.dataManager.changeDetailPanelVisibility(e,t),n.setState(n.dataManager.getRenderState())});var r=n.getProps(e);n.setDataManagerFields(r,!0);var a=n.dataManager.getRenderState();return n.state=(0,s.default)({data:[]},a,{query:{filters:a.columns.filter(function(e){return e.tableData.filterValue}).map(function(e){return{column:e,operator:"=",value:e.tableData.filterValue}}),orderBy:a.columns.find(function(e){return e.tableData.id===a.orderBy}),orderDirection:a.orderDirection,page:0,pageSize:r.options.pageSize,search:a.searchText,totalCount:0},showAddRow:!1}),n}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(this.dataManager.getRenderState(),function(){e.isRemoteData()&&e.onQueryChange(e.state.query)})}},{key:"setDataManagerFields",value:function(e,t){var n=-1,r="";e&&(r=(n=e.columns.findIndex(function(e){return e.defaultSort}))>-1?e.columns[n].defaultSort:""),this.dataManager.setColumns(e.columns),this.dataManager.setDefaultExpanded(e.options.defaultExpanded),this.isRemoteData(e)?(this.dataManager.changeApplySearch(!1),this.dataManager.changeApplyFilters(!1)):(this.dataManager.changeApplySearch(!0),this.dataManager.changeApplyFilters(!0),this.dataManager.setData(e.data)),t&&this.dataManager.changeOrder(n,r),t&&this.dataManager.changeCurrentPage(e.options.initialPage?e.options.initialPage:0),t&&this.dataManager.changePageSize(e.options.pageSize),t&&this.dataManager.changePaging(e.options.paging),t&&this.dataManager.changeParentFunc(e.parentChildData),this.dataManager.changeDetailPanelType(e.options.detailPanelType)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.getProps(e);this.setDataManagerFields(t),this.setState(this.dataManager.getRenderState())}},{key:"getProps",value:function(e){var n=this,r=(0,s.default)({},e||this.props),a=r.localization.body;return r.actions=(0,o.default)(r.actions||[]),r.editable&&(r.editable.onRowAdd&&r.actions.push({icon:r.icons.Add,tooltip:a.addTooltip,isFreeAction:!0,onClick:function(){n.dataManager.changeRowEditing(),n.setState((0,s.default)({},n.dataManager.getRenderState(),{showAddRow:!n.state.showAddRow}))}}),r.editable.onRowUpdate&&r.actions.push(function(e){return{icon:r.icons.Edit,tooltip:a.editTooltip,disabled:r.editable.isEditable&&!r.editable.isEditable(e),onClick:function(e,t){n.dataManager.changeRowEditing(t,"update"),n.setState((0,s.default)({},n.dataManager.getRenderState(),{showAddRow:!1}))}}}),r.editable.onRowDelete&&r.actions.push(function(e){return{icon:r.icons.Delete,tooltip:a.deleteTooltip,disabled:r.editable.isDeletable&&!r.editable.isDeletable(e),onClick:function(e,t){n.dataManager.changeRowEditing(t,"delete"),n.setState((0,s.default)({},n.dataManager.getRenderState(),{showAddRow:!1}))}}})),r.components=(0,s.default)({},t.defaultProps.components,r.components),r.icons=(0,s.default)({},t.defaultProps.icons,r.icons),r.options=(0,s.default)({},t.defaultProps.options,r.options),r}},{key:"renderFooter",value:function(){var e=this.getProps();if(e.options.paging){var n=(0,s.default)({},t.defaultProps.localization.pagination,this.props.localization.pagination);return g.createElement(m.Table,null,g.createElement(m.TableFooter,{style:{display:"grid"}},g.createElement(m.TableRow,null,g.createElement(e.components.Pagination,{classes:{root:e.classes.paginationRoot,toolbar:e.classes.paginationToolbar,caption:e.classes.paginationCaption,selectRoot:e.classes.paginationSelectRoot},style:{float:"rtl"===e.theme.direction?"":"right",overflowX:"auto"},colSpan:3,count:this.isRemoteData()?this.state.query.totalCount:this.state.data.length,icons:e.icons,rowsPerPage:this.state.pageSize,rowsPerPageOptions:e.options.pageSizeOptions,SelectProps:{renderValue:function(e){return g.createElement("div",{style:{padding:"0px 5px"}},e+" "+n.labelRowsSelect+" ")}},page:this.isRemoteData()?this.state.query.page:this.state.currentPage,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,ActionsComponent:function(t){return"normal"===e.options.paginationType?g.createElement(A.MTablePagination,(0,i.default)({},t,{icons:e.icons,localization:n,showFirstLastPageButtons:e.options.showFirstLastPageButtons})):g.createElement(A.MTableSteppedPagination,(0,i.default)({},t,{icons:e.icons,localization:n}))},labelDisplayedRows:function(e){return n.labelDisplayedRows.replace("{from}",e.from).replace("{to}",e.to).replace("{count}",e.count)},labelRowsPerPage:n.labelRowsPerPage}))))}}},{key:"render",value:function(){var e=this,n=this.getProps();return g.createElement(y.DragDropContext,{onDragEnd:this.onDragEnd},g.createElement(n.components.Container,{style:(0,s.default)({position:"relative"},n.style)},n.options.toolbar&&g.createElement(n.components.Toolbar,{actions:n.actions,components:n.components,selectedRows:this.state.selectedCount>0?this.state.originalData.filter(function(e){return e.tableData.checked}):[],columns:this.state.columns,columnsButton:n.options.columnsButton,icons:n.icons,exportAllData:n.options.exportAllData,exportButton:n.options.exportButton,exportDelimiter:n.options.exportDelimiter,exportFileName:n.options.exportFileName,exportCsv:n.options.exportCsv,getFieldValue:this.dataManager.getFieldValue,data:this.state.data,renderData:this.state.renderData,search:n.options.search,showTitle:n.options.showTitle,showTextRowsSelected:n.options.showTextRowsSelected,toolbarButtonAlignment:n.options.toolbarButtonAlignment,searchFieldAlignment:n.options.searchFieldAlignment,searchText:this.state.searchText,searchFieldStyle:n.options.searchFieldStyle,title:n.title,onSearchChanged:this.onSearchChange,onColumnsChanged:this.onChangeColumnHidden,localization:(0,s.default)({},t.defaultProps.localization.toolbar,this.props.localization.toolbar)}),n.options.grouping&&g.createElement(n.components.Groupbar,{icons:n.icons,localization:(0,s.default)({},t.defaultProps.localization.grouping,n.localization.grouping),groupColumns:this.state.columns.filter(function(e){return e.tableData.groupOrder>-1}).sort(function(e,t){return e.tableData.groupOrder-t.tableData.groupOrder}),onSortChanged:this.onChangeGroupOrder,onGroupRemoved:this.onGroupRemoved}),g.createElement(_,{double:n.options.doubleHorizontalScroll},g.createElement(y.Droppable,{droppableId:"headers",direction:"horizontal"},function(r,a){return g.createElement("div",{ref:r.innerRef},g.createElement("div",{style:{maxHeight:n.options.maxBodyHeight,overflowY:"auto"}},g.createElement(m.Table,null,n.options.header&&g.createElement(n.components.Header,{localization:(0,s.default)({},t.defaultProps.localization.header,e.props.localization.header),columns:e.state.columns,hasSelection:n.options.selection,headerStyle:n.options.headerStyle,selectedCount:e.state.selectedCount,dataCount:n.parentChildData?e.state.treefiedDataLength:e.state.data.length,hasDetailPanel:!!n.detailPanel,detailPanelColumnAlignment:n.options.detailPanelColumnAlignment,showActionsColumn:n.actions&&n.actions.filter(function(t){return!t.isFreeAction&&!e.props.options.selection}).length>0,showSelectAllCheckbox:n.options.showSelectAllCheckbox,orderBy:e.state.orderBy,orderDirection:e.state.orderDirection,onAllSelected:e.onAllSelected,onOrderChange:e.onChangeOrder,actionsHeaderIndex:n.options.actionsColumnIndex,sorting:n.options.sorting,grouping:n.options.grouping,isTreeData:void 0!==e.props.parentChildData}),g.createElement(n.components.Body,{actions:n.actions,components:n.components,icons:n.icons,renderData:e.state.renderData,currentPage:e.state.currentPage,initialFormData:n.initialFormData,pageSize:e.state.pageSize,columns:e.state.columns,detailPanel:n.detailPanel,options:n.options,getFieldValue:e.dataManager.getFieldValue,isTreeData:void 0!==e.props.parentChildData,onFilterChanged:e.onFilterChange,onRowSelected:e.onRowSelected,onToggleDetailPanel:e.onToggleDetailPanel,onGroupExpandChanged:e.onGroupExpandChanged,onTreeExpandChanged:e.onTreeExpandChanged,onEditingCanceled:e.onEditingCanceled,onEditingApproved:e.onEditingApproved,localization:(0,s.default)({},t.defaultProps.localization.body,e.props.localization.body),onRowClick:e.props.onRowClick,showAddRow:e.state.showAddRow,hasAnyEditingRow:!(!e.state.lastEditingRow&&!e.state.showAddRow),hasDetailPanel:!!n.detailPanel,treeDataMaxLevel:e.state.treeDataMaxLevel}))),r.placeholder)})),(this.state.isLoading||n.isLoading)&&"linear"===n.options.loadingType&&g.createElement("div",{style:{position:"relative",width:"100%"}},g.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%"}},g.createElement(m.LinearProgress,null))),this.renderFooter(),(this.state.isLoading||n.isLoading)&&"overlay"===n.options.loadingType&&g.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:11}},g.createElement(n.components.OverlayLoading,{theme:n.theme}))))}}]),t}(g.Component);t.default=w;var _=function(e){var t=e.double,n=e.children;return t?g.createElement(v.default,null,n):g.createElement("div",{style:{overflowX:"auto"}},n)}},function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={width:"auto"},n.boundCalculateWidth=n.calculateWidth.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.refs.outerDiv,t=this.refs.childrenWrapper;this.calculateWidth(),window.addEventListener("resize",this.boundCalculateWidth),e.onscroll=function(){t.scrollLeft=e.scrollLeft},t.onscroll=function(){e.scrollLeft=t.scrollLeft}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.boundCalculateWidth)}},{key:"componentDidUpdate",value:function(){this.calculateWidth()}},{key:"calculateWidth",value:function(){var e=this.getChildWrapperWidth();null==e&&(e="auto"),e!==this.state.width&&this.setState({width:e})}},{key:"getChildWrapperWidth",value:function(){var e=null;return this.refs.childrenWrapper&&this.refs.childrenWrapper.scrollWidth&&(e=this.refs.childrenWrapper.scrollWidth+"px"),e}},{key:"render",value:function(){var e={paddingTop:"1px",width:this.state.width};return o.default.createElement("div",null,o.default.createElement("div",{ref:"outerDiv",style:{overflowX:"auto",overflowY:"hidden"}},o.default.createElement("div",{ref:"innerDiv",style:e},"\xa0")),o.default.createElement("div",{ref:"childrenWrapper",style:{overflow:"auto",overflowY:"hidden"}},this.props.children))}}]),t}();t.default=s,e.exports=t.default},function(t,n){t.exports=e}])},e.exports=r(n(1))},function(e,t,n){"use strict";var r=n(73);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(111)),i=r(n(66)),o=r(n(57)),s=r(n(58)),u=r(n(38)),c=r(n(116)),l=n(417),d=function(){function e(){var t=this;(0,o.default)(this,e),(0,u.default)(this,"applyFilters",!1),(0,u.default)(this,"applySearch",!1),(0,u.default)(this,"currentPage",0),(0,u.default)(this,"detailPanelType","multiple"),(0,u.default)(this,"lastDetailPanelRow",void 0),(0,u.default)(this,"lastEditingRow",void 0),(0,u.default)(this,"orderBy",-1),(0,u.default)(this,"orderDirection",""),(0,u.default)(this,"pageSize",5),(0,u.default)(this,"paging",!0),(0,u.default)(this,"parentFunc",null),(0,u.default)(this,"searchText",""),(0,u.default)(this,"selectedCount",0),(0,u.default)(this,"treefiedDataLength",0),(0,u.default)(this,"treeDataMaxLevel",0),(0,u.default)(this,"defaultExpanded",!1),(0,u.default)(this,"data",[]),(0,u.default)(this,"columns",[]),(0,u.default)(this,"filteredData",[]),(0,u.default)(this,"searchedData",[]),(0,u.default)(this,"groupedData",[]),(0,u.default)(this,"treefiedData",[]),(0,u.default)(this,"sortedData",[]),(0,u.default)(this,"pagedData",[]),(0,u.default)(this,"renderData",[]),(0,u.default)(this,"filtered",!1),(0,u.default)(this,"searched",!1),(0,u.default)(this,"grouped",!1),(0,u.default)(this,"treefied",!1),(0,u.default)(this,"sorted",!1),(0,u.default)(this,"paged",!1),(0,u.default)(this,"rootGroupsIndex",{}),(0,u.default)(this,"findDataByPath",function(e,n){if(t.isDataType("tree"))return n.reduce(function(e,t){return e&&e.tableData&&e.tableData.childRows&&e.tableData.childRows[t]},{tableData:{childRows:e}});var r={groups:e};return n.reduce(function(e,t){return e.groups.length>0?e.groups[t]:e.data?e.data[t]:void 0},r)}),(0,u.default)(this,"getFieldValue",function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="undefined"!==typeof e[t.field]?e[t.field]:(0,l.byString)(e,t.field);return t.lookup&&n&&(r=t.lookup[r]),r}),(0,u.default)(this,"getRenderState",function(){return!1===t.filtered&&t.filterData(),!1===t.searched&&t.searchData(),!1===t.grouped&&t.isDataType("group")&&t.groupData(),!1===t.treefied&&t.isDataType("tree")&&t.treefyData(),!1===t.sorted&&t.sortData(),!1===t.paged&&t.pageData(),{columns:t.columns,currentPage:t.currentPage,data:t.sortedData,lastEditingRow:t.lastEditingRow,orderBy:t.orderBy,orderDirection:t.orderDirection,originalData:t.data,pageSize:t.pageSize,renderData:t.pagedData,searchText:t.searchText,selectedCount:t.selectedCount,treefiedDataLength:t.treefiedDataLength,treeDataMaxLevel:t.treeDataMaxLevel}}),(0,u.default)(this,"filterData",function(){t.searched=t.grouped=t.treefied=t.sorted=t.paged=!1,t.filteredData=(0,i.default)(t.data),t.applyFilters&&t.columns.filter(function(e){return e.tableData.filterValue}).forEach(function(e){var n=e.lookup,r=e.type,a=e.tableData;e.customFilterAndSearch?t.filteredData=t.filteredData.filter(function(t){return!!e.customFilterAndSearch(a.filterValue,t,e)}):n?t.filteredData=t.filteredData.filter(function(n){var r=t.getFieldValue(n,e,!1);return!a.filterValue||0===a.filterValue.length||a.filterValue.indexOf(void 0!==r&&r.toString())>-1}):"numeric"===r?t.filteredData=t.filteredData.filter(function(n){return t.getFieldValue(n,e)+""===a.filterValue}):"boolean"===r&&a.filterValue?t.filteredData=t.filteredData.filter(function(n){var r=t.getFieldValue(n,e);return r&&"checked"===a.filterValue||!r&&"unchecked"===a.filterValue}):["date","datetime"].includes(r)?t.filteredData=t.filteredData.filter(function(n){var i=t.getFieldValue(n,e),o=i?new Date(i):null;if(o&&"Invalid Date"!==o.toString()){var s=a.filterValue,u="",l="";return"date"===r?(u=(0,c.default)(o,"MM/dd/yyyy"),l=(0,c.default)(s,"MM/dd/yyyy")):"datetime"===r&&(u=(0,c.default)(o,"MM/dd/yyyy - HH:mm"),l=(0,c.default)(s,"MM/dd/yyyy - HH:mm")),u===l}return!0}):t.filteredData="time"===r?t.filteredData.filter(function(n){var r=t.getFieldValue(n,e)||null;if(r){var i=a.filterValue;return r===(0,c.default)(i,"HH:mm")}return!0}):t.filteredData.filter(function(n){var r=t.getFieldValue(n,e);return r&&r.toString().toUpperCase().includes(a.filterValue.toUpperCase())})}),t.filtered=!0}),(0,u.default)(this,"searchData",function(){t.grouped=t.treefied=t.sorted=t.paged=!1,t.searchedData=(0,i.default)(t.filteredData),t.searchText&&t.applySearch&&(t.searchedData=t.searchedData.filter(function(e){return t.columns.filter(function(e){return void 0===e.searchable?!e.hidden:e.searchable}).some(function(n){if(n.customFilterAndSearch)return!!n.customFilterAndSearch(t.searchText,e,n);if(n.field){var r=t.getFieldValue(e,n);if(r)return r.toString().toUpperCase().includes(t.searchText.toUpperCase())}})})),t.searched=!0})}return(0,s.default)(e,[{key:"setData",value:function(e){var t=this;this.selectedCount=0,this.data=e.map(function(e,n){return e.tableData=(0,a.default)({},e.tableData,{id:n}),e.tableData.checked&&t.selectedCount++,e}),this.filtered=!1}},{key:"setColumns",value:function(e){this.columns=e.map(function(e,t){return e.tableData=(0,a.default)({columnOrder:t,filterValue:e.defaultFilter,groupOrder:e.defaultGroupOrder,groupSort:e.defaultGroupSort||"asc"},e.tableData,{id:t}),e})}},{key:"setDefaultExpanded",value:function(e){this.defaultExpanded=e}},{key:"changeApplySearch",value:function(e){this.applySearch=e,this.searched=!1}},{key:"changeApplyFilters",value:function(e){this.applyFilters=e,this.filtered=!1}},{key:"changePaging",value:function(e){this.paging=e,this.paged=!1}},{key:"changeCurrentPage",value:function(e){this.currentPage=e,this.paged=!1}},{key:"changePageSize",value:function(e){this.pageSize=e,this.paged=!1}},{key:"changeParentFunc",value:function(e){this.parentFunc=e}},{key:"changeFilterValue",value:function(e,t){this.columns[e].tableData.filterValue=t,this.filtered=!1}},{key:"changeRowSelected",value:function(e,t){var n=this,r=this.findDataByPath(this.sortedData,t);r.tableData.checked=e,this.selectedCount=this.selectedCount+(e?1:-1);!function t(r){r.tableData.childRows&&r.tableData.childRows.forEach(function(r){r.tableData.checked=e,n.selectedCount=n.selectedCount+(e?1:-1),t(r)})}(r),this.filtered=!1}},{key:"changeDetailPanelVisibility",value:function(e,t){var n=this.findDataByPath(this.sortedData,e);(n.tableData.showDetailPanel||"").toString()===t.toString()?n.tableData.showDetailPanel=void 0:n.tableData.showDetailPanel=t,"single"===this.detailPanelType&&this.lastDetailPanelRow&&this.lastDetailPanelRow!=n&&(this.lastDetailPanelRow.tableData.showDetailPanel=void 0),this.lastDetailPanelRow=n}},{key:"changeGroupExpand",value:function(e){var t=this.findDataByPath(this.sortedData,e);t.isExpanded=!t.isExpanded}},{key:"changeSearchText",value:function(e){this.searchText=e,this.searched=!1}},{key:"changeRowEditing",value:function(e,t){e?(e.tableData.editing=t,this.lastEditingRow&&this.lastEditingRow!=e&&(this.lastEditingRow.tableData.editing=void 0),this.lastEditingRow=t?e:void 0):this.lastEditingRow&&(this.lastEditingRow.tableData.editing=void 0,this.lastEditingRow=void 0)}},{key:"changeAllSelected",value:function(e){var t=0;if(this.isDataType("group")){!function n(r){r.forEach(function(r){r.groups.length>0?n(r.groups):r.data.forEach(function(n){n.tableData.checked=e,t++})})}(this.groupedData)}else this.searchedData.map(function(t){return t.tableData.checked=e,t}),t=this.searchedData.length;this.selectedCount=e?t:0}},{key:"changeOrder",value:function(e,t){this.orderBy=e,this.orderDirection=t,this.currentPage=0,this.sorted=!1}},{key:"changeGroupOrder",value:function(e){var t=this.columns.find(function(t){return t.tableData.id===e});"asc"===t.tableData.groupSort?t.tableData.groupSort="desc":t.tableData.groupSort="asc",this.sorted=!1}},{key:"changeColumnHidden",value:function(e,t){this.columns.find(function(t){return t.tableData.id===e}).hidden=t}},{key:"changeTreeExpand",value:function(e){var t=this.findDataByPath(this.sortedData,e);t.tableData.isTreeExpanded=!t.tableData.isTreeExpanded}},{key:"changeDetailPanelType",value:function(e){this.detailPanelType=e}},{key:"changeByDrag",value:function(e){var t=0,n=this.columns.filter(function(e){return e.tableData.groupOrder>-1}).sort(function(e,t){return e.tableData.groupOrder-t.tableData.groupOrder});if("groups"===e.destination.droppableId&&"groups"===e.source.droppableId){t=Math.min(e.destination.index,e.source.index);var r=Math.max(e.destination.index,e.source.index);if(n=n.slice(t,r+1),e.destination.index<e.source.index){var a=n.pop();n.unshift(a)}else{var i=n.shift();n.push(i)}}else if("groups"===e.destination.droppableId&&"headers"===e.source.droppableId){var o=this.columns.find(function(t){return t.tableData.id==e.draggableId});if(!1===o.grouping||!o.field)return;n.splice(e.destination.index,0,o)}else{if("headers"!==e.destination.droppableId||"groups"!==e.source.droppableId){if("headers"===e.destination.droppableId&&"headers"===e.source.droppableId){t=Math.min(e.destination.index,e.source.index);var s=Math.max(e.destination.index,e.source.index),u=this.columns.sort(function(e,t){return e.tableData.columnOrder-t.tableData.columnOrder}).filter(function(e){return void 0===e.tableData.groupOrder}).slice(t,s+1);if(e.destination.index<e.source.index){var c=u.pop();u.unshift(c)}else{var l=u.shift();u.push(l)}for(var d=0;d<u.length;d++)u[d].tableData.columnOrder=t+d;return}return}this.columns.find(function(t){return t.tableData.id==e.draggableId}).tableData.groupOrder=void 0,n.splice(e.source.index,1)}for(var p=0;p<n.length;p++)n[p].tableData.groupOrder=t+p;this.sorted=this.grouped=!1}},{key:"findGroupByGroupPath",value:function(e,t){var n={groups:e,groupsIndex:this.rootGroupsIndex};return t.reduce(function(e,t){if(e)return void 0!==e.groupsIndex[t]?e.groups[e.groupsIndex[t]]:void 0},n)}},{key:"isDataType",value:function(e){var t="normal";return this.parentFunc?t="tree":this.columns.find(function(e){return e.tableData.groupOrder>-1})&&(t="group"),e===t}},{key:"sort",value:function(e,t,n){if("numeric"===n)return e-t;if(e!==t){if(!e)return-1;if(!t)return 1}return e<t?-1:e>t?1:0}},{key:"sortList",value:function(e){var t=this,n=this.columns.find(function(e){return e.tableData.id===t.orderBy});return n.customSort?"desc"===this.orderDirection?e.sort(function(e,t){return n.customSort(t,e,"row")}):e.sort(function(e,t){return n.customSort(e,t,"row")}):e.sort("desc"===this.orderDirection?function(e,r){return t.sort(t.getFieldValue(r,n),t.getFieldValue(e,n),n.type)}:function(e,r){return t.sort(t.getFieldValue(e,n),t.getFieldValue(r,n),n.type)})}},{key:"groupData",value:function(){var e=this;this.sorted=this.paged=!1;var t=(0,i.default)(this.searchedData),n=this.columns.filter(function(e){return e.tableData.groupOrder>-1}).sort(function(e,t){return e.tableData.groupOrder-t.tableData.groupOrder}),r=t.reduce(function(t,r){var a=t;return(a=n.reduce(function(t,n){var a,o=r[n.field]||(0,l.byString)(r,n.field);if(void 0!==t.groupsIndex[o]&&(a=t.groups[t.groupsIndex[o]]),!a){var s=[].concat((0,i.default)(t.path||[]),[o]);a={value:o,groups:[],groupsIndex:{},data:[],isExpanded:(e.findGroupByGroupPath(e.groupedData,s)||{isExpanded:!!e.defaultExpanded}).isExpanded,path:s},t.groups.push(a),t.groupsIndex[o]=t.groups.length-1}return a},a)).data.push(r),t},{groups:[],groupsIndex:{}});this.groupedData=r.groups,this.grouped=!0,this.rootGroupsIndex=r.groupsIndex}},{key:"treefyData",value:function(){var e=this;this.sorted=this.paged=!1,this.data.forEach(function(e){return e.tableData.childRows=null}),this.treefiedData=[],this.treefiedDataLength=0,this.treeDataMaxLevel=0;this.searchedData.forEach(function(t){!function t(n){var r=e.parentFunc(n,e.data);if(r){r.tableData.childRows=r.tableData.childRows||[];var a=r.tableData.path&&e.findDataByPath(e.treefiedData,r.tableData.path),o=a&&void 0!==a.tableData.isTreeExpanded;r.tableData.isTreeExpanded=o?a.tableData.isTreeExpanded:!!e.defaultExpanded,r.tableData.childRows.includes(n)||(r.tableData.childRows.push(n),e.treefiedDataLength++),t(r),n.tableData.path=[].concat((0,i.default)(r.tableData.path),[r.tableData.childRows.length-1]),e.treeDataMaxLevel=Math.max(e.treeDataMaxLevel,n.tableData.path.length)}else e.treefiedData.includes(n)||(e.treefiedData.push(n),e.treefiedDataLength++,n.tableData.path=[e.treefiedData.length-1])}(t)}),this.treefied=!0}},{key:"sortData",value:function(){var e=this;if(this.paged=!1,this.isDataType("group")){this.sortedData=(0,i.default)(this.groupedData);var t=this.columns.filter(function(e){return e.tableData.groupOrder>-1}).sort(function(e,t){return e.tableData.groupOrder-t.tableData.groupOrder}),n=function(t,n){return n.customSort?t.sort("desc"===n.tableData.groupSort?function(e,t){return n.customSort(t.value,e.value,"group")}:function(e,t){return n.customSort(e.value,t.value,"group")}):t.sort("desc"===n.tableData.groupSort?function(t,r){return e.sort(r.value,t.value,n.type)}:function(t,r){return e.sort(t.value,r.value,n.type)})};this.sortedData=n(this.sortedData,t[0]);!function r(a,i){a.forEach(function(a){if(a.groups.length>0){var o=t[i];a.groups=n(a.groups,o),r(a.groups,i+1)}else e.orderBy>=0&&e.orderDirection&&(a.data=e.sortList(a.data))})}(this.sortedData,1)}else if(this.isDataType("tree")){if(this.sortedData=(0,i.default)(this.treefiedData),-1!=this.orderBy){this.sortedData=this.sortList(this.sortedData);!function t(n){n.forEach(function(n){n.tableData.childRows&&(n.tableData.childRows=e.sortList(n.tableData.childRows),t(n.tableData.childRows))})}(this.sortedData)}}else this.isDataType("normal")&&(this.sortedData=(0,i.default)(this.searchedData),-1!=this.orderBy&&(this.sortedData=this.sortList(this.sortedData)));this.sorted=!0}},{key:"pageData",value:function(){if(this.pagedData=(0,i.default)(this.sortedData),this.paging){var e=this.currentPage*this.pageSize,t=e+this.pageSize;this.pagedData=this.pagedData.slice(e,t)}this.paged=!0}}]),e}();t.default=d},,function(e,t,n){"use strict";var r=n(629);window.Suggestions=e.exports=r},function(e,t,n){"use strict";var r=n(151),a=n(630),i=n(631),o=function(e,t,n){return n=n||{},this.options=r({minLength:2,limit:5,filter:!0},n),this.el=e,this.data=t||[],this.list=new i(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(e){this.handleKeyUp(e.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(e){this.handleKeyDown(e)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(e){this.handlePaste(e)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};o.prototype.handleKeyUp=function(e){40!==e&&38!==e&&27!==e&&13!==e&&9!==e&&this.handleInputChange(this.el.value)},o.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},o.prototype.handleBlur=function(){this.list.selectingListItem||this.list.hide()},o.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}},o.prototype.handleInputChange=function(e){this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}.bind(this))},o.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},o.prototype.update=function(e){this.data=e,this.handleKeyUp()},o.prototype.clear=function(){this.data=[],this.list.clear()},o.prototype.normalize=function(e){return e=e.toLowerCase()},o.prototype.match=function(e,t){return e.indexOf(t)>-1},o.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")},o.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(e){return this.getItemValue(e)}.bind(this)};e(this.options.filter?a.filter(this.query,this.data,t).map(function(e){return{original:e.original,string:this.render(e.original,e.string)}}.bind(this)):this.data.map(function(e){return{original:e,string:this.render(e)}}.bind(this)))},o.prototype.getItemValue=function(e){return e},o.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(n),a=r.lastIndexOf(this.query);a>-1;){var i=a+this.query.length;n=n.slice(0,a)+"<strong>"+n.slice(a,i)+"</strong>"+n.slice(i),a=r.slice(0,a).lastIndexOf(this.query)}return n},o.prototype.renderError=function(e){this.list.drawError(e)},e.exports=o},function(e,t,n){!function(){var t={};e.exports=t,t.simpleFilter=function(e,n){return n.filter(function(n){return t.test(e,n)})},t.test=function(e,n){return null!==t.match(e,n)},t.match=function(e,t,n){n=n||{};var r,a=0,i=[],o=t.length,s=0,u=0,c=n.pre||"",l=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var p=0;p<o;p++)r=t[p],d[p]===e[a]?(r=c+r+l,a+=1,u+=1+u):u=0,s+=u,i[i.length]=r;return a===e.length?(s=d===e?1/0:s,{rendered:i.join(""),score:s}):null},t.filter=function(e,n,r){return n&&0!==n.length?"string"!==typeof e?n:(r=r||{},n.reduce(function(n,a,i,o){var s=a;r.extract&&(s=r.extract(a));var u=t.match(e,s,r);return null!=u&&(n[n.length]={string:u.rendered,score:u.score,index:i,original:a}),n},[]).sort(function(e,t){var n=t.score-e.score;return n||e.index-t.index})):[]}}()},function(e,t){var n=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};n.prototype.show=function(){this.element.style.display="block"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.add=function(e){this.items.push(e)},n.prototype.clear=function(){this.items=[],this.active=0},n.prototype.isEmpty=function(){return!this.items.length},n.prototype.isVisible=function(){return"block"===this.element.style.display},n.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()}else this.hide()},n.prototype.drawItem=function(e,t){var n=document.createElement("li"),r=document.createElement("a");t&&(n.className+=" active"),r.innerHTML=e.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))},n.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},n.prototype.move=function(e){this.active=e,this.draw()},n.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},n.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},n.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()},e.exports=n},function(e,t,n){(function(t){var n="Expected a function",r=NaN,a="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,p=l||d||Function("return this")(),h=Object.prototype.toString,f=Math.max,m=Math.min,v=function(){return p.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function A(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==a}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,r){var a,i,o,s,u,c,l=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError(n);function y(t){var n=a,r=i;return a=i=void 0,l=t,s=e.apply(r,n)}function b(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-l>=o}function x(){var e=v();if(b(e))return w(e);u=setTimeout(x,function(e){var n=t-(e-c);return p?m(n,o-(e-l)):n}(e))}function w(e){return u=void 0,h&&a?y(e):(a=i=void 0,s)}function _(){var e=v(),n=b(e);if(a=arguments,i=this,c=e,n){if(void 0===u)return function(e){return l=e,u=setTimeout(x,t),d?y(e):s}(c);if(p)return u=setTimeout(x,t),y(c)}return void 0===u&&(u=setTimeout(x,t)),s}return t=A(t)||0,g(r)&&(d=!!r.leading,o=(p="maxWait"in r)?f(A(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h),_.cancel=function(){void 0!==u&&clearTimeout(u),l=0,a=c=i=u=void 0},_.flush=function(){return void 0===u?s:w(v())},_}}).call(this,n(91))},function(e,t){e.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},function(e,t,n){"use strict";var r=n(419);e.exports=r},function(e,t,n){"use strict";var r=n(636),a=n(638),i=n(261),o=n(639),s={};function u(e){var t=e.total,n=e.loaded;return{total:t,transferred:n,percent:100*n/t}}function c(e,t){return new Promise(function(n,r){t.onprogress=function(t){e.emitter.emit(i.EVENT_PROGRESS_DOWNLOAD,u(t))};var o=e.file;o&&(t.upload.onprogress=function(t){e.emitter.emit(i.EVENT_PROGRESS_UPLOAD,u(t))}),t.onerror=function(e){r(e)},t.onabort=function(){var t=new a({request:e,type:i.ERROR_REQUEST_ABORTED});r(t)},t.onload=function(){if(delete s[e.id],t.status<200||t.status>=400){var i=new a({request:e,body:t.response,statusCode:t.status});r(i)}else n(t)};var c=e.body;"string"===typeof c?t.send(c):c?t.send(JSON.stringify(c)):o?t.send(o):t.send(),s[e.id]=t}).then(function(t){return function(e,t){return new r(e,{body:t.response,headers:o(t.getAllResponseHeaders()),statusCode:t.status})}(e,t)})}function l(e,t){var n=e.url(t),r=new window.XMLHttpRequest;return r.open(e.method,n),Object.keys(e.headers).forEach(function(t){r.setRequestHeader(t,e.headers[t])}),r}e.exports={browserAbort:function(e){var t=s[e.id];t&&(t.abort(),delete s[e.id])},sendRequestXhr:c,browserSend:function(e){return Promise.resolve().then(function(){var t=l(e,e.client.accessToken);return c(e,t)})},createRequestXhr:l}},function(e,t,n){"use strict";var r=n(637);function a(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch(n){this.body=t.body}this.links=r(this.headers.link)}a.prototype.hasNextPage=function(){return!!this.links.next},a.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){return e?e.split(/,\s*</).reduce(function(e,t){var n=function(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var n=t[1],r=t[2].split(";"),a=null,i=r.reduce(function(e,t){var n=function(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}(t);return n?"rel"===n.key?(a||(a=n.value),e):(e[n.key]=n.value,e):e},{});return a?{url:n,rel:a,params:i}:null}(t);return n?(n.rel.split(/\s+/).forEach(function(t){e[t]||(e[t]={url:n.url,params:n.params})}),e):e},{}):{}}},function(e,t,n){"use strict";var r=n(261);e.exports=function(e){var t,n=e.type||r.ERROR_HTTP;if(e.body)try{t=JSON.parse(e.body)}catch(i){t=e.body}else t=null;var a=e.message||null;a||("string"===typeof t?a=t:t&&"string"===typeof t.message?a=t.message:n===r.ERROR_REQUEST_ABORTED&&(a="Request aborted")),this.message=a,this.type=n,this.statusCode=e.statusCode||null,this.request=e.request,this.body=t}},function(e,t,n){"use strict";e.exports=function(e){var t={};return e?(e.trim().split(/[\r|\n]+/).forEach(function(e){var n=function(e){var t=e.indexOf(":");return{name:e.substring(0,t).trim().toLowerCase(),value:e.substring(t+1).trim()}}(e);t[n.name]=n.value}),t):t}},function(e,t,n){(function(e,r){var a;!function(i){var o=t,s=(e&&e.exports,"object"==typeof r&&r);s.global!==s&&s.window;var u=function(e){this.message=e};(u.prototype=new Error).name="InvalidCharacterError";var c=function(e){throw new u(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=/[\t\n\f\r ]/g,p={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,a,i=e.length%3,o="",s=-1,u=e.length-i;++s<u;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,r=e.charCodeAt(++s),o+=l.charAt((a=t+n+r)>>18&63)+l.charAt(a>>12&63)+l.charAt(a>>6&63)+l.charAt(63&a);return 2==i?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),o+=l.charAt((a=t+n)>>10)+l.charAt(a>>4&63)+l.charAt(a<<2&63)+"="):1==i&&(a=e.charCodeAt(s),o+=l.charAt(a>>2)+l.charAt(a<<4&63)+"=="),o},decode:function(e){var t=(e=String(e).replace(d,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,a=0,i="",o=-1;++o<t;)r=l.indexOf(e.charAt(o)),n=a%4?64*n+r:r,a++%4&&(i+=String.fromCharCode(255&n>>(-2*a&6)));return i},version:"0.1.0"};void 0===(a=function(){return p}.call(t,n,t,e))||(e.exports=a)}()}).call(this,n(152)(e),n(91))},function(e,t,n){"use strict";var r=n(421),a=n(151),i=n(642),o=n(643),s=n(261),u=1;function c(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};t.body&&(n["content-type"]="application/json");var r=a(n,t.headers),o=Object.keys(r).reduce(function(e,t){return e[t.toLowerCase()]=r[t],e},{});this.id=u++,this._options=t,this.emitter=new i,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.headers=o}c.prototype.url=function(e){var t=o.prependOrigin(this.path,this.origin);t=o.appendQueryObject(t,this.query);var n=this.params;if(e){t=o.appendQueryParam(t,"access_token",e);var i=r(e).user;n=a({ownerId:i},n)}return t=o.interpolateRouteParams(t,n),t},c.prototype.send=function(){var e=this;if(e.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return e.sent=!0,e.client.sendRequest(e).then(function(t){return e.response=t,e.emitter.emit(s.EVENT_RESPONSE,t),t},function(t){throw e.error=t,e.emitter.emit(s.EVENT_ERROR,t),t})},c.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},c.prototype.eachPage=function(e){var t=this;function n(n){e(null,n,function(){delete t._nextPageRequest;var e=n.nextPage();e&&(t._nextPageRequest=e,a(e))})}function r(t){e(t,null,function(){})}function a(e){e.send().then(n,r)}a(this)},c.prototype.clone=function(){return this._extend()},c.prototype._extend=function(e){var t=a(this._options,e);return new c(this.client,t)},e.exports=c},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,a="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,i){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,i),u=a?a+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(a=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=a?a+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o},c.prototype.listenerCount=function(e){var t=a?a+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,i,o){var s=a?a+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,o),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return u(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||u(this,i);else{for(var s=0,c=[],l=o.length;s<l;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[i]=1===c.length?c[0]:c:u(this,i)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&u(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=a,c.EventEmitter=c,e.exports=c},function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.map(encodeURIComponent).join(","):encodeURIComponent(String(e))}function a(e,t,n){if(!1===n||null===n)return e;var a=/\?/.test(e)?"&":"?",i=encodeURIComponent(t);return void 0!==n&&""!==n&&!0!==n&&(i+="="+r(n)),""+e+a+i}e.exports={appendQueryObject:function(e,t){if(!t)return e;var n=e;return Object.keys(t).forEach(function(e){var r=t[e];void 0!==r&&(Array.isArray(r)&&(r=r.filter(function(e){return!!e}).join(",")),n=a(n,e,r))}),n},appendQueryParam:a,prependOrigin:function(e,t){if(!t)return e;if("http"===e.slice(0,4))return e;var n="/"===e[0]?"":"/";return""+t.replace(/\/$/,"")+n+e},interpolateRouteParams:function(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(e,n){var a=t[n];if(void 0===a)throw new Error("Unspecified route parameter "+n);return"/"+r(a)}):e}}},function(e,t,n){"use strict";var r=n(151),a=n(645),i=n(648),o=n(649),s=n(651),u={},c=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];u.forwardGeocode=function(e){a.assertShape({query:a.required(a.string),mode:a.oneOf("mapbox.places","mapbox.places-permanent"),countries:a.arrayOf(a.string),proximity:a.coordinates,types:a.arrayOf(a.oneOf(c)),autocomplete:a.boolean,bbox:a.arrayOf(a.number),limit:a.number,language:a.arrayOf(a.string)})(e),e.mode=e.mode||"mapbox.places";var t=o(r({country:e.countries},i(e,["proximity","types","autocomplete","bbox","limit","language"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:i(e,["mode","query"]),query:t})},u.reverseGeocode=function(e){a.assertShape({query:a.required(a.coordinates),mode:a.oneOf("mapbox.places","mapbox.places-permanent"),countries:a.arrayOf(a.string),types:a.arrayOf(a.oneOf(c)),bbox:a.arrayOf(a.number),limit:a.number,language:a.arrayOf(a.string),reverseMode:a.oneOf("distance","score")})(e),e.mode=e.mode||"mapbox.places";var t=o(r({country:e.countries},i(e,["country","types","bbox","limit","language","reverseMode"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:i(e,["mode","query"]),query:t})},e.exports=s(u)},function(e,t,n){"use strict";(function(t){var r=n(151),a=n(646);e.exports=r(a,{file:function(e){if("undefined"!==typeof window){if(e instanceof t.Blob||e instanceof t.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!==typeof e&&void 0===e.pipe)return"Filename or Readable stream"},date:function(e){if("boolean"===typeof e)return"date";try{var t=new Date(e);if(t.getTime&&isNaN(t.getTime()))return"date"}catch(n){return"date"}},coordinates:function(e){return a.tuple(a.number,a.number)(e)},assertShape:function(e,t){return a.assert(a.strictShape(e),t)}})}).call(this,n(91))},function(e,t,n){"use strict";var r=n(647),a=n(151),i="value",o={};function s(e){var t=Array.isArray(e);return function(n){var r,a=u(o.plainArray,n);if(a)return a;if(t&&n.length!==e.length)return"an array with "+e.length+" items";for(var i=0;i<n.length;i++)if(a=u((r=i,t?e[r]:e),n[i]))return[i].concat(a)}}function u(e,t){if(null!=t||e.hasOwnProperty("__required")){var n=e(t);return n?Array.isArray(n)?n:[n]:void 0}}function c(e,t){var n=e.length,r=e[n-1],o=e.slice(0,n-1);return 0===o.length&&(o=[i]),t=a(t,{path:o}),"function"===typeof r?r(t):l(t,function(e){return"must be "+function(e){if(/^an? /.test(e))return e;if(/^[aeiou]/i.test(e))return"an "+e;if(/^[a-z]/i.test(e))return"a "+e;return e}(e)+"."}(r))}function l(e,t){return(d(e.path)?"Item at position ":"")+(e.path.join(".")+" "+t)}function d(e){return"number"==typeof e[e.length-1]||"number"==typeof e[0]}o.assert=function(e,t){return t=t||{},function(n){var r=u(e,n);if(r){var a=c(r,t);throw t.apiName&&(a=t.apiName+": "+a),new Error(a)}}},o.shape=function(e){var t,n=(t=e,Object.keys(t||{}).map(function(e){return{key:e,value:t[e]}}));return function(e){var t,r=u(o.plainObject,e);if(r)return r;for(var a=[],s=0;s<n.length;s++)t=n[s].key,(r=u(n[s].value,e[t]))&&a.push([t].concat(r));return a.length<2?a[0]:function(e){a=a.map(function(t){return"- "+t[0]+": "+c(t,e).split("\n").join("\n  ")});var t=e.path.join(".");return"The following properties"+(t===i?"":" of "+t)+" have invalid values:\n  "+a.join("\n  ")}}},o.strictShape=function(e){var t=o.shape(e);return function(n){var r=t(n);if(r)return r;var a=Object.keys(n).reduce(function(t,n){return void 0===e[n]&&t.push(n),t},[]);return 0!==a.length?function(){return"The following keys are invalid: "+a.join(", ")}:void 0}},o.arrayOf=function(e){return s(e)},o.tuple=function(){return s(Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments))},o.required=function(e){function t(t){return null==t?function(e){return l(e,d(e.path)?"cannot be undefined/null.":"is required.")}:e.apply(this,arguments)}return t.__required=!0,t},o.oneOfType=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(t){var n=e.map(function(e){return u(e,t)}).filter(Boolean);if(n.length===e.length)return n.every(function(e){return 1===e.length&&"string"===typeof e[0]})?function(e){if(e.length<2)return e[0];if(2===e.length)return e.join(" or ");return e.slice(0,-1).join(", ")+", or "+e.slice(-1)}(n.map(function(e){return e[0]})):n.reduce(function(e,t){return t.length>e.length?t:e})}},o.equal=function(e){return function(t){if(t!==e)return JSON.stringify(e)}},o.oneOf=function(){var e=(Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments)).map(function(e){return o.equal(e)});return o.oneOfType.apply(this,e)},o.range=function(e){var t=e[0],n=e[1];return function(e){if(u(o.number,e)||e<t||e>n)return"number between "+t+" & "+n+" (inclusive)"}},o.any=function(){},o.boolean=function(e){if("boolean"!==typeof e)return"boolean"},o.number=function(e){if("number"!==typeof e)return"number"},o.plainArray=function(e){if(!Array.isArray(e))return"array"},o.plainObject=function(e){if(!r(e))return"object"},o.string=function(e){if("string"!==typeof e)return"string"},o.func=function(e){if("function"!==typeof e)return"function"},o.validate=u,o.processMessage=c,e.exports=o},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},function(e,t,n){"use strict";e.exports=function(e,t){var n=function(e,n){return-1!==t.indexOf(e)&&void 0!==n};return"function"===typeof t&&(n=t),Object.keys(e).filter(function(t){return n(t,e[t])}).reduce(function(t,n){return t[n]=e[n],t},{})}},function(e,t,n){"use strict";var r=n(650);e.exports=function(e){return r(e,function(e,t){return"boolean"===typeof t?JSON.stringify(t):t})}},function(e,t,n){"use strict";e.exports=function(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=t(r,e[r]),n},{})}},function(e,t,n){"use strict";var r=n(420),a=n(419);e.exports=function(e){return function(t){var n;n=r.prototype.isPrototypeOf(t)?t:a(t);var i=Object.create(e);return i.client=n,i}}},function(e,t,n){"use strict";var r=n(653);function a(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}a.prototype={select:function(e,t){var n=this.getSelectedIndex(e,t),r=this.getEventPayload("search.select",t);if(r.resultIndex=n,r.resultPlaceName=e.place_name,r.resultId=e.id,(n!==this.lastSentIndex||r.queryString!==this.lastSentInput)&&-1!=n&&(this.lastSentIndex=n,this.lastSentInput=r.queryString,r.queryString))return this.push(r)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!e.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(e.keyCode)){var n=this.getEventPayload("search.keystroke",t);if(n.lastAction=e.key,n.queryString)return this.push(n)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var n=this.getRequestOptions(e);this.request(n,function(e){return e?this.handleError(e,t):t?t():void 0}.bind(this))},getRequestOptions:function(e){return Array.isArray(e)||(e=[e]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},getEventPayload:function(e,t){var n;n=t.options.proximity?[t.options.proximity.longitude,t.options.proximity.latitude]:null;var r=t._map?t._map.getZoom():null,a={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",proximity:n,limit:t.options.limit,mapZoom:r,keyboardLocale:this.locale};return"search.select"===e?a.queryString=t.inputString:"search.select"!=e&&t._inputEl?a.queryString=t._inputEl.value:a.queryString=t.inputString,a},request:function(e,t){var n=new XMLHttpRequest;for(var r in n.onreadystatechange=function(){if(4==this.readyState)return 204==this.status?t(null):t(this.statusText)},n.open(e.method,e.host+"/"+e.path,!0),e.headers){var a=e.headers[r];n.setRequestHeader(r,a)}n.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return r()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var n=t._typeahead.data,r=e.id;return n.map(function(e){return e.id}).indexOf(r)}},shouldEnableLogging:function(e){return!1!==e.enableEventLogging&&((!e.origin||-1!=e.origin.indexOf("api.mapbox.com"))&&(!e.localGeocoder&&!e.filter))},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}},e.exports=a},function(e,t,n){var r=self.crypto||self.msCrypto;e.exports=function(e){e=e||21;for(var t="",n=r.getRandomValues(new Uint8Array(e));0<e--;)t+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&n[e]];return t}},function(e,t,n){"use strict";e.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"\u05dc\u05d7\u05e4\u05e9",ja:"\u30b5\u30fc\u30c1",lv:"Mekl\u0113t",pt:"Procurar",sr:"\u041f\u0440\u0435\u0442\u0440\u0430\u0433\u0430",zh:"\u641c\u7d22",cs:"Vyhled\xe1v\xe1n\xed",hu:"Keres\xe9s",ka:"\u10eb\u10d8\u10d4\u10d1\u10d0",nb:"S\xf8ke",sk:"Vyh\u013ead\xe1vanie",th:"\u0e04\u0e49\u0e19\u0e2b\u0e32",fi:"Hae",is:"Leita",ko:"\uc218\uc0c9",pl:"Szukaj",sl:"Iskanje"}}},function(e,t,n){var r,a;r=this,a=function(){var e="",t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function n(e){return e.match(t)||[]}function r(t){return{language:(t=n(t))[1]||e,extlang:t[2]||e,script:t[3]||e,region:t[4]||e}}function a(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!0})}function i(t,i,o){function s(r){return n(r)[t]||e}a(s,"pattern",i),a(r,o,s)}return i(1,/^[a-zA-Z]{2,3}$/,"language"),i(2,/^[a-zA-Z]{3}$/,"extlang"),i(3,/^[a-zA-Z]{4}$/,"script"),i(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),a(r,"split",function(e){return n(e).filter(function(e,t){return e&&t})}),r},e.exports?e.exports=a():r.subtag=a()},function(e,t,n){var r=n(657),a=n(669),i=n(673),o=n(68),s=n(151);e.exports=function(e){var t=null,n=null,u={onRemove:function(){return e.map.off("load",u.connect),clearInterval(n),u.removeLayers(),e.store.restoreMapConfig(),e.ui.removeButtons(),e.events.removeEventListeners(),e.ui.clearMapClasses(),e.map=null,e.container=null,e.store=null,t&&t.parentNode&&t.parentNode.removeChild(t),t=null,this},connect:function(){e.map.off("load",u.connect),clearInterval(n),u.addLayers(),e.store.storeMapConfig(),e.events.addEventListeners()},onAdd:function(o){var c=o.fire;return o.fire=function(e,t){var n=arguments;return 1===c.length&&1!==arguments.length&&(n=[s({},{type:e},t)]),c.apply(o,n)},e.map=o,e.events=r(e),e.ui=i(e),e.container=o.getContainer(),e.store=new a(e),t=e.ui.addButtons(),e.options.boxSelect&&(o.boxZoom.disable(),o.dragPan.disable(),o.dragPan.enable()),o.loaded()?u.connect():(o.on("load",u.connect),n=setInterval(function(){o.loaded()&&u.connect()},16)),e.events.start(),t},addLayers:function(){e.map.addSource(o.sources.COLD,{data:{type:o.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),e.map.addSource(o.sources.HOT,{data:{type:o.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),e.options.styles.forEach(function(t){e.map.addLayer(t)}),e.store.setDirty(!0),e.store.render()},removeLayers:function(){e.options.styles.forEach(function(t){e.map.getLayer(t.id)&&e.map.removeLayer(t.id)}),e.map.getSource(o.sources.COLD)&&e.map.removeSource(o.sources.COLD),e.map.getSource(o.sources.HOT)&&e.map.removeSource(o.sources.HOT)}};return e.setup=u,u}},function(e,t,n){var r=n(658),a=n(659),i=n(262),o=n(664),s=n(665),u=n(68),c=n(666);e.exports=function(e){var t=Object.keys(e.options.modes).reduce(function(t,n){return t[n]=c(e.options.modes[n]),t},{}),n={},l={},d={},p=null,h=null;d.drag=function(t,n){n({point:t.point,time:(new Date).getTime()})?(e.ui.queueMapClasses({mouse:u.cursors.DRAG}),h.drag(t)):t.originalEvent.stopPropagation()},d.mousedrag=function(e){d.drag(e,function(e){return!o(n,e)})},d.touchdrag=function(e){d.drag(e,function(e){return!s(l,e)})},d.mousemove=function(t){if(1===(void 0!==t.originalEvent.buttons?t.originalEvent.buttons:t.originalEvent.which))return d.mousedrag(t);var n=a(t,e);t.featureTarget=n,h.mousemove(t)},d.mousedown=function(t){n={time:(new Date).getTime(),point:t.point};var r=a(t,e);t.featureTarget=r,h.mousedown(t)},d.mouseup=function(t){var r=a(t,e);t.featureTarget=r,o(n,{point:t.point,time:(new Date).getTime()})?h.click(t):h.mouseup(t)},d.mouseout=function(e){h.mouseout(e)},d.touchstart=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled){l={time:(new Date).getTime(),point:t.point};var n=i.touch(t,null,e)[0];t.featureTarget=n,h.touchstart(t)}},d.touchmove=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled)return h.touchmove(t),d.touchdrag(t)},d.touchend=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled){var n=i.touch(t,null,e)[0];t.featureTarget=n,s(l,{time:(new Date).getTime(),point:t.point})?h.tap(t):h.touchend(t)}};var f=function(e){return!(8===e||46===e||e>=48&&e<=57)};function m(n,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h.stop();var o=t[n];if(void 0===o)throw new Error("".concat(n," is not valid"));p=n;var s=o(e,a);h=r(s,e),i.silent||e.map.fire(u.events.MODE_CHANGE,{mode:n}),e.store.setDirty(),e.store.render()}d.keydown=function(t){"mapboxgl-canvas"===(t.srcElement||t.target).classList[0]&&(8!==t.keyCode&&46!==t.keyCode||!e.options.controls.trash?f(t.keyCode)?h.keydown(t):49===t.keyCode&&e.options.controls.point?m(u.modes.DRAW_POINT):50===t.keyCode&&e.options.controls.line_string?m(u.modes.DRAW_LINE_STRING):51===t.keyCode&&e.options.controls.polygon&&m(u.modes.DRAW_POLYGON):(t.preventDefault(),h.trash()))},d.keyup=function(e){f(e.keyCode)&&h.keyup(e)},d.zoomend=function(){e.store.changeZoom()},d.data=function(t){if("style"===t.dataType){var n=e.setup,r=e.map,a=e.options,i=e.store;a.styles.some(function(e){return r.getLayer(e.id)})||(n.addLayers(),i.setDirty(),i.render())}};var v={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){p=e.options.defaultMode,h=r(t[p](e),e)},changeMode:m,actionable:function(t){var n=!1;Object.keys(t).forEach(function(e){if(void 0===v[e])throw new Error("Invalid action type");v[e]!==t[e]&&(n=!0),v[e]=t[e]}),n&&e.map.fire(u.events.ACTIONABLE,{actions:v})},currentModeName:function(){return p},currentModeRender:function(e,t){return h.render(e,t)},fire:function(e,t){d[e]&&d[e](t)},addEventListeners:function(){e.map.on("mousemove",d.mousemove),e.map.on("mousedown",d.mousedown),e.map.on("mouseup",d.mouseup),e.map.on("data",d.data),e.map.on("touchmove",d.touchmove),e.map.on("touchstart",d.touchstart),e.map.on("touchend",d.touchend),e.container.addEventListener("mouseout",d.mouseout),e.options.keybindings&&(e.container.addEventListener("keydown",d.keydown),e.container.addEventListener("keyup",d.keyup))},removeEventListeners:function(){e.map.off("mousemove",d.mousemove),e.map.off("mousedown",d.mousedown),e.map.off("mouseup",d.mouseup),e.map.off("data",d.data),e.map.off("touchmove",d.touchmove),e.map.off("touchstart",d.touchstart),e.map.off("touchend",d.touchend),e.container.removeEventListener("mouseout",d.mouseout),e.options.keybindings&&(e.container.removeEventListener("keydown",d.keydown),e.container.removeEventListener("keyup",d.keyup))},trash:function(e){h.trash(e)},combineFeatures:function(){h.combineFeatures()},uncombineFeatures:function(){h.uncombineFeatures()},getMode:function(){return p}}}},function(e,t){e.exports=function(e,t){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},r={on:function(e,t,r){if(void 0===n[e])throw new Error("Invalid event type: ".concat(e));n[e].push({selector:t,fn:r})},render:function(e){t.store.featureChanged(e)}},a=function(e,a){for(var i=n[e],o=i.length;o--;){var s=i[o];if(s.selector(a)){s.fn.call(r,a),t.store.render(),t.ui.updateMapClasses();break}}};return e.start.call(r),{render:e.render,stop:function(){e.stop&&e.stop()},trash:function(){e.trash&&(e.trash(),t.store.render())},combineFeatures:function(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures:function(){e.uncombineFeatures&&e.uncombineFeatures()},drag:function(e){a("drag",e)},click:function(e){a("click",e)},mousemove:function(e){a("mousemove",e)},mousedown:function(e){a("mousedown",e)},mouseup:function(e){a("mouseup",e)},mouseout:function(e){a("mouseout",e)},keydown:function(e){a("keydown",e)},keyup:function(e){a("keyup",e)},touchstart:function(e){a("touchstart",e)},touchmove:function(e){a("touchmove",e)},touchend:function(e){a("touchend",e)},tap:function(e){a("tap",e)}}}},function(e,t,n){var r=n(262),a=n(68);e.exports=function(e,t){var n=r.click(e,null,t),i={mouse:a.cursors.NONE};return n[0]&&(i.mouse=n[0].properties.active===a.activeStates.ACTIVE?a.cursors.MOVE:a.cursors.POINTER,i.feature=n[0].properties.meta),-1!==t.events.currentModeName().indexOf("draw")&&(i.mouse=a.cursors.ADD),t.ui.queueMapClasses(i),t.ui.updateMapClasses(),n[0]}},function(e,t,n){var r=n(661),a=n(68),i={Point:0,LineString:1,Polygon:2};function o(e,t){var n=i[e.geometry.type]-i[t.geometry.type];return 0===n&&e.geometry.type===a.geojsonTypes.POLYGON?e.area-t.area:n}e.exports=function(e){return e.map(function(e){return e.geometry.type===a.geojsonTypes.POLYGON&&(e.area=r.geometry({type:a.geojsonTypes.FEATURE,property:{},geometry:e.geometry})),e}).sort(o).map(function(e){return delete e.area,e})}},function(e,t,n){var r=n(662);function a(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(i(e[n]))}return t}function i(e){var t,n,a,i,s,u,c=0,l=e.length;if(l>2){for(u=0;u<l;u++)u===l-2?(a=l-2,i=l-1,s=0):u===l-1?(a=l-1,i=0,s=1):(a=u,i=u+1,s=u+2),t=e[a],n=e[i],c+=(o(e[s][0])-o(t[0]))*Math.sin(o(n[1]));c=c*r.RADIUS*r.RADIUS/2}return c}function o(e){return e*Math.PI/180}e.exports.geometry=function e(t){var n,r=0;switch(t.type){case"Polygon":return a(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)r+=a(t.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++)r+=e(t.geometries[n]);return r}},e.exports.ring=i},function(e,t){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},function(e,t){e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[[e.point.x-t,e.point.y-t],[e.point.x+t,e.point.y+t]]}},function(e,t,n){var r=n(422);e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null!=n.fineTolerance?n.fineTolerance:4,i=null!=n.grossTolerance?n.grossTolerance:12,o=null!=n.interval?n.interval:500;e.point=e.point||t.point,e.time=e.time||t.time;var s=r(e.point,t.point);return s<a||s<i&&t.time-e.time<o}},function(e,t,n){var r=n(422);e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null!=n.tolerance?n.tolerance:25,i=null!=n.interval?n.interval:250;return e.point=e.point||t.point,e.time=e.time||t.time,r(e.point,t.point)<a&&t.time-e.time<i}},function(e,t,n){var r=n(667),a={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},i=Object.keys(a);e.exports=function(e){var t=Object.keys(e);return function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={},u=t.reduce(function(t,n){return t[n]=e[n],t},new r(n));return{start:function(){var t=this;s=u.onSetup(o),i.forEach(function(n){var r,i=a[n],o=function(){return!1};e[i]&&(o=function(){return!0}),t.on(n,o,(r=i,function(e){u[r](s,e)}))})},stop:function(){u.onStop(s)},trash:function(){u.onTrash(s)},combineFeatures:function(){u.onCombineFeatures(s)},uncombineFeatures:function(){u.onUncombineFeatures(s)},render:function(e,t){u.toDisplayFeatures(s,e,t)}}}}},function(e,t,n){var r=e.exports=n(668);r.prototype.onSetup=function(){},r.prototype.onDrag=function(){},r.prototype.onClick=function(){},r.prototype.onMouseMove=function(){},r.prototype.onMouseDown=function(){},r.prototype.onMouseUp=function(){},r.prototype.onMouseOut=function(){},r.prototype.onKeyUp=function(){},r.prototype.onKeyDown=function(){},r.prototype.onTouchStart=function(){},r.prototype.onTouchMove=function(){},r.prototype.onTouchEnd=function(){},r.prototype.onTap=function(){},r.prototype.onStop=function(){},r.prototype.onTrash=function(){},r.prototype.onCombineFeature=function(){},r.prototype.onUncombineFeature=function(){},r.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")}},function(e,t,n){var r=n(68),a=n(262),i=n(362),o=n(364),s=n(365),u=n(265),c=e.exports=function(e){this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e};c.prototype.setSelected=function(e){return this._ctx.store.setSelected(e)},c.prototype.setSelectedCoordinates=function(e){var t=this;this._ctx.store.setSelectedCoordinates(e),e.reduce(function(e,n){return void 0===e[n.feature_id]&&(e[n.feature_id]=!0,t._ctx.store.get(n.feature_id).changed()),e},{})},c.prototype.getSelected=function(){return this._ctx.store.getSelected()},c.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},c.prototype.isSelected=function(e){return this._ctx.store.isSelected(e)},c.prototype.getFeature=function(e){return this._ctx.store.get(e)},c.prototype.select=function(e){return this._ctx.store.select(e)},c.prototype.deselect=function(e){return this._ctx.store.deselect(e)},c.prototype.deleteFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._ctx.store.delete(e,t)},c.prototype.addFeature=function(e){return this._ctx.store.add(e)},c.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},c.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},c.prototype.setActionableState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={trash:e.trash||!1,combineFeatures:e.combineFeatures||!1,uncombineFeatures:e.uncombineFeatures||!1};return this._ctx.events.actionable(t)},c.prototype.changeMode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._ctx.events.changeMode(e,t,n)},c.prototype.updateUIClasses=function(e){return this._ctx.ui.queueMapClasses(e)},c.prototype.activateUIButton=function(e){return this._ctx.ui.setActiveButton(e)},c.prototype.featuresAt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click";if("click"!==n&&"touch"!==n)throw new Error("invalid buffer type");return a[n](e,t,this._ctx)},c.prototype.newFeature=function(e){var t=e.geometry.type;return t===r.geojsonTypes.POINT?new i(this._ctx,e):t===r.geojsonTypes.LINE_STRING?new o(this._ctx,e):t===r.geojsonTypes.POLYGON?new s(this._ctx,e):new u(this._ctx,e)},c.prototype.isInstanceOf=function(e,t){if(e===r.geojsonTypes.POINT)return t instanceof i;if(e===r.geojsonTypes.LINE_STRING)return t instanceof o;if(e===r.geojsonTypes.POLYGON)return t instanceof s;if("MultiFeature"===e)return t instanceof u;throw new Error("Unknown feature class: ".concat(e))},c.prototype.doRender=function(e){return this._ctx.store.featureChanged(e)}},function(e,t,n){var r=n(670),a=n(671),i=n(263),o=n(672),s=n(68).interactions,u=e.exports=function(e){this._features={},this._featureIds=new i,this._selectedFeatureIds=new i,this._selectedCoordinates=[],this._changedFeatureIds=new i,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]},this.render=r(o,16,this),this.isDirty=!1};function c(e){var t=this,n=this._selectedCoordinates.filter(function(e){return t._selectedFeatureIds.has(e.feature_id)});this._selectedCoordinates.length===n.length||e.silent||(this._emitSelectionChange=!0),this._selectedCoordinates=n}u.prototype.createRenderBatch=function(){var e=this,t=this.render,n=0;return this.render=function(){n++},function(){e.render=t,n>0&&e.render()}},u.prototype.setDirty=function(){return this.isDirty=!0,this},u.prototype.featureChanged=function(e){return this._changedFeatureIds.add(e),this},u.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},u.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},u.prototype.getAllIds=function(){return this._featureIds.values()},u.prototype.add=function(e){return this.featureChanged(e.id),this._features[e.id]=e,this._featureIds.add(e.id),this},u.prototype.delete=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e).forEach(function(e){t._featureIds.has(e)&&(t._featureIds.delete(e),t._selectedFeatureIds.delete(e),n.silent||-1===t._deletedFeaturesToEmit.indexOf(t._features[e])&&t._deletedFeaturesToEmit.push(t._features[e]),delete t._features[e],t.isDirty=!0)}),c.call(this,n),this},u.prototype.get=function(e){return this._features[e]},u.prototype.getAll=function(){var e=this;return Object.keys(this._features).map(function(t){return e._features[t]})},u.prototype.select=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e).forEach(function(e){t._selectedFeatureIds.has(e)||(t._selectedFeatureIds.add(e),t._changedFeatureIds.add(e),n.silent||(t._emitSelectionChange=!0))}),this},u.prototype.deselect=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e).forEach(function(e){t._selectedFeatureIds.has(e)&&(t._selectedFeatureIds.delete(e),t._changedFeatureIds.add(e),n.silent||(t._emitSelectionChange=!0))}),c.call(this,n),this},u.prototype.clearSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this},u.prototype.setSelected=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=a(e),this.deselect(this._selectedFeatureIds.values().filter(function(t){return-1===e.indexOf(t)}),{silent:n.silent}),this.select(e.filter(function(e){return!t._selectedFeatureIds.has(e)}),{silent:n.silent}),this},u.prototype.setSelectedCoordinates=function(e){return this._selectedCoordinates=e,this._emitSelectionChange=!0,this},u.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},u.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},u.prototype.getSelected=function(){var e=this;return this._selectedFeatureIds.values().map(function(t){return e.get(t)})},u.prototype.getSelectedCoordinates=function(){var e=this;return this._selectedCoordinates.map(function(t){return{coordinates:e.get(t.feature_id).getCoordinate(t.coord_path)}})},u.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)},u.prototype.setFeatureProperty=function(e,t,n){this.get(e).setProperty(t,n),this.featureChanged(e)},u.prototype.storeMapConfig=function(){var e=this;s.forEach(function(t){e.ctx.map[t]&&(e._mapInitialConfig[t]=e.ctx.map[t].isEnabled())})},u.prototype.restoreMapConfig=function(){var e=this;Object.keys(this._mapInitialConfig).forEach(function(t){e._mapInitialConfig[t]?e.ctx.map[t].enable():e.ctx.map[t].disable()})},u.prototype.getInitialConfigValue=function(e){return void 0===this._mapInitialConfig[e]||this._mapInitialConfig[e]}},function(e,t){e.exports=function(e,t,n){var r,a;function i(){r=!1,a&&(o.apply(n,a),a=!1)}function o(){r?a=arguments:(r=!0,e.apply(n,arguments),setTimeout(i,t))}return o}},function(e,t){e.exports=function(e){return[].concat(e).filter(function(e){return void 0!==e})}},function(e,t,n){var r=n(68);e.exports=function(){var e=this;if(!(e.ctx.map&&void 0!==e.ctx.map.getSource(r.sources.HOT)))return c();var t=e.ctx.events.currentModeName();e.ctx.ui.queueMapClasses({mode:t});var n=[],a=[];e.isDirty?a=e.getAllIds():(n=e.getChangedIds().filter(function(t){return void 0!==e.get(t)}),a=e.sources.hot.filter(function(t){return t.properties.id&&-1===n.indexOf(t.properties.id)&&void 0!==e.get(t.properties.id)}).map(function(e){return e.properties.id})),e.sources.hot=[];var i=e.sources.cold.length;e.sources.cold=e.isDirty?[]:e.sources.cold.filter(function(e){var t=e.properties.id||e.properties.parent;return-1===n.indexOf(t)});var o=i!==e.sources.cold.length||a.length>0;function s(n,r){var a=e.get(n).internal(t);e.ctx.events.currentModeRender(a,function(t){e.sources[r].push(t)})}if(n.forEach(function(e){return s(e,"hot")}),a.forEach(function(e){return s(e,"cold")}),o&&e.ctx.map.getSource(r.sources.COLD).setData({type:r.geojsonTypes.FEATURE_COLLECTION,features:e.sources.cold}),e.ctx.map.getSource(r.sources.HOT).setData({type:r.geojsonTypes.FEATURE_COLLECTION,features:e.sources.hot}),e._emitSelectionChange&&(e.ctx.map.fire(r.events.SELECTION_CHANGE,{features:e.getSelected().map(function(e){return e.toGeoJSON()}),points:e.getSelectedCoordinates().map(function(e){return{type:r.geojsonTypes.FEATURE,properties:{},geometry:{type:r.geojsonTypes.POINT,coordinates:e.coordinates}}})}),e._emitSelectionChange=!1),e._deletedFeaturesToEmit.length){var u=e._deletedFeaturesToEmit.map(function(e){return e.toGeoJSON()});e._deletedFeaturesToEmit=[],e.ctx.map.fire(r.events.DELETE,{features:u})}function c(){e.isDirty=!1,e.clearChangedIds()}c(),e.ctx.map.fire(r.events.RENDER,{})}},function(e,t,n){var r=n(151),a=n(68),i=["mode","feature","mouse"];e.exports=function(e){var t={},n=null,o={mode:null,feature:null,mouse:null},s={mode:null,feature:null,mouse:null};function u(e){s=r(s,e)}function c(){if(e.container){var t=[],n=[];i.forEach(function(e){s[e]!==o[e]&&(t.push("".concat(e,"-").concat(o[e])),null!==s[e]&&n.push("".concat(e,"-").concat(s[e])))}),t.length>0&&e.container.classList.remove.apply(e.container.classList,t),n.length>0&&e.container.classList.add.apply(e.container.classList,n),o=r(o,s)}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("button");return r.className="".concat(a.classes.CONTROL_BUTTON," ").concat(t.className),r.setAttribute("title",t.title),t.container.appendChild(r),r.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation(),r.target!==n?(p(e),t.onActivate()):d()},!0),r}function d(){n&&(n.classList.remove(a.classes.ACTIVE_BUTTON),n=null)}function p(e){d();var r=t[e];r&&r&&"trash"!==e&&(r.classList.add(a.classes.ACTIVE_BUTTON),n=r)}return{setActiveButton:p,queueMapClasses:u,updateMapClasses:c,clearMapClasses:function(){u({mode:null,feature:null,mouse:null}),c()},addButtons:function(){var n=e.options.controls,r=document.createElement("div");return r.className="".concat(a.classes.CONTROL_GROUP," ").concat(a.classes.CONTROL_BASE),n?(n[a.types.LINE]&&(t[a.types.LINE]=l(a.types.LINE,{container:r,className:a.classes.CONTROL_BUTTON_LINE,title:"LineString tool ".concat(e.options.keybindings?"(l)":""),onActivate:function(){return e.events.changeMode(a.modes.DRAW_LINE_STRING)}})),n[a.types.POLYGON]&&(t[a.types.POLYGON]=l(a.types.POLYGON,{container:r,className:a.classes.CONTROL_BUTTON_POLYGON,title:"Polygon tool ".concat(e.options.keybindings?"(p)":""),onActivate:function(){return e.events.changeMode(a.modes.DRAW_POLYGON)}})),n[a.types.POINT]&&(t[a.types.POINT]=l(a.types.POINT,{container:r,className:a.classes.CONTROL_BUTTON_POINT,title:"Marker tool ".concat(e.options.keybindings?"(m)":""),onActivate:function(){return e.events.changeMode(a.modes.DRAW_POINT)}})),n.trash&&(t.trash=l("trash",{container:r,className:a.classes.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){e.events.trash()}})),n.combine_features&&(t.combine_features=l("combineFeatures",{container:r,className:a.classes.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){e.events.combineFeatures()}})),n.uncombine_features&&(t.uncombine_features=l("uncombineFeatures",{container:r,className:a.classes.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){e.events.uncombineFeatures()}})),r):r},removeButtons:function(){Object.keys(t).forEach(function(e){var n=t[e];n.parentNode&&n.parentNode.removeChild(n),delete t[e]})}}}},function(e,t,n){var r=n(151),a=n(68),i={defaultMode:a.modes.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:n(675),modes:n(423),controls:{},userProperties:!1},o={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},s={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function u(e,t){return e.map(function(e){return e.source?e:r(e,{id:"".concat(e.id,".").concat(t),source:"hot"===t?a.sources.HOT:a.sources.COLD})})}e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r(e);return e.controls||(t.controls={}),!1===e.displayControlsDefault?t.controls=r(s,e.controls):t.controls=r(o,e.controls),(t=r(i,t)).styles=u(t.styles,"cold").concat(u(t.styles,"hot")),t}},function(e,t){e.exports=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}]},function(e,t,n){var r=n(196),a=n(677),i=n(424),o=n(263),s=n(266),u=n(425),c=n(68),l={onSetup:function(e){var t=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoveing:!1,canDragMove:!1,initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter(function(e){return void 0!==t.getFeature(e)})),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(c.events.UPDATE,{action:c.updateActions.MOVE,features:this.getSelected().map(function(e){return e.toGeoJSON()})})},fireActionable:function(){var e=this,t=this.getSelected(),n=t.filter(function(t){return e.isInstanceOf("MultiFeature",t)}),r=!1;if(t.length>1){r=!0;var a=t[0].type.replace("Multi","");t.forEach(function(e){e.type.replace("Multi","")!==a&&(r=!1)})}var i=n.length>0,o=t.length>0;this.setActionableState({combineFeatures:r,uncombineFeatures:i,trash:o})},getUniqueIds:function(e){return e.length?e.map(function(e){return e.properties.id}).filter(function(e){return void 0!==e}).reduce(function(e,t){return e.add(t),e},new o).values():[]},stopExtendedInteractions:function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1},onStop:function(){s.enable(this)},onMouseMove:function(e){return this.stopExtendedInteractions(e)},onMouseOut:function(e){if(e.dragMoving)return this.fireUpdate()}};l.onTap=l.onClick=function(e,t){return r.noTarget(t)?this.clickAnywhere(e,t):r.isOfMetaType(c.meta.VERTEX)(t)?this.clickOnVertex(e,t):r.isFeature(t)?this.clickOnFeature(e,t):void 0},l.clickAnywhere=function(e){var t=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach(function(e){return t.doRender(e)})),s.enable(this),this.stopExtendedInteractions(e)},l.clickOnVertex=function(e,t){this.changeMode(c.modes.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:c.cursors.MOVE})},l.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},l.clickOnFeature=function(e,t){var n=this;s.disable(this),this.stopExtendedInteractions(e);var a=r.isShiftDown(t),i=this.getSelectedIds(),o=t.featureTarget.properties.id,u=this.isSelected(o);if(!a&&u&&this.getFeature(o).type!==c.geojsonTypes.POINT)return this.changeMode(c.modes.DIRECT_SELECT,{featureId:o});u&&a?(this.deselect(o),this.updateUIClasses({mouse:c.cursors.POINTER}),1===i.length&&s.enable(this)):!u&&a?(this.select(o),this.updateUIClasses({mouse:c.cursors.MOVE})):u||a||(i.forEach(function(e){return n.doRender(e)}),this.setSelected(o),this.updateUIClasses({mouse:c.cursors.MOVE})),this.doRender(o)},l.onMouseDown=function(e,t){return r.isActiveFeature(t)?this.startOnActiveFeature(e,t):this.drawConfig.boxSelect&&r.isShiftMousedown(t)?this.startBoxSelect(e,t):void 0},l.startBoxSelect=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=a(t.originalEvent,this.map.getContainer()),e.canBoxSelect=!0},l.onTouchStart=function(e,t){if(r.isActiveFeature(t))return this.startOnActiveFeature(e,t)},l.onDrag=function(e,t){return e.canDragMove?this.dragMove(e,t):this.drawConfig.boxSelect&&e.canBoxSelect?this.whileBoxSelect(e,t):void 0},l.whileBoxSelect=function(e,t){e.boxSelecting=!0,this.updateUIClasses({mouse:c.cursors.ADD}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add(c.classes.BOX_SELECT),this.map.getContainer().appendChild(e.boxSelectElement));var n=a(t.originalEvent,this.map.getContainer()),r=Math.min(e.boxSelectStartLocation.x,n.x),i=Math.max(e.boxSelectStartLocation.x,n.x),o=Math.min(e.boxSelectStartLocation.y,n.y),s=Math.max(e.boxSelectStartLocation.y,n.y),u="translate(".concat(r,"px, ").concat(o,"px)");e.boxSelectElement.style.transform=u,e.boxSelectElement.style.WebkitTransform=u,e.boxSelectElement.style.width="".concat(i-r,"px"),e.boxSelectElement.style.height="".concat(s-o,"px")},l.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();var n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};u(this.getSelected(),n),e.dragMoveLocation=t.lngLat},l.onMouseUp=function(e,t){var n=this;if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){var r=[e.boxSelectStartLocation,a(t.originalEvent,this.map.getContainer())],i=this.featuresAt(null,r,"click"),o=this.getUniqueIds(i).filter(function(e){return!n.isSelected(e)});o.length&&(this.select(o),o.forEach(function(e){return n.doRender(e)}),this.updateUIClasses({mouse:c.cursors.MOVE}))}this.stopExtendedInteractions(e)},l.toDisplayFeatures=function(e,t,n){t.properties.active=this.isSelected(t.properties.id)?c.activeStates.ACTIVE:c.activeStates.INACTIVE,n(t),this.fireActionable(),t.properties.active===c.activeStates.ACTIVE&&t.geometry.type!==c.geojsonTypes.POINT&&i(t).forEach(n)},l.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},l.onCombineFeatures=function(){var e=this.getSelected();if(!(0===e.length||e.length<2)){for(var t=[],n=[],r=e[0].type.replace("Multi",""),a=0;a<e.length;a++){var i=e[a];if(i.type.replace("Multi","")!==r)return;i.type.includes("Multi")?i.getCoordinates().forEach(function(e){t.push(e)}):t.push(i.getCoordinates()),n.push(i.toGeoJSON())}if(n.length>1){var o=this.newFeature({type:c.geojsonTypes.FEATURE,properties:n[0].properties,geometry:{type:"Multi".concat(r),coordinates:t}});this.addFeature(o),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([o.id]),this.map.fire(c.events.COMBINE_FEATURES,{createdFeatures:[o.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},l.onUncombineFeatures=function(){var e=this,t=this.getSelected();if(0!==t.length){for(var n=[],r=[],a=function(a){var i=t[a];e.isInstanceOf("MultiFeature",i)&&(i.getFeatures().forEach(function(t){e.addFeature(t),t.properties=i.properties,n.push(t.toGeoJSON()),e.select([t.id])}),e.deleteFeature(i.id,{silent:!0}),r.push(i.toGeoJSON()))},i=0;i<t.length;i++)a(i);n.length>1&&this.map.fire(c.events.UNCOMBINE_FEATURES,{createdFeatures:n,deletedFeatures:r}),this.fireActionable()}},e.exports=l},function(e,t,n){var r=n(678);e.exports=function(e,t){var n=t.getBoundingClientRect();return new r(e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0))}},function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,a=n*this.x+t*this.y;return this.x=r,this.y=a,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),a=t.x+n*(this.x-t.x)-r*(this.y-t.y),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=a,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},function(e,t,n){var r=n(68);e.exports=function(e,t,n,a){var i=t.geometry.coordinates,o=n.geometry.coordinates;if(i[1]>r.LAT_RENDERED_MAX||i[1]<r.LAT_RENDERED_MIN||o[1]>r.LAT_RENDERED_MAX||o[1]<r.LAT_RENDERED_MIN)return null;var s=a.project([i[0],i[1]]),u=a.project([o[0],o[1]]),c=a.unproject([(s.x+u.x)/2,(s.y+u.y)/2]);return{type:r.geojsonTypes.FEATURE,properties:{meta:r.meta.MIDPOINT,parent:e,lng:c.lng,lat:c.lat,coord_path:n.properties.coord_path},geometry:{type:r.geojsonTypes.POINT,coordinates:[c.lng,c.lat]}}}},function(e,t,n){var r=n(681),a=n(684),i=n(685),o={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},s=Object.keys(o);function u(e){for(var t=i(),n=r(e),a=0;a<n.length;a++)t.include(n[a]);return t}e.exports=function(e){return u(e).bbox()},e.exports.polygon=function(e){return u(e).polygon()},e.exports.bboxify=function(e){return a(e).map(function(e){e&&(s.some(function(t){return!!e[t]&&-1!==o[t].indexOf(e.type)})&&(e.bbox=u(e).bbox(),this.update(e)))})}},function(e,t,n){var r=n(427),a=n(682),i=n(683);e.exports=function(e){if(!e)return[];var t=a(r(e)),n=[];return t.features.forEach(function(e){e.geometry&&(n=n.concat(i(e.geometry.coordinates)))}),n}},function(e,t){e.exports=function e(t){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce(function(t,n){return t.concat(e(n))},[]),t;case"Feature":return t.geometry?e(t.geometry).map(function(e){var n={type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e};return void 0!==t.id&&(n.id=t.id),n}):t;case"MultiPoint":return t.coordinates.map(function(e){return{type:"Point",coordinates:e}});case"MultiPolygon":return t.coordinates.map(function(e){return{type:"Polygon",coordinates:e}});case"MultiLineString":return t.coordinates.map(function(e){return{type:"LineString",coordinates:e}});case"GeometryCollection":return t.geometries.map(e).reduce(function(e,t){return e.concat(t)},[]);case"Point":case"Polygon":case"LineString":return[t]}}},function(e,t){e.exports=function(e){return function e(t){if(Array.isArray(t)&&t.length&&"number"===typeof t[0])return[t];return t.reduce(function(t,n){return Array.isArray(n)&&Array.isArray(n[0])?t.concat(e(n)):(t.push(n),t)},[])}(e)}},function(e,t){var n=e.exports=function(e){return new r(e)};function r(e){this.value=e}function a(e,t,n){var r=[],a=[],s=!0;return function e(d){var p=n?i(d):d,h={},f=!0,m={node:p,node_:d,path:[].concat(r),parent:a[a.length-1],parents:a,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(e,t){m.isRoot||(m.parent.node[m.key]=e),m.node=e,t&&(f=!1)},delete:function(e){delete m.parent.node[m.key],e&&(f=!1)},remove:function(e){u(m.parent.node)?m.parent.node.splice(m.key,1):delete m.parent.node[m.key],e&&(f=!1)},keys:null,before:function(e){h.before=e},after:function(e){h.after=e},pre:function(e){h.pre=e},post:function(e){h.post=e},stop:function(){s=!1},block:function(){f=!1}};if(!s)return m;function v(){if("object"===typeof m.node&&null!==m.node){m.keys&&m.node_===m.node||(m.keys=o(m.node)),m.isLeaf=0==m.keys.length;for(var e=0;e<a.length;e++)if(a[e].node_===d){m.circular=a[e];break}}else m.isLeaf=!0,m.keys=null;m.notLeaf=!m.isLeaf,m.notRoot=!m.isRoot}v();var g=t.call(m,m.node);return void 0!==g&&m.update&&m.update(g),h.before&&h.before.call(m,m.node),f?("object"!=typeof m.node||null===m.node||m.circular||(a.push(m),v(),c(m.keys,function(t,a){r.push(t),h.pre&&h.pre.call(m,m.node[t],t);var i=e(m.node[t]);n&&l.call(m.node,t)&&(m.node[t]=i.node),i.isLast=a==m.keys.length-1,i.isFirst=0==a,h.post&&h.post.call(m,i),r.pop()}),a.pop()),h.after&&h.after.call(m,m.node),m):m}(e).node}function i(e){if("object"===typeof e&&null!==e){var t;if(u(e))t=[];else if("[object Date]"===s(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===s(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===s(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===s(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===s(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===s(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},r=function(){};r.prototype=n,t=new r}return c(o(e),function(n){t[n]=e[n]}),t}return e}r.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!l.call(t,r)){t=void 0;break}t=t[r]}return t},r.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!l.call(t,r))return!1;t=t[r]}return!0},r.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var a=e[r];l.call(n,a)||(n[a]={}),n=n[a]}return n[e[r]]=t,t},r.prototype.map=function(e){return a(this.value,e,!0)},r.prototype.forEach=function(e){return this.value=a(this.value,e,!1),this.value},r.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach(function(t){this.isRoot&&n||(r=e.call(this,r,t))}),r},r.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},r.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},r.prototype.clone=function(){var e=[],t=[];return function n(r){for(var a=0;a<e.length;a++)if(e[a]===r)return t[a];if("object"===typeof r&&null!==r){var s=i(r);return e.push(r),t.push(s),c(o(r),function(e){s[e]=n(r[e])}),e.pop(),t.pop(),s}return r}(this.value)};var o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function s(e){return Object.prototype.toString.call(e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};c(o(r.prototype),function(e){n[e]=function(t){var n=[].slice.call(arguments,1),a=new r(t);return a[e].apply(a,n)}});var l=Object.hasOwnProperty||function(e,t){return t in e}},function(e,t){function n(e){if(!(this instanceof n))return new n(e);this._bbox=e||[1/0,1/0,-1/0,-1/0],this._valid=!!e}e.exports=n,n.prototype.include=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[0]),this._bbox[3]=Math.max(this._bbox[3],e[1]),this},n.prototype.equals=function(e){var t;return t=e instanceof n?e.bbox():e,this._bbox[0]==t[0]&&this._bbox[1]==t[1]&&this._bbox[2]==t[2]&&this._bbox[3]==t[3]},n.prototype.center=function(e){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},n.prototype.union=function(e){var t;return this._valid=!0,t=e instanceof n?e.bbox():e,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[2]),this._bbox[3]=Math.max(this._bbox[3],t[3]),this},n.prototype.bbox=function(){return this._valid?this._bbox:null},n.prototype.contains=function(e){if(!e)return this._fastContains();if(!this._valid)return null;var t=e[0],n=e[1];return this._bbox[0]<=t&&this._bbox[1]<=n&&this._bbox[2]>=t&&this._bbox[3]>=n},n.prototype.intersect=function(e){return this._valid?(t=e instanceof n?e.bbox():e,!(this._bbox[0]>t[2]||this._bbox[2]<t[0]||this._bbox[3]<t[1]||this._bbox[1]>t[3])):null;var t},n.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var e="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",e)},n.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},function(e,t,n){var r=n(196),a=r.noTarget,i=r.isOfMetaType,o=r.isInactiveFeature,s=r.isShiftDown,u=n(424),c=n(426),l=n(266),d=n(68),p=n(196),h=n(425),f=i(d.meta.VERTEX),m=i(d.meta.MIDPOINT),v={fireUpdate:function(){this.map.fire(d.events.UPDATE,{action:d.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(e){return e.toGeoJSON()})})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(e,t){this.startDragging(e,t);var n=t.featureTarget.properties,r=e.selectedCoordPaths.indexOf(n.coord_path);s(t)||-1!==r?s(t)&&-1===r&&e.selectedCoordPaths.push(n.coord_path):e.selectedCoordPaths=[n.coord_path];var a=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(a)},onMidpoint:function(e,t){this.startDragging(e,t);var n=t.featureTarget.properties;e.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),e.selectedCoordPaths=[n.coord_path]},pathsToCoordinates:function(e,t){return t.map(function(t){return{feature_id:e,coord_path:t}})},onFeature:function(e,t){0===e.selectedCoordPaths.length?this.startDragging(e,t):this.stopDragging(e)},dragFeature:function(e,t,n){h(this.getSelected(),n),e.dragMoveLocation=t.lngLat},dragVertex:function(e,t,n){for(var r=e.selectedCoordPaths.map(function(t){return e.feature.getCoordinate(t)}),a=r.map(function(e){return{type:d.geojsonTypes.FEATURE,properties:{},geometry:{type:d.geojsonTypes.POINT,coordinates:e}}}),i=c(a,n),o=0;o<r.length;o++){var s=r[o];e.feature.updateCoordinate(e.selectedCoordPaths[o],s[0]+i.lng,s[1]+i.lat)}},clickNoTarget:function(){this.changeMode(d.modes.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(d.modes.SIMPLE_SELECT)},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){var t=e.featureId,n=this.getFeature(t);if(!n)throw new Error("You must provide a featureId to enter direct_select mode");if(n.type===d.geojsonTypes.POINT)throw new TypeError("direct_select mode doesn't handle point features");var r={featureId:t,feature:n,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,r.selectedCoordPaths)),this.setSelected(t),l.disable(this),this.setActionableState({trash:!0}),r},onStop:function(){l.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(e,t,n){e.featureId===t.properties.id?(t.properties.active=d.activeStates.ACTIVE,n(t),u(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(n)):(t.properties.active=d.activeStates.INACTIVE,n(t)),this.fireActionable(e)},onTrash:function(e){e.selectedCoordPaths.sort().reverse().forEach(function(t){return e.feature.removeCoordinate(t)}),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(this.deleteFeature([e.featureId]),this.changeMode(d.modes.SIMPLE_SELECT,{}))},onMouseMove:function(e,t){var n=p.isActiveFeature(t),r=f(t),a=0===e.selectedCoordPaths.length;n&&a?this.updateUIClasses({mouse:d.cursors.MOVE}):r&&!a?this.updateUIClasses({mouse:d.cursors.MOVE}):this.updateUIClasses({mouse:d.cursors.NONE}),this.stopDragging(e)},onMouseOut:function(e){e.dragMoving&&this.fireUpdate()}};v.onTouchStart=v.onMouseDown=function(e,t){return f(t)?this.onVertex(e,t):p.isActiveFeature(t)?this.onFeature(e,t):m(t)?this.onMidpoint(e,t):void 0},v.onDrag=function(e,t){if(!0===e.canDragMove){e.dragMoving=!0,t.originalEvent.stopPropagation();var n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,n):this.dragFeature(e,t,n),e.dragMoveLocation=t.lngLat}},v.onClick=function(e,t){return a(t)?this.clickNoTarget(e,t):p.isActiveFeature(t)?this.clickActiveFeature(e,t):o(t)?this.clickInactive(e,t):void this.stopDragging(e)},v.onTap=function(e,t){return a(t)?this.clickNoTarget(e,t):p.isActiveFeature(t)?this.clickActiveFeature(e,t):o(t)?this.clickInactive(e,t):void 0},v.onTouchEnd=v.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)},e.exports=v},function(e,t,n){var r=n(196),a=n(68),i={onSetup:function(){var e=this.newFeature({type:a.geojsonTypes.FEATURE,properties:{},geometry:{type:a.geojsonTypes.POINT,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:a.cursors.ADD}),this.activateUIButton(a.types.POINT),this.setActionableState({trash:!0}),{point:e}},stopDrawingAndRemove:function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(a.modes.SIMPLE_SELECT)}};i.onTap=i.onClick=function(e,t){this.updateUIClasses({mouse:a.cursors.MOVE}),e.point.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),this.map.fire(a.events.CREATE,{features:[e.point.toGeoJSON()]}),this.changeMode(a.modes.SIMPLE_SELECT,{featureIds:[e.point.id]})},i.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})},i.toDisplayFeatures=function(e,t,n){var r=t.properties.id===e.point.id;if(t.properties.active=r?a.activeStates.ACTIVE:a.activeStates.INACTIVE,!r)return n(t)},i.onTrash=i.stopDrawingAndRemove,i.onKeyUp=function(e,t){if(r.isEscapeKey(t)||r.isEnterKey(t))return this.stopDrawingAndRemove(e,t)},e.exports=i},function(e,t,n){var r=n(196),a=n(266),i=n(68),o=n(428),s=n(366),u={onSetup:function(){var e=this.newFeature({type:i.geojsonTypes.FEATURE,properties:{},geometry:{type:i.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),a.disable(this),this.updateUIClasses({mouse:i.cursors.ADD}),this.activateUIButton(i.types.POLYGON),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&o(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(i.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:i.cursors.ADD}),e.polygon.updateCoordinate("0.".concat(e.currentVertexPosition),t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate("0.".concat(e.currentVertexPosition),t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(i.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},onMouseMove:function(e,t){e.polygon.updateCoordinate("0.".concat(e.currentVertexPosition),t.lngLat.lng,t.lngLat.lat),r.isVertex(t)&&this.updateUIClasses({mouse:i.cursors.POINTER})}};u.onTap=u.onClick=function(e,t){return r.isVertex(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)},u.onKeyUp=function(e,t){r.isEscapeKey(t)?(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(i.modes.SIMPLE_SELECT)):r.isEnterKey(t)&&this.changeMode(i.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},u.onStop=function(e){this.updateUIClasses({mouse:i.cursors.NONE}),a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate("0.".concat(e.currentVertexPosition)),e.polygon.isValid()?this.map.fire(i.events.CREATE,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(i.modes.SIMPLE_SELECT,{},{silent:!0})))},u.toDisplayFeatures=function(e,t,n){var r=t.properties.id===e.polygon.id;if(t.properties.active=r?i.activeStates.ACTIVE:i.activeStates.INACTIVE,!r)return n(t);if(0!==t.geometry.coordinates.length){var a=t.geometry.coordinates[0].length;if(!(a<3)){if(t.properties.meta=i.meta.FEATURE,n(s(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),a>3){var o=t.geometry.coordinates[0].length-3;n(s(e.polygon.id,t.geometry.coordinates[0][o],"0.".concat(o),!1))}if(a<=4){var u=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(n({type:i.geojsonTypes.FEATURE,properties:t.properties,geometry:{coordinates:u,type:i.geojsonTypes.LINE_STRING}}),3===a)return}return n(t)}}},u.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(i.modes.SIMPLE_SELECT)},e.exports=u},function(e,t,n){var r=n(66),a=n(196),i=n(428),o=n(266),s=n(68),u=n(366),c={onSetup:function(e){var t,n,a=(e=e||{}).featureId,i="forward";if(a){if(!(t=this.getFeature(a)))throw new Error("Could not find a feature with the provided featureId");var u=e.from;if(u&&"Feature"===u.type&&u.geometry&&"Point"===u.geometry.type&&(u=u.geometry),u&&"Point"===u.type&&u.coordinates&&2===u.coordinates.length&&(u=u.coordinates),!u||!Array.isArray(u))throw new Error("Please use the `from` property to indicate which point to continue the line from");var c=t.coordinates.length-1;if(t.coordinates[c][0]===u[0]&&t.coordinates[c][1]===u[1]){var l;n=c+1,(l=t).addCoordinate.apply(l,[n].concat(r(t.coordinates[c])))}else{if(t.coordinates[0][0]!==u[0]||t.coordinates[0][1]!==u[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");var d;i="backwards",n=0,(d=t).addCoordinate.apply(d,[n].concat(r(t.coordinates[0])))}}else t=this.newFeature({type:s.geojsonTypes.FEATURE,properties:{},geometry:{type:s.geojsonTypes.LINE_STRING,coordinates:[]}}),n=0,this.addFeature(t);return this.clearSelectedFeatures(),o.disable(this),this.updateUIClasses({mouse:s.cursors.ADD}),this.activateUIButton(s.types.LINE),this.setActionableState({trash:!0}),{line:t,currentVertexPosition:n,direction:i}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&i(t,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&i(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:s.cursors.ADD}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),a.isVertex(t)&&this.updateUIClasses({mouse:s.cursors.POINTER})}};c.onTap=c.onClick=function(e,t){if(a.isVertex(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},c.onKeyUp=function(e,t){a.isEnterKey(t)?this.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[e.line.id]}):a.isEscapeKey(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(s.modes.SIMPLE_SELECT))},c.onStop=function(e){o.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate("".concat(e.currentVertexPosition)),e.line.isValid()?this.map.fire(s.events.CREATE,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(s.modes.SIMPLE_SELECT,{},{silent:!0})))},c.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(s.modes.SIMPLE_SELECT)},c.toDisplayFeatures=function(e,t,n){var r=t.properties.id===e.line.id;if(t.properties.active=r?s.activeStates.ACTIVE:s.activeStates.INACTIVE,!r)return n(t);t.geometry.coordinates.length<2||(t.properties.meta=s.meta.FEATURE,n(u(e.line.id,t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],"".concat("forward"===e.direction?t.geometry.coordinates.length-2:1),!1)),n(t))},e.exports=c},function(e,t,n){var r=n(691),a=n(427),i=n(363),o=n(262),s=n(692),u=n(693),c=n(68),l=n(263),d={Polygon:n(365),LineString:n(364),Point:n(362),MultiPolygon:n(265),MultiLineString:n(265),MultiPoint:n(265)};e.exports=function(e,t){return t.modes=c.modes,t.getFeatureIdsAt=function(t){return o.click({point:t},null,e).map(function(e){return e.properties.id})},t.getSelectedIds=function(){return e.store.getSelectedIds()},t.getSelected=function(){return{type:c.geojsonTypes.FEATURE_COLLECTION,features:e.store.getSelectedIds().map(function(t){return e.store.get(t)}).map(function(e){return e.toGeoJSON()})}},t.getSelectedPoints=function(){return{type:c.geojsonTypes.FEATURE_COLLECTION,features:e.store.getSelectedCoordinates().map(function(e){return{type:c.geojsonTypes.FEATURE,properties:{},geometry:{type:c.geojsonTypes.POINT,coordinates:e.coordinates}}})}},t.set=function(n){if(void 0===n.type||n.type!==c.geojsonTypes.FEATURE_COLLECTION||!Array.isArray(n.features))throw new Error("Invalid FeatureCollection");var r=e.store.createRenderBatch(),a=e.store.getAllIds().slice(),i=t.add(n),o=new l(i);return(a=a.filter(function(e){return!o.has(e)})).length&&t.delete(a),r(),i},t.add=function(t){var n=u.hint(t,{precisionWarning:!1}).filter(function(e){return"message"!==e.level});if(n.length)throw new Error(n[0].message);var o=JSON.parse(JSON.stringify(a(t))).features.map(function(t){if(t.id=t.id||i(),null===t.geometry)throw new Error("Invalid geometry: null");if(void 0===e.store.get(t.id)||e.store.get(t.id).type!==t.geometry.type){var n=d[t.geometry.type];if(void 0===n)throw new Error("Invalid geometry type: ".concat(t.geometry.type,"."));var a=new n(e,t);e.store.add(a)}else{var o=e.store.get(t.id);o.properties=t.properties,r(o.getCoordinates(),t.geometry.coordinates)||o.incomingCoords(t.geometry.coordinates)}return t.id});return e.store.render(),o},t.get=function(t){var n=e.store.get(t);if(n)return n.toGeoJSON()},t.getAll=function(){return{type:c.geojsonTypes.FEATURE_COLLECTION,features:e.store.getAll().map(function(e){return e.toGeoJSON()})}},t.delete=function(n){return e.store.delete(n,{silent:!0}),t.getMode()!==c.modes.DIRECT_SELECT||e.store.getSelectedIds().length?e.store.render():e.events.changeMode(c.modes.SIMPLE_SELECT,void 0,{silent:!0}),t},t.deleteAll=function(){return e.store.delete(e.store.getAllIds(),{silent:!0}),t.getMode()===c.modes.DIRECT_SELECT?e.events.changeMode(c.modes.SIMPLE_SELECT,void 0,{silent:!0}):e.store.render(),t},t.changeMode=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n===c.modes.SIMPLE_SELECT&&t.getMode()===c.modes.SIMPLE_SELECT?s(r.featureIds||[],e.store.getSelectedIds())?t:(e.store.setSelected(r.featureIds,{silent:!0}),e.store.render(),t):n===c.modes.DIRECT_SELECT&&t.getMode()===c.modes.DIRECT_SELECT&&r.featureId===e.store.getSelectedIds()[0]?t:(e.events.changeMode(n,r,{silent:!0}),t)},t.getMode=function(){return e.events.getMode()},t.trash=function(){return e.events.trash({silent:!0}),t},t.combineFeatures=function(){return e.events.combineFeatures({silent:!0}),t},t.uncombineFeatures=function(){return e.events.uncombineFeatures({silent:!0}),t},t.setFeatureProperty=function(n,r,a){return e.store.setFeatureProperty(n,r,a),t},t}},function(e,t,n){(function(e,n){var r=200,a="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,u="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",d="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Function]",m="[object GeneratorFunction]",v="[object Map]",g="[object Number]",A="[object Null]",y="[object Object]",b="[object Proxy]",x="[object RegExp]",w="[object Set]",_="[object String]",k="[object Symbol]",O="[object Undefined]",E="[object ArrayBuffer]",S="[object DataView]",C=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[u]=I[c]=I[E]=I[d]=I[S]=I[p]=I[h]=I[f]=I[v]=I[g]=I[y]=I[x]=I[w]=I[_]=I["[object WeakMap]"]=!1;var j="object"==typeof e&&e&&e.Object===Object&&e,M="object"==typeof self&&self&&self.Object===Object&&self,N=j||M||Function("return this")(),D=t&&!t.nodeType&&t,R=D&&"object"==typeof n&&n&&!n.nodeType&&n,P=R&&R.exports===D,L=P&&j.process,F=function(){try{return L&&L.binding&&L.binding("util")}catch(e){}}(),B=F&&F.isTypedArray;function z(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function V(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var W,G,H=Array.prototype,q=Function.prototype,K=Object.prototype,X=N["__core-js_shared__"],Q=q.toString,Y=K.hasOwnProperty,$=function(){var e=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=K.toString,J=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=P?N.Buffer:void 0,te=N.Symbol,ne=N.Uint8Array,re=K.propertyIsEnumerable,ae=H.splice,ie=te?te.toStringTag:void 0,oe=Object.getOwnPropertySymbols,se=ee?ee.isBuffer:void 0,ue=(W=Object.keys,G=Object,function(e){return W(G(e))}),ce=Le(N,"DataView"),le=Le(N,"Map"),de=Le(N,"Promise"),pe=Le(N,"Set"),he=Le(N,"WeakMap"),fe=Le(Object,"create"),me=Ue(ce),ve=Ue(le),ge=Ue(de),Ae=Ue(pe),ye=Ue(he),be=te?te.prototype:void 0,xe=be?be.valueOf:void 0;function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ke;++t<n;)this.add(e[t])}function Ee(e){var t=this.__data__=new _e(e);this.size=t.size}function Se(e,t){var n=Ge(e),r=!n&&We(e),a=!n&&!r&&He(e),i=!n&&!r&&!a&&Ye(e),o=n||r||a||i,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!Y.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ze(c,u))||s.push(c);return s}function Ce(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Te(e){return null==e?void 0===e?O:A:ie&&ie in Object(e)?function(e){var t=Y.call(e,ie),n=e[ie];try{e[ie]=void 0;var r=!0}catch(i){}var a=Z.call(e);r&&(t?e[ie]=n:delete e[ie]);return a}(e):function(e){return Z.call(e)}(e)}function Ie(e){return Qe(e)&&Te(e)==u}function je(e,t,n,r,a){return e===t||(null==e||null==t||!Qe(e)&&!Qe(t)?e!==e&&t!==t:function(e,t,n,r,a,s){var l=Ge(e),f=Ge(t),m=l?c:Be(e),A=f?c:Be(t),b=(m=m==u?y:m)==y,O=(A=A==u?y:A)==y,C=m==A;if(C&&He(e)){if(!He(t))return!1;l=!0,b=!1}if(C&&!b)return s||(s=new Ee),l||Ye(e)?De(e,t,n,r,a,s):function(e,t,n,r,a,s,u){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!s(new ne(e),new ne(t)));case d:case p:case g:return Ve(+e,+t);case h:return e.name==t.name&&e.message==t.message;case x:case _:return e==t+"";case v:var c=U;case w:var l=r&i;if(c||(c=V),e.size!=t.size&&!l)return!1;var f=u.get(e);if(f)return f==t;r|=o,u.set(e,t);var m=De(c(e),c(t),r,a,s,u);return u.delete(e),m;case k:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,m,n,r,a,s);if(!(n&i)){var T=b&&Y.call(e,"__wrapped__"),I=O&&Y.call(t,"__wrapped__");if(T||I){var j=T?e.value():e,M=I?t.value():t;return s||(s=new Ee),a(j,M,n,r,s)}}if(!C)return!1;return s||(s=new Ee),function(e,t,n,r,a,o){var s=n&i,u=Re(e),c=u.length,l=Re(t).length;if(c!=l&&!s)return!1;for(var d=c;d--;){var p=u[d];if(!(s?p in t:Y.call(t,p)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var f=!0;o.set(e,t),o.set(t,e);for(var m=s;++d<c;){p=u[d];var v=e[p],g=t[p];if(r)var A=s?r(g,v,p,t,e,o):r(v,g,p,e,t,o);if(!(void 0===A?v===g||a(v,g,n,r,o):A)){f=!1;break}m||(m="constructor"==p)}if(f&&!m){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,a,s)}(e,t,n,r,je,a))}function Me(e){return!(!Xe(e)||function(e){return!!$&&$ in e}(e))&&(qe(e)?J:C).test(Ue(e))}function Ne(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||K;return e===n}(e))return ue(e);var t=[];for(var n in Object(e))Y.call(e,n)&&"constructor"!=n&&t.push(n);return t}function De(e,t,n,r,a,s){var u=n&i,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var p=-1,h=!0,f=n&o?new Oe:void 0;for(s.set(e,t),s.set(t,e);++p<c;){var m=e[p],v=t[p];if(r)var g=u?r(v,m,p,t,e,s):r(m,v,p,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!z(t,function(e,t){if(i=t,!f.has(i)&&(m===e||a(m,e,n,r,s)))return f.push(t);var i})){h=!1;break}}else if(m!==v&&!a(m,v,n,r,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Re(e){return function(e,t,n){var r=t(e);return Ge(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,$e,Fe)}function Pe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(n)?n:void 0}we.prototype.clear=function(){this.__data__=fe?fe(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(fe){var n=t[e];return n===a?void 0:n}return Y.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:Y.call(t,e)},we.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fe&&void 0===t?a:t,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():ae.call(t,n,1),--this.size,!0)},_e.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},_e.prototype.has=function(e){return Ce(this.__data__,e)>-1},_e.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(le||_e),string:new we}},ke.prototype.delete=function(e){var t=Pe(this,e).delete(e);return this.size-=t?1:0,t},ke.prototype.get=function(e){return Pe(this,e).get(e)},ke.prototype.has=function(e){return Pe(this,e).has(e)},ke.prototype.set=function(e,t){var n=Pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Oe.prototype.add=Oe.prototype.push=function(e){return this.__data__.set(e,a),this},Oe.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.clear=function(){this.__data__=new _e,this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var a=n.__data__;if(!le||a.length<r-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new ke(a)}return n.set(e,t),this.size=n.size,this};var Fe=oe?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}(oe(e),function(t){return re.call(e,t)}))}:function(){return[]},Be=Te;function ze(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ve(e,t){return e===t||e!==e&&t!==t}(ce&&Be(new ce(new ArrayBuffer(1)))!=S||le&&Be(new le)!=v||de&&"[object Promise]"!=Be(de.resolve())||pe&&Be(new pe)!=w||he&&"[object WeakMap]"!=Be(new he))&&(Be=function(e){var t=Te(e),n=t==y?e.constructor:void 0,r=n?Ue(n):"";if(r)switch(r){case me:return S;case ve:return v;case ge:return"[object Promise]";case Ae:return w;case ye:return"[object WeakMap]"}return t});var We=Ie(function(){return arguments}())?Ie:function(e){return Qe(e)&&Y.call(e,"callee")&&!re.call(e,"callee")},Ge=Array.isArray;var He=se||function(){return!1};function qe(e){if(!Xe(e))return!1;var t=Te(e);return t==f||t==m||t==l||t==b}function Ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Xe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qe(e){return null!=e&&"object"==typeof e}var Ye=B?function(e){return function(t){return e(t)}}(B):function(e){return Qe(e)&&Ke(e.length)&&!!I[Te(e)]};function $e(e){return null!=(t=e)&&Ke(t.length)&&!qe(t)?Se(e):Ne(e);var t}n.exports=function(e,t){return je(e,t)}}).call(this,n(91),n(152)(e))},function(e,t){e.exports=function(e,t){return e.length===t.length&&JSON.stringify(e.map(function(e){return e}).sort())===JSON.stringify(t.map(function(e){return e}).sort())}},function(e,t,n){var r=n(694),a=n(697);e.exports.hint=function(e,t){var n,i=[];if("object"===typeof e)n=e;else{if("string"!==typeof e)return[{message:"Expected string or object as input",line:0}];try{n=r.parse(e)}catch(s){var o=s.message.match(/line (\d+)/);return[{line:parseInt(o[1],10)-1,message:s.message,error:s}]}}return i=i.concat(a.hint(n,t))}},function(e,t,n){(function(e,r){var a=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,12],n=[1,13],r=[1,9],a=[1,10],i=[1,11],o=[1,14],s=[1,15],u=[14,18,22,24],c=[18,22],l=[22,24],d={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,r,a,i,o){var s=i.length-1;switch(a){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=i[s-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=i[s-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[i[s-2],i[s]];break;case 16:this.$={},this.$[i[s][0]]=i[s][1];break;case 17:this.$=i[s-2],void 0!==i[s-2][i[s][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(i[s][0])),i[s-2][i[s][0]]=i[s][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[i[s]];break;case 21:this.$=i[s-2],i[s-2].push(i[s])}},table:[{3:5,4:t,5:6,6:n,7:3,8:r,9:4,10:a,11:i,12:1,13:2,15:7,16:8,17:o,23:s},{1:[3]},{14:[1,16]},e(u,[2,7]),e(u,[2,8]),e(u,[2,9]),e(u,[2,10]),e(u,[2,11]),e(u,[2,12]),e(u,[2,3]),e(u,[2,4]),e(u,[2,5]),e([14,18,21,22,24],[2,1]),e(u,[2,2]),{3:20,4:t,18:[1,17],19:18,20:19},{3:5,4:t,5:6,6:n,7:3,8:r,9:4,10:a,11:i,13:23,15:7,16:8,17:o,23:s,24:[1,21],25:22},{1:[2,6]},e(u,[2,13]),{18:[1,24],22:[1,25]},e(c,[2,16]),{21:[1,26]},e(u,[2,18]),{22:[1,28],24:[1,27]},e(l,[2,20]),e(u,[2,14]),{3:20,4:t,20:29},{3:5,4:t,5:6,6:n,7:3,8:r,9:4,10:a,11:i,13:30,15:7,16:8,17:o,23:s},e(u,[2,19]),{3:5,4:t,5:6,6:n,7:3,8:r,9:4,10:a,11:i,13:31,15:7,16:8,17:o,23:s},e(c,[2,17]),e(c,[2,15]),e(l,[2,21])],defaultActions:{16:[2,6]},parseError:function(e,t){if(!t.recoverable){var n=function(e,t){this.message=e,this.hash=t};throw n.prototype=Error,new n(e,t)}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],a=[],i=this.table,o="",s=0,u=0,c=0,l=a.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(p.yy[h]=this.yy[h]);d.setInput(e,p.yy),p.yy.lexer=d,p.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var f=d.yylloc;a.push(f);var m=d.options&&d.options.ranges;"function"===typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,g,A,y,b,x,w,_,k,O=function(){var e;return"number"!==typeof(e=d.lex()||1)&&(e=t.symbols_[e]||e),e},E={};;){if(A=n[n.length-1],this.defaultActions[A]?y=this.defaultActions[A]:(null!==v&&"undefined"!=typeof v||(v=O()),y=i[A]&&i[A][v]),"undefined"===typeof y||!y.length||!y[0]){var S="";for(x in k=[],i[A])this.terminals_[x]&&x>2&&k.push("'"+this.terminals_[x]+"'");S=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(S,{text:d.match,token:this.terminals_[v]||v,line:d.yylineno,loc:f,expected:k})}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+A+", token: "+v);switch(y[0]){case 1:n.push(v),r.push(d.yytext),a.push(d.yylloc),n.push(y[1]),v=null,g?(v=g,g=null):(u=d.yyleng,o=d.yytext,s=d.yylineno,f=d.yylloc,c>0&&c--);break;case 2:if(w=this.productions_[y[1]][1],E.$=r[r.length-w],E._$={first_line:a[a.length-(w||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(w||1)].first_column,last_column:a[a.length-1].last_column},m&&(E._$.range=[a[a.length-(w||1)].range[0],a[a.length-1].range[1]]),"undefined"!==typeof(b=this.performAction.apply(E,[o,u,s,p.yy,y[1],r,a].concat(l))))return b;w&&(n=n.slice(0,-1*w*2),r=r.slice(0,-1*w),a=a.slice(0,-1*w)),n.push(this.productions_[y[1]][0]),r.push(E.$),a.push(E._$),_=i[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},p={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,a;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(a.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in a)this[i]=a[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),i=0;i<a.length;i++)if((n=this._input.match(this.rules[a[i]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,a[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,a[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function h(){this.yy={}}return d.lexer=p,h.prototype=d,d.Parser=h,new h}();t.parser=a,t.Parser=a.Parser,t.parse=function(){return a.parse.apply(a,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var a=n(695).readFileSync(n(696).normalize(r[1]),"utf8");return t.parser.parse(a)},n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(this,n(197),n(152)(e))},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,a="/"===o.charAt(0))}return(a?"/":"")+(t=n(r(t.split("/"),function(e){return!!e}),!a).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===a(e,-1);return(e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),i=r(n.split("/")),o=Math.min(a.length,i.length),s=o,u=0;u<o;u++)if(a[u]!==i[u]){s=u;break}var c=[];for(u=s;u<a.length;u++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!a){r=i;break}}else a=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,a=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){n=t+1;break}}else-1===r&&(a=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,a=!0,i=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(a=!1,r=o+1),46===s?-1===t?t=o:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){n=o+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(197))},function(e,t,n){var r=n(698);e.exports.hint=function(e,t){var n=[],a=0,i=10,o=6;function s(e){if(t&&!1===t.noDuplicateMembers||!e.__duplicateProperties__||n.push({message:"An object contained duplicate members, making parsing ambigous: "+e.__duplicateProperties__.join(", "),line:e.__line__}),!c(e,"type","string"))if(m[e.type])e&&m[e.type](e);else{var r=v[e.type.toLowerCase()];void 0!==r?n.push({message:"Expected "+r+" but got "+e.type+" (case sensitive)",line:e.__line__}):n.push({message:"The type "+e.type+" is unknown",line:e.__line__})}}function u(e,t){return e.every(function(e){return null!==e&&typeof e===t})}function c(e,t,r){if("undefined"===typeof e[t])return n.push({message:'"'+t+'" member required',line:e.__line__});if("array"===r){if(!Array.isArray(e[t]))return n.push({message:'"'+t+'" member should be an array, but is an '+typeof e[t]+" instead",line:e.__line__})}else{if("object"===r&&e[t]&&e[t].constructor!==Object)return n.push({message:'"'+t+'" member should be '+r+", but is an "+e[t].constructor.name+" instead",line:e.__line__});if(r&&typeof e[t]!==r)return n.push({message:'"'+t+'" member should be '+r+", but is an "+typeof e[t]+" instead",line:e.__line__})}}function l(e,r){if(!Array.isArray(e))return n.push({message:"position should be an array, is a "+typeof e+" instead",line:e.__line__||r});if(e.length<2)return n.push({message:"position must have 2 or more elements",line:e.__line__||r});if(e.length>3)return n.push({message:"position should not have more than 3 elements",level:"message",line:e.__line__||r});if(!u(e,"number"))return n.push({message:"each element in a position must be a number",line:e.__line__||r});if(t&&t.precisionWarning){if(a===i)return a+=1,n.push({message:"truncated warnings: we've encountered coordinate precision warning "+i+" times, no more warnings will be reported",level:"message",line:e.__line__||r});a<i&&e.forEach(function(t){var i=0,s=String(t).split(".")[1];if(void 0!==s&&(i=s.length),i>o)return a+=1,n.push({message:"precision of coordinates should be reduced",level:"message",line:e.__line__||r})})}}function d(e,t,r,a){if(void 0===a&&void 0!==e.__line__&&(a=e.__line__),0===r)return l(e,a);if(1===r&&t)if("LinearRing"===t){if(!Array.isArray(e[e.length-1]))return n.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:a}),!0;if(e.length<4&&n.push({message:"a LinearRing of coordinates needs to have four or more positions",line:a}),e.length&&(e[e.length-1].length!==e[0].length||!e[e.length-1].every(function(t,n){return e[0][n]===t})))return n.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:a}),!0}else if("Line"===t&&e.length<2)return n.push({message:"a line needs to have two or more coordinates to be valid",line:a});if(Array.isArray(e))return e.map(function(e){return d(e,t,r-1,e.__line__||a)}).some(function(e){return e});n.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:a})}function p(e){e.crs&&("object"===typeof e.crs&&e.crs.properties&&"urn:ogc:def:crs:OGC:1.3:CRS84"===e.crs.properties.name?n.push({message:"old-style crs member is not recommended, this object is equivalent to the default and should be removed",line:e.__line__}):n.push({message:"old-style crs member is not recommended",line:e.__line__}))}function h(e){if(e.bbox)return Array.isArray(e.bbox)?(u(e.bbox,"number")||n.push({message:"each element in a bbox member must be a number",line:e.bbox.__line__}),4!==e.bbox.length&&6!==e.bbox.length&&n.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:e.bbox.__line__}),n.length):void n.push({message:"bbox member must be an array of numbers, but is a "+typeof e.bbox,line:e.__line__})}function f(e){p(e),h(e),void 0!==e.id&&"string"!==typeof e.id&&"number"!==typeof e.id&&n.push({message:'Feature "id" member must have a string or number value',line:e.__line__}),void 0!==e.features&&n.push({message:'Feature object cannot contain a "features" member',line:e.__line__}),void 0!==e.coordinates&&n.push({message:'Feature object cannot contain a "coordinates" member',line:e.__line__}),"Feature"!==e.type&&n.push({message:"GeoJSON features must have a type=feature member",line:e.__line__}),c(e,"properties","object"),c(e,"geometry","object")||e.geometry&&s(e.geometry)}var m={Point:function(e){var t;p(e),h(e),void 0!==(t=e).properties&&n.push({message:'geometry object cannot contain a "properties" member',line:t.__line__}),void 0!==t.geometry&&n.push({message:'geometry object cannot contain a "geometry" member',line:t.__line__}),void 0!==t.features&&n.push({message:'geometry object cannot contain a "features" member',line:t.__line__}),c(e,"coordinates","array")||l(e.coordinates)},Feature:f,MultiPoint:function(e){p(e),h(e),c(e,"coordinates","array")||d(e.coordinates,"",1)},LineString:function(e){p(e),h(e),c(e,"coordinates","array")||d(e.coordinates,"Line",1)},MultiLineString:function(e){p(e),h(e),c(e,"coordinates","array")||d(e.coordinates,"Line",2)},FeatureCollection:function(e){if(p(e),h(e),void 0!==e.properties&&n.push({message:'FeatureCollection object cannot contain a "properties" member',line:e.__line__}),void 0!==e.coordinates&&n.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:e.__line__}),!c(e,"features","array")){if(!u(e.features,"object"))return n.push({message:"Every feature must be an object",line:e.__line__});e.features.forEach(f)}},GeometryCollection:function(e){p(e),h(e),c(e,"geometries","array")||(u(e.geometries,"object")||n.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:e.__line__}),1===e.geometries.length&&n.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:e.geometries.__line__}),e.geometries.forEach(function(t){t&&("GeometryCollection"===t.type&&n.push({message:"GeometryCollection should avoid nested geometry collections",line:e.geometries.__line__}),s(t))}))},Polygon:function(e){p(e),h(e),c(e,"coordinates","array")||d(e.coordinates,"LinearRing",2)||r(e,n)},MultiPolygon:function(e){p(e),h(e),c(e,"coordinates","array")||d(e.coordinates,"LinearRing",3)||r(e,n)}},v=Object.keys(m).reduce(function(e,t){return e[t.toLowerCase()]=t,e},{});return"object"!==typeof e||null===e||void 0===e?(n.push({message:"The root of a GeoJSON object must be an object.",line:0}),n):(s(e),n.forEach(function(e){({}).hasOwnProperty.call(e,"line")&&void 0===e.line&&delete e.line}),n)}},function(e,t){function n(e){return e*Math.PI/180}function r(e){var t=0;if(e.length>2)for(var r,a,i=0;i<e.length-1;i++)r=e[i],t+=n((a=e[i+1])[0]-r[0])*(2+Math.sin(n(r[1]))+Math.sin(n(a[1])));return t>=0}function a(e){if(e&&e.length>0){if(r(e[0]))return!1;if(!e.slice(1,e.length).every(r))return!1}return!0}e.exports=function(e,t){(function(e){return"Polygon"===e.type?a(e.coordinates):"MultiPolygon"===e.type?e.coordinates.every(a):void 0})(e)||t.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:e.__line__})}},function(e,t,n){},,,function(e,t,n){"use strict";(function(e){var t,r=n(5),a=n(11),i=n(42),o=function(){return n(703)};var s=function(){function s(){Object(r.a)(this,s),this.util=n(704),this.textEncoder=new this.util.TextEncoder}return Object(a.a)(s,[{key:"fetch",value:function(e,n){return null!=Object(i.b)().global.fetch?Object(i.b)().global.fetch(e,n):(null==t&&(t=o()),t(e,n))}},{key:"now",value:function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}},{key:"isTypedArray",value:function(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}]),s}();Object(i.b)().get("IS_NODE")&&!Object(i.b)().get("IS_BROWSER")&&Object(i.b)().setPlatform("node",new s)}).call(this,n(197))},,,function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(118)&&n(198)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e,n(118))}).call(this,n(152)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(118)&&n(198)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e,n(118))}).call(this,n(152)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(118)&&n(198)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e,n(118))}).call(this,n(152)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(118)&&n(198)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e,n(118))}).call(this,n(152)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=s[127&i]^=r+o)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=o,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(118)&&n(198)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e,n(118))}).call(this,n(152)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(118)&&n(198)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e,n(118))}).call(this,n(152)(e))},function(e,t,n){var r;!function(a,i,o){var s,u=256,c=6,l="random",d=o.pow(u,c),p=o.pow(2,52),h=2*p,f=u-1;function m(e,t,n){var r=[],f=A(function e(t,n){var r,a=[],i=typeof t;if(n&&"object"==i)for(r in t)try{a.push(e(t[r],n-1))}catch(o){}return a.length?a:"string"==i?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(a.crypto||a.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,y(i)]}}():e,3),r),m=new v(r),b=function(){for(var e=m.g(c),t=d,n=0;e<p;)e=(e+n)*u,t*=u,n=m.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|m.g(4)},b.quick=function(){return m.g(4)/4294967296},b.double=b,A(y(m.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&g(r,m),e.state=function(){return g(m,{})}),n?(o[l]=e,t):e})(b,f,"global"in t?t.global:this==o,t.state)}function v(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<u;)o[a]=a++;for(a=0;a<u;a++)o[a]=o[i=f&i+e[a%n]+(t=o[a])],o[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;)t=o[a=f&a+1],n=n*u+o[f&(o[a]=o[i=f&i+t])+(o[i]=t)];return r.i=a,r.j=i,n})(u)}function g(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function A(e,t){for(var n,r=e+"",a=0;a<r.length;)t[f&a]=f&(n^=19*t[f&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(A(o.random(),i),e.exports){e.exports=m;try{s=n(712)}catch(b){}}else void 0===(r=function(){return m}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},,function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(714),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(91))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a=1,i={},o=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[a]=o,r(a),a++},u.clearImmediate=c}function c(e){delete i[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=i[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(91),n(197))},,,,function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=1,a=2,i=3,o=4,s=5,u=484813681109536e-20,c=Math.PI/2,l=.16666666666666666,d=.04722222222222222,p=.022156084656084655,h=1e-10,f=.017453292519943295,m=57.29577951308232,v=Math.PI/4,g=2*Math.PI,A=3.14159265359,y={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},b={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},x=/[\s_\-\/\(\)]/g;function w(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),a=t.toLowerCase().replace(x,""),i=-1;++i<r.length;)if((n=r[i]).toLowerCase().replace(x,"")===a)return e[n]}var _=function(e){var t,n,r,a={},i=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),o={proj:"projName",datum:"datumCode",rf:function(e){a.rf=parseFloat(e)},lat_0:function(e){a.lat0=e*f},lat_1:function(e){a.lat1=e*f},lat_2:function(e){a.lat2=e*f},lat_ts:function(e){a.lat_ts=e*f},lon_0:function(e){a.long0=e*f},lon_1:function(e){a.long1=e*f},lon_2:function(e){a.long2=e*f},alpha:function(e){a.alpha=parseFloat(e)*f},gamma:function(e){a.rectified_grid_angle=parseFloat(e)},lonc:function(e){a.longc=e*f},x_0:function(e){a.x0=parseFloat(e)},y_0:function(e){a.y0=parseFloat(e)},k_0:function(e){a.k0=parseFloat(e)},k:function(e){a.k0=parseFloat(e)},a:function(e){a.a=parseFloat(e)},b:function(e){a.b=parseFloat(e)},r_a:function(){a.R_A=!0},zone:function(e){a.zone=parseInt(e,10)},south:function(){a.utmSouth=!0},towgs84:function(e){a.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){a.to_meter=parseFloat(e)},units:function(e){a.units=e;var t=w(b,e);t&&(a.to_meter=t.to_meter)},from_greenwich:function(e){a.from_greenwich=e*f},pm:function(e){var t=w(y,e);a.from_greenwich=(t||parseFloat(e))*f},nadgrids:function(e){"@null"===e?a.datumCode="none":a.nadgrids=e},axis:function(e){3===e.length&&-1!=="ewnsud".indexOf(e.substr(0,1))&&-1!=="ewnsud".indexOf(e.substr(1,1))&&-1!=="ewnsud".indexOf(e.substr(2,1))&&(a.axis=e)},approx:function(){a.approx=!0}};for(t in i)n=i[t],t in o?"function"===typeof(r=o[t])?r(n):a[r]=n:a[t]=n;return"string"===typeof a.datumCode&&"WGS84"!==a.datumCode&&(a.datumCode=a.datumCode.toLowerCase()),a},k=function(e){return new j(e).output()},O=1,E=/\s/,S=/[A-Za-z]/,C=/[A-Za-z84_]/,T=/[,\]]/,I=/[\d\.E\-\+]/;function j(e){if("string"!==typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=O}function M(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,a=n.reduce(function(e,t){return N(t,e),e},r);t&&(e[t]=a)}function N(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void N(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var r;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&N(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&N(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void M(t,n,e);default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return N(e,t[n]);return M(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}j.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;E.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case O:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},j.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(T.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},j.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=O)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=O,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},j.prototype.number=function(e){if(!I.test(e)){if(T.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},j.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},j.prototype.keyword=function(e){if(C.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=O)}if(!T.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},j.prototype.neutral=function(e){if(S.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(I.test(e))return this.word=e,void(this.state=3);if(!T.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},j.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var D=.017453292519943295;function R(e){return e*D}var P=function(e){var t=k(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var a={};return N(t,a),function(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"===typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,r=e.AXIS.length;n<r;++n){var a=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];-1!==a[0].indexOf("north")||("y"===a[0]||"lat"===a[0])&&"north"===a[1]?t+="n":-1!==a[0].indexOf("south")||("y"===a[0]||"lat"===a[0])&&"south"===a[1]?t+="s":-1!==a[0].indexOf("east")||("x"===a[0]||"lon"===a[0])&&"east"===a[1]?t+="e":-1===a[0].indexOf("west")&&("x"!==a[0]&&"lon"!==a[0]||"west"!==a[1])||(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var i=e.GEOGCS;function o(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(i=e),i&&(i.DATUM?e.datumCode=i.DATUM.name.toLowerCase():e.datumCode=i.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(e.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=i.DATUM.SPHEROID.a,e.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),i.DATUM&&i.DATUM.TOWGS84&&(e.datum_params=i.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",R],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",R],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",R],["lat0","latitude_of_origin",R],["lat0","standard_parallel_1",R],["lat1","standard_parallel_1",R],["lat2","standard_parallel_2",R],["azimuth","Azimuth"],["alpha","azimuth",R],["srsCode","name"]].forEach(function(t){return function(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}(e,t)}),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName?!e.lat_ts&&e.lat0&&"Polar_Stereographic"===e.projName&&(e.lat_ts=e.lat0,e.lat0=R(e.lat0>0?90:-90)):(e.lat0=R(e.lat1>0?90:-90),e.lat_ts=e.lat1)}(a),a};function L(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?L[e]=_(arguments[1]):L[e]=P(arguments[1]):L[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?L.apply(t,e):L(e)});if("string"===typeof e){if(e in L)return L[e]}else"EPSG"in e?L["EPSG:"+e.EPSG]=e:"ESRI"in e?L["ESRI:"+e.ESRI]=e:"IAU2000"in e?L["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(L);var F=L;var B=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var z=["3857","900913","3785","102113"];var U=function(e){if(!function(e){return"string"===typeof e}(e))return e;if(function(e){return e in F}(e))return F[e];if(function(e){return B.some(function(t){return e.indexOf(t)>-1})}(e)){var t=P(e);if(function(e){var t=w(e,"authority");if(t){var n=w(t,"epsg");return n&&z.indexOf(n)>-1}}(t))return F["EPSG:3857"];var n=function(e){var t=w(e,"extension");if(t)return w(t,"proj4")}(t);return n?_(n):t}return function(e){return"+"===e[0]}(e)?_(e):void 0},V=function(e,t){var n,r;if(e=e||{},!t)return e;for(r in t)void 0!==(n=t[r])&&(e[r]=n);return e},W=function(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)},G=function(e){return e<0?-1:1},H=function(e){return Math.abs(e)<=A?e:e-G(e)*g},q=function(e,t,n){var r=e*n,a=.5*e;return r=Math.pow((1-r)/(1+r),a),Math.tan(.5*(c-t))/r},K=function(e,t){for(var n,r,a=.5*e,i=c-2*Math.atan(t),o=0;o<=15;o++)if(n=e*Math.sin(i),i+=r=c-2*Math.atan(t*Math.pow((1-n)/(1+n),a))-i,Math.abs(r)<=1e-10)return i;return-9999};function X(e){return e}var Q=[{init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=W(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,n,r=e.x,a=e.y;if(a*m>90&&a*m<-90&&r*m>180&&r*m<-180)return null;if(Math.abs(Math.abs(a)-c)<=h)return null;if(this.sphere)t=this.x0+this.a*this.k0*H(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(v+.5*a));else{var i=Math.sin(a),o=q(this.e,a,i);t=this.x0+this.a*this.k0*H(r-this.long0),n=this.y0-this.a*this.k0*Math.log(o)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r=e.x-this.x0,a=e.y-this.y0;if(this.sphere)n=c-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var i=Math.exp(-a/(this.a*this.k0));if(-9999===(n=K(this.e,i)))return null}return t=H(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:X,inverse:X,names:["longlat","identity"]}],Y={},$=[];function Z(e,t){var n=$.length;return e.names?($[n]=e,e.names.forEach(function(e){Y[e.toLowerCase()]=n}),this):(console.log(t),!0)}var J={start:function(){Q.forEach(Z)},add:Z,get:function(e){if(!e)return!1;var t=e.toLowerCase();return"undefined"!==typeof Y[t]&&$[Y[t]]?$[Y[t]]:void 0}},ee={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},te=ee.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ee.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var ne={};ne.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ne.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ne.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},ne.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},ne.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},ne.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},ne.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},ne.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},ne.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ne.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},ne.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},ne.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},ne.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},ne.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},ne.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},ne.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},ne.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var re=function(e,t,n,c,l,d,p){var h={};return h.datum_type=void 0===e||"none"===e?s:o,t&&(h.datum_params=t.map(parseFloat),0===h.datum_params[0]&&0===h.datum_params[1]&&0===h.datum_params[2]||(h.datum_type=r),h.datum_params.length>3&&(0===h.datum_params[3]&&0===h.datum_params[4]&&0===h.datum_params[5]&&0===h.datum_params[6]||(h.datum_type=a,h.datum_params[3]*=u,h.datum_params[4]*=u,h.datum_params[5]*=u,h.datum_params[6]=h.datum_params[6]/1e6+1))),p&&(h.datum_type=i,h.grids=p),h.a=n,h.b=c,h.es=l,h.ep2=d,h},ae={};function ie(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:ae[e]||null,isNull:!1}}function oe(e){return e/3600*Math.PI/180}function se(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function ue(e){return e.map(function(e){return[oe(e.longitudeShift),oe(e.latitudeShift)]})}function ce(e,t,n){return{name:se(e,t+8,t+16).trim(),parent:se(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function le(e,t,n,r){for(var a=t+176,i=[],o=0;o<n.gridNodeCount;o++){var s={latitudeShift:e.getFloat32(a+16*o,r),longitudeShift:e.getFloat32(a+16*o+4,r),latitudeAccuracy:e.getFloat32(a+16*o+8,r),longitudeAccuracy:e.getFloat32(a+16*o+12,r)};i.push(s)}return i}function de(e,t){if(!(this instanceof de))return new de(e);t=t||function(e){if(e)throw e};var n=U(e);if("object"===typeof n){var r=de.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var a=w(ne,n.datumCode);a&&(n.datum_params=n.datum_params||(a.towgs84?a.towgs84.split(","):null),n.ellps=a.ellipse,n.datumName=a.datumName?a.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var i=function(e,t,n,r,a){if(!e){var i=w(ee,r);i||(i=te),e=i.a,t=i.b,n=i.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<h)&&(a=!0,t=e),{a:e,b:t,rf:n,sphere:a}}(n.a,n.b,n.rf,n.ellps,n.sphere),o=function(e,t,n,r){var a=e*e,i=t*t,o=(a-i)/a,s=0;return r?(a=(e*=1-o*(l+o*(d+o*p)))*e,o=0):s=Math.sqrt(o),{es:o,e:s,ep2:(a-i)/i}}(i.a,i.b,i.rf,n.R_A),s=function(e){return void 0===e?null:e.split(",").map(ie)}(n.nadgrids),u=n.datum||re(n.datumCode,n.datum_params,i.a,i.b,o.es,o.ep2,s);V(this,n),V(this,r),this.a=i.a,this.b=i.b,this.rf=i.rf,this.sphere=i.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=u,this.init(),t(null,this)}else t(e)}else t(e)}de.projections=J,de.projections.start();var pe=de;function he(e,t,n){var r,a,i,o,s=e.x,u=e.y,l=e.z?e.z:0;if(u<-c&&u>-1.001*c)u=-c;else if(u>c&&u<1.001*c)u=c;else{if(u<-c)return{x:-1/0,y:-1/0,z:e.z};if(u>c)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),a=Math.sin(u),o=Math.cos(u),i=a*a,{x:((r=n/Math.sqrt(1-t*i))+l)*o*Math.cos(s),y:(r+l)*o*Math.sin(s),z:(r*(1-t)+l)*a}}function fe(e,t,n,r){var a,i,o,s,u,l,d,p,h,f,m,v,g,A,y,b=e.x,x=e.y,w=e.z?e.z:0;if(a=Math.sqrt(b*b+x*x),i=Math.sqrt(b*b+x*x+w*w),a/n<1e-12){if(A=0,i/n<1e-12)return c,y=-r,{x:e.x,y:e.y,z:e.z}}else A=Math.atan2(x,b);o=w/i,p=(s=a/i)*(1-t)*(u=1/Math.sqrt(1-t*(2-t)*s*s)),h=o*u,g=0;do{g++,l=t*(d=n/Math.sqrt(1-t*h*h))/(d+(y=a*p+w*h-d*(1-t*h*h))),v=(m=o*(u=1/Math.sqrt(1-l*(2-l)*s*s)))*p-(f=s*(1-l)*u)*h,p=f,h=m}while(v*v>1e-24&&g<30);return{x:A,y:Math.atan(m/Math.abs(f)),z:y}}function me(e){return e===r||e===a}var ve=function(e,t,n){if(function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===r?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==a||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t))return n;if(e.datum_type===s||t.datum_type===s)return n;var o=e.a,u=e.es;if(e.datum_type===i){if(0!==ge(e,!1,n))return;o=6378137,u=.0066943799901413165}var c=t.a,l=t.b,d=t.es;if(t.datum_type===i&&(c=6378137,l=6356752.314,d=.0066943799901413165),u===d&&o===c&&!me(e.datum_type)&&!me(t.datum_type))return n;if((n=he(n,u,o),me(e.datum_type)&&(n=function(e,t,n){if(t===r)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===a){var i=n[0],o=n[1],s=n[2],u=n[3],c=n[4],l=n[5],d=n[6];return{x:d*(e.x-l*e.y+c*e.z)+i,y:d*(l*e.x+e.y-u*e.z)+o,z:d*(-c*e.x+u*e.y+e.z)+s}}}(n,e.datum_type,e.datum_params)),me(t.datum_type)&&(n=function(e,t,n){if(t===r)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===a){var i=n[0],o=n[1],s=n[2],u=n[3],c=n[4],l=n[5],d=n[6],p=(e.x-i)/d,h=(e.y-o)/d,f=(e.z-s)/d;return{x:p+l*h-c*f,y:-l*p+h+u*f,z:c*p-u*h+f}}}(n,t.datum_type,t.datum_params)),n=fe(n,d,c,l),t.datum_type===i)&&0!==ge(t,!0,n))return;return n};function ge(e,t,n){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;for(var r={x:-n.x,y:n.y},a={x:Number.NaN,y:Number.NaN},i=[],o=0;o<e.grids.length;o++){var s=e.grids[o];if(i.push(s.name),s.isNull){a=r;break}if(s.mandatory,null!==s.grid){var u=s.grid.subgrids[0],c=(Math.abs(u.del[1])+Math.abs(u.del[0]))/1e4,l=u.ll[0]-c,d=u.ll[1]-c,p=u.ll[0]+(u.lim[0]-1)*u.del[0]+c,h=u.ll[1]+(u.lim[1]-1)*u.del[1]+c;if(!(d>r.y||l>r.x||h<r.y||p<r.x)&&(a=Ae(r,t,u),!isNaN(a.x)))break}else if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1}return isNaN(a.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*m+" "+r.y*m+" tried: '"+i+"'"),-1):(n.x=-a.x,n.y=a.y,0)}function Ae(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var a={x:e.x,y:e.y};a.x-=n.ll[0],a.y-=n.ll[1],a.x=H(a.x-Math.PI)+Math.PI;var i=ye(a,n);if(t){if(isNaN(i.x))return r;i.x=a.x-i.x,i.y=a.y-i.y;var o,s,u=9;do{if(s=ye(i,n),isNaN(s.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}o={x:a.x-(s.x+i.x),y:a.y-(s.y+i.y)},i.x+=o.x,i.y+=o.y}while(u--&&Math.abs(o.x)>1e-12&&Math.abs(o.y)>1e-12);if(u<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=H(i.x+n.ll[0]),r.y=i.y+n.ll[1]}else isNaN(i.x)||(r.x=e.x+i.x,r.y=e.y+i.y);return r}function ye(e,t){var n,r={x:e.x/t.del[0],y:e.y/t.del[1]},a=Math.floor(r.x),i=Math.floor(r.y),o=r.x-1*a,s=r.y-1*i,u={x:Number.NaN,y:Number.NaN};if(a<0||a>=t.lim[0])return u;if(i<0||i>=t.lim[1])return u;n=i*t.lim[0]+a;var c=t.cvs[n][0],l=t.cvs[n][1];n++;var d=t.cvs[n][0],p=t.cvs[n][1];n+=t.lim[0];var h=t.cvs[n][0],f=t.cvs[n][1];n--;var m=t.cvs[n][0],v=t.cvs[n][1],g=o*s,A=o*(1-s),y=(1-o)*(1-s),b=(1-o)*s;return u.x=y*c+A*d+b*m+g*h,u.y=y*l+A*p+b*v+g*f,u}var be=function(e,t,n){var r,a,i,o=n.x,s=n.y,u=n.z||0,c={};for(i=0;i<3;i++)if(!t||2!==i||void 0!==n.z)switch(0===i?(r=o,a=-1!=="ew".indexOf(e.axis[i])?"x":"y"):1===i?(r=s,a=-1!=="ns".indexOf(e.axis[i])?"y":"x"):(r=u,a="z"),e.axis[i]){case"e":c[a]=r;break;case"w":c[a]=-r;break;case"n":c[a]=r;break;case"s":c[a]=-r;break;case"u":void 0!==n[a]&&(c.z=r);break;case"d":void 0!==n[a]&&(c.z=-r);break;default:return null}return c},xe=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},we=function(e){_e(e.x),_e(e.y)};function _e(e){if("function"===typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function ke(e,t,n,o){var s,u=void 0!==(n=Array.isArray(n)?xe(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z;if(we(n),e.datum&&t.datum&&function(e,t){return(e.datum.datum_type===r||e.datum.datum_type===a||e.datum.datum_type===i)&&"WGS84"!==t.datumCode||(t.datum.datum_type===r||t.datum.datum_type===a||t.datum.datum_type===i)&&"WGS84"!==e.datumCode}(e,t)&&(n=ke(e,s=new pe("WGS84"),n,o),e=s),o&&"enu"!==e.axis&&(n=be(e,!1,n)),"longlat"===e.projName)n={x:n.x*f,y:n.y*f,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),!(n=e.inverse(n)))return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=ve(e.datum,t.datum,n))return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*m,y:n.y*m,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),o&&"enu"!==t.axis?be(t,!0,n):(u||delete n.z,n)}var Oe=pe("WGS84");function Ee(e,t,n,r){var a,i,o;return Array.isArray(n)?(a=ke(e,t,n,r)||{x:NaN,y:NaN},n.length>2?"undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name?"number"===typeof a.z?[a.x,a.y,a.z].concat(n.splice(3)):[a.x,a.y,n[2]].concat(n.splice(3)):[a.x,a.y].concat(n.splice(2)):[a.x,a.y]):(i=ke(e,t,n,r),2===(o=Object.keys(n)).length?i:(o.forEach(function(r){if("undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]}),i))}function Se(e){return e instanceof pe?e:e.oProj?e.oProj:pe(e)}var Ce=function(e,t,n){e=Se(e);var r,a=!1;return"undefined"===typeof t?(t=e,e=Oe,a=!0):("undefined"!==typeof t.x||Array.isArray(t))&&(n=t,t=e,e=Oe,a=!0),t=Se(t),n?Ee(e,t,n):(r={forward:function(n,r){return Ee(e,t,n,r)},inverse:function(n,r){return Ee(t,e,n,r)}},a&&(r.oProj=t),r)},Te=6,Ie="AJSAJS",je="AFAFAF",Me=65,Ne=73,De=79,Re=86,Pe=90,Le={forward:Fe,inverse:function(e){var t=Ve(He(e.toUpperCase()));if(t.lat&&t.lon)return[t.lon,t.lat,t.lon,t.lat];return[t.left,t.bottom,t.right,t.top]},toPoint:Be};function Fe(e,t){return t=t||5,function(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+function(e,t,n){var r=Ge(n),a=Math.floor(e/1e5),i=Math.floor(t/1e5)%20;return function(e,t,n){var r=n-1,a=Ie.charCodeAt(r),i=je.charCodeAt(r),o=a+e-1,s=i+t,u=!1;o>Pe&&(o=o-Pe+Me-1,u=!0);(o===Ne||a<Ne&&o>Ne||(o>Ne||a<Ne)&&u)&&o++;(o===De||a<De&&o>De||(o>De||a<De)&&u)&&++o===Ne&&o++;o>Pe&&(o=o-Pe+Me-1);s>Re?(s=s-Re+Me-1,u=!0):u=!1;(s===Ne||i<Ne&&s>Ne||(s>Ne||i<Ne)&&u)&&s++;(s===De||i<De&&s>De||(s>De||i<De)&&u)&&++s===Ne&&s++;s>Re&&(s=s-Re+Me-1);return String.fromCharCode(o)+String.fromCharCode(s)}(a,i,r)}(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}(function(e){var t,n,r,a,i,o,s,u=e.lat,c=e.lon,l=6378137,d=ze(u),p=ze(c);s=Math.floor((c+180)/6)+1,180===c&&(s=60);u>=56&&u<64&&c>=3&&c<12&&(s=32);u>=72&&u<84&&(c>=0&&c<9?s=31:c>=9&&c<21?s=33:c>=21&&c<33?s=35:c>=33&&c<42&&(s=37));o=ze(6*(s-1)-180+3),.006739496752268451,t=l/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),n=Math.tan(d)*Math.tan(d),r=.006739496752268451*Math.cos(d)*Math.cos(d),a=Math.cos(d)*(p-o),i=l*(.9983242984503243*d-.002514607064228144*Math.sin(2*d)+2639046602129982e-21*Math.sin(4*d)-3.418046101696858e-9*Math.sin(6*d));var h=.9996*t*(a+(1-n+r)*a*a*a/6+(5-18*n+n*n+72*r-.39089081163157013)*a*a*a*a*a/120)+5e5,f=.9996*(i+t*Math.tan(d)*(a*a/2+(5-n+9*r+4*r*r)*a*a*a*a/24+(61-58*n+n*n+600*r-2.2240339282485886)*a*a*a*a*a*a/720));u<0&&(f+=1e7);return{northing:Math.round(f),easting:Math.round(h),zoneNumber:s,zoneLetter:We(u)}}({lat:e[1],lon:e[0]}),t)}function Be(e){var t=Ve(He(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function ze(e){return e*(Math.PI/180)}function Ue(e){return e/Math.PI*180}function Ve(e){var t=e.northing,n=e.easting,r=e.zoneLetter,a=e.zoneNumber;if(a<0||a>60)return null;var i,o,s,u,c,l,d,p,h=6378137,f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=n-5e5,v=t;r<"N"&&(v-=1e7),l=6*(a-1)-180+3,p=(d=v/.9996/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*d)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*d)+151*f*f*f/96*Math.sin(6*d),i=h/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),o=Math.tan(p)*Math.tan(p),s=.006739496752268451*Math.cos(p)*Math.cos(p),u=.99330562*h/Math.pow(1-.00669438*Math.sin(p)*Math.sin(p),1.5),c=m/(.9996*i);var g=p-i*Math.tan(p)/u*(c*c/2-(5+3*o+10*s-4*s*s-.06065547077041606)*c*c*c*c/24+(61+90*o+298*s+45*o*o-1.6983531815716497-3*s*s)*c*c*c*c*c*c/720);g=Ue(g);var A,y=(c-(1+2*o+s)*c*c*c/6+(5-2*s+28*o-3*s*s+.05391597401814761+24*o*o)*c*c*c*c*c/120)/Math.cos(p);if(y=l+Ue(y),e.accuracy){var b=Ve({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});A={top:b.lat,right:b.lon,bottom:g,left:y}}else A={lat:g,lon:y};return A}function We(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function Ge(e){var t=e%Te;return 0===t&&(t=Te),t}function He(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,a="",i=0;!/[A-Z]/.test(t=e.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+e;a+=t,i++}var o=parseInt(a,10);if(0===i||i+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(i++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;r=e.substring(i,i+=2);for(var u=Ge(o),c=function(e,t){var n=Ie.charCodeAt(t-1),r=1e5,a=!1;for(;n!==e.charCodeAt(0);){if(++n===Ne&&n++,n===De&&n++,n>Pe){if(a)throw"Bad character: "+e;n=Me,a=!0}r+=1e5}return r}(r.charAt(0),u),l=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=je.charCodeAt(t-1),r=0,a=!1;for(;n!==e.charCodeAt(0);){if(++n===Ne&&n++,n===De&&n++,n>Re){if(a)throw"Bad character: "+e;n=Me,a=!0}r+=1e5}return r}(r.charAt(1),u);l<qe(s);)l+=2e6;var d=n-i;if(d%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var p,h,f,m=d/2,v=0,g=0;return m>0&&(p=1e5/Math.pow(10,m),h=e.substring(i,i+m),v=parseFloat(h)*p,f=e.substring(i+m),g=parseFloat(f)*p),{easting:v+c,northing:g+l,zoneLetter:s,zoneNumber:o,accuracy:p}}function qe(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Ke(e,t,n){if(!(this instanceof Ke))return new Ke(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"===typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"===typeof e&&"undefined"===typeof t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ke.fromMGRS=function(e){return new Ke(Be(e))},Ke.prototype.toMGRS=function(e){return Fe([this.x,this.y],e)};var Xe=Ke,Qe=.01068115234375,Ye=function(e){var t=[];t[0]=1-e*(.25+e*(.046875+e*(.01953125+e*Qe))),t[1]=e*(.75-e*(.046875+e*(.01953125+e*Qe)));var n=e*e;return t[2]=n*(.46875-e*(.013020833333333334+.007120768229166667*e)),n*=e,t[3]=n*(.3645833333333333-.005696614583333333*e),t[4]=n*e*.3076171875,t},$e=function(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))},Ze=function(e,t,n){for(var r=1/(1-t),a=e,i=20;i;--i){var o=Math.sin(a),s=1-t*o*o;if(a-=s=($e(a,o,Math.cos(a),n)-e)*(s*Math.sqrt(s))*r,Math.abs(s)<h)return a}return a};var Je={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ye(this.es),this.ml0=$e(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,n,r,a=e.x,i=e.y,o=H(a-this.long0),s=Math.sin(i),u=Math.cos(i);if(this.es){var c=u*o,l=Math.pow(c,2),d=this.ep2*Math.pow(u,2),p=Math.pow(d,2),f=Math.abs(u)>h?Math.tan(i):0,m=Math.pow(f,2),v=Math.pow(m,2);t=1-this.es*Math.pow(s,2),c/=Math.sqrt(t);var g=$e(i,s,u,this.en);n=this.a*(this.k0*c*(1+l/6*(1-m+d+l/20*(5-18*m+v+14*d-58*m*d+l/42*(61+179*v-v*m-479*m)))))+this.x0,r=this.a*(this.k0*(g-this.ml0+s*o*c/2*(1+l/12*(5-m+9*d+4*p+l/30*(61+v-58*m+270*d-330*m*d+l/56*(1385+543*v-v*m-3111*m))))))+this.y0}else{var A=u*Math.sin(o);if(Math.abs(Math.abs(A)-1)<h)return 93;if(n=.5*this.a*this.k0*Math.log((1+A)/(1-A))+this.x0,r=u*Math.cos(o)/Math.sqrt(1-Math.pow(A,2)),(A=Math.abs(r))>=1){if(A-1>h)return 93;r=0}else r=Math.acos(r);i<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e},inverse:function(e){var t,n,r,a,i=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,n=Ze(t,this.es,this.en),Math.abs(n)<c){var s=Math.sin(n),u=Math.cos(n),l=Math.abs(u)>h?Math.tan(n):0,d=this.ep2*Math.pow(u,2),p=Math.pow(d,2),f=Math.pow(l,2),m=Math.pow(f,2);t=1-this.es*Math.pow(s,2);var v=i*Math.sqrt(t)/this.k0,g=Math.pow(v,2);r=n-(t*=l)*g/(1-this.es)*.5*(1-g/12*(5+3*f-9*d*f+d-4*p-g/30*(61+90*f-252*d*f+45*m+46*d-g/56*(1385+3633*f+4095*m+1574*m*f)))),a=H(this.long0+v*(1-g/6*(1+2*f+d-g/20*(5+28*f+24*m+8*d*f+6*d-g/42*(61+662*f+1320*m+720*m*f))))/u)}else r=c*G(o),a=0;else{var A=Math.exp(i/this.k0),y=.5*(A-1/A),b=this.lat0+o/this.k0,x=Math.cos(b);t=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(y,2))),r=Math.asin(t),o<0&&(r=-r),a=0===y&&0===x?0:H(Math.atan2(y,x)+this.long0)}return e.x=a,e.y=r,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},et=function(e){var t=Math.exp(e);return t=(t-1/t)/2},tt=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},nt=function(e){var t=Math.abs(e);return t=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}(t*(1+t/(tt(1,t)+1))),e<0?-t:t},rt=function(e,t){for(var n,r=2*Math.cos(2*t),a=e.length-1,i=e[a],o=0;--a>=0;)n=r*i-o+e[a],o=i,i=n;return t+n*Math.sin(2*t)},at=function(e,t){for(var n,r=2*Math.cos(t),a=e.length-1,i=e[a],o=0;--a>=0;)n=r*i-o+e[a],o=i,i=n;return Math.sin(t)*n},it=function(e,t,n){for(var r,a,i=Math.sin(t),o=Math.cos(t),s=et(n),u=function(e){var t=Math.exp(e);return t=(t+1/t)/2}(n),c=2*o*u,l=-2*i*s,d=e.length-1,p=e[d],h=0,f=0,m=0;--d>=0;)r=f,a=h,p=c*(f=p)-r-l*(h=m)+e[d],m=l*f-a+c*h;return[(c=i*u)*p-(l=o*s)*m,c*m+l*p]};var ot={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Je.init.apply(this),this.forward=Je.forward,this.inverse=Je.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=rt(this.cbg,this.lat0);this.Zb=-this.Qn*(r+at(this.gtu,2*r))},forward:function(e){var t=H(e.x-this.long0),n=e.y;n=rt(this.cbg,n);var r=Math.sin(n),a=Math.cos(n),i=Math.sin(t),o=Math.cos(t);n=Math.atan2(r,o*a),t=Math.atan2(i*a,tt(r,a*o)),t=nt(Math.tan(t));var s,u,c=it(this.gtu,2*n,2*t);return n+=c[0],t+=c[1],Math.abs(t)<=2.623395162778?(s=this.a*(this.Qn*t)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,u=1/0),e.x=s,e.y=u,e},inverse:function(e){var t,n,r=(e.x-this.x0)*(1/this.a),a=(e.y-this.y0)*(1/this.a);if(a=(a-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var i=it(this.utg,2*a,2*r);a+=i[0],r+=i[1],r=Math.atan(et(r));var o=Math.sin(a),s=Math.cos(a),u=Math.sin(r),c=Math.cos(r);a=Math.atan2(o*c,tt(u,c*s)),r=Math.atan2(u,c*s),t=H(r+this.long0),n=rt(this.cgb,a)}else t=1/0,n=1/0;return e.x=t,e.y=n,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},st=function(e,t){if(void 0===e){if((e=Math.floor(30*(H(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e};var ut={init:function(){var e=st(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*f,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ot.init.apply(this),this.forward=ot.forward,this.inverse=ot.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},ct=function(e,t){return Math.pow((1-e)/(1+e),t)},lt=20;var dt={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+v)/(Math.pow(Math.tan(.5*this.lat0+v),this.C)*ct(this.e*e,this.ratexp))},forward:function(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+v),this.C)*ct(this.e*Math.sin(n),this.ratexp))-c,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+v)/this.K,1/this.C),a=lt;a>0&&(n=2*Math.atan(r*ct(this.e*Math.sin(e.y),-.5*this.e))-c,!(Math.abs(n-e.y)<1e-14));--a)e.y=n;return a?(e.x=t,e.y=n,e):null},names:["gauss"]};var pt={init:function(){dt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,n,r,a;return e.x=H(e.x-this.long0),dt.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),a=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=a*n*Math.sin(e.x),e.y=a*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,n,r,a,i;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,i=Math.sqrt(e.x*e.x+e.y*e.y)){var o=2*Math.atan2(i,this.R2);t=Math.sin(o),n=Math.cos(o),a=Math.asin(n*this.sinc0+e.y*t*this.cosc0/i),r=Math.atan2(e.x*t,i*this.cosc0*n-e.y*this.sinc0*t)}else a=this.phic0,r=0;return e.x=r,e.y=a,dt.inverse.apply(this,[e]),e.x=H(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var ht={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=h&&(this.k0=.5*(1+G(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=h&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=h&&(this.k0=.5*this.cons*W(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/q(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=W(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-c,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var t,n,r,a,i,o,s=e.x,u=e.y,l=Math.sin(u),d=Math.cos(u),p=H(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=h&&Math.abs(u+this.lat0)<=h?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*l+this.coslat0*d*Math.cos(p)),e.x=this.a*t*d*Math.sin(p)+this.x0,e.y=this.a*t*(this.coslat0*l-this.sinlat0*d*Math.cos(p))+this.y0,e):(n=2*Math.atan(this.ssfn_(u,l,this.e))-c,a=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=h?(i=q(this.e,u*this.con,this.con*l),o=2*this.a*this.k0*i/this.cons,e.x=this.x0+o*Math.sin(s-this.long0),e.y=this.y0-this.con*o*Math.cos(s-this.long0),e):(Math.abs(this.sinlat0)<h?(t=2*this.a*this.k0/(1+a*Math.cos(p)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*a*Math.cos(p))),e.y=t*(this.cosX0*r-this.sinX0*a*Math.cos(p))+this.y0),e.x=t*a*Math.sin(p)+this.x0,e))},inverse:function(e){var t,n,r,a,i;e.x-=this.x0,e.y-=this.y0;var o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,n=this.lat0,o<=h?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(s)*this.sinlat0+e.y*Math.sin(s)*this.coslat0/o),t=Math.abs(this.coslat0)<h?this.lat0>0?H(this.long0+Math.atan2(e.x,-1*e.y)):H(this.long0+Math.atan2(e.x,e.y)):H(this.long0+Math.atan2(e.x*Math.sin(s),o*this.coslat0*Math.cos(s)-e.y*this.sinlat0*Math.sin(s))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=h){if(o<=h)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),n=this.con*K(this.e,r),t=this.con*H(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else a=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=h?i=this.X0:(i=Math.asin(Math.cos(a)*this.sinX0+e.y*Math.sin(a)*this.cosX0/o),t=H(this.long0+Math.atan2(e.x*Math.sin(a),o*this.cosX0*Math.cos(a)-e.y*this.sinX0*Math.sin(a)))),n=-1*K(this.e,Math.tan(.5*(c+i)));return e.x=t,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(e,t,n){return t*=n,Math.tan(.5*(c+e))*Math.pow((1-t)/(1+t),.5*n)}};var ft={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=1/this.rf,a=2*r-Math.pow(r,2),i=this.e=Math.sqrt(a);this.R=this.k0*n*Math.sqrt(1-a)/(1-a*Math.pow(t,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+e/2)),u=Math.log((1+i*t)/(1-i*t));this.K=o-this.alpha*s+this.alpha*i/2*u},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,a=2*(Math.atan(Math.exp(r))-Math.PI/4),i=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(i)/(Math.sin(this.b0)*Math.tan(a)+Math.cos(this.b0)*Math.cos(i))),s=Math.asin(Math.cos(this.b0)*Math.sin(a)-Math.sin(this.b0)*Math.cos(a)*Math.cos(i));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*o+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,a=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(a)+Math.sin(this.b0)*Math.cos(a)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(a))),s=this.lambda0+o/this.alpha,u=0,c=i,l=-1e3,d=0;Math.abs(c-l)>1e-7;){if(++d>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),l=c,c=2*Math.atan(Math.exp(u))-Math.PI/2}return e.x=s,e.y=c,e},names:["somerc"]},mt=1e-7;var vt={init:function(){var e,t,n,r,a,i,o,s,u,l,d,p=0,m=0,A=0,y=0,b=0,x=0,w=0;this.no_off=function(e){var t="object"===typeof e.PROJECTION?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(t)}(this),this.no_rot="no_rot"in this;var _=!1;"alpha"in this&&(_=!0);var k=!1;if("rectified_grid_angle"in this&&(k=!0),_&&(w=this.alpha),k&&(p=this.rectified_grid_angle*f),_||k)m=this.longc;else if(A=this.long1,b=this.lat1,y=this.long2,x=this.lat2,Math.abs(b-x)<=mt||(e=Math.abs(b))<=mt||Math.abs(e-c)<=mt||Math.abs(Math.abs(this.lat0)-c)<=mt||Math.abs(Math.abs(x)-c)<=mt)throw new Error;var O=1-this.es;t=Math.sqrt(O),Math.abs(this.lat0)>h?(s=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*s*s,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/O),this.A=this.B*this.k0*t/e,(a=(r=this.B*t/(n*Math.sqrt(e)))*r-1)<=0?a=0:(a=Math.sqrt(a),this.lat0<0&&(a=-a)),this.E=a+=r,this.E*=Math.pow(q(this.e,this.lat0,s),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=a=1),_||k?(_?(d=Math.asin(Math.sin(w)/r),k||(p=w)):(d=p,w=Math.asin(r*Math.sin(d))),this.lam0=m-Math.asin(.5*(a-1/a)*Math.tan(d))/this.B):(i=Math.pow(q(this.e,b,Math.sin(b)),this.B),o=Math.pow(q(this.e,x,Math.sin(x)),this.B),a=this.E/i,u=(o-i)/(o+i),l=((l=this.E*this.E)-o*i)/(l+o*i),(e=A-y)<-Math.pi?y-=g:e>Math.pi&&(y+=g),this.lam0=H(.5*(A+y)-Math.atan(l*Math.tan(.5*this.B*(A-y))/u)/this.B),d=Math.atan(2*Math.sin(this.B*H(A-this.lam0))/(a-1/a)),p=w=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),a=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(v-a)),this.v_pole_s=this.ArB*Math.log(Math.tan(v+a))},forward:function(e){var t,n,r,a,i,o,s,u,l={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-c)>h){if(t=.5*((i=this.E/Math.pow(q(this.e,e.y,Math.sin(e.y)),this.B))-(o=1/i)),n=.5*(i+o),a=Math.sin(this.B*e.x),r=(t*this.singam-a*this.cosgam)/n,Math.abs(Math.abs(r)-1)<h)throw new Error;u=.5*this.ArB*Math.log((1-r)/(1+r)),o=Math.cos(this.B*e.x),s=Math.abs(o)<mt?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+a*this.singam,o)}else u=e.y>0?this.v_pole_n:this.v_pole_s,s=this.ArB*e.y;return this.no_rot?(l.x=s,l.y=u):(s-=this.u_0,l.x=u*this.cosrot+s*this.sinrot,l.y=s*this.cosrot-u*this.sinrot),l.x=this.a*l.x+this.x0,l.y=this.a*l.y+this.y0,l},inverse:function(e){var t,n,r,a,i,o,s,u={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),a=.5*((r=Math.exp(-this.BrA*n))-1/r),i=.5*(r+1/r),s=((o=Math.sin(this.BrA*t))*this.cosgam+a*this.singam)/i,Math.abs(Math.abs(s)-1)<h)u.x=0,u.y=s<0?-c:c;else{if(u.y=this.E/Math.sqrt((1+s)/(1-s)),u.y=K(this.e,Math.pow(u.y,1/this.B)),u.y===1/0)throw new Error;u.x=-this.rB*Math.atan2(a*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return u.x+=this.lam0,u},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var gt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<h)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=W(this.e,t,n),a=q(this.e,this.lat1,t),i=Math.sin(this.lat2),o=Math.cos(this.lat2),s=W(this.e,i,o),u=q(this.e,this.lat2,i),c=q(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>h?this.ns=Math.log(r/s)/Math.log(a/u):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=h&&(n=G(n)*(c-2*h));var r,a,i=Math.abs(Math.abs(n)-c);if(i>h)r=q(this.e,n,Math.sin(n)),a=this.a*this.f0*Math.pow(r,this.ns);else{if((i=n*this.ns)<=0)return null;a=0}var o=this.ns*H(t-this.long0);return e.x=this.k0*(a*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-a*Math.cos(o))+this.y0,e},inverse:function(e){var t,n,r,a,i,o=(e.x-this.x0)/this.k0,s=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+s*s),n=1):(t=-Math.sqrt(o*o+s*s),n=-1);var u=0;if(0!==t&&(u=Math.atan2(n*o,n*s)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),-9999===(a=K(this.e,r)))return null}else a=-c;return i=H(u/this.ns+this.long0),e.x=i,e.y=a,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};var At={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,n,r,a,i,o,s,u=e.x,c=e.y,l=H(u-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-l*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(a)),o=this.n*i,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),e.y=s*Math.cos(o)/1,e.x=s*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,n,r,a,i,o,s,u=e.x;e.x=e.y,e.y=u,this.czech||(e.y*=-1,e.x*=-1),i=Math.sqrt(e.x*e.x+e.y*e.y),a=Math.atan2(e.y,e.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/i,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(a)),n=Math.asin(Math.cos(r)*Math.sin(a)/Math.cos(t)),e.x=this.long0-n/this.alfa,o=t,s=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-e.y)<1e-10&&(s=1),o=e.y,c+=1}while(0===s&&c<15);return c>=15?null:e},names:["Krovak","krovak"]},yt=function(e,t,n,r,a){return e*a-t*Math.sin(2*a)+n*Math.sin(4*a)-r*Math.sin(6*a)},bt=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},xt=function(e){return.375*e*(1+.25*e*(1+.46875*e))},wt=function(e){return.05859375*e*e*(1+.75*e)},_t=function(e){return e*e*e*(35/3072)},kt=function(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)},Ot=function(e){return Math.abs(e)<c?e:e-G(e)*Math.PI},Et=function(e,t,n,r,a){var i,o;i=e/t;for(var s=0;s<15;s++)if(i+=o=(e-(t*i-n*Math.sin(2*i)+r*Math.sin(4*i)-a*Math.sin(6*i)))/(t-2*n*Math.cos(2*i)+4*r*Math.cos(4*i)-6*a*Math.cos(6*i)),Math.abs(o)<=1e-10)return i;return NaN};var St={init:function(){this.sphere||(this.e0=bt(this.es),this.e1=xt(this.es),this.e2=wt(this.es),this.e3=_t(this.es),this.ml0=this.a*yt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,n,r=e.x,a=e.y;if(r=H(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(a)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(a),Math.cos(r))-this.lat0);else{var i=Math.sin(a),o=Math.cos(a),s=kt(this.a,this.e,i),u=Math.tan(a)*Math.tan(a),c=r*Math.cos(a),l=c*c,d=this.es*o*o/(1-this.es);t=s*c*(1-l*u*(1/6-(8-u+8*d)*l/120)),n=this.a*yt(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+s*i/o*l*(.5+(5-u+6*d)*l/24)}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,a=e.y/this.a;if(this.sphere){var i=a+this.lat0;t=Math.asin(Math.sin(i)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(i))}else{var o=this.ml0/this.a+a,s=Et(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-c)<=h)return e.x=this.long0,e.y=c,a<0&&(e.y*=-1),e;var u=kt(this.a,this.e,Math.sin(s)),l=u*u*u/this.a/this.a*(1-this.es),d=Math.pow(Math.tan(s),2),p=r*this.a/u,f=p*p;t=s-u*Math.tan(s)/l*p*p*(.5-(1+3*d)*p*p/24),n=p*(1-f*(d/3+(1+3*d)*d*f/15))/Math.cos(s)}return e.x=H(n+this.long0),e.y=Ot(t),e},names:["Cassini","Cassini_Soldner","cass"]},Ct=function(e,t){var n;return e>1e-7?(1-e*e)*(t/(1-(n=e*t)*n)-.5/e*Math.log((1-n)/(1+n))):2*t};var Tt=.3333333333333333,It=.17222222222222222,jt=.10257936507936508,Mt=.06388888888888888,Nt=.0664021164021164,Dt=.016415012942191543;var Rt={init:function(){var e,t=Math.abs(this.lat0);if(Math.abs(t-c)<h?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<h?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Ct(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,n=[];return n[0]=e*Tt,t=e*e,n[0]+=t*It,n[1]=t*Mt,t*=e,n[0]+=t*jt,n[1]+=t*Nt,n[2]=t*Dt,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Ct(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,n,r,a,i,o,s,u,l,d,p=e.x,f=e.y;if(p=H(p-this.long0),this.sphere){if(i=Math.sin(f),d=Math.cos(f),r=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+d*r:1+this.sinph0*i+this.cosph0*d*r)<=h)return null;t=(n=Math.sqrt(2/n))*d*Math.sin(p),n*=this.mode===this.EQUIT?i:this.cosph0*i-this.sinph0*d*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.lat0)<h)return null;n=v-.5*f,t=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(p),n*=r}}else{switch(s=0,u=0,l=0,r=Math.cos(p),a=Math.sin(p),i=Math.sin(f),o=Ct(this.e,i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=o/this.qp,u=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*u*r;break;case this.EQUIT:l=1+u*r;break;case this.N_POLE:l=c+f,o=this.qp-o;break;case this.S_POLE:l=f-c,o=this.qp+o}if(Math.abs(l)<h)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),n=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*s-this.sinb1*u*r):(l=Math.sqrt(2/(1+u*r)))*s*this.ymf,t=this.xmf*l*u*a;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(l=Math.sqrt(o))*a,n=r*(this.mode===this.S_POLE?l:-l)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,a,i,o,s,u=e.x/this.a,l=e.y/this.a;if(this.sphere){var d,p=0,f=0;if((n=.5*(d=Math.sqrt(u*u+l*l)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=h?0:Math.asin(l*f/d),u*=f,l=p*d;break;case this.OBLIQ:n=Math.abs(d)<=h?this.lat0:Math.asin(p*this.sinph0+l*f*this.cosph0/d),u*=f*this.cosph0,l=(p-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:l=-l,n=c-n;break;case this.S_POLE:n-=c}t=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,l):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,l*=this.dd,(o=Math.sqrt(u*u+l*l))<h)return e.x=this.long0,e.y=this.lat0,e;a=2*Math.asin(.5*o/this.rq),r=Math.cos(a),u*=a=Math.sin(a),this.mode===this.OBLIQ?(s=r*this.sinb1+l*a*this.cosb1/o,i=this.qp*s,l=o*this.cosb1*r-l*this.sinb1*a):(s=l*a/o,i=this.qp*s,l=o*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(i=u*u+l*l))return e.x=this.long0,e.y=this.lat0,e;s=1-i/this.qp,this.mode===this.S_POLE&&(s=-s)}t=Math.atan2(u,l),n=function(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}(Math.asin(s),this.apa)}return e.x=H(this.long0+t),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Pt=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)};var Lt={init:function(){Math.abs(this.lat1+this.lat2)<h||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=W(this.e3,this.sin_po,this.cos_po),this.qs1=Ct(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=W(this.e3,this.sin_po,this.cos_po),this.qs2=Ct(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ct(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>h?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Ct(this.e3,this.sin_phi),a=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,i=this.ns0*H(t-this.long0),o=a*Math.sin(i)+this.x0,s=this.rh-a*Math.cos(i)+this.y0;return e.x=o,e.y=s,e},inverse:function(e){var t,n,r,a,i,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),a=0,0!==t&&(a=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,n)),i=H(a/this.ns0+this.long0),e.x=i,e.y=o,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var n,r,a,i,o=Pt(.5*t);if(e<h)return o;for(var s=e*e,u=1;u<=25;u++)if(o+=i=.5*(a=1-(r=e*(n=Math.sin(o)))*r)*a/Math.cos(o)*(t/(1-s)-n/a+.5/e*Math.log((1-r)/(1+r))),Math.abs(i)<=1e-7)return o;return null}};var Ft={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,n,r,a,i,o,s,u=e.x,c=e.y;return r=H(u-this.long0),t=Math.sin(c),n=Math.cos(c),a=Math.cos(r),(i=this.sin_p14*t+this.cos_p14*n*a)>0||Math.abs(i)<=h?(o=this.x0+1*this.a*n*Math.sin(r)/i,s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*a)/i):(o=this.x0+this.infinity_dist*n*Math.sin(r),s=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*a)),e.x=o,e.y=s,e},inverse:function(e){var t,n,r,a,i,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(a=Math.atan2(t,this.rc),n=Math.sin(a),r=Math.cos(a),o=Pt(r*this.sin_p14+e.y*n*this.cos_p14/t),i=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),i=H(this.long0+i)):(o=this.phic0,i=0),e.x=i,e.y=o,e},names:["gnom"]},Bt=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*c:c;for(var r,a,i,o,s=Math.asin(.5*t),u=0;u<30;u++)if(a=Math.sin(s),i=Math.cos(s),o=e*a,s+=r=Math.pow(1-o*o,2)/(2*i)*(t/(1-e*e)-a/(1-o*o)+.5/e*Math.log((1-o)/(1+o))),Math.abs(r)<=1e-10)return s;return NaN};var zt={init:function(){this.sphere||(this.k0=W(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,n,r=e.x,a=e.y,i=H(r-this.long0);if(this.sphere)t=this.x0+this.a*i*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var o=Ct(this.e,Math.sin(a));t=this.x0+this.a*this.k0*i,n=this.y0+this.a*o*.5/this.k0}return e.x=t,e.y=n,e},inverse:function(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=H(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=Bt(this.e,2*e.y*this.k0/this.a),t=H(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e},names:["cea"]};var Ut={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,n=e.y,r=H(t-this.long0),a=Ot(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*a,e},inverse:function(e){var t=e.x,n=e.y;return e.x=H(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Ot(this.lat0+(n-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Vt=20;var Wt={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=bt(this.es),this.e1=xt(this.es),this.e2=wt(this.es),this.e3=_t(this.es),this.ml0=this.a*yt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,n,r,a=e.x,i=e.y,o=H(a-this.long0);if(r=o*Math.sin(i),this.sphere)Math.abs(i)<=h?(t=this.a*o,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(i),n=this.a*(Ot(i-this.lat0)+(1-Math.cos(r))/Math.tan(i)));else if(Math.abs(i)<=h)t=this.a*o,n=-1*this.ml0;else{var s=kt(this.a,this.e,Math.sin(i))/Math.tan(i);t=s*Math.sin(r),n=this.a*yt(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){var t,n,r,a,i,o,s,u,c;if(r=e.x-this.x0,a=e.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=h)t=H(r/this.a+this.long0),n=0;else{var l;for(o=this.lat0+a/this.a,s=r*r/this.a/this.a+o*o,u=o,i=Vt;i;--i)if(u+=c=-1*(o*(u*(l=Math.tan(u))+1)-u-.5*(u*u+s)*l)/((u-o)/l-1),Math.abs(c)<=h){n=u;break}t=H(this.long0+Math.asin(r*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(a+this.ml0)<=h)n=0,t=H(this.long0+r/this.a);else{var d,p,f,m,v;for(o=(this.ml0+a)/this.a,s=r*r/this.a/this.a+o*o,u=o,i=Vt;i;--i)if(v=this.e*Math.sin(u),d=Math.sqrt(1-v*v)*Math.tan(u),p=this.a*yt(this.e0,this.e1,this.e2,this.e3,u),f=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),u-=c=(o*(d*(m=p/this.a)+1)-m-.5*d*(m*m+s))/(this.es*Math.sin(2*u)*(m*m+s-2*o*m)/(4*d)+(o-m)*(d*f-2/Math.sin(2*u))-f),Math.abs(c)<=h){n=u;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=H(this.long0+Math.asin(r*d/this.a)/Math.sin(n))}return e.x=t,e.y=n,e},names:["Polyconic","poly"]};var Gt={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t,n=e.x,r=e.y-this.lat0,a=n-this.long0,i=r/u*1e-5,o=a,s=1,c=0;for(t=1;t<=10;t++)s*=i,c+=this.A[t]*s;var l,d=c,p=o,h=1,f=0,m=0,v=0;for(t=1;t<=6;t++)l=f*d+h*p,h=h*d-f*p,f=l,m=m+this.B_re[t]*h-this.B_im[t]*f,v=v+this.B_im[t]*h+this.B_re[t]*f;return e.x=v*this.a+this.x0,e.y=m*this.a+this.y0,e},inverse:function(e){var t,n,r=e.x,a=e.y,i=r-this.x0,o=(a-this.y0)/this.a,s=i/this.a,c=1,l=0,d=0,p=0;for(t=1;t<=6;t++)n=l*o+c*s,c=c*o-l*s,l=n,d=d+this.C_re[t]*c-this.C_im[t]*l,p=p+this.C_im[t]*c+this.C_re[t]*l;for(var h=0;h<this.iterations;h++){var f,m=d,v=p,g=o,A=s;for(t=2;t<=6;t++)f=v*d+m*p,m=m*d-v*p,v=f,g+=(t-1)*(this.B_re[t]*m-this.B_im[t]*v),A+=(t-1)*(this.B_im[t]*m+this.B_re[t]*v);m=1,v=0;var y=this.B_re[1],b=this.B_im[1];for(t=2;t<=6;t++)f=v*d+m*p,m=m*d-v*p,v=f,y+=t*(this.B_re[t]*m-this.B_im[t]*v),b+=t*(this.B_im[t]*m+this.B_re[t]*v);var x=y*y+b*b;d=(g*y+A*b)/x,p=(A*y-g*b)/x}var w=d,_=p,k=1,O=0;for(t=1;t<=9;t++)k*=w,O+=this.D[t]*k;var E=this.lat0+O*u*1e5,S=this.long0+_;return e.x=S,e.y=E,e},names:["New_Zealand_Map_Grid","nzmg"]};var Ht={init:function(){},forward:function(e){var t=e.x,n=e.y,r=H(t-this.long0),a=this.x0+this.a*r,i=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=a,e.y=i,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=H(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e},names:["Miller_Cylindrical","mill"]},qt=20;var Kt={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ye(this.es)},forward:function(e){var t,n,r=e.x,a=e.y;if(r=H(r-this.long0),this.sphere){if(this.m)for(var i=this.n*Math.sin(a),o=qt;o;--o){var s=(this.m*a+Math.sin(a)-i)/(this.m+Math.cos(a));if(a-=s,Math.abs(s)<h)break}else a=1!==this.n?Math.asin(this.n*Math.sin(a)):a;t=this.a*this.C_x*r*(this.m+Math.cos(a)),n=this.a*this.C_y*a}else{var u=Math.sin(a),c=Math.cos(a);n=this.a*$e(a,u,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*u*u)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r,a;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=Pt((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=Pt(Math.sin(t)/this.n)),r=H(r+this.long0),t=Ot(t)):(t=Ze(e.y/this.a,this.es,this.en),(a=Math.abs(t))<c?(a=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(t)),r=H(n)):a-h<c&&(r=this.long0)),e.x=r,e.y=t,e},names:["Sinusoidal","sinu"]};var Xt={init:function(){},forward:function(e){for(var t=e.x,n=e.y,r=H(t-this.long0),a=n,i=Math.PI*Math.sin(n);;){var o=-(a+Math.sin(a)-i)/(1+Math.cos(a));if(a+=o,Math.abs(o)<h)break}a/=2,Math.PI/2-Math.abs(n)<h&&(r=0);var s=.900316316158*this.a*r*Math.cos(a)+this.x0,u=1.4142135623731*this.a*Math.sin(a)+this.y0;return e.x=s,e.y=u,e},inverse:function(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=H(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var a=Math.asin(n);return e.x=r,e.y=a,e},names:["Mollweide","moll"]};var Qt={init:function(){Math.abs(this.lat1+this.lat2)<h||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=bt(this.es),this.e1=xt(this.es),this.e2=wt(this.es),this.e3=_t(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=W(this.e,this.sinphi,this.cosphi),this.ml1=yt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<h?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=W(this.e,this.sinphi,this.cosphi),this.ml2=yt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=yt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var a=yt(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-a)}var i=this.ns*H(n-this.long0),o=this.x0+t*Math.sin(i),s=this.y0+this.rh-t*Math.cos(i);return e.x=o,e.y=s,e},inverse:function(e){var t,n,r,a;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var i=0;if(0!==n&&(i=Math.atan2(t*e.x,t*e.y)),this.sphere)return a=H(this.long0+i/this.ns),r=Ot(this.g-n/this.a),e.x=a,e.y=r,e;var o=this.g-n/this.a;return r=Et(o,this.e0,this.e1,this.e2,this.e3),a=H(this.long0+i/this.ns),e.x=a,e.y=r,e},names:["Equidistant_Conic","eqdc"]};var Yt={init:function(){this.R=this.a},forward:function(e){var t,n,r=e.x,a=e.y,i=H(r-this.long0);Math.abs(a)<=h&&(t=this.x0+this.R*i,n=this.y0);var o=Pt(2*Math.abs(a/Math.PI));(Math.abs(i)<=h||Math.abs(Math.abs(a)-c)<=h)&&(t=this.x0,n=a>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/i-i/Math.PI),u=s*s,l=Math.sin(o),d=Math.cos(o),p=d/(l+d-1),f=p*p,m=p*(2/l-1),v=m*m,g=Math.PI*this.R*(s*(p-v)+Math.sqrt(u*(p-v)*(p-v)-(v+u)*(f-v)))/(v+u);i<0&&(g=-g),t=this.x0+g;var A=u+p;return g=Math.PI*this.R*(m*A-s*Math.sqrt((v+u)*(u+1)-A*A))/(v+u),n=a>=0?this.y0+g:this.y0-g,e.x=t,e.y=n,e},inverse:function(e){var t,n,r,a,i,o,s,u,c,l,d,p;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,i=(r=e.x/d)*r+(a=e.y/d)*a,d=3*(a*a/(u=-2*(o=-Math.abs(a)*(1+i))+1+2*a*a+i*i)+(2*(s=o-2*a*a+r*r)*s*s/u/u/u-9*o*s/u/u)/27)/(c=(o-s*s/3/u)/u)/(l=2*Math.sqrt(-c/3)),Math.abs(d)>1&&(d=d>=0?1:-1),p=Math.acos(d)/3,n=e.y>=0?(-l*Math.cos(p+Math.PI/3)-s/3/u)*Math.PI:-(-l*Math.cos(p+Math.PI/3)-s/3/u)*Math.PI,t=Math.abs(r)<h?this.long0:H(this.long0+Math.PI*(i-1+Math.sqrt(1+2*(r*r-a*a)+i*i))/2/r),e.x=t,e.y=n,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var $t={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var t,n,r,a,i,o,s,u,l,d,p,f,m,v,g,A,y,b,x,w,_,k,O=e.x,E=e.y,S=Math.sin(e.y),C=Math.cos(e.y),T=H(O-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=h?(e.x=this.x0+this.a*(c-E)*Math.sin(T),e.y=this.y0-this.a*(c-E)*Math.cos(T),e):Math.abs(this.sin_p12+1)<=h?(e.x=this.x0+this.a*(c+E)*Math.sin(T),e.y=this.y0+this.a*(c+E)*Math.cos(T),e):(b=this.sin_p12*S+this.cos_p12*C*Math.cos(T),y=(A=Math.acos(b))?A/Math.sin(A):1,e.x=this.x0+this.a*y*C*Math.sin(T),e.y=this.y0+this.a*y*(this.cos_p12*S-this.sin_p12*C*Math.cos(T)),e):(t=bt(this.es),n=xt(this.es),r=wt(this.es),a=_t(this.es),Math.abs(this.sin_p12-1)<=h?(i=this.a*yt(t,n,r,a,c),o=this.a*yt(t,n,r,a,E),e.x=this.x0+(i-o)*Math.sin(T),e.y=this.y0-(i-o)*Math.cos(T),e):Math.abs(this.sin_p12+1)<=h?(i=this.a*yt(t,n,r,a,c),o=this.a*yt(t,n,r,a,E),e.x=this.x0+(i+o)*Math.sin(T),e.y=this.y0+(i+o)*Math.cos(T),e):(s=S/C,u=kt(this.a,this.e,this.sin_p12),l=kt(this.a,this.e,S),d=Math.atan((1-this.es)*s+this.es*u*this.sin_p12/(l*C)),x=0===(p=Math.atan2(Math.sin(T),this.cos_p12*Math.tan(d)-this.sin_p12*Math.cos(T)))?Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.abs(Math.abs(p)-Math.PI)<=h?-Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.asin(Math.sin(T)*Math.cos(d)/Math.sin(p)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),A=u*x*(1-(w=x*x)*(g=(m=this.e*this.cos_p12*Math.cos(p)/Math.sqrt(1-this.es))*m)*(1-g)/6+(_=w*x)/8*(v=f*m)*(1-2*g)+(k=_*x)/120*(g*(4-7*g)-3*f*f*(1-7*g))-k*x/48*v),e.x=this.x0+A*Math.sin(p),e.y=this.y0+A*Math.cos(p),e))},inverse:function(e){var t,n,r,a,i,o,s,u,l,d,p,f,m,v,g,A,y,b,x,w,_,k,O;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*c*this.a)return;return n=t/this.a,r=Math.sin(n),a=Math.cos(n),i=this.long0,Math.abs(t)<=h?o=this.lat0:(o=Pt(a*this.sin_p12+e.y*r*this.cos_p12/t),s=Math.abs(this.lat0)-c,i=Math.abs(s)<=h?this.lat0>=0?H(this.long0+Math.atan2(e.x,-e.y)):H(this.long0-Math.atan2(-e.x,e.y)):H(this.long0+Math.atan2(e.x*r,t*this.cos_p12*a-e.y*this.sin_p12*r))),e.x=i,e.y=o,e}return u=bt(this.es),l=xt(this.es),d=wt(this.es),p=_t(this.es),Math.abs(this.sin_p12-1)<=h?(f=this.a*yt(u,l,d,p,c),t=Math.sqrt(e.x*e.x+e.y*e.y),o=Et((f-t)/this.a,u,l,d,p),i=H(this.long0+Math.atan2(e.x,-1*e.y)),e.x=i,e.y=o,e):Math.abs(this.sin_p12+1)<=h?(f=this.a*yt(u,l,d,p,c),t=Math.sqrt(e.x*e.x+e.y*e.y),o=Et((t-f)/this.a,u,l,d,p),i=H(this.long0+Math.atan2(e.x,e.y)),e.x=i,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),g=Math.atan2(e.x,e.y),m=kt(this.a,this.e,this.sin_p12),A=Math.cos(g),b=-(y=this.e*this.cos_p12*A)*y/(1-this.es),x=3*this.es*(1-b)*this.sin_p12*this.cos_p12*A/(1-this.es),k=1-b*(_=(w=t/m)-b*(1+b)*Math.pow(w,3)/6-x*(1+3*b)*Math.pow(w,4)/24)*_/2-w*_*_*_/6,v=Math.asin(this.sin_p12*Math.cos(_)+this.cos_p12*Math.sin(_)*A),i=H(this.long0+Math.asin(Math.sin(g)*Math.sin(_)/Math.cos(v))),O=Math.sin(v),o=Math.atan2((O-this.es*k*this.sin_p12)*Math.tan(v),O*(1-this.es)),e.x=i,e.y=o,e)},names:["Azimuthal_Equidistant","aeqd"]};var Zt={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,n,r,a,i,o,s,u=e.x,c=e.y;return r=H(u-this.long0),t=Math.sin(c),n=Math.cos(c),a=Math.cos(r),((i=this.sin_p14*t+this.cos_p14*n*a)>0||Math.abs(i)<=h)&&(o=1*this.a*n*Math.sin(r),s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*a)),e.x=o,e.y=s,e},inverse:function(e){var t,n,r,a,i,o,s;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=Pt(t/this.a),r=Math.sin(n),a=Math.cos(n),o=this.long0,Math.abs(t)<=h?(s=this.lat0,e.x=o,e.y=s,e):(s=Pt(a*this.sin_p14+e.y*r*this.cos_p14/t),i=Math.abs(this.lat0)-c,Math.abs(i)<=h?(o=this.lat0>=0?H(this.long0+Math.atan2(e.x,-e.y)):H(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=s,e):(o=H(this.long0+Math.atan2(e.x*r,t*this.cos_p14*a-e.y*this.sin_p14*r)),e.x=o,e.y=s,e))},names:["ortho"]},Jt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},en={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function tn(e,t,n,r){var a;return e<h?(r.value=en.AREA_0,a=0):(a=Math.atan2(t,n),Math.abs(a)<=v?r.value=en.AREA_0:a>v&&a<=c+v?(r.value=en.AREA_1,a-=c):a>c+v||a<=-(c+v)?(r.value=en.AREA_2,a=a>=0?a-A:a+A):(r.value=en.AREA_3,a+=c)),a}function nn(e,t){var n=e+t;return n<-A?n+=g:n>+A&&(n-=g),n}var rn={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=c-v/2?this.face=Jt.TOP:this.lat0<=-(c-v/2)?this.face=Jt.BOTTOM:Math.abs(this.long0)<=v?this.face=Jt.FRONT:Math.abs(this.long0)<=c+v?this.face=this.long0>0?Jt.RIGHT:Jt.LEFT:this.face=Jt.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,n,r,a,i,o,s={x:0,y:0},u={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===Jt.TOP)a=c-t,n>=v&&n<=c+v?(u.value=en.AREA_0,r=n-c):n>c+v||n<=-(c+v)?(u.value=en.AREA_1,r=n>0?n-A:n+A):n>-(c+v)&&n<=-v?(u.value=en.AREA_2,r=n+c):(u.value=en.AREA_3,r=n);else if(this.face===Jt.BOTTOM)a=c+t,n>=v&&n<=c+v?(u.value=en.AREA_0,r=-n+c):n<v&&n>=-v?(u.value=en.AREA_1,r=-n):n<-v&&n>=-(c+v)?(u.value=en.AREA_2,r=-n-c):(u.value=en.AREA_3,r=n>0?-n+A:-n-A);else{var l,d,p,h,f,m;this.face===Jt.RIGHT?n=nn(n,+c):this.face===Jt.BACK?n=nn(n,+A):this.face===Jt.LEFT&&(n=nn(n,-c)),h=Math.sin(t),f=Math.cos(t),m=Math.sin(n),l=f*Math.cos(n),d=f*m,p=h,this.face===Jt.FRONT?r=tn(a=Math.acos(l),p,d,u):this.face===Jt.RIGHT?r=tn(a=Math.acos(d),p,-l,u):this.face===Jt.BACK?r=tn(a=Math.acos(-l),p,-d,u):this.face===Jt.LEFT?r=tn(a=Math.acos(-d),p,l,u):(a=r=0,u.value=en.AREA_0)}return o=Math.atan(12/A*(r+Math.acos(Math.sin(r)*Math.cos(v))-c)),i=Math.sqrt((1-Math.cos(a))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(r))))),u.value===en.AREA_1?o+=c:u.value===en.AREA_2?o+=A:u.value===en.AREA_3&&(o+=1.5*A),s.x=i*Math.cos(o),s.y=i*Math.sin(o),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,e.x=s.x,e.y=s.y,e},inverse:function(e){var t,n,r,a,i,o,s,u,l,d,p,h,f={lam:0,phi:0},m={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?m.value=en.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(m.value=en.AREA_1,t-=c):e.x<0&&-e.x>=Math.abs(e.y)?(m.value=en.AREA_2,t=t<0?t+A:t-A):(m.value=en.AREA_3,t+=c),l=A/12*Math.tan(t),i=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),o=Math.atan(i),(s=1-(r=Math.cos(t))*r*(a=Math.tan(n))*a*(1-Math.cos(Math.atan(1/Math.cos(o)))))<-1?s=-1:s>1&&(s=1),this.face===Jt.TOP)u=Math.acos(s),f.phi=c-u,m.value===en.AREA_0?f.lam=o+c:m.value===en.AREA_1?f.lam=o<0?o+A:o-A:m.value===en.AREA_2?f.lam=o-c:f.lam=o;else if(this.face===Jt.BOTTOM)u=Math.acos(s),f.phi=u-c,m.value===en.AREA_0?f.lam=-o+c:m.value===en.AREA_1?f.lam=-o:m.value===en.AREA_2?f.lam=-o-c:f.lam=o<0?-o-A:-o+A;else{var v,g,y;l=(v=s)*v,g=(l+=(y=l>=1?0:Math.sqrt(1-l)*Math.sin(o))*y)>=1?0:Math.sqrt(1-l),m.value===en.AREA_1?(l=g,g=-y,y=l):m.value===en.AREA_2?(g=-g,y=-y):m.value===en.AREA_3&&(l=g,g=y,y=-l),this.face===Jt.RIGHT?(l=v,v=-g,g=l):this.face===Jt.BACK?(v=-v,g=-g):this.face===Jt.LEFT&&(l=v,v=g,g=-l),f.phi=Math.acos(-y)-c,f.lam=Math.atan2(g,v),this.face===Jt.RIGHT?f.lam=nn(f.lam,-c):this.face===Jt.BACK?f.lam=nn(f.lam,-A):this.face===Jt.LEFT&&(f.lam=nn(f.lam,+c))}return 0!==this.es&&(d=f.phi<0?1:0,p=Math.tan(f.phi),h=this.b/Math.sqrt(p*p+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-h*h)/(this.one_minus_f*h)),d&&(f.phi=-f.phi)),f.lam+=this.long0,e.x=f.lam,e.y=f.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},an=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],on=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],sn=.8487,un=1.3523,cn=m/5,ln=1/cn,dn=18,pn=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},hn=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])};var fn={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=H(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*cn);r<0?r=0:r>=dn&&(r=dn-1),n=m*(n-ln*r);var a={x:pn(an[r],n)*t,y:pn(on[r],n)};return e.y<0&&(a.y=-a.y),a.x=a.x*this.a*sn+this.x0,a.y=a.y*this.a*un+this.y0,a},inverse:function(e){var t={x:(e.x-this.x0)/(this.a*sn),y:Math.abs(e.y-this.y0)/(this.a*un)};if(t.y>=1)t.x/=an[dn][0],t.y=e.y<0?-c:c;else{var n=Math.floor(t.y*dn);for(n<0?n=0:n>=dn&&(n=dn-1);;)if(on[n][0]>t.y)--n;else{if(!(on[n+1][0]<=t.y))break;++n}var r=on[n],a=5*(t.y-r[0])/(on[n+1][0]-r[0]);a=function(e,t,n,r){for(var a=t;r;--r){var i=e(a);if(a-=i,Math.abs(i)<n)break}return a}(function(e){return(pn(r,e)-t.y)/hn(r,e)},a,h,100),t.x/=pn(an[n],a),t.y=(5*n+a)*f,e.y<0&&(t.y=-t.y)}return t.x=H(t.x+this.long0),t},names:["Robinson","robin"]};var mn={init:function(){this.name="geocent"},forward:function(e){return he(e,this.es,this.a)},inverse:function(e){return fe(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},vn={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},gn={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var An={init:function(){if(Object.keys(gn).forEach(function(e){if("undefined"===typeof this[e])this[e]=gn[e].def;else{if(gn[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);gn[e].num&&(this[e]=parseFloat(this[e]))}gn[e].degrees&&(this[e]=this[e]*f)}.bind(this)),Math.abs(Math.abs(this.lat0)-c)<h?this.mode=this.lat0<0?vn.S_POLE:vn.N_POLE:Math.abs(this.lat0)<h?this.mode=vn.EQUIT:(this.mode=vn.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,n,r,a,i=Math.sin(e.y),o=Math.cos(e.y),s=Math.cos(e.x);switch(this.mode){case vn.OBLIQ:n=this.sinph0*i+this.cosph0*o*s;break;case vn.EQUIT:n=o*s;break;case vn.S_POLE:n=-i;break;case vn.N_POLE:n=i}switch(t=(n=this.pn1/(this.p-n))*o*Math.sin(e.x),this.mode){case vn.OBLIQ:n*=this.cosph0*i-this.sinph0*o*s;break;case vn.EQUIT:n*=i;break;case vn.N_POLE:n*=-o*s;break;case vn.S_POLE:n*=o*s}return a=1/((r=n*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*a,n=r*a,e.x=t*this.a,e.y=n*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,n,r,a={x:e.x,y:e.y};r=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*r,n=this.pn1*e.y*this.cw*r,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var i=tt(e.x,e.y);if(Math.abs(i)<h)a.x=0,a.y=e.y;else{var o,s;switch(s=1-i*i*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/i+i/this.pn1),o=Math.sqrt(1-s*s),this.mode){case vn.OBLIQ:a.y=Math.asin(o*this.sinph0+e.y*s*this.cosph0/i),e.y=(o-this.sinph0*Math.sin(a.y))*i,e.x*=s*this.cosph0;break;case vn.EQUIT:a.y=Math.asin(e.y*s/i),e.y=o*i,e.x*=s;break;case vn.N_POLE:a.y=Math.asin(o),e.y=-e.y;break;case vn.S_POLE:a.y=-Math.asin(o)}a.x=Math.atan2(e.x,e.y)}return e.x=a.x+this.long0,e.y=a.y,e},names:["Tilted_Perspective","tpers"]};var yn,bn={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(e){var t,n,r,a,i=e.x,o=e.y;if(i-=this.long0,"ellipse"===this.shape){o=Math.atan(this.radius_p2*Math.tan(o));var s=this.radius_p/tt(this.radius_p*Math.cos(o),Math.sin(o));if(n=s*Math.cos(i)*Math.cos(o),r=s*Math.sin(i)*Math.cos(o),a=s*Math.sin(o),(this.radius_g-n)*n-r*r-a*a*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/tt(a,t)),e.y=this.radius_g_1*Math.atan(a/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(a/tt(r,t)))}else"sphere"===this.shape&&(t=Math.cos(o),n=Math.cos(i)*t,r=Math.sin(i)*t,a=Math.sin(o),t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/tt(a,t)),e.y=this.radius_g_1*Math.atan(a/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(a/tt(r,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e},inverse:function(e){var t,n,r,a,i=-1,o=0,s=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),o=Math.tan(e.x/this.radius_g_1)*tt(1,s)):(o=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*tt(1,o));var u=s/this.radius_p;if(t=o*o+u*u+i*i,(r=(n=2*this.radius_g*i)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(r))/(2*t),i=this.radius_g+a*i,o*=a,s*=a,e.x=Math.atan2(o,i),e.y=Math.atan(s*Math.cos(e.x)/i),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),o=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+s*s)):(o=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+o*o)),t=o*o+s*s+i*i,(r=(n=2*this.radius_g*i)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(r))/(2*t),i=this.radius_g+a*i,o*=a,s*=a,e.x=Math.atan2(o,i),e.y=Math.atan(s*Math.cos(e.x)/i)}return e.x=e.x+this.long0,e},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};Ce.defaultDatum="WGS84",Ce.Proj=pe,Ce.WGS84=new Ce.Proj("WGS84"),Ce.Point=Xe,Ce.toPoint=xe,Ce.defs=F,Ce.nadgrid=function(e,t){var n=new DataView(t),r=function(e){var t=e.getInt32(8,!1);return 11!==t&&(11!==(t=e.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(n),a=function(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:se(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}(n,r);a.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var i={header:a,subgrids:function(e,t,n){for(var r=[],a=0;a<t.nSubgrids;a++){var i=ce(e,176,n),o=le(e,176,i,n),s=Math.round(1+(i.upperLongitude-i.lowerLongitude)/i.longitudeInterval),u=Math.round(1+(i.upperLatitude-i.lowerLatitude)/i.latitudeInterval);r.push({ll:[oe(i.lowerLongitude),oe(i.lowerLatitude)],del:[oe(i.longitudeInterval),oe(i.latitudeInterval)],lim:[s,u],count:i.gridNodeCount,cvs:ue(o)})}return r}(n,a,r)};return ae[e]=i,i},Ce.transform=ke,Ce.mgrs=Le,Ce.version="__VERSION__",(yn=Ce).Proj.projections.add(Je),yn.Proj.projections.add(ot),yn.Proj.projections.add(ut),yn.Proj.projections.add(pt),yn.Proj.projections.add(ht),yn.Proj.projections.add(ft),yn.Proj.projections.add(vt),yn.Proj.projections.add(gt),yn.Proj.projections.add(At),yn.Proj.projections.add(St),yn.Proj.projections.add(Rt),yn.Proj.projections.add(Lt),yn.Proj.projections.add(Ft),yn.Proj.projections.add(zt),yn.Proj.projections.add(Ut),yn.Proj.projections.add(Wt),yn.Proj.projections.add(Gt),yn.Proj.projections.add(Ht),yn.Proj.projections.add(Kt),yn.Proj.projections.add(Xt),yn.Proj.projections.add(Qt),yn.Proj.projections.add(Yt),yn.Proj.projections.add($t),yn.Proj.projections.add(Zt),yn.Proj.projections.add(rn),yn.Proj.projections.add(fn),yn.Proj.projections.add(mn),yn.Proj.projections.add(An),yn.Proj.projections.add(bn)},,function(e,t,n){"use strict";n.d(t,"b",function(){return p});var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(85),l=n.n(c),d=n(497);function p(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultTheme;return function(t){var n=u.a.forwardRef(function(n,r){var i=n.innerRef,s=o()(n,["innerRef"]),c=Object(d.a)()||e;return u.a.createElement(t,a()({theme:c,ref:i||r},s))});return l()(n,t),n}}var h=p();t.a=h},function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(52),o=n.n(i),s=n(86),u=n(40);function c(e){return e.substring(2).toLowerCase()}t.a=function(e){var t=e.children,n=e.mouseEvent,r=void 0===n?"onClick":n,i=e.touchEvent,l=void 0===i?"onTouchEnd":i,d=e.onClickAway,p=function(){var e=a.a.useRef(!1);return a.a.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e}(),h=a.a.useRef(!1),f=a.a.useRef(null),m=a.a.useCallback(function(e){f.current=o.a.findDOMNode(e)},[]),v=Object(u.c)(t.ref,m),g=a.a.useCallback(function(e){if(!e.defaultPrevented&&p.current)if(h.current)h.current=!1;else{var t=f.current;if(t){var n=Object(s.a)(t);n.documentElement&&n.documentElement.contains(e.target)&&!t.contains(e.target)&&d(e)}}},[p,d]),A=a.a.useCallback(function(){h.current=!0},[]);return a.a.useEffect(function(){if(!1!==l){var e=c(l);return document.addEventListener(e,g),document.addEventListener("touchmove",A),function(){document.removeEventListener(e,g),document.removeEventListener("touchmove",A)}}},[g,A,l]),a.a.useEffect(function(){if(!1!==r){var e=c(r);return document.addEventListener(e,g),function(){document.removeEventListener(e,g)}}},[g,r]),a.a.createElement(a.a.Fragment,null,a.a.cloneElement(t,{ref:v}))}},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(45),o=n.n(i),s=n(15),u=n.n(s),c=n(38),l=n.n(c),d=n(1),p=n.n(d),h=n(52),f=n.n(h),m=(n(53),n(14)),v=n(39),g=n(22),A=n(30),y=n(378),b=n(724),x=n(40),w=n(231);t.a=Object(g.a)(function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none",position:"absolute",top:0,left:0,flip:!1},popperInteractive:{pointerEvents:"auto"},tooltip:{backgroundColor:Object(v.d)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(e.typography.round(1.4),"em"),maxWidth:300,fontWeight:e.typography.fontWeightMedium},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(e.typography.round(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:l()({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:l()({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:l()({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:l()({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}},{name:"MuiTooltip",withTheme:!0})(function(e){var t=e.children,n=e.classes,r=e.disableFocusListener,i=void 0!==r&&r,s=e.disableHoverListener,c=void 0!==s&&s,l=e.disableTouchListener,d=void 0!==l&&l,h=e.enterDelay,v=void 0===h?0:h,g=e.enterTouchDelay,_=void 0===g?700:g,k=e.id,O=e.interactive,E=void 0!==O&&O,S=e.leaveDelay,C=void 0===S?0:S,T=e.leaveTouchDelay,I=void 0===T?1500:T,j=e.onClose,M=e.onOpen,N=e.open,D=e.placement,R=void 0===D?"bottom":D,P=e.PopperProps,L=e.theme,F=e.title,B=e.TransitionComponent,z=void 0===B?y.a:B,U=e.TransitionProps,V=u()(e,["children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperProps","theme","title","TransitionComponent","TransitionProps"]),W=p.a.useState(!1),G=o()(W,2),H=G[0],q=G[1],K=p.a.useState(0),X=o()(K,2)[1],Q=p.a.useState(),Y=o()(Q,2),$=Y[0],Z=Y[1],J=p.a.useRef(!1),ee=p.a.useRef(null!=e.open).current,te=p.a.useRef(),ne=p.a.useRef(),re=p.a.useRef(),ae=p.a.useRef(),ie=p.a.useRef();p.a.useEffect(function(){},[ee,F,$]),p.a.useEffect(function(){te.current||(te.current="mui-tooltip-".concat(Math.round(1e5*Math.random()))),N&&X(function(e){return!e})},[N]),p.a.useEffect(function(){return function(){clearTimeout(ne.current),clearTimeout(re.current),clearTimeout(ae.current),clearTimeout(ie.current)}},[]);var oe=function(e){ee||H||q(!0),M&&M(e)},se=function(e){var n=t.props;"mouseover"===e.type&&n.onMouseOver&&n.onMouseOver(e),J.current&&"touchstart"!==e.type||($&&$.setAttribute("title",""),clearTimeout(re.current),clearTimeout(ae.current),v?(e.persist(),re.current=setTimeout(function(){oe(e)},v)):oe(e))},ue=Object(w.a)(),ce=ue.isFocusVisible,le=ue.onBlurVisible,de=ue.ref,pe=p.a.useState(!1),he=o()(pe,2),fe=he[0],me=he[1],ve=function(e){ee||q(!1),j&&j(e),clearTimeout(ne.current),ne.current=setTimeout(function(){J.current=!1},L.transitions.duration.shortest)},ge=function(e){var n=t.props;"blur"===e.type&&(n.onBlur&&n.onBlur(e),fe&&(me(!1),le())),"mouseleave"===e.type&&n.onMouseLeave&&n.onMouseLeave(e),clearTimeout(re.current),clearTimeout(ae.current),C?(e.persist(),ae.current=setTimeout(function(){ve(e)},C)):ve(e)},Ae=Object(x.c)(p.a.useCallback(function(e){Z(f.a.findDOMNode(e))},[]),de),ye=Object(x.c)(t.ref,Ae),be=ee?N:H;""===F&&(be=!1);var xe=!be&&!c,we=a()({"aria-describedby":be?k||te.current:null,title:xe&&"string"===typeof F?F:null},V,t.props,{className:Object(m.a)(V.className,t.props.className)});d||(we.onTouchStart=function(e){J.current=!0;var n=t.props;n.onTouchStart&&n.onTouchStart(e),clearTimeout(ae.current),clearTimeout(ne.current),clearTimeout(ie.current),e.persist(),ie.current=setTimeout(function(){se(e)},_)},we.onTouchEnd=function(e){t.props.onTouchEnd&&t.props.onTouchEnd(e),clearTimeout(ie.current),clearTimeout(ae.current),e.persist(),ae.current=setTimeout(function(){ve(e)},I)}),c||(we.onMouseOver=se,we.onMouseLeave=ge),i||(we.onFocus=function(e){$||Z(e.currentTarget),ce(e)&&(me(!0),se(e));var n=t.props;n.onFocus&&n.onFocus(e)},we.onBlur=ge);var _e=E?{onMouseOver:we.onMouseOver,onMouseLeave:we.onMouseLeave,onFocus:we.onFocus,onBlur:we.onBlur}:{};return p.a.createElement(p.a.Fragment,null,p.a.cloneElement(t,a()({ref:ye},we)),p.a.createElement(b.a,a()({className:Object(m.a)(n.popper,E&&n.popperInteractive),placement:R,anchorEl:$,open:!!$&&be,id:we["aria-describedby"],transition:!0},_e,P),function(e){var t=e.placement,r=e.TransitionProps;return p.a.createElement(z,a()({timeout:L.transitions.duration.shorter},r,U),p.a.createElement("div",{className:Object(m.a)(n.tooltip,n["tooltipPlacement".concat(Object(A.a)(t.split("-")[0]))],J.current&&n.touch)},F))}))})},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(45),o=n.n(i),s=n(15),u=n.n(s),c=n(1),l=n.n(c),d=n(456),p=n(725),h=n(30),f=n(40);function m(e){if("rtl"!==("undefined"!==typeof window&&document.body.getAttribute("dir")||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}var v="undefined"!==typeof window?l.a.useLayoutEffect:l.a.useEffect,g={},A=l.a.forwardRef(function(e,t){var n=e.anchorEl,r=e.children,i=e.container,s=e.disablePortal,c=void 0!==s&&s,A=e.keepMounted,y=void 0!==A&&A,b=e.modifiers,x=e.open,w=e.placement,_=void 0===w?"bottom":w,k=e.popperOptions,O=void 0===k?g:k,E=e.popperRef,S=e.transition,C=void 0!==S&&S,T=u()(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition"]),I=l.a.useRef(null),j=Object(f.c)(I,t),M=l.a.useRef(null),N=l.a.useRef(),D=Object(f.c)(M,E);v(function(){N.current=D},[D]),l.a.useImperativeHandle(E,function(){return M.current},[]);var R=l.a.useState(!e.open),P=o()(R,2),L=P[0],F=P[1],B=l.a.useState(),z=o()(B,2),U=z[0],V=z[1],W=l.a.useCallback(function(){var e=function(e){e.placement!==U&&V(e.placement)},t=I.current;if(t&&n&&x){M.current&&(M.current.destroy(),N.current(null));var r=new d.a(function(e){return"function"===typeof e?e():e}(n),t,a()({placement:m(_)},O,{modifiers:a()({},c?{}:{preventOverflow:{boundariesElement:"window"}},b,O.modifiers),onCreate:Object(h.b)(e,O.onCreate),onUpdate:Object(h.b)(e,O.onUpdate)}));N.current(r)}},[n,c,b,x,U,_,O]),G=function(){M.current&&(M.current.destroy(),N.current(null))};if(l.a.useEffect(function(){return function(){G()}},[]),l.a.useEffect(function(){W()},[W]),l.a.useEffect(function(){x||C||G()},[x,C]),!y&&!x&&(!C||L))return null;var H={placement:U||m(_)};return C&&(H.TransitionProps={in:x,onEnter:function(){F(!1)},onExited:function(){F(!0),G()}}),l.a.createElement(p.a,{onRendered:W,disablePortal:c,container:i},l.a.createElement("div",a()({ref:j,role:"tooltip",style:{position:"absolute"}},T),"function"===typeof r?r(H):r))});t.a=A},function(e,t,n){"use strict";var r=n(45),a=n.n(r),i=n(1),o=n.n(i),s=n(52),u=n.n(s),c=n(40);var l="undefined"!==typeof window?o.a.useLayoutEffect:o.a.useEffect,d=o.a.forwardRef(function(e,t){var n=e.children,r=e.container,i=e.disablePortal,s=e.onRendered,d=o.a.useState(null),p=a()(d,2),h=p[0],f=p[1],m=o.a.useRef(null),v=Object(c.c)(n.ref,m);return l(function(){i||f(function(e){return e="function"===typeof e?e():e,u.a.findDOMNode(e)}(r)||document.body)},[r,i]),l(function(){s&&h&&s()},[h,s]),o.a.useImperativeHandle(t,function(){return h||m.current},[h]),i?(o.a.Children.only(n),o.a.cloneElement(n,{ref:v})):h?u.a.createPortal(n,h):h});d.defaultProps={disablePortal:!1},t.a=d},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(39),p=n(241),h=n(30),f=u.a.forwardRef(function(e,t){var n=e.edge,r=void 0!==n&&n,i=e.children,s=e.classes,l=e.className,d=e.color,f=void 0===d?"default":d,m=e.disabled,v=void 0!==m&&m,g=e.disableFocusRipple,A=void 0!==g&&g,y=e.size,b=void 0===y?"medium":y,x=o()(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return u.a.createElement(p.a,a()({className:Object(c.a)(s.root,l,"default"!==f&&s["color".concat(Object(h.a)(f))],v&&s.disabled,"small"===b&&s["size".concat(Object(h.a)(b))],"start"===r&&s.edgeStart,"end"===r&&s.edgeEnd),centerRipple:!0,focusRipple:!A,disabled:v,ref:t},x),u.a.createElement("span",{className:s.label},i))});t.a=Object(l.a)(function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(d.d)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(d.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(d.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},{name:"MuiIconButton"})(f)},function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(9),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(241),p=n(30),h=u.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.className,s=e.color,l=void 0===s?"default":s,h=e.component,f=void 0===h?"button":h,m=e.disabled,v=void 0!==m&&m,g=e.disableFocusRipple,A=void 0!==g&&g,y=e.focusVisibleClassName,b=e.size,x=void 0===b?"large":b,w=e.variant,_=void 0===w?"round":w,k=a()(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return u.a.createElement(d.a,o()({className:Object(c.a)(r.root,i,"round"!==_&&r.extended,"primary"===l&&r.primary,"secondary"===l&&r.secondary,"large"!==x&&r["size".concat(Object(p.a)(x))],v&&r.disabled,"inherit"===l&&r.colorInherit),component:f,disabled:v,focusRipple:!A,focusVisibleClassName:Object(c.a)(r.focusVisible,y),ref:t},k),u.a.createElement("span",{className:r.label},n))});t.a=Object(l.a)(function(e){return{root:o()({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&$focusVisible":{boxShadow:e.shadows[6]},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},{name:"MuiFab"})(h)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(498),p=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.invisible,s=void 0!==i&&i,l=e.open,p=e.transitionDuration,h=o()(e,["classes","className","invisible","open","transitionDuration"]);return u.a.createElement(d.a,a()({in:l,timeout:p},h),u.a.createElement("div",{className:Object(c.a)(n.root,r,s&&n.invisible),"aria-hidden":!0,ref:t}))});t.a=Object(l.a)({root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",touchAction:"none"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(p)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(501),d=n(22),p=u.a.forwardRef(function(e,t){var n=e.disableUnderline,r=e.classes,i=e.fullWidth,s=void 0!==i&&i,d=e.inputComponent,p=void 0===d?"input":d,h=e.multiline,f=void 0!==h&&h,m=e.type,v=void 0===m?"text":m,g=o()(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return u.a.createElement(l.a,a()({classes:a()({},r,{root:Object(c.a)(r.root,!n&&r.underline),underline:null}),fullWidth:s,inputComponent:p,multiline:f,ref:t,type:v},g))});p.muiName="Input",t.a=Object(d.a)(function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary[t?"dark":"light"]),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px"},inputMarginDense:{paddingTop:23,paddingBottom:6},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},{name:"MuiFilledInput"})(p)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(45),o=n.n(i),s=n(15),u=n.n(s),c=n(1),l=n.n(c),d=n(14),p=n(186),h=n(22),f=n(30),m=n(40),v=n(157),g=l.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.className,s=e.component,c=void 0===s?"div":s,h=e.disabled,g=void 0!==h&&h,A=e.error,y=void 0!==A&&A,b=e.fullWidth,x=void 0!==b&&b,w=e.margin,_=void 0===w?"none":w,k=e.required,O=void 0!==k&&k,E=e.variant,S=void 0===E?"standard":E,C=u()(e,["children","classes","className","component","disabled","error","fullWidth","margin","required","variant"]),T=l.a.useState(function(){var e=!1;return n&&l.a.Children.forEach(n,function(t){if(Object(m.a)(t,["Input","Select"])){var n=Object(m.a)(t,["Select"])?t.props.input:t;n&&Object(p.a)(n.props)&&(e=!0)}}),e}),I=o()(T,1)[0],j=l.a.useState(function(){var e=!1;return n&&l.a.Children.forEach(n,function(t){Object(m.a)(t,["Input","Select"])&&Object(p.b)(t.props,!0)&&(e=!0)}),e}),M=o()(j,2),N=M[0],D=M[1],R=l.a.useState(!1),P=o()(R,2),L=P[0],F=P[1];g&&L&&F(!1);var B={adornedStart:I,disabled:g,error:y,filled:N,focused:L,margin:_,onBlur:function(){F(!1)},onEmpty:function(){N&&D(!1)},onFilled:function(){N||D(!0)},onFocus:function(){F(!0)},required:O,variant:S};return l.a.createElement(v.a.Provider,{value:B},l.a.createElement(c,a()({className:Object(d.a)(r.root,i,"none"!==_&&r["margin".concat(Object(f.a)(_))],x&&r.fullWidth),ref:t},C),n))});t.a=Object(h.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(g)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(121),d=n(94),p=n(22),h=n(732),f=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.disableAnimation,s=void 0!==i&&i,d=(e.margin,e.muiFormControl),p=e.shrink,f=(e.variant,o()(e,["classes","className","disableAnimation","margin","muiFormControl","shrink","variant"])),m=p;"undefined"===typeof m&&d&&(m=d.filled||d.focused||d.adornedStart);var v=Object(l.a)({props:e,muiFormControl:d,states:["margin","variant"]});return u.a.createElement(h.a,a()({"data-shrink":m,className:Object(c.a)(n.root,r,d&&n.formControl,!s&&n.animated,m&&n.shrink,"dense"===v.margin&&n.marginDense,"filled"===v.variant&&n.filled,"outlined"===v.variant&&n.outlined),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},f))});t.a=Object(p.a)(function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},{name:"MuiInputLabel"})(Object(d.a)(f))},function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(9),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(121),d=n(94),p=n(22),h=u.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.className,s=e.component,d=void 0===s?"label":s,p=(e.disabled,e.error,e.filled,e.focused,e.muiFormControl),h=(e.required,a()(e,["children","classes","className","component","disabled","error","filled","focused","muiFormControl","required"])),f=Object(l.a)({props:e,muiFormControl:p,states:["required","focused","disabled","error","filled"]});return u.a.createElement(d,o()({className:Object(c.a)(r.root,i,f.disabled&&r.disabled,f.error&&r.error,f.filled&&r.filled,f.focused&&r.focused,f.required&&r.required),ref:t},h),n,f.required&&u.a.createElement("span",{className:Object(c.a)(r.asterisk,f.error&&r.error)},"\u2009","*"))});t.a=Object(p.a)(function(e){return{root:o()({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary["light"===e.palette.type?"dark":"light"]},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}},{name:"MuiFormLabel"})(Object(d.a)(h))},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(52),l=n.n(c),d=(n(53),n(108)),p=n.n(d),h=n(14),f=n(86),m=n(319),v=n(30),g=n(22),A=n(500),y=n(378),b=n(253);function x(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function w(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function _(e){return[e.horizontal,e.vertical].map(function(e){return"number"===typeof e?"".concat(e,"px"):e}).join(" ")}function k(e){return"function"===typeof e?e():e}var O=u.a.forwardRef(function(e,t){var n=e.action,r=e.anchorEl,i=e.anchorOrigin,s=e.anchorPosition,c=e.anchorReference,d=e.children,g=e.classes,y=e.container,O=e.elevation,E=e.getContentAnchorEl,S=e.marginThreshold,C=e.ModalClasses,T=e.onEnter,I=e.onEntered,j=e.onEntering,M=e.onExit,N=e.onExited,D=e.onExiting,R=e.open,P=e.PaperProps,L=void 0===P?{}:P,F=e.transformOrigin,B=e.TransitionComponent,z=e.transitionDuration,U=e.TransitionProps,V=void 0===U?{}:U,W=o()(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","container","elevation","getContentAnchorEl","marginThreshold","ModalClasses","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),G=u.a.useRef(),H=u.a.useRef(function(){});u.a.useImperativeHandle(n,function(){return{updatePosition:H.current}},[]);var q=u.a.useCallback(function(e){if("anchorPosition"===c)return s;var t=k(r),n=(t instanceof Element?t:Object(f.a)(G.current).body).getBoundingClientRect(),a=0===e?i.vertical:"center";return{top:n.top+x(n,a),left:n.left+w(n,i.horizontal)}},[r,i.horizontal,i.vertical,s,c]),K=u.a.useCallback(function(e){var t=0;if(E&&"anchorEl"===c){var n=E(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentNode).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}}return t},[i.vertical,c,E]),X=u.a.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:x(e,F.vertical)+t,horizontal:w(e,F.horizontal)}},[F.horizontal,F.vertical]),Q=u.a.useCallback(function(e){var t=K(e),n={width:e.offsetWidth,height:e.offsetHeight},a=X(n,t);if("none"===c)return{top:null,left:null,transformOrigin:_(a)};var i=q(t),o=i.top-a.vertical,s=i.left-a.horizontal,u=o+n.height,l=s+n.width,d=Object(m.a)(k(r)),p=d.innerHeight-S,h=d.innerWidth-S;if(o<S){var f=o-S;o-=f,a.vertical+=f}else if(u>p){var v=u-p;o-=v,a.vertical+=v}if(s<S){var g=s-S;s-=g,a.horizontal+=g}else if(l>h){var A=l-h;s-=A,a.horizontal+=A}return{top:"".concat(o,"px"),left:"".concat(s,"px"),transformOrigin:_(a)}},[r,c,q,K,X,S]),Y=u.a.useCallback(function(e){var t=Q(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin},[Q]),$=u.a.useCallback(function(e){G.current=l.a.findDOMNode(e)},[]);u.a.useEffect(function(){return H.current=p()(function(){R&&Y(G.current)},166),window.addEventListener("resize",H.current),function(){H.current.clear(),window.removeEventListener("resize",H.current)}},[R,Y]);var Z=z;"auto"!==z||B.muiSupportAuto||(Z=void 0);var J=y||(r?Object(f.a)(k(r)).body:void 0);return u.a.createElement(A.a,a()({classes:C,container:J,open:R,ref:t,BackdropProps:{invisible:!0}},W),u.a.createElement(B,a()({appear:!0,in:R,onEnter:T,onEntered:I,onExit:M,onExited:N,onExiting:D,timeout:Z},V,{onEntering:Object(v.b)(function(e){j&&j(e),Y(e)},V.onEntering)}),u.a.createElement(b.a,a()({elevation:O,ref:$},L,{className:Object(h.a)(g.paper,L.className)}),d)))});O.defaultProps={anchorReference:"anchorEl",anchorOrigin:{vertical:"top",horizontal:"left"},elevation:8,marginThreshold:16,transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:y.a,transitionDuration:"auto"},t.a=Object(g.a)({paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:"none"}},{name:"MuiPopover"})(O)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(52),l=n.n(c),d=n(86),p=n(735),h=n(318),f=n(40);function m(e,t,n){return t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function v(e,t,n){return t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function g(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),void 0!==n&&(0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join(""))))}function A(e,t,n,r,a){for(var i=!1,o=r(e,t,!!t&&n);o;){if(o===e.firstChild){if(i)return!1;i=!0}if(o.hasAttribute("tabindex")&&!o.disabled&&"true"!==o.getAttribute("aria-disabled")&&g(o,a))break;o=r(e,o,n)}return!!o&&(o.focus(),!0)}var y="undefined"===typeof window?u.a.useEffect:u.a.useLayoutEffect,b=u.a.forwardRef(function(e,t){var n=e.actions,r=e.autoFocus,i=e.className,s=e.onKeyDown,c=e.disableListWrap,b=void 0!==c&&c,x=o()(e,["actions","autoFocus","className","onKeyDown","disableListWrap"]),w=u.a.useRef(null),_=u.a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});y(function(){r&&w.current.focus()},[r]),u.a.useImperativeHandle(n,function(){return{adjustStyleForScrollbar:function(e,t){var n=!w.current.style.width;if(e.clientHeight<w.current.clientHeight&&n){var r="".concat(Object(h.a)(!0),"px");w.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,w.current.style.width="calc(100% + ".concat(r,")")}return w.current}}},[]);var k=u.a.useCallback(function(e){w.current=l.a.findDOMNode(e)},[]),O=Object(f.c)(k,t);return u.a.createElement(p.a,a()({role:"menu",ref:O,className:i,onKeyDown:function(e){var t=w.current,n=e.key,r=Object(d.a)(t).activeElement;if("ArrowUp"!==n&&"ArrowDown"!==n||r&&(!r||t.contains(r))){if("ArrowDown"===n)e.preventDefault(),A(t,r,b,m);else if("ArrowUp"===n)e.preventDefault(),A(t,r,b,v);else if("Home"===n)e.preventDefault(),A(t,null,b,m);else if("End"===n)e.preventDefault(),A(t,null,b,v);else if(1===n.length){var a=_.current,i=n.toLowerCase(),o=performance.now();a.keys.length>0&&(o-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&i!==a.keys[0]&&(a.repeating=!1)),a.lastTime=o,a.keys.push(i);var u=r&&!a.repeating&&g(r,a);a.previousKeyMatched&&(u||A(t,r,!1,m,a))?e.preventDefault():a.previousKeyMatched=!1}}else A(t,null,b,m);s&&s(e)},tabIndex:r?0:-1},x))});t.a=b},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(145),p=u.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.className,s=e.component,l=void 0===s?"ul":s,p=e.dense,h=void 0!==p&&p,f=e.disablePadding,m=void 0!==f&&f,v=e.subheader,g=o()(e,["children","classes","className","component","dense","disablePadding","subheader"]),A=u.a.useMemo(function(){return{dense:h}},[h]);return u.a.createElement(d.a.Provider,{value:A},u.a.createElement(l,a()({className:Object(c.a)(r.root,i,h&&r.dense,!m&&r.padding,v&&r.subheader),ref:t},g),v,n))});t.a=Object(l.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(p)},function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(9),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(121),d=n(94),p=n(22),h=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.component,s=void 0===i?"p":i,d=(e.disabled,e.error,e.filled,e.focused,e.margin,e.muiFormControl),p=(e.required,e.variant,a()(e,["classes","className","component","disabled","error","filled","focused","margin","muiFormControl","required","variant"])),h=Object(l.a)({props:e,muiFormControl:d,states:["variant","margin","disabled","error","filled","focused","required"]});return u.a.createElement(s,o()({className:Object(c.a)(n.root,("filled"===h.variant||"outlined"===h.variant)&&n.contained,r,"dense"===h.margin&&n.marginDense,h.disabled&&n.disabled,h.error&&n.error,h.filled&&n.filled,h.focused&&n.focused,h.required&&n.required),ref:t},p))});t.a=Object(p.a)(function(e){return{root:o()({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:8,lineHeight:"1em",minHeight:"1em",margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{margin:"8px 12px 0"},focused:{},filled:{},required:{}}},{name:"MuiFormHelperText"})(Object(d.a)(h))},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(241),p=n(40),h=n(145),f=n(52),m=n.n(f),v=(n(53),"undefined"===typeof window?u.a.useEffect:u.a.useLayoutEffect),g=u.a.forwardRef(function(e,t){var n=e.alignItems,r=void 0===n?"center":n,i=e.autoFocus,s=e.button,l=void 0!==s&&s,f=e.children,g=e.classes,A=e.className,y=e.component,b=e.ContainerComponent,x=void 0===b?"li":b,w=e.ContainerProps,_=(w=void 0===w?{}:w).className,k=o()(w,["className"]),O=e.dense,E=e.disabled,S=void 0!==E&&E,C=e.disableGutters,T=void 0!==C&&C,I=e.divider,j=void 0!==I&&I,M=e.focusVisibleClassName,N=e.selected,D=void 0!==N&&N,R=o()(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),P=u.a.useContext(h.a),L={dense:O||P.dense||!1,alignItems:r},F=u.a.useRef(null);v(function(){i&&F.current&&F.current.focus()},[i]);var B=u.a.Children.toArray(f),z=B.length&&Object(p.a)(B[B.length-1],["ListItemSecondaryAction"]),U=u.a.useCallback(function(e){F.current=m.a.findDOMNode(e)},[]),V=Object(p.c)(U,t),W=a()({className:Object(c.a)(g.root,A,L.dense&&g.dense,!T&&g.gutters,j&&g.divider,S&&g.disabled,l&&g.button,"center"!==r&&g.alignItemsFlexStart,z&&g.secondaryAction,D&&g.selected),disabled:S},R),G=y||"li";return l&&(W.component=y||"div",W.focusVisibleClassName=Object(c.a)(g.focusVisible,M),G=d.a),z?(G=W.component||y?G:"div","li"===x&&("li"===G?G="div":"li"===W.component&&(W.component="div")),u.a.createElement(h.a.Provider,{value:L},u.a.createElement(x,a()({className:Object(c.a)(g.container,_),ref:V},k),u.a.createElement(G,W,B),B.pop()))):u.a.createElement(h.a.Provider,{value:L},u.a.createElement(G,a()({ref:V},W),B))});t.a=Object(l.a)(function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},{name:"MuiListItem"})(g)},function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(9),o=n.n(i),s=n(1),u=n.n(s),c=(n(53),n(97)),l=n(803),d={set:function(e,t,n,r){var a=e.get(t);a||(a=new Map,e.set(t,a)),a.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},p=n(497),h=n(311),f=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var m=Date.now(),v="fnValues"+m,g="fnStyle"+ ++m;var A=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=Object(c.c)(e,{},n);return r[g]=t,r},onProcessStyle:function(e,t){if(v in t||g in t)return e;var n={};for(var r in e){var a=e[r];"function"===typeof a&&(delete e[r],n[r]=a)}return t[v]=n,e},onUpdate:function(e,t,n,r){var a=t,i=a[g];i&&(a.style=i(e));var o=a[v];if(o)for(var s in o)a.prop(s,o[s](e),r)}}},y=n(55),b="@global",x="@global ",w=function(){function e(e,t,n){for(var r in this.type="global",this.at=b,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new c.a(Object(y.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),_=function(){function e(e,t,n){this.type="global",this.at=b,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr(x.length);this.rule=n.jss.createRule(r,t,Object(y.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),k=/\s*,\s*/g;function O(e,t){for(var n=e.split(k),r="",a=0;a<n.length;a++)r+=t+" "+n[a].trim(),n[a+1]&&(r+=", ");return r}var E=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===b)return new w(e,t,n);if("@"===e[0]&&e.substr(0,x.length)===x)return new _(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,r=n?n[b]:null;if(r){for(var a in r)t.sheet.addRule(a,r[a],Object(y.a)({},t,{selector:O(a,e.selector)}));delete n[b]}}(e),function(e){var t=e.options,n=e.style;for(var r in n)if("@"===r[0]&&r.substr(0,b.length)===b){var a=O(r.substr(b.length),e.selector);t.sheet.addRule(a,n[r],Object(y.a)({},t,{selector:a})),delete n[r]}}(e))}}},S=/\s*,\s*/g,C=/&/g,T=/\$([\w-]+)/g;var I=function(){function e(e,t){return function(n,r){var a=e.getRule(r)||t&&t.getRule(r);return a?(a=a).selector:r}}function t(e,t){for(var n=t.split(S),r=e.split(S),a="",i=0;i<n.length;i++)for(var o=n[i],s=0;s<r.length;s++){var u=r[s];a&&(a+=", "),a+=-1!==u.indexOf("&")?u.replace(C,o):o+" "+u}return a}function n(e,t,n){if(n)return Object(y.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;return r=void 0===r?1:r+1,Object(y.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1})}return{onProcessStyle:function(r,a,i){if("style"!==a.type)return r;var o,s,u=a,c=u.options.parent;for(var l in r){var d=-1!==l.indexOf("&"),p="@"===l[0];if(d||p){if(o=n(u,c,o),d){var h=t(l,u.selector);s||(s=e(c,i)),h=h.replace(T,s),c.addRule(h,r[l],Object(y.a)({},o,{selector:h}))}else p&&c.addRule(l,{},o).addRule(u.key,r[l],{selector:u.selector});delete r[l]}}return r}}},j=/[A-Z]/g,M=/^ms-/,N={};function D(e){return"-"+e.toLowerCase()}var R=function(e){if(N.hasOwnProperty(e))return N[e];var t=e.replace(j,D);return N[e]=M.test(t)?"-"+t:t};function P(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:R(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(P):t.fallbacks=P(e.fallbacks)),t}var L=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=P(e[t]);return e}return P(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=R(t);return t===r?e:(n.prop(r,e),null)}}},F=c.e?window.CSS.px:"px",B=c.e?window.CSS.ms:"ms",z=c.e?window.CSS.percent:"%";function U(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var a in e)r[a]=e[a],r[a.replace(t,n)]=e[a];return r}var V=U({"animation-delay":B,"animation-duration":B,"background-position":F,"background-position-x":F,"background-position-y":F,"background-size":F,border:F,"border-bottom":F,"border-bottom-left-radius":F,"border-bottom-right-radius":F,"border-bottom-width":F,"border-left":F,"border-left-width":F,"border-radius":F,"border-right":F,"border-right-width":F,"border-top":F,"border-top-left-radius":F,"border-top-right-radius":F,"border-top-width":F,"border-width":F,margin:F,"margin-bottom":F,"margin-left":F,"margin-right":F,"margin-top":F,padding:F,"padding-bottom":F,"padding-left":F,"padding-right":F,"padding-top":F,"mask-position-x":F,"mask-position-y":F,"mask-size":F,height:F,width:F,"min-height":F,"max-height":F,"min-width":F,"max-width":F,bottom:F,left:F,top:F,right:F,"box-shadow":F,"text-shadow":F,"column-gap":F,"column-rule":F,"column-rule-width":F,"column-width":F,"font-size":F,"font-size-delta":F,"letter-spacing":F,"text-indent":F,"text-stroke":F,"text-stroke-width":F,"word-spacing":F,motion:F,"motion-offset":F,outline:F,"outline-offset":F,"outline-width":F,perspective:F,"perspective-origin-x":z,"perspective-origin-y":z,"transform-origin":z,"transform-origin-x":z,"transform-origin-y":z,"transform-origin-z":z,"transition-delay":B,"transition-duration":B,"vertical-align":F,"flex-basis":F,"shape-margin":F,size:F,grid:F,"grid-gap":F,"grid-row-gap":F,"grid-column-gap":F,"grid-template-rows":F,"grid-template-columns":F,"grid-auto-rows":F,"grid-auto-columns":F,"box-shadow-x":F,"box-shadow-y":F,"box-shadow-blur":F,"box-shadow-spread":F,"font-line-height":F,"text-shadow-x":F,"text-shadow-y":F,"text-shadow-blur":F});function W(e,t,n){if(!t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=W(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var a in t)t[a]=W(a,t[a],n);else for(var i in t)t[i]=W(e+"-"+i,t[i],n);else if("number"===typeof t)return n[e]?""+t+n[e]:V[e]?"function"===typeof V[e]?V[e](t).toString():""+t+V[e]:t.toString();return t}var G=function(e){void 0===e&&(e={});var t=U(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=W(r,e[r],t);return e},onChangeValue:function(e,n){return W(n,e,t)}}},H=n(189),q=n(25),K="",X="",Q="",Y="",$=H.a&&"ontouchstart"in document.documentElement;if(H.a){var Z={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},J=document.createElement("p").style;for(var ee in Z)if(ee+"Transform"in J){K=ee,X=Z[ee];break}"Webkit"===K&&"msHyphens"in J&&(K="ms",X=Z.ms,Y="edge"),"Webkit"===K&&"-apple-trailing-word"in J&&(Q="apple")}var te={js:K,css:X,vendor:Q,browser:Y,isTouch:$};var ne={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===te.js?"-webkit-"+e:te.css+e)}},re=/[-\s]+(.)?/g;function ae(e,t){return t?t.toUpperCase():""}function ie(e){return e.replace(re,ae)}function oe(e){return ie("-"+e)}var se,ue={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===te.js?"WebkitColumn"+oe(e)in t&&te.css+"column-"+e:"Moz"===te.js&&("page"+oe(e)in t&&"page-"+e))}},ce={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===te.js?te.css+"print-"+e:e)}},le={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},de=Object.keys(le),pe=function(e){return te.css+e},he={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},fe=[ne,ce,{noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===te.js){if(ie("mask-image")in t)return e;if(te.js+oe("mask-image")in t)return te.css+e}return e}},{noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==te.vendor||te.isTouch?e:te.css+e)}},{noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:te.css+e)}},{noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:te.css+e)}},{noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===te.js||"ms"===te.js?te.css+e:e)}},ue,{supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===te.js)return e;var n=e.replace("-inline","");return te.js+oe(n)in t&&te.css+n}},{supportedProperty:function(e,t){return ie(e)in t&&e}},{supportedProperty:function(e,t){var n=oe(e);return"-"===e[0]?e:"-"===e[0]&&"-"===e[1]?e:te.js+n in t?te.css+e:"Webkit"!==te.js&&"Webkit"+n in t&&"-webkit-"+e}},{supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===te.js?""+te.css+e:e)}},{supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===te.js?te.css+"scroll-chaining":e)}},{supportedProperty:function(e,t){var n=he[e];return!!n&&(te.js+oe(n)in t&&te.css+n)}},{supportedProperty:function(e,t,n){var r=n.multiple;if(de.indexOf(e)>-1){var a=le[e];if(!Array.isArray(a))return te.js+oe(a)in t&&te.css+a;if(!r)return!1;for(var i=0;i<a.length;i++)if(!(te.js+oe(a[0])in t))return!1;return a.map(pe)}return!1}}],me=fe.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),ve=fe.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Object(q.a)(t.noPrefill)),e},[]),ge={};if(H.a){se=document.createElement("p");var Ae=window.getComputedStyle(document.documentElement,"");for(var ye in Ae)isNaN(ye)||(ge[Ae[ye]]=Ae[ye]);ve.forEach(function(e){return delete ge[e]})}function be(e,t){if(void 0===t&&(t={}),!se)return e;if(null!=ge[e])return ge[e];"transition"!==e&&"transform"!==e||(t[e]=e in se.style);for(var n=0;n<me.length&&(ge[e]=me[n](e,se.style,t),!ge[e]);n++);try{se.style[e]=""}catch(r){return!1}return ge[e]}var xe,we={},_e={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},ke=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Oe(e,t,n){return"all"===t?"all":"all"===n?", all":t?be(t):", "+be(n)}function Ee(e,t){var n=t;if(!xe)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=we[r])return we[r];try{xe.style[e]=n}catch(a){return we[r]=!1,!1}if(_e[e])n=n.replace(ke,Oe);else if(""===xe.style[e]&&("-ms-flex"===(n=te.css+n)&&(xe.style[e]="-ms-flexbox"),xe.style[e]=n,""===xe.style[e]))return we[r]=!1,!1;return xe.style[e]="",we[r]=n,we[r]}H.a&&(xe=document.createElement("p"));var Se=function(){return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]?n:"ms"===te.js?n:"@"+te.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var n in e){var r=e[n],a=!1,i=be(n);i&&i!==n&&(a=!0);var o=!1,s=Ee(i,Object(c.f)(r));s&&s!==r&&(o=!0),(a||o)&&(a&&delete e[n],e[i||n]=s||r)}return e},onChangeValue:function(e,t){return Ee(t,Object(c.f)(e))||e}}};var Ce=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},a=Object.keys(t).sort(e),i=0;i<a.length;i++)r[a[i]]=t[a[i]];return r}}};var Te,Ie=function(){return{plugins:[A(),E(),I(),L(),G(),"undefined"===typeof window?null:Se(),Ce()]}},je=Object(c.b)(Ie()),Me={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,a=void 0===r?"jss":r,i=e.seed,o=void 0===i?"":i,s=""===o?"":"".concat(o,"-"),u=0;return function(e,t){u+=1;var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==f.indexOf(e.key))return"Mui-".concat(e.key);var i="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[h.a]&&""===o?"".concat(i,"-").concat(u):i}return"".concat(s).concat(a).concat(u)}}(),jss:je,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Ne=u.a.createContext(Me);function De(e){var t=e.children,n=e.injectFirst,r=a()(e,["children","injectFirst"]),i=u.a.useContext(Ne),s=o()({},i,r);if(!s.jss.options.insertionPoint&&n&&"undefined"!==typeof window){if(!Te){var l=document.head;Te=document.createComment("mui-inject-first"),l.insertBefore(Te,l.firstChild)}s.jss=Object(c.b)({plugins:Ie().plugins,insertionPoint:Te})}return u.a.createElement(Ne.Provider,{value:s},t)}De.defaultProps={disableGeneration:!1,injectFirst:!1};var Re=-1e9;n(180);var Pe=n(143),Le=n.n(Pe);function Fe(e,t){return t}var Be=function(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return a;var i=n.overrides[r],s=o()({},a);return Object.keys(i).forEach(function(e){s[e]=Le()(s[e],i[e],{arrayMerge:Fe})}),s},options:{},themingEnabled:t}},ze={};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,i=t.Component,s=t.defaultTheme,h=void 0===s?ze:s,f=a()(t,["name","classNamePrefix","Component","defaultTheme"]),m=Be(e),v=n||r||"makeStyles";m.options={index:Re+=1,name:n,meta:v,classNamePrefix:v};var g=m.themingEnabled||"string"===typeof n;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(g?Object(p.a)():null)||h,r=o()({},u.a.useContext(Ne),f),a=u.a.useRef(),s=u.a.useRef();return function(e,t){var n,r=u.a.useRef([]),a=u.a.useMemo(function(){return{}},t);r.current!==a&&(r.current=a,n=e()),u.a.useEffect(function(){return function(){n&&n()}},[a])}(function(){var i={name:n,state:{},stylesCreator:m,stylesOptions:r,theme:t};return function(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,i=e.stylesCreator,s=e.name;if(!a.disableGeneration){var u=d.get(a.sheetsManager,i,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},d.set(a.sheetsManager,i,r,u));var p=o()({},i.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});p.generateId=p.serverGenerateClassName||p.generateClassName;var h=a.sheetsRegistry;if(0===u.refs){var f;a.sheetsCache&&(f=d.get(a.sheetsCache,i,r));var m=i.create(r,s);f||((f=a.jss.createStyleSheet(m,o()({link:!1},p))).attach(),a.sheetsCache&&d.set(a.sheetsCache,i,r,f)),h&&h.add(f),u.staticSheet=f,u.dynamicStyles=Object(c.d)(m)}if(u.dynamicStyles){var v=a.jss.createStyleSheet(u.dynamicStyles,o()({link:!0},p));v.update(t).attach(),n.dynamicSheet=v,n.classes=Object(l.a)({baseClasses:u.staticSheet.classes,newClasses:v.classes}),h&&h.add(v)}else n.classes=u.staticSheet.classes;u.refs+=1}}(i,e),s.current=!1,a.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,a=e.stylesCreator;if(!r.disableGeneration){var i=d.get(r.sheetsManager,a,n);i.refs-=1;var o=r.sheetsRegistry;0===i.refs&&(d.delete(r.sheetsManager,a,n),r.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(i)}},[t,m]),u.a.useEffect(function(){s.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(a.current,e),s.current=!0}),function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var a=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,a=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,a=!0),a&&(r.cacheClasses.value=Object(l.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(a.current,e.classes,i)}}},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(501),d=n(38),p=n.n(d),h=n(22),f=n(30),m=u.a.forwardRef(function(e,t){e.children;var n=e.classes,r=e.className,i=e.labelWidth,s=e.notched,l=e.style,d=e.theme,h=o()(e,["children","classes","className","labelWidth","notched","style","theme"]),m="rtl"===d.direction?"right":"left",v=i>0?.75*i+8:0;return u.a.createElement("fieldset",a()({"aria-hidden":!0,style:a()(p()({},"padding".concat(Object(f.a)(m)),8+(s?0:v/2)),l),className:Object(c.a)(n.root,r),ref:t},h),u.a.createElement("legend",{className:n.legend,style:{width:s?v:.01}},u.a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}),v=Object(h.a)(function(e){var t="rtl"===e.direction?"right":"left";return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:0,pointerEvents:"none",borderRadius:e.shape.borderRadius,borderStyle:"solid",borderWidth:1,transition:e.transitions.create(["padding-".concat(t),"border-color","border-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}}},{name:"PrivateNotchedOutline",withTheme:!0})(m),g=u.a.forwardRef(function(e,t){var n=e.classes,r=e.fullWidth,i=void 0!==r&&r,s=e.inputComponent,d=void 0===s?"input":s,p=e.labelWidth,h=void 0===p?0:p,f=e.multiline,m=void 0!==f&&f,g=e.notched,A=e.type,y=void 0===A?"text":A,b=o()(e,["classes","fullWidth","inputComponent","labelWidth","multiline","notched","type"]);return u.a.createElement(l.a,a()({renderPrefix:function(e){return u.a.createElement(v,{className:n.notchedOutline,labelWidth:h,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)})},classes:a()({},n,{root:Object(c.a)(n.root,n.underline),notchedOutline:null}),fullWidth:i,inputComponent:d,multiline:m,ref:t,type:y},b))});g.muiName="Input";t.a=Object(h.a)(function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative","& $notchedOutline":{borderColor:t},"&:hover $notchedOutline":{borderColor:e.palette.text.primary,"@media (hover: none)":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{},input:{padding:"18.5px 14px"},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},{name:"MuiOutlinedInput"})(g)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(803),l=n(66),d=n.n(l),p=n(45),h=n.n(p),f=n(180),m=n.n(f),v=n(14),g=(n(53),n(460)),A=n(186),y=n(40);function b(e,t){return"object"===m()(t)&&null!==t?e===t:String(e)===String(t)}var x=u.a.forwardRef(function(e,t){var n=e.autoFocus,r=e.autoWidth,i=e.children,s=e.classes,c=e.className,l=e.disabled,p=e.displayEmpty,f=e.IconComponent,m=e.inputRef,x=e.MenuProps,w=void 0===x?{}:x,_=e.multiple,k=e.name,O=e.onBlur,E=e.onChange,S=e.onClose,C=e.onFocus,T=e.onOpen,I=e.open,j=e.readOnly,M=e.renderValue,N=(e.required,e.SelectDisplayProps),D=e.tabIndex,R=e.type,P=void 0===R?"hidden":R,L=e.value,F=e.variant,B=o()(e,["autoFocus","autoWidth","children","classes","className","disabled","displayEmpty","IconComponent","inputRef","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"]),z=u.a.useRef(null),U=u.a.useRef(!1),V=u.a.useRef(null!=e.open).current,W=u.a.useState(),G=h()(W,2),H=G[0],q=G[1],K=u.a.useState(!1),X=h()(K,2),Q=X[0],Y=X[1],$=u.a.useState(0),Z=h()($,2)[1],J=Object(y.c)(t,m);u.a.useImperativeHandle(J,function(){return{focus:function(){z.current.focus()},node:m?m.current:null,value:L}},[m,L]),u.a.useEffect(function(){V&&I&&(z.current.focus(),Z(function(e){return!e})),n&&z.current.focus()},[n,V,I]);var ee,te=function(e,t){e?T&&T(t):S&&S(t),V||(q(r?null:z.current.clientWidth),Y(e))},ne=function(e){return function(t){if(_||te(!1,t),E){var n;if(_){n=Array.isArray(L)?d()(L):[];var r=L.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;t.persist(),t.target={value:n,name:k},E(t,e)}}},re=V&&z.current?I:Q;delete B["aria-invalid"];var ae="",ie=[],oe=!1;(Object(A.b)(e)||p)&&(M?ee=M(L):oe=!0);var se=u.a.Children.map(i,function(e){if(!u.a.isValidElement(e))return null;var t;if(_){if(!Array.isArray(L))throw new Error("Material-UI: the `value` property must be an array when using the `Select` component with `multiple`.");(t=L.some(function(t){return b(t,e.props.value)}))&&oe&&ie.push(e.props.children)}else(t=b(L,e.props.value))&&oe&&(ae=e.props.children);return u.a.cloneElement(e,{onClick:ne(e),role:"option",selected:t,value:void 0,"data-value":e.props.value})});oe&&(ee=_?ie.join(", "):ae);var ue,ce=H;return!r&&V.current&&z.current&&(ce=z.current.clientWidth),ue="undefined"!==typeof D?D:l?null:0,u.a.createElement("div",{className:s.root},u.a.createElement("div",a()({className:Object(v.a)(s.select,s.selectMenu,c,l&&s.disabled,"filled"===F&&s.filled,"outlined"===F&&s.outlined),ref:z,"aria-pressed":re?"true":"false",tabIndex:ue,role:"button","aria-owns":re?"menu-".concat(k||""):void 0,"aria-haspopup":"true",onKeyDown:function(e){j||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),U.current=!0,te(!0,e))},onBlur:function(e){if(!0===U.current)return e.stopPropagation(),void(U.current=!1);O&&(e.persist(),e.target={value:L,name:k},O(e))},onClick:l||j?null:function(e){U.current=!0,te(!0,e)},onFocus:C,id:k?"select-".concat(k):void 0},N),null!=ee?ee:u.a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})),u.a.createElement("input",a()({value:Array.isArray(L)?L.join(","):L,name:k,ref:J,type:P,autoFocus:n},B)),u.a.createElement(f,{className:s.icon}),u.a.createElement(g.a,a()({id:"menu-".concat(k||""),anchorEl:z.current,open:re,onClose:function(e){te(!1,e)}},w,{MenuListProps:a()({role:"listbox",disableListWrap:!0},w.MenuListProps),PaperProps:a()({},w.PaperProps,{style:a()({minWidth:ce},null!=w.PaperProps?w.PaperProps.style:null)})}),se))}),w=n(121),_=n(94),k=n(22),O=n(320),E=n(499),S=n(459),C=n(321),T=S.b,I=u.a.createElement(E.a,null),j=u.a.forwardRef(function e(t,n){var r=t.autoWidth,i=void 0!==r&&r,s=t.children,l=t.classes,d=t.displayEmpty,p=void 0!==d&&d,h=t.IconComponent,f=void 0===h?O.a:h,m=t.input,v=void 0===m?I:m,g=t.inputProps,A=t.MenuProps,y=t.muiFormControl,b=t.multiple,_=void 0!==b&&b,k=t.native,E=void 0!==k&&k,S=t.onClose,T=t.onOpen,j=t.open,M=t.renderValue,N=t.SelectDisplayProps,D=(t.variant,o()(t,["autoWidth","children","classes","displayEmpty","IconComponent","input","inputProps","MenuProps","muiFormControl","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"])),R=E?C.a:x,P=Object(w.a)({props:t,muiFormControl:y,states:["variant"]});return u.a.cloneElement(v,a()({inputComponent:R,inputProps:a()({children:s,IconComponent:f,variant:P.variant,type:void 0,multiple:_},E?{}:{autoWidth:i,displayEmpty:p,MenuProps:A,onClose:S,onOpen:T,open:j,renderValue:M,SelectDisplayProps:N},g,{classes:g?Object(c.a)({baseClasses:l,newClasses:g.classes,Component:e}):l},v?v.props.inputProps:{}),ref:n},D))});j.muiName="Select";t.a=Object(k.a)(T,{name:"MuiSelect"})(Object(_.a)(j))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(9),a=n.n(r);n(53);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var r=a()({},t);return Object.keys(n).forEach(function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))}),r}},function(e,t,n){"use strict";t.a=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var a,i=t.props[n];for(a in i)void 0===r[a]&&(r[a]=i[a]);return r}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(9),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(39),p=n(241),h=n(30),f=u.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.className,s=e.color,l=void 0===s?"default":s,d=e.component,f=void 0===d?"button":d,m=e.disabled,v=void 0!==m&&m,g=e.disableFocusRipple,A=void 0!==g&&g,y=e.focusVisibleClassName,b=e.fullWidth,x=void 0!==b&&b,w=e.size,_=void 0===w?"medium":w,k=e.type,O=void 0===k?"button":k,E=e.variant,S=void 0===E?"text":E,C=a()(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","fullWidth","size","type","variant"]),T="text"===S,I="outlined"===S,j="contained"===S,M="primary"===l,N="secondary"===l,D=Object(c.a)(r.root,i,T&&[r.text,M&&r.textPrimary,N&&r.textSecondary],I&&[r.outlined,M&&r.outlinedPrimary,N&&r.outlinedSecondary],j&&[r.contained,M&&r.containedPrimary,N&&r.containedSecondary],"medium"!==_&&r["size".concat(Object(h.a)(_))],v&&r.disabled,x&&r.fullWidth,"inherit"===l&&r.colorInherit);return u.a.createElement(p.a,o()({className:D,component:f,disabled:v,focusRipple:!A,focusVisibleClassName:Object(c.a)(r.focusVisible,y),ref:t,type:O},C),u.a.createElement("span",{className:r.label},n))});t.a=Object(l.a)(function(e){return{root:o()({lineHeight:1.75},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(d.d)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(d.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(d.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 16px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(d.d)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(d.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(d.d)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(d.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},sizeSmall:{padding:"4px 8px",fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:"8px 24px",fontSize:e.typography.pxToRem(15)},fullWidth:{width:"100%"}}},{name:"MuiButton"})(f)},function(e,t,n){"use strict";var r=n(45),a=n.n(r),i=n(1),o=n.n(i),s="undefined"!==typeof window?o.a.useLayoutEffect:o.a.useEffect;t.a=function(e){var t=e.children,n=e.defer,r=void 0!==n&&n,i=e.fallback,u=void 0===i?null:i,c=o.a.useState(!1),l=a()(c,2),d=l[0],p=l[1];return s(function(){r||p(!0)},[r]),o.a.useEffect(function(){r&&p(!0)},[r]),o.a.createElement(o.a.Fragment,null,d?t:u)}},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(30),p=n(253),h=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.color,s=void 0===i?"primary":i,l=e.position,h=void 0===l?"fixed":l,f=o()(e,["classes","className","color","position"]);return u.a.createElement(p.a,a()({square:!0,component:"header",elevation:4,className:Object(c.a)(n.root,n["position".concat(Object(d.a)(h))],r,"inherit"!==s&&n["color".concat(Object(d.a)(s))],"fixed"===h&&"mui-fixed"),ref:t},f))});t.a=Object(l.a)(function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}},{name:"MuiAppBar"})(h)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(38),u=n.n(s),c=n(1),l=n.n(c),d=n(14),p=n(22),h=l.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.component,s=void 0===i?"div":i,u=e.disableGutters,c=void 0!==u&&u,p=e.variant,h=void 0===p?"regular":p,f=o()(e,["classes","className","component","disableGutters","variant"]),m=Object(d.a)(n.root,n[h],r,!c&&n.gutters);return l.a.createElement(s,a()({className:m,ref:t},f))});t.a=Object(p.a)(function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:u()({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}},{name:"MuiToolbar"})(h)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(30),p=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.color,s=void 0===i?"inherit":i,l=e.component,p=void 0===l?"span":l,h=e.fontSize,f=void 0===h?"default":h,m=o()(e,["classes","className","color","component","fontSize"]);return u.a.createElement(p,a()({className:Object(c.a)("material-icons",n.root,r,"inherit"!==s&&n["color".concat(Object(d.a)(s))],"default"!==f&&n["fontSize".concat(Object(d.a)(f))]),"aria-hidden":!0,ref:t},m))});p.muiName="Icon",t.a=Object(l.a)(function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}},{name:"MuiIcon"})(p)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(190),l=n(65),d=n(104),p=n(75),h=n(40),f={entering:{transform:"scale(1)"},entered:{transform:"scale(1)"}},m={enter:l.b.enteringScreen,exit:l.b.leavingScreen},v=u.a.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onEnter,s=e.onExit,l=e.style,d=e.theme,v=e.timeout,g=void 0===v?m:v,A=o()(e,["children","in","onEnter","onExit","style","theme","timeout"]),y=Object(h.c)(n.ref,t);return u.a.createElement(c.a,a()({appear:!0,in:r,onEnter:function(e){Object(p.b)(e);var t=Object(p.a)({style:l,timeout:g},{mode:"enter"});e.style.webkitTransition=d.transitions.create("transform",t),e.style.transition=d.transitions.create("transform",t),i&&i(e)},onExit:function(e){var t=Object(p.a)({style:l,timeout:g},{mode:"exit"});e.style.webkitTransition=d.transitions.create("transform",t),e.style.transition=d.transitions.create("transform",t),s&&s(e)},timeout:g},A),function(e,t){return u.a.cloneElement(n,a()({style:a()({transform:"scale(0)",visibility:"exited"!==e||r?void 0:"hidden"},f[e],l,n.props.style),ref:y},t))})});t.a=Object(d.a)(v)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(57),u=n.n(s),c=n(58),l=n.n(c),d=n(59),p=n.n(d),h=n(60),f=n.n(h),m=n(61),v=n.n(m),g=n(1),A=n.n(g),y=n(14),b=n(39),x=n(22),w=n(727),_=n(723),k=n(238),O=function(e){function t(e){var n;return u()(this,t),(n=p()(this,f()(t).call(this))).handleTooltipClose=function(){n.props.tooltipOpen||n.setState({tooltipOpen:!1})},n.handleTooltipOpen=function(){n.props.tooltipOpen||n.setState({tooltipOpen:!0})},n.componentDidUpdate=function(e){n.props.tooltipOpen&&e.open!==n.props.open&&(n.state.tooltipOpen||(n.timeout=setTimeout(function(){return n.setState({tooltipOpen:!0})},n.props.delay+100)))},n.componentWillUnmount=function(){return clearTimeout(n.timeout)},n.state={tooltipOpen:e.tooltipOpen},n}return v()(t,e),l()(t,[{key:"render",value:function(){var e,t=this.props,n=t.ButtonProps,r=t.classes,i=t.className,s=t.delay,u=t.icon,c=t.id,l=(t.innerRef,t.onClick),d=t.onKeyDown,p=t.open,h=t.tooltipTitle,f=t.TooltipClasses,m=t.tooltipPlacement,v=(t.tooltipOpen,o()(t,["ButtonProps","classes","className","delay","icon","id","innerRef","onClick","onKeyDown","open","tooltipTitle","TooltipClasses","tooltipPlacement","tooltipOpen"])),g={onClick:l};"undefined"!==typeof document&&"ontouchstart"in document.documentElement&&(g={onTouchStart:function(){e=new Date},onTouchEnd:function(t){new Date-e<500&&l(t)}});return A.a.createElement(_.a,a()({id:c,title:h,placement:m,onClose:this.handleTooltipClose,onOpen:this.handleTooltipOpen,open:p&&this.state.tooltipOpen,classes:f},v),A.a.createElement(w.a,a()({size:"small",className:Object(y.a)(i,r.button,!p&&r.buttonClosed),style:{transitionDelay:"".concat(s,"ms")},tabIndex:-1,role:"menuitem",onKeyDown:d},n,g),u))}}]),t}(A.a.Component);O.getDerivedStateFromProps=function(e,t){return!e.open&&t.tooltipOpen?{tooltipOpen:!1}:null},O.defaultProps={delay:0,open:!1,tooltipPlacement:"left",tooltipOpen:!1},t.a=Object(x.a)(function(e){return{button:{margin:8,color:e.palette.text.secondary,backgroundColor:e.palette.common.white,"&:hover":{backgroundColor:Object(b.c)(e.palette.common.white,.15)},transition:"".concat(e.transitions.create("transform",{duration:e.transitions.duration.shorter}),", opacity 0.8s"),opacity:1},buttonClosed:{opacity:0,transform:"scale(0)"}}},{name:"MuiSpeedDialAction"})(Object(k.a)(O))},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(38),u=n.n(s),c=n(1),l=n.n(c),d=n(14),p=n(22),h=n(30),f=n(500),m=n(728),v=n(498),g=n(65),A=n(253),y={enter:g.b.enteringScreen,exit:g.b.leavingScreen},b=l.a.forwardRef(function(e,t){var n=e.BackdropProps,r=e.children,i=e.classes,s=e.className,u=e.disableBackdropClick,c=void 0!==u&&u,p=e.disableEscapeKeyDown,g=void 0!==p&&p,b=e.fullScreen,x=void 0!==b&&b,w=e.fullWidth,_=void 0!==w&&w,k=e.maxWidth,O=void 0===k?"sm":k,E=e.onBackdropClick,S=e.onClose,C=e.onEnter,T=e.onEntered,I=e.onEntering,j=e.onEscapeKeyDown,M=e.onExit,N=e.onExited,D=e.onExiting,R=e.open,P=e.PaperComponent,L=void 0===P?A.a:P,F=e.PaperProps,B=void 0===F?{}:F,z=e.scroll,U=void 0===z?"paper":z,V=e.TransitionComponent,W=void 0===V?v.a:V,G=e.transitionDuration,H=void 0===G?y:G,q=e.TransitionProps,K=o()(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"]),X=l.a.useRef();return l.a.createElement(f.a,a()({className:Object(d.a)(i.root,s),BackdropComponent:m.a,BackdropProps:a()({transitionDuration:H},n),closeAfterTransition:!0,disableBackdropClick:c,disableEscapeKeyDown:g,onEscapeKeyDown:j,onClose:S,open:R,ref:t,role:"dialog"},K),l.a.createElement(W,a()({appear:!0,in:R,timeout:H,onEnter:C,onEntering:I,onEntered:T,onExit:M,onExiting:D,onExited:N},q),l.a.createElement("div",{className:Object(d.a)(i.container,i["scroll".concat(Object(h.a)(U))]),onClick:function(e){e.target===e.currentTarget&&e.target===X.current&&(X.current=null,E&&E(e),!c&&S&&S(e,"backdropClick"))},onMouseDown:function(e){X.current=e.target},role:"document"},l.a.createElement(L,a()({elevation:24},B,{className:Object(d.a)(i.paper,i["paperScroll".concat(Object(h.a)(U))],i["paperWidth".concat(Object(h.a)(String(O)))],B.className,x&&i.paperFullScreen,_&&i.paperFullWidth)}),r))))});t.a=Object(p.a)(function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:"none"},paper:{margin:48,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 96px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 96px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":u()({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+96),{maxWidth:"calc(100% - 96px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":u()({},e.breakpoints.down(e.breakpoints.values.sm+96),{maxWidth:"calc(100% - 96px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":u()({},e.breakpoints.down(e.breakpoints.values.md+96),{maxWidth:"calc(100% - 96px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":u()({},e.breakpoints.down(e.breakpoints.values.lg+96),{maxWidth:"calc(100% - 96px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":u()({},e.breakpoints.down(e.breakpoints.values.xl+96),{maxWidth:"calc(100% - 96px)"})},paperFullWidth:{width:"calc(100% - 96px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},{name:"MuiDialog"})(b)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(45),o=n.n(i),s=n(15),u=n.n(s),c=n(1),l=n.n(c),d=n(52),p=n.n(d),h=(n(53),n(14)),f=n(499),m=n(729),v=n(739),g=n(731),A=n(730),y=n(736),b=n(740),x=n(22),w={standard:f.a,filled:m.a,outlined:v.a},_=l.a.forwardRef(function(e,t){var n=e.autoComplete,r=e.autoFocus,i=e.children,s=e.classes,c=e.className,d=e.defaultValue,f=e.error,m=e.FormHelperTextProps,v=e.fullWidth,x=e.helperText,_=e.id,k=e.InputLabelProps,O=e.inputProps,E=e.InputProps,S=e.inputRef,C=e.label,T=e.multiline,I=e.name,j=e.onBlur,M=e.onChange,N=e.onFocus,D=e.placeholder,R=e.required,P=void 0!==R&&R,L=e.rows,F=e.rowsMax,B=e.select,z=void 0!==B&&B,U=e.SelectProps,V=e.type,W=e.value,G=e.variant,H=void 0===G?"standard":G,q=u()(e,["autoComplete","autoFocus","children","classes","className","defaultValue","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]),K=l.a.useState(0),X=o()(K,2),Q=X[0],Y=X[1],$=l.a.useRef(null);l.a.useEffect(function(){if("outlined"===H){var e=p.a.findDOMNode($.current);Y(null!=e?e.offsetWidth:0)}},[H,P]);var Z={};"outlined"===H&&(k&&"undefined"!==typeof k.shrink&&(Z.notched=k.shrink),Z.labelWidth=Q);var J=x&&_?"".concat(_,"-helper-text"):void 0,ee=w[H],te=l.a.createElement(ee,a()({"aria-describedby":J,autoComplete:n,autoFocus:r,defaultValue:d,fullWidth:v,multiline:T,name:I,rows:L,rowsMax:F,type:V,value:W,id:_,inputRef:S,onBlur:j,onChange:M,onFocus:N,placeholder:D,inputProps:O},Z,E));return l.a.createElement(A.a,a()({className:Object(h.a)(s.root,c),error:f,fullWidth:v,ref:t,required:P,variant:H},q),C&&l.a.createElement(g.a,a()({htmlFor:_,ref:$},k),C),z?l.a.createElement(b.a,a()({"aria-describedby":J,value:W,input:te},U),i):te,x&&l.a.createElement(y.a,a()({id:J},m),x))});t.a=Object(x.a)({root:{}},{name:"MuiTextField"})(_)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(94),d=n(22),p=n(191),h=n(30),f=u.a.forwardRef(function(e,t){e.checked;var n=e.classes,r=e.className,i=e.control,s=e.disabled,l=(e.inputRef,e.label),d=e.labelPlacement,f=void 0===d?"end":d,m=e.muiFormControl,v=(e.name,e.onChange,e.value,o()(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","muiFormControl","name","onChange","value"])),g=s;"undefined"===typeof g&&"undefined"!==typeof i.props.disabled&&(g=i.props.disabled),"undefined"===typeof g&&m&&(g=m.disabled);var A={disabled:g};return["checked","name","onChange","value","inputRef"].forEach(function(t){"undefined"===typeof i.props[t]&&"undefined"!==typeof e[t]&&(A[t]=e[t])}),u.a.createElement("label",a()({className:Object(c.a)(n.root,r,"end"!==f&&n["labelPlacement".concat(Object(h.a)(f))],g&&n.disabled),ref:t},v),u.a.cloneElement(i,A),u.a.createElement(p.a,{component:"span",className:Object(c.a)(n.label,g&&n.disabled)},l))});t.a=Object(d.a)(function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},{name:"MuiFormControlLabel"})(Object(l.a)(f))},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(30);function p(e){var t,n,r;return t=e,n=0,r=1,e=(Math.min(Math.max(n,t),r)-n)/(r-n),e=(e-=1)*e*e+1}var h=u.a.forwardRef(function(e,t){var n,r=e.classes,i=e.className,s=e.color,l=void 0===s?"primary":s,h=e.disableShrink,f=void 0!==h&&h,m=e.size,v=void 0===m?40:m,g=e.style,A=e.thickness,y=void 0===A?3.6:A,b=e.value,x=void 0===b?0:b,w=e.variant,_=void 0===w?"indeterminate":w,k=o()(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),O={},E={},S={};if("determinate"===_||"static"===_){var C=2*Math.PI*((44-y)/2);O.strokeDasharray=C.toFixed(3),S["aria-valuenow"]=Math.round(x),"static"===_?(O.strokeDashoffset="".concat(((100-x)/100*C).toFixed(3),"px"),E.transform="rotate(-90deg)"):(O.strokeDashoffset="".concat((n=(100-x)/100,n*n*C).toFixed(3),"px"),E.transform="rotate(".concat((270*p(x/70)).toFixed(3),"deg)"))}return u.a.createElement("div",a()({className:Object(c.a)(r.root,i,"inherit"!==l&&r["color".concat(Object(d.a)(l))],"indeterminate"===_&&r.indeterminate,"static"===_&&r.static),style:a()({width:v,height:v},E,g),ref:t,role:"progressbar"},S,k),u.a.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},u.a.createElement("circle",{className:Object(c.a)(r.circle,"indeterminate"===_&&r.circleIndeterminate,"static"===_&&r.circleStatic,f&&r.circleDisableShrink),style:O,cx:44,cy:44,r:(44-y)/2,fill:"none",strokeWidth:y})))});t.a=Object(l.a)(function(e){return{root:{display:"inline-block",lineHeight:1},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"mui-progress-circular-rotate 1.4s linear infinite",animationName:"$mui-progress-circular-rotate"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"mui-progress-circular-dash 1.4s ease-in-out infinite",animationName:"$mui-progress-circular-dash",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes mui-progress-circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes mui-progress-circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}},{name:"MuiCircularProgress",flip:!1})(h)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(253),d=n(22),p=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.raised,s=void 0!==i&&i,d=o()(e,["classes","className","raised"]);return u.a.createElement(l.a,a()({className:Object(c.a)(n.root,r),elevation:s?8:1,ref:t},d))});t.a=Object(d.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(p)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.component,s=void 0===i?"div":i,l=o()(e,["classes","className","component"]);return u.a.createElement(s,a()({className:Object(c.a)(n.root,r),ref:t},l))});t.a=Object(l.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(d)},function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(9),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(78),p=[0,1,2,3,4,5,6,7,8,9,10],h=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];var f=u.a.forwardRef(function(e,t){var n=e.alignContent,r=void 0===n?"stretch":n,i=e.alignItems,s=void 0===i?"stretch":i,l=e.classes,d=e.className,p=e.component,h=void 0===p?"div":p,f=e.container,m=void 0!==f&&f,v=e.direction,g=void 0===v?"row":v,A=e.item,y=void 0!==A&&A,b=e.justify,x=void 0===b?"flex-start":b,w=e.lg,_=void 0!==w&&w,k=e.md,O=void 0!==k&&k,E=e.sm,S=void 0!==E&&E,C=e.spacing,T=void 0===C?0:C,I=e.wrap,j=void 0===I?"wrap":I,M=e.xl,N=void 0!==M&&M,D=e.xs,R=void 0!==D&&D,P=e.zeroMinWidth,L=void 0!==P&&P,F=a()(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),B=Object(c.a)(l.root,d,m&&[l.container,0!==T&&l["spacing-xs-".concat(String(T))]],y&&l.item,L&&l.zeroMinWidth,"row"!==g&&l["direction-xs-".concat(String(g))],"wrap"!==j&&l["wrap-xs-".concat(String(j))],"stretch"!==s&&l["align-items-xs-".concat(String(s))],"stretch"!==r&&l["align-content-xs-".concat(String(r))],"flex-start"!==x&&l["justify-xs-".concat(String(x))],!1!==R&&l["grid-xs-".concat(String(R))],!1!==S&&l["grid-sm-".concat(String(S))],!1!==O&&l["grid-md-".concat(String(O))],!1!==_&&l["grid-lg-".concat(String(_))],!1!==N&&l["grid-xl-".concat(String(N))]);return u.a.createElement(h,o()({className:B,ref:t},F))});var m=Object(l.a)(function(e){return o()({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return p.forEach(function(r){var a=e.spacing(r);0!==a&&(n["spacing-".concat(t,"-").concat(r)]={margin:-a/2,width:"calc(100% + ".concat(a,"px)"),"& > $item":{padding:a/2}})}),n}(e,"xs"),d.b.reduce(function(t,n){return function(e,t,n){var r={};h.forEach(function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var a="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:a,flexGrow:0,maxWidth:a}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}}),"xs"===n?o()(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t},{}))},{name:"MuiGrid"})(f);t.a=m},function(e,t,n){"use strict";(function(e){var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(38),u=n.n(s),c=n(57),l=n.n(c),d=n(58),p=n.n(d),h=n(59),f=n.n(h),m=n(60),v=n.n(m),g=n(61),A=n.n(g),y=n(1),b=n.n(y),x=n(52),w=n.n(x),_=n(14),k=n(39),O=n(22),E=n(241),S=n(40),C=n(238),T=n(342);function I(t,n,r,a,i){var o=t.getBoundingClientRect(),s=o.width,u=o.height,c=function(t){var n=e,r=n.pageYOffset,a=n.pageXOffset,i=t.getBoundingClientRect(),o=i.left;return{bottom:i.bottom+r,left:o+a}}(t),l=c.bottom,d=c.left,p=function(e,t){if(e.changedTouches){for(var n=0,r=0;r<e.changedTouches.length;r+=1)if(e.changedTouches[r].identifier===t){n=r;break}if(e.changedTouches[n])return{x:e.changedTouches[n].pageX,y:e.changedTouches[n].pageY}}return{x:e.pageX,y:e.pageY}}(n,i),h=p.x,f=p.y,m=r?l-f:h-d,v=(r?u:s)/100;return a&&!r?100-Object(T.a)(m/v):Object(T.a)(m/v)}function j(e){e.preventDefault()}var M=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=f()(this,(e=v()(t)).call.apply(e,[this].concat(a)))).state={currentState:"initial"},n.jumpAnimationTimeoutId=-1,n.touchId=void 0,n.handleKeyDown=function(e){var t,r=n.props,a=r.min,i=r.max,o=r.value,s=Math.abs((i-a)/100),u=n.props.step||s;switch(e.key){case"Home":t=a;break;case"End":t=i;break;case"PageUp":t=o+10*s;break;case"PageDown":t=o-10*s;break;case"ArrowRight":case"ArrowUp":t=o+u;break;case"ArrowLeft":case"ArrowDown":t=o-u;break;default:return}e.preventDefault(),t=Object(T.a)(t,a,i),n.emitChange(e,t)},n.handleFocus=function(){n.setState({currentState:"focused"})},n.handleBlur=function(){n.setState({currentState:"normal"})},n.handleClick=function(e){var t=n.calculateValueFromPercent(e);n.emitChange(e,t,function(){n.playJumpAnimation()})},n.handleMouseEnter=function(e){0===e.buttons&&n.handleDragEnd(e)},n.handleMouseLeave=function(e){n.handleMouseMove(e)},n.handleTouchStart=function(e){e.preventDefault();var t=e.changedTouches.item(0);null!=t&&(n.touchId=t.identifier),n.setState({currentState:"activated"});var r=n.props,a=r.onDragStart,i=r.valueReducer,o=n.calculateValueFromPercent(e),s=i(o,n.props,e);n.emitChange(e,o),document.body.addEventListener("touchend",n.handleTouchEnd),"function"===typeof a&&a(e,s)},n.handleMouseDown=function(e){n.setState({currentState:"activated"});var t=n.props,r=t.onDragStart,a=(0,t.valueReducer)(n.calculateValueFromPercent(e),n.props,e);document.body.addEventListener("mouseenter",n.handleMouseEnter),document.body.addEventListener("mouseleave",n.handleMouseLeave),document.body.addEventListener("mousemove",n.handleMouseMove),document.body.addEventListener("mouseup",n.handleMouseUp),"function"===typeof r&&r(e,a)},n.handleTouchEnd=function(e){void 0===n.touchId&&n.handleMouseUp(e);for(var t=0;t<e.changedTouches.length;t+=1){if(e.changedTouches.item(t).identifier===n.touchId){n.handleMouseUp(e);break}}},n.handleMouseUp=function(e){n.handleDragEnd(e)},n.handleTouchMove=function(e){void 0===n.touchId&&n.handleMouseMove(e);for(var t=0;t<e.changedTouches.length;t+=1){if(e.changedTouches.item(t).identifier===n.touchId){n.handleMouseMove(e);break}}},n.handleMouseMove=function(e){var t=n.calculateValueFromPercent(e);n.emitChange(e,t)},n.handleRef=function(e){Object(S.b)(n.props.innerRef,e);var t=w.a.findDOMNode(e),r=n.container;r!==t&&(r&&r.removeEventListener("touchstart",j,{passive:!1}),t&&t.addEventListener("touchstart",j,{passive:!1})),n.container=t},n}return A()(t,e),p()(t,[{key:"componentWillUnmount",value:function(){document.body.removeEventListener("mouseenter",this.handleMouseEnter),document.body.removeEventListener("mouseleave",this.handleMouseLeave),document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp),clearTimeout(this.jumpAnimationTimeoutId)}},{key:"handleDragEnd",value:function(e){var t=this.props,n=t.onDragEnd,r=(0,t.valueReducer)(this.calculateValueFromPercent(e),this.props,e);this.setState({currentState:"normal"}),document.body.removeEventListener("mouseenter",this.handleMouseEnter),document.body.removeEventListener("mouseleave",this.handleMouseLeave),document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp),document.body.removeEventListener("touchend",this.handleTouchEnd),"function"===typeof n&&n(e,r)}},{key:"emitChange",value:function(e,t,n){var r=this.props,a=r.onChange,i=r.value,o=(0,r.valueReducer)(t,this.props,e);null!==o&&o!==i&&"function"===typeof a&&(a(e,o),"function"===typeof n&&n())}},{key:"calculateTrackPartStyles",value:function(e){var t=this.props,n=t.theme,r=t.vertical;switch(this.state.currentState){case"disabled":return u()({},r?"height":"width","calc(".concat(e,"% - 6px)"));default:return{transform:"".concat(r?"translateX(".concat("rtl"===n.direction?"":"-","50%) scaleY"):"translateY(-50%) scaleX","(").concat(e/100,")")}}}},{key:"calculateValueFromPercent",value:function(e){var t=this.props,n=t.min,r=t.max,a=t.vertical;return function(e,t,n){return(n-t)*e/100+t}(I(this.container,e,a,this.isReverted(),this.touchId),n,r)}},{key:"playJumpAnimation",value:function(){var e=this;this.setState({currentState:"jumped"},function(){clearTimeout(e.jumpAnimationTimeoutId),e.jumpAnimationTimeoutId=setTimeout(function(){e.setState({currentState:"normal"})},e.props.theme.transitions.duration.complex)})}},{key:"isReverted",value:function(){return"rtl"===this.props.theme.direction}},{key:"render",value:function(){var e=this.state.currentState,t=this.props,n=t.className,r=t.classes,i=t.component,s=t.thumb,u=t.disabled,c=(t.innerRef,t.max),l=t.min,d=(t.onChange,t.onDragEnd,t.onDragStart,t.step,t.theme),p=t.value,h=(t.valueReducer,t.vertical),f=o()(t,["className","classes","component","thumb","disabled","innerRef","max","min","onChange","onDragEnd","onDragStart","step","theme","value","valueReducer","vertical"]),m=Object(T.a)(100*(p-l)/(c-l)),v=Object(_.a)(!u&&["jumped"===e&&r.jumped,"focused"===e&&r.focused,"activated"===e&&r.activated],u&&r.disabled,h&&r.vertical,"rtl"===d.direction&&r.rtl),g=Object(_.a)(r.root,h&&r.vertical,u&&r.disabled,n),A=Object(_.a)(r.container,h&&r.vertical),y=Object(_.a)(r.track,r.trackBefore,v),x=Object(_.a)(r.track,r.trackAfter,v),w=h?"translateY":"translateX",k=h||"rtl"===d.direction,O=this.calculateTrackPartStyles(m),S=this.calculateTrackPartStyles(100-m),C={transform:"".concat(w,"(").concat(k?100-m:m,"%)")},I=s?b.a.cloneElement(s,a()({},s.props,{className:Object(_.a)(s.props.className,r.thumbIcon)})):null,j=Object(_.a)(r.thumbWrapper,v),M=Object(_.a)(r.thumb,s&&r.thumbIconWrapper,v);return b.a.createElement(i,a()({className:g,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onTouchStartCapture:this.handleTouchStart,onTouchMove:this.handleTouchMove,ref:this.handleRef},f),b.a.createElement("div",{className:A},b.a.createElement("div",{className:y,style:O}),b.a.createElement("div",{className:j,style:C},b.a.createElement(E.a,{"aria-valuenow":p,"aria-valuemin":l,"aria-valuemax":c,"aria-orientation":h?"vertical":"horizontal",className:M,disabled:u,disableRipple:!0,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onTouchStartCapture:this.handleTouchStart,onTouchMove:this.handleTouchMove,onFocusVisible:this.handleFocus,role:"slider"},I)),b.a.createElement("div",{className:x,style:S})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.disabled?{currentState:"disabled"}:e.disabled||"disabled"!==t.currentState?null:{currentState:"normal"}}}]),t}(b.a.Component);M.defaultProps={min:0,max:100,component:"div",valueReducer:function(e,t){var n=t.disabled,r=t.step;return n?null:r?function(e,t){return Math.round(e/t)*t}(e,r):Number(e.toFixed(3))}},t.a=Object(O.a)(function(e){var t={duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeOut},n=e.transitions.create(["width","height","transform"],t),r=e.transitions.create(["transform","box-shadow"],t),a={primary:e.palette.primary.main,disabled:e.palette.grey[400],thumbOutline:Object(k.d)(e.palette.primary.main,.16)};return{root:{position:"relative",width:"100%",cursor:"pointer",WebkitTapHighlightColor:"transparent","&$disabled":{cursor:"no-drop"},"&$vertical":{height:"100%"}},container:{width:"calc(100% + ".concat(48,"px)"),overflow:"hidden",padding:24,margin:-24,boxSizing:"border-box","&$vertical":{height:"calc(100% + ".concat(48,"px)")}},track:{position:"absolute",transform:"translate(0, -50%)",top:"50%",width:"100%",height:2,backgroundColor:a.primary,transition:n,"&$activated":{transition:"none"},"&$disabled":{backgroundColor:a.disabled,boxShadow:"none"},"&$vertical":{transform:"translate(-50%, 0)",left:"50%",top:"initial",bottom:0,width:2,height:"100%"}},trackBefore:{zIndex:1,left:0,transformOrigin:"left bottom"},trackAfter:{right:0,opacity:.24,transformOrigin:"right top","&$vertical":{top:0}},thumbWrapper:{position:"relative",zIndex:2,transition:r,"&$activated":{transition:"none"},"&$vertical":{bottom:0,height:"100%"}},thumb:{flip:!1,position:"absolute",left:0,transform:"translate(-50%, -50%)",width:12,height:12,borderRadius:"50%",backgroundColor:a.primary,transition:r,"&$focused, &:hover":{boxShadow:"0px 0px 0px ".concat(9,"px ").concat(a.thumbOutline)},"&$activated":{boxShadow:"0px 0px 0px ".concat(18,"px ").concat(a.thumbOutline)},"&$disabled":{cursor:"no-drop",width:9,height:9,backgroundColor:a.disabled},"&$jumped":{boxShadow:"0px 0px 0px ".concat(18,"px ").concat(a.thumbOutline)}},thumbIconWrapper:{backgroundColor:"transparent"},thumbIcon:{height:"inherit",width:"inherit"},disabled:{},jumped:{},focused:{},activated:{},vertical:{}}},{name:"MuiSlider",withTheme:!0})(Object(C.a)(M))}).call(this,n(91))},function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(9),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(737),p=u.a.forwardRef(function(e,t){var n,r=e.classes,i=e.className,s=e.component,l=void 0===s?"li":s,p=e.disableGutters,h=void 0!==p&&p,f=e.role,m=void 0===f?"menuitem":f,v=e.selected,g=e.tabIndex,A=a()(e,["classes","className","component","disableGutters","role","selected","tabIndex"]);return e.disabled||(n=void 0!==g?g:-1),u.a.createElement(d.a,o()({button:!0,role:m,tabIndex:n,component:l,selected:v,disableGutters:h,className:Object(c.a)(r.root,i,v&&r.selected,!h&&r.gutters),ref:t},A))});t.a=Object(l.a)(function(e){return{root:o()({},e.typography.subtitle1,{minHeight:48,paddingTop:4,paddingBottom:4,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"}),gutters:{paddingLeft:16,paddingRight:16},selected:{}}},{name:"MuiMenuItem"})(p)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(191),p=n(145),h=u.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.className,s=e.disableTypography,l=void 0!==s&&s,h=e.inset,f=void 0!==h&&h,m=e.primary,v=e.primaryTypographyProps,g=e.secondary,A=e.secondaryTypographyProps,y=o()(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),b=u.a.useContext(p.a).dense,x=null!=m?m:n;null==x||x.type===d.a||l||(x=u.a.createElement(d.a,a()({variant:b?"body2":"body1",className:r.primary,component:"span"},v),x));var w=g;return null==w||w.type===d.a||l||(w=u.a.createElement(d.a,a()({variant:"body2",className:r.secondary,color:"textSecondary"},A),w)),u.a.createElement("div",a()({className:Object(c.a)(r.root,i,b&&r.dense,f&&r.inset,x&&w&&r.multiline),ref:t},y),x,w)});t.a=Object(l.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(h)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(145),p=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=o()(e,["classes","className"]),s=u.a.useContext(d.a);return u.a.createElement("div",a()({className:Object(c.a)(n.root,r,"flex-start"===s.alignItems&&n.alignItemsFlexStart),ref:t},i))});t.a=Object(l.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(p)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=o()(e,["classes","className"]);return u.a.createElement("div",a()({className:Object(c.a)(n.root,r),ref:t},i))});d.muiName="ListItemSecondaryAction",t.a=Object(l.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(d)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=(n(53),n(22)),d=["video","audio","picture","iframe","img"],p=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.component,s=void 0===i?"div":i,l=e.image,p=e.src,h=e.style,f=o()(e,["classes","className","component","image","src","style"]),m=-1!==d.indexOf(s),v=!m&&l?a()({backgroundImage:'url("'.concat(l,'")')},h):h;return u.a.createElement(s,a()({className:Object(c.a)(n.root,r,m&&n.media),ref:t,style:v,src:m?l||p:void 0},f))});t.a=Object(l.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%",objectFit:"cover"}},{name:"MuiCardMedia"})(p)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(190),d=n(22),p=n(65),h=n(75),f=u.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.className,s=e.collapsedHeight,d=void 0===s?"0px":s,f=e.component,m=void 0===f?"div":f,v=e.in,g=e.onEnter,A=e.onEntered,y=e.onEntering,b=e.onExit,x=e.onExiting,w=e.style,_=e.theme,k=e.timeout,O=void 0===k?p.b.standard:k,E=o()(e,["children","classes","className","collapsedHeight","component","in","onEnter","onEntered","onEntering","onExit","onExiting","style","theme","timeout"]),S=u.a.useRef(),C=u.a.useRef(null),T=u.a.useRef();u.a.useEffect(function(){return function(){clearTimeout(S.current)}},[]);return u.a.createElement(l.a,a()({in:v,onEnter:function(e){e.style.height=d,g&&g(e)},onEntered:function(e){e.style.height="auto",A&&A(e)},onEntering:function(e){var t=C.current?C.current.clientHeight:0,n=Object(h.a)({style:w,timeout:O},{mode:"enter"}).duration;if("auto"===O){var r=_.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),T.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height="".concat(t,"px"),y&&y(e)},onExit:function(e){var t=C.current?C.current.clientHeight:0;e.style.height="".concat(t,"px"),b&&b(e)},onExiting:function(e){var t=C.current?C.current.clientHeight:0,n=Object(h.a)({style:w,timeout:O},{mode:"exit"}).duration;if("auto"===O){var r=_.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),T.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=d,x&&x(e)},addEndListener:function(e,t){"auto"===O&&(S.current=setTimeout(t,T.current||0))},timeout:"auto"===O?null:O},E),function(e,o){return u.a.createElement(m,a()({className:Object(c.a)(r.container,i,"entered"===e&&r.entered,"exited"===e&&!v&&"0px"===d&&r.hidden),style:a()({minHeight:d},w),ref:t},o),u.a.createElement("div",{className:r.wrapper,ref:C},u.a.createElement("div",{className:r.wrapperInner},n)))})});f.muiSupportAuto=!0,t.a=Object(d.a)(function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},{withTheme:!0,name:"MuiCollapse"})(f)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=u.a.forwardRef(function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,i=e.classes,s=e.className,l=o()(e,["disableSpacing","classes","className"]);return u.a.createElement("div",a()({className:Object(c.a)(i.root,s,!r&&i.spacing),ref:t},l))});t.a=Object(l.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > * + *":{marginLeft:8}}},{name:"MuiDialogActions"})(d)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=u.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.dividers,s=void 0!==i&&i,l=o()(e,["classes","className","dividers"]);return u.a.createElement("div",a()({className:Object(c.a)(n.root,r,s&&n.dividers),ref:t},l))});t.a=Object(l.a)(function(e){return{root:{flex:"1 1 auto",padding:"8px 24px",WebkitOverflowScrolling:"touch",overflowY:"auto"},dividers:{borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},{name:"MuiDialogContent"})(d)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(39),p=u.a.forwardRef(function(e,t){var n=e.absolute,r=void 0!==n&&n,i=e.classes,s=e.className,l=e.component,d=void 0===l?"hr":l,p=e.light,h=void 0!==p&&p,f=e.variant,m=void 0===f?"fullWidth":f,v=o()(e,["absolute","classes","className","component","light","variant"]);return"li"!==d||v.role||(v.role="separator"),u.a.createElement(d,a()({className:Object(c.a)(i.root,s,"inset"===m&&i.inset,"middle"===m&&i.middle,r&&i.absolute,h&&i.light),ref:t},v))});t.a=Object(l.a)(function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(d.d)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}}},{name:"MuiDivider"})(p)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=(n(53),n(191)),d=n(22),p=n(94),h=n(157),f=u.a.forwardRef(function(e,t){var n=e.children,r=e.component,i=void 0===r?"div":r,s=e.classes,d=e.className,p=e.disablePointerEvents,f=void 0!==p&&p,m=e.disableTypography,v=void 0!==m&&m,g=e.muiFormControl,A=e.position,y=e.variant,b=o()(e,["children","component","classes","className","disablePointerEvents","disableTypography","muiFormControl","position","variant"]),x=y;return g&&!x&&(x=g.variant),u.a.createElement(h.a.Provider,{value:null},u.a.createElement(i,a()({className:Object(c.a)(s.root,d,"filled"===x&&s.filled,"start"===A&&s.positionStart,"end"===A&&s.positionEnd,f&&s.disablePointerEvents),ref:t},b),"string"!==typeof n||v?n:u.a.createElement(l.a,{color:"textSecondary"},n)))});t.a=Object(d.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center"},filled:{"&$positionStart":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"}},{name:"MuiInputAdornment"})(Object(p.a)(f))},function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(38),o=n.n(i),s=n(9),u=n.n(s),c=n(1),l=n.n(c),d=n(14),p=n(22),h=n(241),f=n(30),m=l.a.forwardRef(function(e,t){var n=e.classes,r=e.className,i=e.disabled,o=void 0!==i&&i,s=e.disableFocusRipple,c=void 0!==s&&s,p=e.fullWidth,m=e.icon,v=e.indicator,g=e.label,A=e.onChange,y=e.onClick,b=e.selected,x=e.textColor,w=void 0===x?"inherit":x,_=e.value,k=e.wrapped,O=void 0!==k&&k,E=a()(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","selected","textColor","value","wrapped"]);return l.a.createElement(h.a,u()({focusRipple:!c,className:Object(d.a)(n.root,n["textColor".concat(Object(f.a)(w))],r,o&&n.disabled,b&&n.selected,g&&m&&n.labelIcon,p&&n.fullWidth,O&&n.wrapped),ref:t,role:"tab","aria-selected":b,disabled:o,onClick:function(e){A&&A(e,_),y&&y(e)}},E),l.a.createElement("span",{className:n.wrapper},m,g),v)});t.a=Object(p.a)(function(e){var t;return{root:u()({},e.typography.button,(t={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},o()(t,e.breakpoints.up("md"),{padding:"6px 24px"}),o()(t,"overflow","hidden"),o()(t,"whiteSpace","normal"),o()(t,"textAlign","center"),o()(t,e.breakpoints.up("md"),{fontSize:e.typography.pxToRem(13),minWidth:160}),t)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.4}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}},{name:"MuiTab"})(m)},function(e,t,n){"use strict";var r=n(27),a=n(314),i=n(5),o=n(11),s=n(174);function u(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function c(e,t){this._pairs=[],e&&Object(s.a)(e,this,t)}var l=c.prototype;l.append=function(e,t){this._pairs.push([e,t])},l.toString=function(e){var t=e?function(t){return e.call(this,t,u)}:u;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var d=c;function p(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function h(e,t,n){if(!t)return e;var a,i=n&&n.encode||p,o=n&&n.serialize;if(a=o?o(t,n):r.a.isURLSearchParams(t)?t.toString():new d(t,n).toString(i)){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}var f=function(){function e(){Object(i.a)(this,e),this.handlers=[]}return Object(o.a)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){r.a.forEach(this.handlers,function(t){null!==t&&e(t)})}}]),e}(),m=n(56),v={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:d,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var A=function(e){function t(e,n,a,i){var o=e[i++],s=Number.isFinite(+o),u=i>=e.length;return o=!o&&r.a.isArray(a)?a.length:o,u?(r.a.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!s):(a[o]&&r.a.isObject(a[o])||(a[o]=[]),t(e,n,a[o],i)&&r.a.isArray(a[o])&&(a[o]=function(e){var t,n,r={},a=Object.keys(e),i=a.length;for(t=0;t<i;t++)r[n=a[t]]=e[n];return r}(a[o])),!s)}if(r.a.isFormData(e)&&r.a.isFunction(e.entries)){var n={};return r.a.forEachEntry(e,function(e,a){t(function(e){return r.a.matchAll(/\w+|\[(\w*)]/g,e).map(function(e){return"[]"===e[0]?"":e[1]||e[0]})}(e),a,n,0)}),n}return null},y={"Content-Type":void 0};var b={transitional:v,adapter:["xhr","http"],transformRequest:[function(e,t){var n,a=t.getContentType()||"",i=a.indexOf("application/json")>-1,o=r.a.isObject(e);if(o&&r.a.isHTMLForm(e)&&(e=new FormData(e)),r.a.isFormData(e))return i&&i?JSON.stringify(A(e)):e;if(r.a.isArrayBuffer(e)||r.a.isBuffer(e)||r.a.isStream(e)||r.a.isFile(e)||r.a.isBlob(e))return e;if(r.a.isArrayBufferView(e))return e.buffer;if(r.a.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Object(s.a)(e,new g.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,a){return g.isNode&&r.a.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=r.a.isFileList(e))||a.indexOf("multipart/form-data")>-1){var u=this.env&&this.env.FormData;return Object(s.a)(n?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,n){if(r.a.isString(e))try{return(t||JSON.parse)(e),r.a.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||b.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(e&&r.a.isString(e)&&(n&&!this.responseType||a)){var i=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(o){if(i){if("SyntaxError"===o.name)throw m.a.from(o,m.a.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:g.classes.FormData,Blob:g.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.a.forEach(["delete","get","head"],function(e){b.headers[e]={}}),r.a.forEach(["post","put","patch"],function(e){b.headers[e]=r.a.merge(y)});var x=b,w=n(6),_=r.a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k=Symbol("internals");function O(e){return e&&String(e).trim().toLowerCase()}function E(e){return!1===e||null==e?e:r.a.isArray(e)?e.map(E):String(e)}function S(e,t,n,a,i){return r.a.isFunction(a)?a.call(this,t,n):(i&&(t=n),r.a.isString(t)?r.a.isString(a)?-1!==t.indexOf(a):r.a.isRegExp(a)?a.test(t):void 0:void 0)}var C=function(){function e(t){Object(i.a)(this,e),t&&this.set(t)}return Object(o.a)(e,[{key:"set",value:function(e,t,n){var a=this;function i(e,t,n){var i=O(t);if(!i)throw new Error("header name must be a non-empty string");var o=r.a.findKey(a,i);(!o||void 0===a[o]||!0===n||void 0===n&&!1!==a[o])&&(a[o||t]=E(e))}var o=function(e,t){return r.a.forEach(e,function(e,n){return i(e,n,t)})};return r.a.isPlainObject(e)||e instanceof this.constructor?o(e,t):r.a.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o(function(e){var t,n,r,a={};return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||a[t]&&_[t]||("set-cookie"===t?a[t]?a[t].push(n):a[t]=[n]:a[t]=a[t]?a[t]+", "+n:n)}),a}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=O(e)){var n=r.a.findKey(this,e);if(n){var a=this[n];if(!t)return a;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(a);if(r.a.isFunction(t))return t.call(this,a,n);if(r.a.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=O(e)){var n=r.a.findKey(this,e);return!(!n||void 0===this[n]||t&&!S(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,a=!1;function i(e){if(e=O(e)){var i=r.a.findKey(n,e);!i||t&&!S(0,n[i],i,t)||(delete n[i],a=!0)}}return r.a.isArray(e)?e.forEach(i):i(e),a}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var a=t[n];e&&!S(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return r.a.forEach(this,function(a,i){var o=r.a.findKey(n,i);if(o)return t[o]=E(a),void delete t[i];var s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n})}(i):String(i).trim();s!==i&&delete t[i],t[s]=E(a),n[s]=!0}),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return r.a.forEach(this,function(n,a){null!=n&&!1!==n&&(t[a]=e&&r.a.isArray(n)?n.join(", "):n)}),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map(function(e){var t=Object(w.a)(e,2);return t[0]+": "+t[1]}).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(function(e){return t.set(e)}),t}},{key:"accessor",value:function(e){var t=(this[k]=this[k]={accessors:{}}).accessors,n=this.prototype;function a(e){var a=O(e);t[a]||(!function(e,t){var n=r.a.toCamelCase(" "+t);["get","set","has"].forEach(function(r){Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[a]=!0)}return r.a.isArray(e)?e.forEach(a):a(e),this}}]),e}();C.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),r.a.freezeMethods(C.prototype),r.a.freezeMethods(C);var T=C;function I(e,t){var n=this||x,a=t||n,i=T.from(a.headers),o=a.data;return r.a.forEach(e,function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function j(e){return!(!e||!e.__CANCEL__)}function M(e,t,n){m.a.call(this,null==e?"canceled":e,m.a.ERR_CANCELED,t,n),this.name="CanceledError"}r.a.inherits(M,m.a,{__CANCEL__:!0});var N=M,D=n(317);var R=g.isStandardBrowserEnv?{write:function(e,t,n,a,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.a.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.a.isString(a)&&s.push("path="+a),r.a.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function P(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var L=g.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.a.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var F=function(e,t){e=e||10;var n,r=new Array(e),a=new Array(e),i=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=a[o];n||(n=u),r[i]=s,a[i]=u;for(var l=o,d=0;l!==i;)d+=r[l++],l%=e;if((i=(i+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var p=c&&u-c;return p?Math.round(1e3*d/p):void 0}}};function B(e,t){var n=0,r=F(50,250);return function(a){var i=a.loaded,o=a.lengthComputable?a.total:void 0,s=i-n,u=r(s);n=i;var c={loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&i<=o?(o-i)/u:void 0,event:a};c[t?"download":"upload"]=!0,e(c)}}var z="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){var a,i=e.data,o=T.from(e.headers).normalize(),s=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}r.a.isFormData(i)&&(g.isStandardBrowserEnv||g.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));var c=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(l+":"+d))}var p=P(e.baseURL,e.url);function f(){if(c){var r=T.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new m.a("Request failed with status code "+n.status,[m.a.ERR_BAD_REQUEST,m.a.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}(function(e){t(e),u()},function(e){n(e),u()},{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),h(p,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(f)},c.onabort=function(){c&&(n(new m.a("Request aborted",m.a.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new m.a("Network Error",m.a.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||v;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new m.a(t,r.clarifyTimeoutError?m.a.ETIMEDOUT:m.a.ECONNABORTED,e,c)),c=null},g.isStandardBrowserEnv){var A=(e.withCredentials||L(p))&&e.xsrfCookieName&&R.read(e.xsrfCookieName);A&&o.set(e.xsrfHeaderName,A)}void 0===i&&o.setContentType(null),"setRequestHeader"in c&&r.a.forEach(o.toJSON(),function(e,t){c.setRequestHeader(t,e)}),r.a.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&c.addEventListener("progress",B(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",B(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=function(t){c&&(n(!t||t.type?new N(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));var y=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(p);y&&-1===g.protocols.indexOf(y)?n(new m.a("Unsupported protocol "+y+":",m.a.ERR_BAD_REQUEST,e)):c.send(i||null)})},U={http:D.a,xhr:z};r.a.forEach(U,function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});var V={getAdapter:function(e){for(var t,n,a=(e=r.a.isArray(e)?e:[e]).length,i=0;i<a&&(t=e[i],!(n=r.a.isString(t)?U[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new m.a("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(r.a.hasOwnProp(U,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!r.a.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:U};function W(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new N(null,e)}function G(e){return W(e),e.headers=T.from(e.headers),e.data=I.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),V.getAdapter(e.adapter||x.adapter)(e).then(function(t){return W(e),t.data=I.call(e,e.transformResponse,t),t.headers=T.from(t.headers),t},function(t){return j(t)||(W(e),t&&t.response&&(t.response.data=I.call(e,e.transformResponse,t.response),t.response.headers=T.from(t.response.headers))),Promise.reject(t)})}var H=function(e){return e instanceof T?e.toJSON():e};function q(e,t){t=t||{};var n={};function a(e,t,n){return r.a.isPlainObject(e)&&r.a.isPlainObject(t)?r.a.merge.call({caseless:n},e,t):r.a.isPlainObject(t)?r.a.merge({},t):r.a.isArray(t)?t.slice():t}function i(e,t,n){return r.a.isUndefined(t)?r.a.isUndefined(e)?void 0:a(void 0,e,n):a(e,t,n)}function o(e,t){if(!r.a.isUndefined(t))return a(void 0,t)}function s(e,t){return r.a.isUndefined(t)?r.a.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function u(n,r,i){return i in t?a(n,r):i in e?a(void 0,n):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:function(e,t){return i(H(e),H(t),!0)}};return r.a.forEach(Object.keys(Object.assign({},e,t)),function(a){var o=c[a]||i,s=o(e[a],t[a],a);r.a.isUndefined(s)&&o!==u||(n[a]=s)}),n}var K="1.4.0",X={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){X[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Q={};X.transitional=function(e,t,n){function r(e,t){return"[Axios v"+K+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,a,i){if(!1===e)throw new m.a(r(a," has been removed"+(t?" in "+t:"")),m.a.ERR_DEPRECATED);return t&&!Q[a]&&(Q[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,i)}};var Y={assertOptions:function(e,t,n){if("object"!==typeof e)throw new m.a("options must be an object",m.a.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var i=r[a],o=t[i];if(o){var s=e[i],u=void 0===s||o(s,i,e);if(!0!==u)throw new m.a("option "+i+" must be "+u,m.a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new m.a("Unknown option "+i,m.a.ERR_BAD_OPTION)}},validators:X},$=Y.validators,Z=function(){function e(t){Object(i.a)(this,e),this.defaults=t,this.interceptors={request:new f,response:new f}}return Object(o.a)(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,a=t=q(this.defaults,t),i=a.transitional,o=a.paramsSerializer,s=a.headers;void 0!==i&&Y.assertOptions(i,{silentJSONParsing:$.transitional($.boolean),forcedJSONParsing:$.transitional($.boolean),clarifyTimeoutError:$.transitional($.boolean)},!1),null!=o&&(r.a.isFunction(o)?t.paramsSerializer={serialize:o}:Y.assertOptions(o,{encode:$.function,serialize:$.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=s&&r.a.merge(s.common,s[t.method]))&&r.a.forEach(["delete","get","head","post","put","patch","common"],function(e){delete s[e]}),t.headers=T.concat(n,s);var u=[],c=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,u.unshift(e.fulfilled,e.rejected))});var l,d=[];this.interceptors.response.forEach(function(e){d.push(e.fulfilled,e.rejected)});var p,h=0;if(!c){var f=[G.bind(this),void 0];for(f.unshift.apply(f,u),f.push.apply(f,d),p=f.length,l=Promise.resolve(t);h<p;)l=l.then(f[h++],f[h++]);return l}p=u.length;var m=t;for(h=0;h<p;){var v=u[h++],g=u[h++];try{m=v(m)}catch(A){g.call(this,A);break}}try{l=G.call(this,m)}catch(A){return Promise.reject(A)}for(h=0,p=d.length;h<p;)l=l.then(d[h++],d[h++]);return l}},{key:"getUri",value:function(e){return h(P((e=q(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();r.a.forEach(["delete","get","head","options"],function(e){Z.prototype[e]=function(t,n){return this.request(q(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.a.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(q(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Z.prototype[e]=t(),Z.prototype[e+"Form"]=t(!0)});var J=Z,ee=function(){function e(t){if(Object(i.a)(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(e){n=e});var r=this;this.promise.then(function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}}),this.promise.then=function(e){var t,n=new Promise(function(e){r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t(function(e,t,a){r.reason||(r.reason=new N(e,t,a),n(r.reason))})}return Object(o.a)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e(function(e){t=e}),cancel:t}}}]),e}();var te={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(te).forEach(function(e){var t=Object(w.a)(e,2),n=t[0],r=t[1];te[r]=n});var ne=te;var re=function e(t){var n=new J(t),i=Object(a.a)(J.prototype.request,n);return r.a.extend(i,J.prototype,n,{allOwnKeys:!0}),r.a.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(q(t,n))},i}(x);re.Axios=J,re.CanceledError=N,re.CancelToken=ee,re.isCancel=j,re.VERSION=K,re.toFormData=s.a,re.AxiosError=m.a,re.Cancel=re.CanceledError,re.all=function(e){return Promise.all(e)},re.spread=function(e){return function(t){return e.apply(null,t)}},re.isAxiosError=function(e){return r.a.isObject(e)&&!0===e.isAxiosError},re.mergeConfig=q,re.AxiosHeaders=T,re.formToJSON=function(e){return A(r.a.isHTMLForm(e)?new FormData(e):e)},re.HttpStatusCode=ne,re.default=re;t.a=re},function(e,t,n){"use strict";var r,a=n(9),i=n.n(a),o=n(15),s=n.n(o),u=n(57),c=n.n(u),l=n(58),d=n.n(l),p=n(59),h=n.n(p),f=n(60),m=n.n(f),v=n(61),g=n.n(v),A=n(38),y=n.n(A),b=n(1),x=n.n(b),w=(n(53),n(14)),_=n(463),k=n.n(_),O=n(108),E=n.n(O),S=!("undefined"===typeof window||!window.document||!window.document.createElement);function C(){if(r)return r;if(!S||!window.document.body)return"indeterminate";var e=window.document.createElement("div");return e.appendChild(document.createTextNode("ABCD")),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),r="reverse",e.scrollLeft>0?r="default":(e.scrollLeft=1,0===e.scrollLeft&&(r="negative")),document.body.removeChild(e),r}function T(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;var r=C();if("indeterminate"===r)return Number.NaN;switch(r){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n}return n}function I(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var j=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=r.ease,o=void 0===i?I:i,s=r.duration,u=void 0===s?300:s,c=null,l=t[e],d=!1,p=function(){d=!0};return l===n?(a(new Error("Element already at target position")),p):(requestAnimationFrame(function r(i){if(d)a(new Error("Animation cancelled"));else{null===c&&(c=i);var s=Math.min(1,(i-c)/u);t[e]=o(s)*(n-l)+l,s>=1?requestAnimationFrame(function(){a(null)}):requestAnimationFrame(r)}}),p)},M={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function N(e){var t=e.onChange,n=s()(e,["onChange"]),r=x.a.useRef(),a=x.a.useRef(null),o=function(){r.current=a.current.offsetHeight-a.current.clientHeight};return x.a.useEffect(function(){var e=E()(function(){var e=r.current;o(),e!==r.current&&t(r.current)},166);return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}},[t]),x.a.useEffect(function(){o(),t(r.current)},[t]),x.a.createElement("div",i()({style:M,ref:a},n))}var D=n(22),R=n(30),P=x.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.color,o=s()(e,["classes","className","color"]);return x.a.createElement("span",i()({className:Object(w.a)(n.root,n["color".concat(Object(R.a)(a))],r),ref:t},o))}),L=Object(D.a)(function(e){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},colorPrimary:{backgroundColor:e.palette.primary.main},colorSecondary:{backgroundColor:e.palette.secondary.main}}},{name:"PrivateTabIndicator"})(P),F=n(251),B=n(250),z=n(241),U=x.a.createElement(F.a,{fontSize:"small"}),V=x.a.createElement(B.a,{fontSize:"small"}),W=x.a.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.direction,o=e.onClick,u=e.visible,c=void 0===u||u,l=s()(e,["classes","className","direction","onClick","visible"]),d=Object(w.a)(n.root,r);return c?x.a.createElement(z.a,i()({component:"div",className:d,onClick:o,ref:t,role:null,tabIndex:null},l),"left"===a?U:V):x.a.createElement("div",{className:d})}),G=Object(D.a)({root:{color:"inherit",width:40,flexShrink:0}},{name:"PrivateTabScrollButton"})(W),H=n(238),q=function(e){function t(){var e;return c()(this,t),(e=h()(this,m()(t).call(this))).state={indicatorStyle:{},scrollerStyle:{overflow:"hidden",marginBottom:null},showLeftScroll:!1,showRightScroll:!1,mounted:!1},e.getConditionalElements=function(){var t=e.props,n=t.classes,r=t.ScrollButtonComponent,a=t.scrollButtons,i=t.theme,o=t.variant,s=e.state,u=s.showLeftScroll,c=s.showRightScroll,l={},d="scrollable"===o;l.scrollbarSizeListener=d?x.a.createElement(N,{className:n.scrollable,onChange:e.handleScrollbarSizeChange}):null;var p=d&&("auto"===a&&(u||c)||"desktop"===a||"on"===a);return l.scrollButtonLeft=p?x.a.createElement(r,{direction:"rtl"===i.direction?"right":"left",onClick:e.handleLeftScrollClick,visible:u,className:Object(w.a)(n.scrollButtons,"on"!==a&&n.scrollButtonsDesktop)}):null,l.scrollButtonRight=p?x.a.createElement(r,{direction:"rtl"===i.direction?"left":"right",onClick:e.handleRightScrollClick,visible:c,className:Object(w.a)(n.scrollButtons,"on"!==a&&n.scrollButtonsDesktop)}):null,l},e.getTabsMeta=function(t,n){var r,a;if(e.tabsRef){var i=e.tabsRef.getBoundingClientRect();r={clientWidth:e.tabsRef.clientWidth,scrollLeft:e.tabsRef.scrollLeft,scrollLeftNormalized:T(e.tabsRef,n),scrollWidth:e.tabsRef.scrollWidth,left:i.left,right:i.right}}if(e.tabsRef&&!1!==t){var o=e.tabsRef.children[0].children;if(o.length>0){var s=o[e.valueToIndex.get(t)];a=s?s.getBoundingClientRect():null}}return{tabsMeta:r,tabMeta:a}},e.handleLeftScrollClick=function(){e.moveTabsScroll(-e.tabsRef.clientWidth)},e.handleRightScrollClick=function(){e.moveTabsScroll(e.tabsRef.clientWidth)},e.handleScrollbarSizeChange=function(t){e.setState({scrollerStyle:{overflow:null,marginBottom:-t}})},e.handleTabsRef=function(t){e.tabsRef=t},e.moveTabsScroll=function(t){var n=e.props.theme,r="rtl"===n.direction?-1:1,a=e.tabsRef.scrollLeft+t*r,i="rtl"===n.direction&&"reverse"===C()?-1:1;e.scroll(i*a)},e.scrollSelectedIntoView=function(){var t=e.props,n=t.theme,r=t.value,a=e.getTabsMeta(r,n.direction),i=a.tabsMeta,o=a.tabMeta;if(o&&i)if(o.left<i.left){var s=i.scrollLeft+(o.left-i.left);e.scroll(s)}else if(o.right>i.right){var u=i.scrollLeft+(o.right-i.right);e.scroll(u)}},e.scroll=function(t){j("scrollLeft",e.tabsRef,t)},e.updateScrollButtonState=function(){var t=e.props,n=t.scrollButtons,r=t.theme;if("scrollable"===t.variant&&"off"!==n){var a=e.tabsRef,i=a.scrollWidth,o=a.clientWidth,s=T(e.tabsRef,r.direction),u="rtl"===r.direction?s<i-o-1:s>1,c="rtl"!==r.direction?s<i-o-1:s>1;u===e.state.showLeftScroll&&c===e.state.showRightScroll||e.setState({showLeftScroll:u,showRightScroll:c})}},"undefined"!==typeof window&&(e.handleResize=E()(function(){e.updateIndicatorState(e.props),e.updateScrollButtonState()},166),e.handleTabsScroll=E()(function(){e.updateScrollButtonState()},166)),e}return g()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.updateIndicatorState(this.props),this.updateScrollButtonState(),this.props.action&&this.props.action({updateIndicator:this.handleResize})}},{key:"componentDidUpdate",value:function(e,t){this.updateIndicatorState(this.props),this.updateScrollButtonState(),this.state.indicatorStyle!==t.indicatorStyle&&this.scrollSelectedIntoView()}},{key:"componentWillUnmount",value:function(){this.handleResize.clear(),this.handleTabsScroll.clear()}},{key:"updateIndicatorState",value:function(e){var t=e.theme,n=e.value,r=this.getTabsMeta(n,t.direction),a=r.tabsMeta,i=r.tabMeta,o=0;if(i&&a){var s="rtl"===t.direction?a.scrollLeftNormalized+a.clientWidth-a.scrollWidth:a.scrollLeft;o=Math.round(i.left-a.left+s)}var u={left:o,width:i?Math.round(i.width):0};u.left===this.state.indicatorStyle.left&&u.width===this.state.indicatorStyle.width||isNaN(u.left)||isNaN(u.width)||this.setState({indicatorStyle:u})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.action,t.centered),r=t.children,a=t.classes,o=t.className,u=t.component,c=t.indicatorColor,l=t.innerRef,d=t.onChange,p=(t.ScrollButtonComponent,t.scrollButtons,t.TabIndicatorProps),h=void 0===p?{}:p,f=t.textColor,m=(t.theme,t.value),v=t.variant,g=s()(t,["action","centered","children","classes","className","component","indicatorColor","innerRef","onChange","ScrollButtonComponent","scrollButtons","TabIndicatorProps","textColor","theme","value","variant"]),A="scrollable"===v,y=x.a.createElement(L,i()({className:a.indicator,color:c},h,{style:i()({},this.state.indicatorStyle,h.style)}));this.valueToIndex=new Map;var b=0,_=x.a.Children.map(r,function(t){if(!x.a.isValidElement(t))return null;var n=void 0===t.props.value?b:t.props.value;e.valueToIndex.set(n,b);var r=n===m;return b+=1,x.a.cloneElement(t,{fullWidth:"fullWidth"===v,indicator:r&&!e.state.mounted&&y,selected:r,onChange:d,textColor:f,value:n})}),O=this.getConditionalElements();return x.a.createElement(u,i()({className:Object(w.a)(a.root,o),ref:l},g),x.a.createElement(k.a,{target:"window",onResize:this.handleResize}),x.a.createElement("div",{className:a.flexContainer},O.scrollButtonLeft,O.scrollbarSizeListener,x.a.createElement("div",{className:Object(w.a)(a.scroller,A?a.scrollable:a.fixed),style:this.state.scrollerStyle,ref:this.handleTabsRef,role:"tablist",onScroll:this.handleTabsScroll},x.a.createElement("div",{className:Object(w.a)(a.flexContainer,n&&!A&&a.centered)},_),this.state.mounted&&y),O.scrollButtonRight))}}]),t}(x.a.Component);q.defaultProps={centered:!1,component:"div",indicatorColor:"secondary",ScrollButtonComponent:G,scrollButtons:"auto",textColor:"inherit",variant:"standard"};t.a=Object(D.a)(function(e){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch"},flexContainer:{display:"flex"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:y()({},e.breakpoints.down("xs"),{display:"none"}),indicator:{}}},{name:"MuiTabs",withTheme:!0})(Object(H.a)(q))},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(233),d=n(67),p=Object(d.a)(u.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),h=Object(d.a)(u.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),f=n(39),m=Object(d.a)(u.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=n(30),g=n(22),A=u.a.createElement(h,null),y=u.a.createElement(p,null),b=u.a.createElement(m,null),x=u.a.forwardRef(function(e,t){var n=e.checkedIcon,r=void 0===n?A:n,i=e.classes,s=e.color,d=void 0===s?"secondary":s,p=e.icon,h=void 0===p?y:p,f=e.indeterminate,m=void 0!==f&&f,g=e.indeterminateIcon,x=void 0===g?b:g,w=e.inputProps,_=o()(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps"]);return u.a.createElement(l.a,a()({type:"checkbox",checkedIcon:m?x:r,classes:{root:Object(c.a)(i.root,i["color".concat(Object(v.a)(d))],m&&i.indeterminate),checked:i.checked,disabled:i.disabled},color:d,inputProps:a()({"data-indeterminate":m},w),icon:m?x:h,ref:t},_))});t.a=Object(g.a)(function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(f.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(f.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},{name:"MuiCheckbox"})(x)},function(e,t,n){"use strict";var r=n(225),a=n(312),i=n(226);function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=n(1),u=n.n(s),c=n(188);function l(e,t){var n=Object.create(null);return e&&s.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)}),n}function d(e,t,n){return null!=n[t]?n[t]:e.props[t]}function p(e,t,n){var r=l(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),i=[];for(var o in e)o in t?i.length&&(a[o]=i,i=[]):i.push(o);var s={};for(var u in t){if(a[u])for(r=0;r<a[u].length;r++){var c=a[u][r];s[a[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(t,r);return Object.keys(a).forEach(function(i){var o=a[i];if(Object(s.isValidElement)(o)){var u=i in t,c=i in r,l=t[i],p=Object(s.isValidElement)(l)&&!l.props.in;!c||u&&!p?c||!u||p?c&&u&&Object(s.isValidElement)(l)&&(a[i]=Object(s.cloneElement)(o,{onExited:n.bind(null,o),in:l.props.in,exit:d(o,"exit",e),enter:d(o,"enter",e)})):a[i]=Object(s.cloneElement)(o,{in:!1}):a[i]=Object(s.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:d(o,"exit",e),enter:d(o,"enter",e)})}}),a}var h=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},f=function(e){function t(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(o(o(r)));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,l(n.children,function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:d(e,"appear",n),enter:d(e,"enter",n),exit:d(e,"exit",n)})})):p(e,a,i),firstRender:!1}},n.handleExited=function(e,t){var n=l(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(a.a)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=Object(r.a)(e,["component","childFactory"]),i=this.state.contextValue,o=h(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===t?u.a.createElement(c.a.Provider,{value:i},o):u.a.createElement(c.a.Provider,{value:i},u.a.createElement(t,a,o))},t}(u.a.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};t.a=f},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(457),d=n.n(l),p=(n(53),n(65)),h=n(22),f=n(810),m=n(727),v=n(40);function g(e){return"up"===e||"down"===e?"vertical":"right"===e||"left"===e?"horizontal":void 0}var A=n(342),y={root:{zIndex:1050,display:"flex",pointerEvents:"none"},fab:{pointerEvents:"auto"},directionUp:{flexDirection:"column-reverse"},directionDown:{flexDirection:"column"},directionLeft:{flexDirection:"row-reverse"},directionRight:{flexDirection:"row"},actions:{display:"flex",pointerEvents:"auto","&$directionUp":{marginBottom:-32,paddingBottom:48},"&$directionRight":{marginLeft:-32,paddingLeft:48},"&$directionDown":{marginTop:-32,paddingTop:48},"&$directionLeft":{marginRight:-32,paddingRight:48}},actionsClosed:{transition:"top 0s linear 0.2s",pointerEvents:"none"}},b=u.a.forwardRef(function(e,t){var n=e.ariaLabel,r=e.ButtonProps,i=(r=void 0===r?{}:r).ref,s=o()(r,["ref"]),l=e.children,h=e.classes,y=e.className,b=e.hidden,x=void 0!==b&&b,w=e.icon,_=e.onClick,k=e.onClose,O=e.onKeyDown,E=e.open,S=e.direction,C=void 0===S?"up":S,T=(e.openIcon,e.TransitionComponent),I=void 0===T?f.a:T,j=e.transitionDuration,M=void 0===j?{enter:p.b.enteringScreen,exit:p.b.leavingScreen}:j,N=e.TransitionProps,D=o()(e,["ariaLabel","ButtonProps","children","classes","className","hidden","icon","onClick","onClose","onKeyDown","open","direction","openIcon","TransitionComponent","transitionDuration","TransitionProps"]),R=u.a.useRef(0),P=u.a.useRef(void 0),L=u.a.useRef([]),F=u.a.useCallback(function(e){L.current[0]=e},[]),B=Object(v.c)(i,F),z=function(e,t){return function(n){L.current[e+1]=n,t&&t(n)}},U=function(e){var t,n=d()(e),r=P.current,a=void 0===r?n:r;if("esc"===n)!function(e,t){L.current[0].focus(),k&&k(e,t)}(e,n);else if(t=C,g(n)===g(t)){e.preventDefault();var i=n===a?1:-1,o=Object(A.a)(R.current+i,0,L.current.length-1);L.current[o].focus(),R.current=o,P.current=a}O&&O(e,n)};E||void 0===P.current||(R.current=0,P.current=void 0);var V=n.replace(/^[^a-z]+|[^\w:.-]+/gi,""),W=g(C),G=0;u.a.Children.forEach(l,function(e){u.a.isValidElement(e)&&(G+=1)}),L.current=[];var H=0,q=u.a.Children.map(l,function(e){if(!u.a.isValidElement(e))return null;var t=30*(E?H:G-H);H+=1;var n=e.props.ButtonProps,r=(n=void 0===n?{}:n).ref,i=o()(n,["ref"]),s=a()({},i,{ref:z(H-1,r)});return u.a.cloneElement(e,{ButtonProps:s,delay:t,onKeyDown:U,open:E,id:"".concat(V,"-item-").concat(H)})}),K=Object(c.a)("up"===C&&h.directionUp,"down"===C&&h.directionDown,"left"===C&&h.directionLeft,"right"===C&&h.directionRight),X={onClick:_};return"undefined"!==typeof document&&"ontouchstart"in document.documentElement&&(X={onTouchEnd:_}),u.a.createElement("div",a()({className:Object(c.a)(h.root,K,y),ref:t},D),u.a.createElement(I,a()({in:!x,timeout:M,unmountOnExit:!0},N),u.a.createElement(m.a,a()({color:"primary",onKeyDown:U,"aria-label":n,"aria-haspopup":"true","aria-expanded":E?"true":"false","aria-controls":"".concat(V,"-actions")},X,s,{className:Object(c.a)(h.fab,s.className),ref:B}),u.a.isValidElement(w)&&Object(v.a)(w,["SpeedDialIcon"])?u.a.cloneElement(w,{open:E}):w)),u.a.createElement("div",{id:"".concat(V,"-actions"),role:"menu","aria-orientation":W,className:Object(c.a)(h.actions,!E&&h.actionsClosed,K)},q))});t.a=Object(h.a)(y,{name:"MuiSpeedDial"})(b)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=n(22),d=n(309),p=u.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),h=u.a.memo(function(e){return u.a.createElement(d.a,e,p)});h.muiName="SvgIcon";var f=h,m=u.a.forwardRef(function(e,t){var n=e.classes,r=e.icon,i=e.open,s=e.openIcon,l=o()(e,["classes","icon","open","openIcon"]),d=Object(c.a)(n.icon,i&&[n.iconOpen,s&&n.iconWithOpenIconOpen]),p=Object(c.a)(n.openIcon,i&&n.openIconOpen);function h(e,t){return u.a.isValidElement(e)?u.a.cloneElement(e,{className:t}):e}return u.a.createElement("span",a()({className:n.root,ref:t},l),s?h(s,p):null,r?h(r,d):u.a.createElement(f,{className:d}))});m.muiName="SpeedDialIcon";t.a=Object(l.a)(function(e){return{root:{height:24},icon:{transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short})},iconOpen:{transform:"rotate(45deg)"},iconWithOpenIconOpen:{opacity:0},openIcon:{position:"absolute",transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},openIconOpen:{transform:"rotate(0deg)",opacity:1}}},{name:"MuiSpeedDialIcon"})(m)},function(e,t,n){"use strict";var r=n(9),a=n.n(r),i=n(15),o=n.n(i),s=n(1),u=n.n(s),c=n(14),l=(n(53),n(67)),d=Object(l.a)(u.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),p=n(22),h=n(39),f=n(40),m=n(30),v=u.a.forwardRef(function(e,t){var n=e.avatar,r=e.classes,i=e.className,s=e.clickable,l=e.color,p=void 0===l?"default":l,h=e.component,v=void 0===h?"div":h,g=e.deleteIcon,A=e.icon,y=e.label,b=e.onClick,x=e.onDelete,w=e.onKeyDown,_=e.onKeyUp,k=e.size,O=void 0===k?"medium":k,E=e.variant,S=void 0===E?"default":E,C=o()(e,["avatar","classes","className","clickable","color","component","deleteIcon","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),T=u.a.useRef(null),I=function(e){e.stopPropagation(),x&&x(e)},j=!(!1===s||!b)||s,M="small"===O,N=Object(c.a)(r.root,i,"default"!==p&&[r["color".concat(Object(m.a)(p))],j&&r["clickableColor".concat(Object(m.a)(p))],x&&r["deletableColor".concat(Object(m.a)(p))]],"default"!==S&&[r.outlined,"primary"===p&&r.outlinedPrimary,"secondary"===p&&r.outlinedSecondary],M&&r.sizeSmall,j&&r.clickable,x&&r.deletable),D=null;if(x){var R=Object(c.a)("default"!==p&&("default"===S?r["deleteIconColor".concat(Object(m.a)(p))]:r["deleteIconOutlinedColor".concat(Object(m.a)(p))]),M&&r.deleteIconSmall);D=g&&u.a.isValidElement(g)?u.a.cloneElement(g,{className:Object(c.a)(g.props.className,r.deleteIcon,R),onClick:I}):u.a.createElement(d,{className:Object(c.a)(r.deleteIcon,R),onClick:I})}var P=null;n&&u.a.isValidElement(n)&&(P=u.a.cloneElement(n,{className:Object(c.a)(r.avatar,n.props.className,M&&r.avatarSmall,"default"!==p&&r["avatarColor".concat(Object(m.a)(p))]),childrenClassName:Object(c.a)(r.avatarChildren,n.props.childrenClassName)}));var L=null;A&&u.a.isValidElement(A)&&(L=u.a.cloneElement(A,{className:Object(c.a)(r.icon,A.props.className,M&&r.iconSmall,"default"!==p&&r["iconColor".concat(Object(m.a)(p))])}));var F=Object(f.c)(T,t);return u.a.createElement(v,a()({role:j||x?"button":void 0,className:N,tabIndex:j||x?0:void 0,onClick:b,onKeyDown:function(e){if(w&&w(e),e.currentTarget===e.target){var t=e.key;" "!==t&&"Enter"!==t&&"Backspace"!==t&&"Delete"!==t&&"Escape"!==t||e.preventDefault()}},onKeyUp:function(e){if(_&&_(e),e.currentTarget===e.target){var t=e.key;!b||" "!==t&&"Enter"!==t?!x||"Backspace"!==t&&"Delete"!==t?"Escape"===t&&T.current&&T.current.blur():x(e):b(e)}},ref:F},C),P||L,u.a.createElement("span",{className:Object(c.a)(r.label,M&&r.labelSmall)},y),D)});t.a=Object(p.a)(function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],n=Object(h.d)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:"none",textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box"},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},clickable:{WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Object(h.c)(t,.08)},"&:active":{boxShadow:e.shadows[1],backgroundColor:Object(h.c)(t,.12)}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Object(h.c)(e.palette.primary.main,.08)},"&:active":{backgroundColor:Object(h.c)(e.palette.primary.main,.12)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Object(h.c)(e.palette.secondary.main,.08)},"&:active":{backgroundColor:Object(h.c)(e.palette.secondary.main,.12)}},deletable:{"&:focus":{backgroundColor:Object(h.c)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Object(h.c)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Object(h.c)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(h.d)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:-1}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(h.d)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(h.d)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{marginRight:-4,width:32,height:32,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(16)},avatarSmall:{width:24,height:24,fontSize:e.typography.pxToRem(12)},avatarColorPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},avatarColorSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},avatarChildren:{height:18},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-8},iconSmall:{width:16,marginRight:-5},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{display:"flex",alignItems:"center",paddingLeft:12,paddingRight:12,userSelect:"none",whiteSpace:"nowrap",cursor:"inherit"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:n,cursor:"pointer",height:"auto",margin:"0 5px 0 -8px","&:hover":{color:Object(h.d)(n,.4)}},deleteIconSmall:{height:16,margin:"0 1px 0 -9px"},deleteIconColorPrimary:{color:Object(h.d)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:Object(h.d)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Object(h.d)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Object(h.d)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}},{name:"MuiChip"})(v)}]]);
//# sourceMappingURL=2.a705dff3.chunk.js.map