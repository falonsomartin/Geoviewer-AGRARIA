(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{406:function(e,t,a){},536:function(e,t,a){e.exports=a(720)},557:function(e,t,a){},560:function(e,t,a){},567:function(e,t,a){},627:function(e,t,a){},700:function(e,t,a){},701:function(e,t,a){},703:function(e,t){},704:function(e,t){},712:function(e,t){},715:function(e,t){},716:function(e,t){},717:function(e,t){},720:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(52),i=a.n(r),l=a(494),s=a(176),c=a(5),u=a(11),d=a(18),m=a(12),p=a(17),h=a(306),g=a(805),y=new(a(369).EventEmitter),C=(a(557),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={key:null},a.handleCloseClick=function(e){a.props.closeSnackbar(e)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{className:"snackbar-btn white-text",onClick:e.handleCloseClick.bind(e,t)},"DISMISS"))};this.showSnackbarListener=y.addListener("showSnackbar",function(a,n){console.log(n),e.props.enqueueSnackbar(n,{variant:a,autoHideDuration:3e3,action:t})}),this.showloggingSnackbarListener=y.addListener("showloggingSnackbar",function(t){var a="Logging to ".concat(t,"..."),n=e.props.enqueueSnackbar(a,{variant:"info",persist:!0});e.setState({key:n})}),this.hideloggingSnackbarListener=y.addListener("hideloggingSnackbar",function(){e.props.closeSnackbar(e.state.key)})}},{key:"componentWillUnmount",value:function(){y.removeListener(this.showSnackbarListener),y.removeListener(this.showloggingSnackbarListener),y.removeListener(this.hideloggingSnackbarListener)}},{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(o.a.Component)),f=Object(h.withSnackbar)(C),E=a(232),v=a.n(E),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={modal:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("about"),a=v.a.Modal.init(t);e.setState({modal:a})})}},{key:"componentWillUnmount",value:function(){this.state.modal.destory()}},{key:"render",value:function(){return o.a.createElement("div",{id:"about",className:"modal"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("h4",null,"About"),o.a.createElement("p",null,"GeoLivar."),o.a.createElement("p",null,"Designed & Written by\xa0",o.a.createElement("a",{href:"https://evenor-tech.com/"},"Evenor-Tech"),".")),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{className:"modal-close waves-effect waves-light btn-flat"},"OK")))}}]),t}(o.a.Component),_=a(807),S=a(808),k=a(723),w=a(726),L=a(809),O=a(304),P=a(454),I=a(455),D=a.n(I),x=Object(O.a)({palette:{primary:{main:D.a[900]}}}),R={root:{position:"fixed",top:0,zIndex:900},logoContainer:{height:24,padding:"2px 5px"},logo:{height:20},flexContainer:{position:"absolute",right:12,display:"flex",flexDirection:"row-reverse",justifyContent:"flex-start"},svgIcon:{width:24,height:24},fontIcon:{fontSize:29}},A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={loggedin:!1},a.handleLoginClick=function(){y.emit("login")},a.handleLogoutClick=function(){y.emit("showSnackbar","success","Logout successfully."),a.setState({loggedin:!1})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setLoginStateListener=y.addListener("setLoginState",function(t){e.setState({loggedin:t})})}},{key:"componentWillUnmount",value:function(){y.removeListener(this.setLoginStateListener)}},{key:"render",value:function(){return o.a.createElement(P.a,{theme:x},o.a.createElement(_.a,{style:R.root,position:"static"},o.a.createElement(S.a,null,o.a.createElement("a",{style:R.logoContainer,href:"/"},o.a.createElement("img",{style:R.logo,src:"./static/assets/logo.png",alt:""})),o.a.createElement("div",{style:R.flexContainer},o.a.createElement(k.a,{title:"About","aria-label":"About",enterDelay:200},o.a.createElement(w.a,{className:"icon-container modal-trigger","aria-label":"About",color:"inherit","data-target":"about"},o.a.createElement(L.a,{style:R.fontIcon},"info_outline"))),this.state.loggedin?o.a.createElement(k.a,{title:"Logout","aria-label":"Logout",enterDelay:200},o.a.createElement(w.a,{className:"icon-container","aria-label":"Logout",color:"inherit",onClick:this.handleLogoutClick},o.a.createElement(L.a,{style:R.fontIcon},"exit_to_app"))):o.a.createElement(k.a,{title:"Login","aria-label":"Login",enterDelay:200},o.a.createElement(w.a,{className:"icon-container","aria-label":"Login",color:"inherit",onClick:this.handleLoginClick},o.a.createElement(L.a,{style:R.fontIcon},"account_circle")))))))}}]),t}(o.a.Component),N=a(835),T=a(836),j=a(811),M=(a(560),{root:{position:"fixed",right:24,bottom:24,zIndex:1e3}}),B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,actions:[{name:"Save changes",icon:o.a.createElement(L.a,null,"publish"),color:"green"},{name:"Edit data",icon:o.a.createElement(L.a,null,"insert_chart"),color:"blue",callback:function(){y.emit("closeAllController"),y.emit("openDataController"),a.handleClose()}},{name:"Switch style",icon:o.a.createElement(L.a,null,"brush"),color:"red accent-2",callback:function(){y.emit("closeAllController"),y.emit("openStyleController"),a.handleClose()}},{name:"Predictive Modeling",icon:o.a.createElement(L.a,null,"psychology"),color:"purple darken-1",callback:function(){y.emit("closeAllController"),y.emit("openModelController"),a.handleClose()}},{name:"Configure layers",icon:o.a.createElement(L.a,null,"layers"),color:"yellow darken-1",callback:function(){y.emit("closeAllController"),y.emit("openLayerController"),a.handleClose()}}]},a.handleClick=function(){a.setState(function(e){return{open:!e.open}})},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.openMenuListener=y.addListener("openMenu",function(){e.setState({open:!0})})}},{key:"componentWillUnmount",value:function(){y.removeListener(this.openMenuListener)}},{key:"render",value:function(){return o.a.createElement(N.a,{style:M.root,open:this.state.open,ariaLabel:"Menu",icon:o.a.createElement(T.a,{icon:o.a.createElement(L.a,null,"menu"),openIcon:o.a.createElement(L.a,null,"clear")}),onMouseEnter:this.handleOpen,onMouseLeave:this.handleClose,onClick:this.handleClick},this.state.actions.map(function(e){return o.a.createElement(j.a,{key:e.name,className:e.color,icon:e.icon,tooltipTitle:e.name,onClick:e.callback})}))}}]),t}(o.a.Component),F=a(7),U=a.n(F),G=a(16),z=a(458),V=a.n(z),W=a(812),H=a(394),q=a(191),Z=a(813),J=a(814),Y=a(833),$=a(815),K=a(313),Q=a.n(K),X=a(831),ee=Object(O.a)({palette:{primary:{main:Q.a.A200}}}),te={loginContainer:{width:300,height:350,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},title:{marginBottom:20},inputBox:{width:240,marginTop:15},checkBox:{width:140},loginBtnContainer:{display:"inline-block",position:"relative"},loginBtn:{width:120,marginTop:20},loginBtnProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-3,marginLeft:-12}},ae=o.a.forwardRef(function(e,t){return o.a.createElement(H.a,Object.assign({direction:"down",ref:t},e))}),ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,remember:!1,logining:!1},a.handleLoginClose=function(){a.setState({open:!1})},a.handleRememberChange=function(e){a.setState({remember:e.target.checked})},a.handleLoginClick=Object(G.a)(U.a.mark(function e(){var t,n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({logining:!0}),t={idUser:1,password:V()(document.getElementById("password").value),fullName:"John Doe",email:document.getElementById("username").value,cellphone:"1234567890",birthdate:"1990-01-01",role:"user"},e.next=4,X.a.post("http://localhost:9000/api/v1/users",t);case 4:n=e.sent,console.log(n),200===n.status&&(y.emit("showSnackbar","success","User '".concat(n.status,"' login successfully.")),y.emit("setLoginState",!0),a.setState({open:!1}),a.setState({logining:!1}));case 7:case"end":return e.stop()}},e)})),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loginListener=y.addListener("login",function(){e.setState({open:!0})})}},{key:"componentWillUnmount",value:function(){y.removeListener(this.loginListener)}},{key:"render",value:function(){return o.a.createElement(P.a,{theme:ee},o.a.createElement(W.a,{open:this.state.open,TransitionComponent:ae,onClose:this.handleLoginClose},o.a.createElement("div",{style:te.loginContainer},o.a.createElement(q.a,{style:te.title,variant:"h5",gutterBottom:!0},"Inicio de Sesi\xf3n"),o.a.createElement(Z.a,{style:te.inputBox,variant:"outlined",margin:"dense",id:"username",label:"Username"}),o.a.createElement(Z.a,{style:te.inputBox,variant:"outlined",margin:"dense",id:"password",type:"password",label:"Password"}),o.a.createElement(J.a,{style:te.checkBox,control:o.a.createElement(Y.a,{checked:this.state.remember,onChange:this.handleRememberChange,value:"remember",color:"primary"}),label:"Remember me"}),o.a.createElement("div",{style:te.loginBtnContainer},o.a.createElement(g.a,{style:te.loginBtn,variant:"contained",color:"primary",disabled:this.state.logining,onClick:this.handleLoginClick},"INICIAR SESI\xd3N"),this.state.logining&&o.a.createElement($.a,{style:te.loginBtnProgress,size:24})))))}}]),t}(o.a.Component),oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={tapTarget:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("DOMContentLoaded",function(){document.getElementsByClassName("MuiSpeedDial-fab")[0].setAttribute("id","menu");var t=document.querySelectorAll(".tap-target"),a=v.a.TapTarget.init(t)[0];a.open(),e.setState({tapTarget:a})})}},{key:"componentWillUnmount",value:function(){this.state.tapTarget.destory()}},{key:"render",value:function(){return o.a.createElement("div",{className:"tap-target indigo accent-2","data-target":"menu"},o.a.createElement("div",{className:"tap-target-content white-text"},o.a.createElement("h5",null,"Welcome to GeoViewer!"),o.a.createElement("p",null,"This is an online, light-weight and user-friendly geographical information visualizer, made with ReactJS + Material-UI + Mapbox-GL.")))}}]),t}(o.a.Component),re=a(816),ie=a(817),le=a(818),se={Streets:"mapbox://styles/goolhanrry/cjw8xh7e200781cnprhz1wdyv",Outdoors:"mapbox://styles/goolhanrry/cjw8xvtw001271do5wh8jcisr",Light:"mapbox://styles/goolhanrry/cjw8xfxnz00ov1ctbo72e8tvq",Dark:"mapbox://styles/goolhanrry/cjw8x7qcb036z1cpakzz43vsv",Night:"mapbox://styles/goolhanrry/cjw8xt95o05f01cpc101wyn5s",LeShine:"mapbox://styles/goolhanrry/cjw8xn3y562m31cmngt2pzg2z",NorthStar:"mapbox://styles/goolhanrry/cjw8xy5el01441do5lkxunsjn",Moonlight:"mapbox://styles/goolhanrry/cjw8yqo2q01v11cqkk9e6iviq",Satellite:"mapbox://styles/mapbox/satellite-v9"},ce=function(e){var t={"heatmap-weight":["interpolate",["linear"],["get","mag"],10,10,16,16],"heatmap-intensity":["interpolate",["linear"],["zoom"],10,10,19,19],"heatmap-radius":["interpolate",["linear"],["zoom"],10,12,19,30],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(0,0,0,0)",.2,"#67A9CF",.4,"#D1E5F0",1]};return t["heatmap-color"].push(e),t},ue=(a(567),{root:{position:"fixed",top:74,right:10,borderRadius:4,width:320,margin:0,zIndex:900},header:{backgroundColor:"#f1f1f1"},closeBtn:{position:"absolute",top:6,right:8,fontSize:22},stylePreview:{width:60,height:60,borderRadius:2,cursor:"pointer"}}),de=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1},a.handleCloseClick=function(){a.setState({open:!1})},a.handleStyleClick=function(e){y.emit("setMapStyle",e),a.handleCloseClick()},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.openStyleControllerListener=y.addListener("openStyleController",function(){e.setState({open:!0})}),this.closeAllControllerListener=y.addListener("closeAllController",function(){e.setState({open:!1})})}},{key:"componentWillUnmount",value:function(){y.removeListener(this.openStyleControllerListener),y.removeListener(this.closeAllControllerListener)}},{key:"render",value:function(){var e=this;return o.a.createElement(H.a,{direction:"left",in:this.state.open},o.a.createElement(re.a,{style:ue.root},o.a.createElement(ie.a,{style:ue.header},o.a.createElement(q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Map Styles"),o.a.createElement(q.a,{variant:"body2",color:"textSecondary"},"Click to choose a map style"),o.a.createElement(w.a,{style:ue.closeBtn,"aria-label":"Close",onClick:this.handleCloseClick},o.a.createElement(L.a,{fontSize:"inherit"},"chevron_right"))),o.a.createElement(ie.a,null,o.a.createElement(le.a,{container:!0,spacing:2},Object.keys(se).map(function(t,a){return o.a.createElement(le.a,{item:!0,style:ue.styleCard,key:a,xs:3},o.a.createElement("img",{src:"./static/assets/".concat(t,".png"),alt:"",className:"hoverable",style:ue.stylePreview,onClick:e.handleStyleClick.bind(e,t)}))})))))}}]),t}(o.a.Component),me=a(322),pe=a.n(me),he=a(730),ge=a(731),ye=a(740),Ce=a(499),fe=a(837),Ee=a(820),ve=a(821),be=a(735),_e=a(737),Se=a(822),ke=a(568),we=a(823),Le=a(228),Oe={"Parcela 2":{type:"fill",url:"./parcela2.geojson",method:"GET",data:{type:"FeatureCollection",name:"Parcela2",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[325642.014495758,4123656.56841298],[325628.524533606,4123645.67895749],[325608.564990098,4123629.56946161],[325564.245056931,4123593.80039139],[325495.335511299,4123538.18194262],[325491.893804542,4123535.10097589],[325461.52501745604,4123512.40997566],[325430.716672845,4123489.10160529],[325414.29906744,4123474.71123584],[325391.598189685,4123457.28071729],[325367.280537102,4123436.21654174],[325342.110077322,4123433.3492946],[325284.262355175,4123434.16920315],[325222.881887895,4123434.57952378],[325196.828351415,4123434.78464411],[325185.126390763,4123437.65230399],[325175.435246758,4123443.60190154],[325176.854075976,4123447.04747771],[325166.69773447,4123448.99350169],[325164.085174063,4123457.18183987],[325164.895951559,4123464.88382549],[325164.085325925,4123471.77512036],[325160.234388867,4123476.84221275],[325156.78876716504,4123475.62618321],[325156.99133265397,4123468.12685776],[325152.937650502,4123468.12690253],[325152.734914061,4123464.27592215],[325155.77516295505,4123464.2758655],[325160.436918179,4123464.88384182],[325159.423394242,4123454.34429201],[325143.28695339,4123462.42476838],[325142.511275743,4123462.26535535],[325135.99865378597,4123464.50470202],[325135.99868112,4123464.98451141],[325138.569469955,4123468.18344421],[325118.517617412,4123475.70121597],[325119.54578667897,4123467.06402041],[325118.227951375,4123466.55645898],[325116.46085559303,4123466.74415788],[325115.946586463,4123460.82606367],[325121.94508873,4123459.70638189],[325127.086635338,4123460.98587505],[325128.457779109,4123464.50473505],[325142.16847325,4123458.74647607],[325139.999592405,4123456.66151946],[325140.30558220897,4123450.55690853],[325133.200294792,4123447.56762849],[325121.500484086,4123447.38783126],[325121.082433974,4123443.66024459],[325121.02041722904,4123443.10784245],[325120.970435541,4123442.697915],[325119.094437998,4123442.44233406],[325117.960470588,4123442.28792899],[325118.03344844806,4123441.47781821],[325118.720351935,4123433.84809651],[325113.200464049,4123432.99815326],[325108.069597538,4123437.03868791],[325107.407257253,4123437.03871707],[325102.549766652,4123435.1953359],[325101.88727098,4123429.05058471],[325100.13785634,4123427.59064716],[325096.286835865,4123428.40144055],[325091.67582720896,4123430.6816848],[325083.97382519,4123431.6951756],[325079.81887051,4123433.82337955],[325074.244959495,4123429.06039422],[325071.103189476,4123419.83829513],[325068.77225552,4123411.73097275],[325071.508457846,4123409.19735606],[325079.91995220806,4123416.2912809],[325079.51439875,4123402.91411521],[325084.378819403,4123402.00198848],[325087.317726868,4123401.79923423],[325087.72293588804,4123389.03014426],[325088.197340657,4123369.44631739],[325103.652780862,4123366.78345072],[325104.84940839105,4123362.78236143],[325159.371439222,4123362.3764418],[325157.62366557197,4123324.74453746],[325157.698278153,4123287.53533102],[325158.001912607,4123259.26089905],[325158.001368569,4123218.72406895],[325157.64631256304,4123191.00704075],[325157.133959163,4123135.73096108],[325158.709235344,4123103.19415527],[325159.334878201,4123089.83963908],[325157.467550923,4123087.76479687],[325133.015544584,4123078.25333863],[325095.512843807,4123063.44339261],[325085.958084239,4123056.27723658],[325082.613886976,4123048.39450423],[325079.747403175,4123043.61715569],[325070.670374942,4123037.88423525],[325079.269653856,4123016.8636467],[325088.16204677,4122995.86459543],[325007.96500038804,4122918.53842841],[324982.995564228,4122894.46895612],[324921.755563328,4122835.42088972],[324918.19555573503,4122831.99087526],[324916.315559638,4122830.18095715],[324794.39600342704,4122712.6243827],[324756.186039501,4122675.78542326],[324632.686226771,4122553.62615862],[324629.183888307,4122550.16183407],[324622.326498117,4122543.37888742],[324619.916527924,4122538.40940001],[324617.65653452504,4122533.74941726],[324614.686526069,4122541.79940426],[324614.036500131,4122542.75940844],[324609.707010809,4122549.18891037],[324586.268058345,4122597.6984551],[324581.238010993,4122608.2784386],[324574.72853429604,4122620.49841002],[324569.318566875,4122632.38791054],[324565.259019592,4122641.25788646],[324561.269068411,4122648.22787998],[324556.309037894,4122657.01795814],[324552.719505125,4122663.97791537],[324549.949568005,4122671.82744726],[324546.109528493,4122681.89737604],[324544.110049978,4122688.32745199],[324541.090009943,4122699.48745438],[324536.950031375,4122709.55695785],[324535.130565541,4122714.38694573],[324533.410510935,4122719.51687253],[324529.690554585,4122724.68691932],[324525.47053519404,4122729.95692563],[324523.631008296,4122733.88696407],[324520.641063144,4122740.43693103],[324472.873011033,4122849.47542677],[324451.384006384,4122894.47495615],[324297.751057141,4123216.22093409],[324243.903524891,4123338.96945799],[324231.634509393,4123371.43894669],[324227.84451486205,4123382.17895598],[324220.254997311,4123403.67844128],[324211.45554781304,4123421.11841656],[324209.33549461403,4123426.09845274],[324205.665527186,4123432.8379143],[324201.375546505,4123439.09788687],[324198.80605331296,4123442.88792423],[324198.696015365,4123443.1179044],[324195.725986957,4123449.20788193],[324192.256021315,4123455.93795177],[324169.507010514,4123506.38740957],[324170.931312966,4123507.4347834],[324171.822031459,4123507.98375817],[324173.16884348105,4123508.41062243],[324174.206994929,4123508.504341],[324175.66475289303,4123508.30884216],[324181.870025547,4123505.79055732],[324198.86118887196,4123499.5696515],[324214.41364093806,4123504.72760882],[324216.148411441,4123505.02856292],[324218.024014539,4123505.24989737],[324226.102820206,4123504.46180489],[324231.384033125,4123503.38357449],[324237.77976646,4123505.18206121],[324253.301648524,4123507.76893934],[324255.877908232,4123508.20329015],[324257.62983063,4123508.19080291],[324258.326053048,4123508.03973318],[324265.754552224,4123505.77633037],[324279.950944213,4123507.68564921],[324289.281762621,4123516.1232997],[324293.05417353497,4123524.31983534],[324288.709919722,4123537.86307574],[324287.79520381097,4123541.84035443],[324287.82731237,4123543.15037545],[324288.543996075,4123547.82547196],[324293.027131824,4123556.12734138],[324295.185773161,4123567.91607701],[324290.20465216803,4123570.24071511],[324266.129137188,4123577.71268404],[324247.53278951,4123578.37706232],[324235.06989344,4123577.58514365],[324225.240391056,4123576.12410941],[324206.245487862,4123575.19454168],[324186.98497043696,4123575.194775],[324174.233154413,4123575.72620377],[324157.363604608,4123573.99960831],[324146.93039616797,4123573.89475522],[324139.16303031,4123590.73438645],[324128.53949776804,4123613.76595371],[324126.7794918,4123616.62593607],[324108.930021436,4123645.59545969],[324104.310502822,4123656.37544444],[324101.98048757896,4123661.26538512],[324099.050543829,4123666.27545587],[324096.190534293,4123673.18492866],[324094.97052944603,4123678.33492561],[324092.21097342204,4123685.23494476],[324090.130982646,4123691.71496329],[324087.901009362,4123696.40491015],[324086.280982381,4123701.76491649],[324084.571509163,4123707.03440646],[324081.751552509,4123715.04439534],[324079.58152403,4123721.72439323],[324077.751514039,4123726.59437284],[324074.872003613,4123733.00443796],[324072.862040228,4123738.38443735],[324070.16203900904,4123744.28393747],[324067.691981521,4123750.78395625],[324064.632487665,4123757.79390679],[324062.662545985,4123761.47393862],[324059.79253417096,4123768.08394711],[324057.592515056,4123773.86392575],[324054.933022824,4123780.96395136],[324051.923011756,4123786.48345953],[324047.65301705804,4123793.04345282],[324042.563023594,4123799.32337019],[324031.613481296,4123809.73339341],[324044.773510959,4123805.15343691],[324053.03298893804,4123803.3534386],[324063.05302259,4123800.49344523],[324076.312490969,4123798.62290613],[324086.052543958,4123796.37293686],[324113.292017536,4123792.79289204],[324147.111478175,4123791.39240203],[324157.150996047,4123791.83243874],[324168.40097250504,4123792.43237825],[324180.931026852,4123792.48187356],[324192.91054810805,4123793.9619152],[324205.450536628,4123794.31195327],[324217.3799771,4123794.38143251],[324227.850003321,4123794.83142491],[324230.120003532,4123794.9314539],[324241.060019433,4123795.14143258],[324287.388984015,4123793.08088053],[324306.76851002703,4123791.29091374],[324336.02804471704,4123785.54040184],[324348.63804213103,4123782.39040946],[324357.277505137,4123780.08042545],[324367.707473678,4123777.40044993],[324379.387492524,4123773.48040404],[324395.587039401,4123769.39994499],[324405.626519339,4123767.13990143],[324420.15648695,4123764.31988439],[324428.78648020705,4123764.70990095],[324440.515987495,4123764.78992892],[324448.98602548096,4123763.4893768],[324512.24450136296,4123749.71941613],[324523.384526227,4123747.51894288],[324536.97403950704,4123743.42894346],[324551.124007015,4123738.31894882],[324565.3635406,4123732.89895017],[324577.91352696205,4123728.04890948],[324590.493026377,4123723.79895467],[324605.84248926403,4123718.6489165],[324621.112487798,4123714.19838702],[324635.771975544,4123709.26844612],[324648.93203473,4123704.48839217],[324660.04151293496,4123701.18842261],[324670.751547278,4123700.80839178],[324685.860999309,4123700.26791348],[324703.381017197,4123699.64790395],[324717.89053637,4123699.12792122],[324732.11053375097,4123698.61791687],[324743.019998279,4123698.22739426],[324773.479547295,4123694.20742202],[324796.769016541,4123693.57695804],[324809.769022345,4123693.22690417],[324818.258976648,4123692.99695515],[324825.688500205,4123693.8969086],[324841.518497096,4123695.06640115],[324852.958504926,4123696.35646156],[324870.608013014,4123697.88589124],[324888.60800279,4123697.89592089],[324918.20754605,4123701.01541636],[324930.936985858,4123702.35544596],[324972.48654711,4123703.73489223],[325003.69602606,4123707.49446234],[325019.255496131,4123709.57439112],[325026.885530256,4123710.66442652],[325043.125509069,4123715.7338975],[325050.545524403,4123716.43392525],[325062.354989827,4123716.6139225],[325077.04501922196,4123716.21342675],[325086.594493323,4123714.25341158],[325097.384537476,4123713.46342936],[325112.42402526,4123711.46338894],[325122.403995687,4123710.49344018],[325131.784029913,4123709.53293162],[325143.243492472,4123708.12289254],[325165.503501663,4123706.32293121],[325194.842516818,4123703.93244082],[325216.442516612,4123699.94237758],[325227.29201846797,4123697.9523843],[325234.941977491,4123696.04242004],[325241.58200501,4123690.16244613],[325248.521528396,4123684.27242803],[325254.751523283,4123681.302429],[325265.241005676,4123681.01195294],[325278.960984727,4123681.4419397],[325302.240519943,4123680.72190558],[325330.540027414,4123676.65141892],[325387.608985431,4123675.11094779],[325400.289018767,4123677.97088095],[325416.498510013,4123678.13037995],[325454.257997295,4123676.10996598],[325478.577502394,4123676.84993187],[325492.367550764,4123676.4799511],[325504.587014458,4123676.94941041],[325511.387004235,4123676.76943797],[325524.23701826297,4123674.71945295],[325544.996493113,4123673.05943938],[325576.346024301,4123670.90893558],[325593.935482315,4123670.63890457],[325608.565556994,4123667.45844939],[325611.835552987,4123666.74842958],[325621.91501262604,4123662.0784105],[325631.635044562,4123659.00846938],[325642.014495758,4123656.56841298]],[[324823.37725947297,4123438.10922116],[324809.85332125606,4123437.86753008],[324759.138457174,4123436.41692283],[324745.131522969,4123434.24111069],[324737.88652913,4123430.37293733],[324733.539530422,4123422.63659375],[324734.02255784604,4123381.77910955],[324740.301485129,4123375.00990545],[324782.805429199,4123375.2516082],[324826.758251448,4123375.97688524],[324825.309251319,4123432.54879241],[324823.37725947297,4123438.10922116]]]}}]}},"Parcela 3":{type:"fill",url:"./parcela3.geojson",method:"GET",data:{type:"FeatureCollection",name:"Parcela3",features:[{type:"Feature",properties:{Source:"SEVILLA",Source_1:"SP20_REC_41041",ID_RECINTO:30788693,CD_PROV:41,CD_MUN:41,CD_POL:8,CD_PARCELA:1,CD_RECINTO:1,CD_USO:"OV",NU_AREA:128340.95,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:3.1777,INCIDENCIA:"341",REGION:"1802",GC:"CP",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[337799.598362719,4131811.65366078],[337803.403489564,4131804.17891367],[337808.952988378,4131793.28941753],[337814.672493405,4131783.25941218],[337820.632484942,4131772.79941313],[337832.22149262903,4131750.49991672],[337845.550987263,4131724.8404109],[337848.790486253,4131718.6004144],[337856.450488634,4131703.58041093],[337839.539987705,4131686.61091179],[337782.10999267304,4131637.36291838],[337740.179989187,4131599.95392206],[337695.239494476,4131556.115416],[337643.698987231,4131499.01691511],[337604.34898935404,4131458.53791991],[337585.52898681303,4131443.50841748],[337569.72899433,4131430.71891851],[337543.418493412,4131396.97992109],[337520.838492986,4131370.10091601],[337511.06848809,4131361.21092571],[337489.57849281,4131346.71141846],[337432.918489189,4131309.54291766],[337432.418488514,4131310.50292337],[337426.528987993,4131316.53292162],[337417.84948595,4131335.4324185],[337413.03948659,4131348.25241874],[337401.02048905,4131382.18192658],[337378.65249159804,4131445.77092234],[337359.073992759,4131493.65991726],[337347.534486923,4131519.89942674],[337344.274486928,4131527.95941776],[337336.00549308,4131553.09892608],[337331.045996841,4131572.84841911],[337326.196496044,4131601.60791952],[337324.956988735,4131609.93792445],[337324.84789222304,4131616.2171507],[337322.114932356,4131631.55394637],[337319.36234785296,4131643.68022815],[337748.3182449,4131791.59930411],[337799.598362719,4131811.65366078]]]}},{type:"Feature",properties:{Source:"SEVILLA",Source_1:"SP20_REC_41041",ID_RECINTO:30788695,CD_PROV:41,CD_MUN:41,CD_POL:8,CD_PARCELA:1,CD_RECINTO:2,CD_USO:"OV",NU_AREA:129325.77,PC_PASTOS:null,COEF_REG:57,PDTE_MEDIA:5.7702,INCIDENCIA:null,REGION:"1802",GC:"CP",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[337319.36234785296,4131643.68022815],[337316.04024322296,4131653.16158547],[337314.880492245,4131673.56984651],[337308.907414996,4131691.07825977],[337299.638847095,4131718.26779578],[337284.499639867,4131737.73312009],[337278.747417976,4131757.1377096],[337269.741169898,4131777.07055118],[337265.60198223405,4131789.69192483],[337264.366395555,4131803.49263853],[337265.312673409,4131823.72799285],[337260.041794727,4131849.63234018],[337256.231329905,4131858.38655582],[337256.101701822,4131864.48601902],[337260.704489942,4131905.00291987],[337673.870996656,4132051.32541606],[337770.6049902,4131865.12841559],[337775.984992398,4131858.31841796],[337779.38499053,4131852.58841904],[337786.36449488596,4131836.6584203],[337789.053986119,4131832.35841975],[337793.883987977,4131822.87891229],[337799.598362719,4131811.65366078],[337748.3182449,4131791.59930411],[337319.36234785296,4131643.68022815]]]}}]}},"Parcela 5":{type:"fill",url:"./parcela3.geojson",method:"GET",data:{type:"FeatureCollection",name:"Parcela_5",features:[{type:"Feature",properties:{Source:"SEVILLA",Source_1:"SP20_REC_41046",ID_RECINTO:31201427,CD_PROV:41,CD_MUN:46,CD_POL:10,CD_PARCELA:2,CD_RECINTO:1,CD_USO:"OV",NU_AREA:79484.42,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:11.0178,INCIDENCIA:null,REGION:"1802",GC:"CP",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[328620.564507414,4117957.31989475],[328656.96450916503,4118011.30889878],[328847.46352269704,4118293.90190213],[328980.901022339,4118290.15040919],[329095.749023402,4118286.92940922],[328980.899516867,4118112.38390386],[328917.279514971,4118015.6959044],[328915.729509567,4118015.35590566],[328896.320015382,4118011.88639785],[328893.110017549,4118011.30639967],[328874.300513502,4118007.9364042],[328763.422016814,4117988.08790545],[328730.65251109505,4117977.34839793],[328716.84301521105,4117972.82890379],[328711.933014896,4117969.92890349],[328706.09301577404,4117966.46890227],[328702.173016097,4117963.41889492],[328694.883010903,4117957.72939752],[328689.383007358,4117953.43939769],[328657.113505296,4117930.95990372],[328645.02350927703,4117922.53040212],[328643.323508167,4117921.35039977],[328621.10450939304,4117956.48989418],[328620.824508834,4117956.92989912],[328620.564507414,4117957.31989475]]]}}]}},"Parcela 6":{type:"fill",url:"./parcela3.geojson",method:"GET",data:{type:"FeatureCollection",name:"Parcela_6",features:[{type:"Feature",properties:{Source:"SEVILLA",Source_1:"SP20_REC_41041",ID_RECINTO:34384929,CD_PROV:41,CD_MUN:41,CD_POL:18,CD_PARCELA:1,CD_RECINTO:2,CD_USO:"OV",NU_AREA:94244.7,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:3.9186,INCIDENCIA:null,REGION:"1101",GC:"TCS",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[328111.591728218,4133850.4104629],[328112.03453236405,4133849.8688894],[328061.35536587605,4133792.57624041],[328007.193805776,4133735.13150624],[327912.35319851903,4133629.04395201],[327875.00480413,4133588.1845698],[327870.66949796904,4133592.50922061],[327672.718586462,4133800.43849607],[327920.513505285,4134011.00414067],[327920.002109692,4134011.35575247],[327922.62808531197,4134014.01019131],[327948.33185996,4133996.63549483],[327993.78126310505,4133966.05423626],[328040.42297102,4133933.15832096],[328051.504686698,4133921.09420268],[328084.048405952,4133880.69355918],[328106.492302249,4133853.75989044],[328109.85892649106,4133849.83198876],[328111.591728218,4133850.4104629]]]}}]}},Centroides:{type:"heatmap",url:"./parcela3.geojson",method:"GET",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[37.23900490001157,-4.974919299835811,-7.841736078262329e-7]},properties:{FID:0}},{type:"Feature",geometry:{type:"Point",coordinates:[37.33278600000398,-4.949876999836244,-7.7858567237854e-7]},properties:{FID:1}},{type:"Feature",geometry:{type:"Point",coordinates:[37.316583000019115,-4.835805999839294,-7.422640919685364e-7]},properties:{FID:2}},{type:"Feature",geometry:{type:"Point",coordinates:[37.19495600002584,-4.926653999836677,-7.711350917816162e-7]},properties:{FID:3}}]}},Secano:{type:"fill",url:"./parcela3.geojson",method:"GET",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-4.93322213749284,37.194850345791956,0],[-4.933166692609997,37.194819341767506,0],[-4.933102337466441,37.19479182187561,0],[-4.933042197444203,37.19476612573128,0],[-4.932978648256007,37.194690464644005,0],[-4.932892838145644,37.19454171740261,0],[-4.932763624999388,37.19440043356666,0],[-4.932665464508841,37.19429307599331,0],[-4.932650050569832,37.194276203333864,0],[-4.932433267123186,37.19404495891433,0],[-4.932273788890801,37.19387425049058,0],[-4.932161443300413,37.19374954458412,0],[-4.931968314953215,37.19351385758023,0],[-4.9317335275881975,37.19327443803672,0],[-4.931580768628473,37.1931199276112,0],[-4.93136411472797,37.19285371405336,0],[-4.931348414100083,37.19283441248913,0],[-4.931293404679246,37.19276681268617,0],[-4.931093296281606,37.19257531486802,0],[-4.930905411346882,37.19235504237904,0],[-4.930507898253393,37.192848111972744,0],[-4.9284274444230185,37.1954289459405,0],[-4.9292671189804205,37.195438797877344,0],[-4.9294094284355445,37.19541737689345,0],[-4.929503231782602,37.19539818370914,0],[-4.92962204892352,37.19536118816967,0],[-4.9298277766411776,37.19530863092701,0],[-4.930616763329619,37.195119671464404,0],[-4.931180716993169,37.194999443995606,0],[-4.931417046292403,37.19493205469235,0],[-4.931634256940565,37.19487019957934,0],[-4.932046551428443,37.19478939393636,0],[-4.932211358560607,37.19476228505878,0],[-4.932429750136115,37.1947249239947,0],[-4.932558479732682,37.19466586735526,0],[-4.932647346512751,37.19457663309082,0],[-4.932694159602385,37.194539191731636,0],[-4.932741767310853,37.19455499830751,0],[-4.932778241239849,37.194576213868174,0],[-4.932844356278376,37.19461974789197,0],[-4.932932658156256,37.194707167814286,0],[-4.933005537933805,37.19482179201391,0],[-4.93307460183712,37.19488817010225,0],[-4.933139325901064,37.194943623519926,0],[-4.933227980380831,37.19497858777096,0],[-4.9333158328565965,37.19499094311142,0],[-4.933440796475871,37.195000890026314,0],[-4.933487689741475,37.195037256899326,0],[-4.933501952598726,37.195075238017814,0],[-4.9335231010678635,37.19512698640841,0],[-4.933518420304293,37.195032879838216,0],[-4.933504146729151,37.19501116139009,0],[-4.933473472214279,37.19499190571363,0],[-4.933293902476617,37.19494434768741,0],[-4.9332052933055115,37.194912866407186,0],[-4.93322213749284,37.194850345791956,0]]]},properties:{Source:"SEVILLA",Source_1:"SP20_REC_41046",ID_RECINTO:31201461,CD_PROV:41,CD_MUN:46,CD_POL:10,CD_PARCELA:17,CD_RECINTO:3,CD_USO:"OV",NU_AREA:61884.47,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:11.0168,INCIDENCIA:"678",REGION:"1802",GC:"CP",VER:"SP20_1"}},{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-4.930905411346882,37.19235504237904,0],[-4.930902393966843,37.19235157664284,0],[-4.930899139899792,37.192347664044306,0],[-4.9306408683667575,37.19203517125197,0],[-4.930621995478466,37.19204611397394,0],[-4.930487784539941,37.19212427471411,0],[-4.930129555180959,37.192332715475544,0],[-4.930068603686677,37.1923723734991,0],[-4.929987815903328,37.19242496806915,0],[-4.9299443723015814,37.192453164976044,0],[-4.929879401529607,37.19248540783373,0],[-4.92982477500912,37.19251243495109,0],[-4.929670302266952,37.19255568503104,0],[-4.929303745914354,37.1926584494687,0],[-4.92805968386988,37.19285759892137,0],[-4.9278486402899535,37.19289140746067,0],[-4.9278126250509455,37.19289722109977,0],[-4.927594847471905,37.192932035684336,0],[-4.927577470575619,37.19293538283555,0],[-4.92688318195659,37.19381810585123,0],[-4.925629782696883,37.19541162746355,0],[-4.926923880284228,37.19541960852135,0],[-4.9284274444230185,37.1954289459405,0],[-4.930507898253393,37.192848111972744,0],[-4.930905411346882,37.19235504237904,0]]]},properties:{Source:"SEVILLA",Source_1:"SP20_REC_41046",ID_RECINTO:31201427,CD_PROV:41,CD_MUN:46,CD_POL:10,CD_PARCELA:2,CD_RECINTO:1,CD_USO:"OV",NU_AREA:79484.42,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:11.0178,INCIDENCIA:null,REGION:"1802",GC:"CP",VER:"SP20_1"}}]}},"Parcelas Abril":{type:"fill",url:"./parcela3.geojson",method:"GET",data:{type:"FeatureCollection",name:"Parcelas_abril2023",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25830"}},features:[{type:"Feature",properties:{Source:"Parcela 5",Source2:"SEVILLA",Source_1:"SP20_REC_41046",ID_RECINTO:31201427,CD_PROV:41,CD_MUN:46,CD_POL:10,CD_PARCELA:2,CD_RECINTO:1,CD_USO:"OV",NU_AREA:79484.42,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:11.0178,INCIDENCIA:null,REGION:"1802",GC:"CP",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[328620.564507414,4117957.31989475],[328656.96450916503,4118011.30889878],[328847.46352269704,4118293.90190213],[328980.901022339,4118290.15040919],[329095.749023402,4118286.92940922],[328980.899516867,4118112.38390386],[328917.279514971,4118015.6959044],[328915.729509567,4118015.35590566],[328896.320015382,4118011.88639785],[328893.110017549,4118011.30639967],[328874.300513502,4118007.9364042],[328763.422016814,4117988.08790545],[328730.65251109505,4117977.34839793],[328716.84301521105,4117972.82890379],[328711.933014896,4117969.92890349],[328706.09301577404,4117966.46890227],[328702.173016097,4117963.41889492],[328694.883010903,4117957.72939752],[328689.383007358,4117953.43939769],[328657.113505296,4117930.95990372],[328645.02350927703,4117922.53040212],[328643.323508167,4117921.35039977],[328621.10450939304,4117956.48989418],[328620.824508834,4117956.92989912],[328620.564507414,4117957.31989475]]]}},{type:"Feature",properties:{Source:"Parcela 6",Source2:"SEVILLA",Source_1:"SP20_REC_41041",ID_RECINTO:34384929,CD_PROV:41,CD_MUN:41,CD_POL:18,CD_PARCELA:1,CD_RECINTO:2,CD_USO:"OV",NU_AREA:94244.7,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:3.9186,INCIDENCIA:null,REGION:"1101",GC:"TCS",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[328111.591728218,4133850.4104629],[328112.03453236405,4133849.8688894],[328061.35536587605,4133792.57624041],[328007.193805776,4133735.13150624],[327912.35319851903,4133629.04395201],[327875.00480413,4133588.1845698],[327870.66949796904,4133592.50922061],[327672.718586462,4133800.43849607],[327920.513505285,4134011.00414067],[327920.002109692,4134011.35575247],[327922.62808531197,4134014.01019131],[327948.33185996,4133996.63549483],[327993.78126310505,4133966.05423626],[328040.42297102,4133933.15832096],[328051.504686698,4133921.09420268],[328084.048405952,4133880.69355918],[328106.492302249,4133853.75989044],[328109.85892649106,4133849.83198876],[328111.591728218,4133850.4104629]]]}},{type:"Feature",properties:{Source:"Parcela2",Source2:"SEVILLA",Source_1:"SP20_REC_41001",ID_RECINTO:35107074,CD_PROV:41,CD_MUN:1,CD_POL:3,CD_PARCELA:58,CD_RECINTO:2,CD_USO:"OV",NU_AREA:904030.81,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:3.3622,INCIDENCIA:"14",REGION:"1802",GC:"CP",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[325642.014495758,4123656.56841298],[325628.524533606,4123645.67895749],[325608.564990098,4123629.56946161],[325564.245056931,4123593.80039139],[325495.335511299,4123538.18194262],[325491.893804542,4123535.10097589],[325461.52501745604,4123512.40997566],[325430.716672845,4123489.10160529],[325414.29906744,4123474.71123584],[325391.598189685,4123457.28071729],[325367.280537102,4123436.21654174],[325342.110077322,4123433.3492946],[325284.262355175,4123434.16920315],[325222.881887895,4123434.57952378],[325196.828351415,4123434.78464411],[325185.126390763,4123437.65230399],[325175.435246758,4123443.60190154],[325176.854075976,4123447.04747771],[325166.69773447,4123448.99350169],[325164.085174063,4123457.18183987],[325164.895951559,4123464.88382549],[325164.085325925,4123471.77512036],[325160.234388867,4123476.84221275],[325156.78876716504,4123475.62618321],[325156.99133265397,4123468.12685776],[325152.937650502,4123468.12690253],[325152.734914061,4123464.27592215],[325155.77516295505,4123464.2758655],[325160.436918179,4123464.88384182],[325159.423394242,4123454.34429201],[325143.28695339,4123462.42476838],[325142.511275743,4123462.26535535],[325135.99865378597,4123464.50470202],[325135.99868112,4123464.98451141],[325138.569469955,4123468.18344421],[325118.517617412,4123475.70121597],[325119.54578667897,4123467.06402041],[325118.227951375,4123466.55645898],[325116.46085559303,4123466.74415788],[325115.946586463,4123460.82606367],[325121.94508873,4123459.70638189],[325127.086635338,4123460.98587505],[325128.457779109,4123464.50473505],[325142.16847325,4123458.74647607],[325139.999592405,4123456.66151946],[325140.30558220897,4123450.55690853],[325133.200294792,4123447.56762849],[325121.500484086,4123447.38783126],[325121.082433974,4123443.66024459],[325121.02041722904,4123443.10784245],[325120.970435541,4123442.697915],[325119.094437998,4123442.44233406],[325117.960470588,4123442.28792899],[325118.03344844806,4123441.47781821],[325118.720351935,4123433.84809651],[325113.200464049,4123432.99815326],[325108.069597538,4123437.03868791],[325107.407257253,4123437.03871707],[325102.549766652,4123435.1953359],[325101.88727098,4123429.05058471],[325100.13785634,4123427.59064716],[325096.286835865,4123428.40144055],[325091.67582720896,4123430.6816848],[325083.97382519,4123431.6951756],[325079.81887051,4123433.82337955],[325074.244959495,4123429.06039422],[325071.103189476,4123419.83829513],[325068.77225552,4123411.73097275],[325071.508457846,4123409.19735606],[325079.91995220806,4123416.2912809],[325079.51439875,4123402.91411521],[325084.378819403,4123402.00198848],[325087.317726868,4123401.79923423],[325087.72293588804,4123389.03014426],[325088.197340657,4123369.44631739],[325103.652780862,4123366.78345072],[325104.84940839105,4123362.78236143],[325159.371439222,4123362.3764418],[325157.62366557197,4123324.74453746],[325157.698278153,4123287.53533102],[325158.001912607,4123259.26089905],[325158.001368569,4123218.72406895],[325157.64631256304,4123191.00704075],[325157.133959163,4123135.73096108],[325158.709235344,4123103.19415527],[325159.334878201,4123089.83963908],[325157.467550923,4123087.76479687],[325133.015544584,4123078.25333863],[325095.512843807,4123063.44339261],[325085.958084239,4123056.27723658],[325082.613886976,4123048.39450423],[325079.747403175,4123043.61715569],[325070.670374942,4123037.88423525],[325079.269653856,4123016.8636467],[325088.16204677,4122995.86459543],[325007.96500038804,4122918.53842841],[324982.995564228,4122894.46895612],[324921.755563328,4122835.42088972],[324918.19555573503,4122831.99087526],[324916.315559638,4122830.18095715],[324794.39600342704,4122712.6243827],[324756.186039501,4122675.78542326],[324632.686226771,4122553.62615862],[324629.183888307,4122550.16183407],[324622.326498117,4122543.37888742],[324619.916527924,4122538.40940001],[324617.65653452504,4122533.74941726],[324614.686526069,4122541.79940426],[324614.036500131,4122542.75940844],[324609.707010809,4122549.18891037],[324586.268058345,4122597.6984551],[324581.238010993,4122608.2784386],[324574.72853429604,4122620.49841002],[324569.318566875,4122632.38791054],[324565.259019592,4122641.25788646],[324561.269068411,4122648.22787998],[324556.309037894,4122657.01795814],[324552.719505125,4122663.97791537],[324549.949568005,4122671.82744726],[324546.109528493,4122681.89737604],[324544.110049978,4122688.32745199],[324541.090009943,4122699.48745438],[324536.950031375,4122709.55695785],[324535.130565541,4122714.38694573],[324533.410510935,4122719.51687253],[324529.690554585,4122724.68691932],[324525.47053519404,4122729.95692563],[324523.631008296,4122733.88696407],[324520.641063144,4122740.43693103],[324472.873011033,4122849.47542677],[324451.384006384,4122894.47495615],[324297.751057141,4123216.22093409],[324243.903524891,4123338.96945799],[324231.634509393,4123371.43894669],[324227.84451486205,4123382.17895598],[324220.254997311,4123403.67844128],[324211.45554781304,4123421.11841656],[324209.33549461403,4123426.09845274],[324205.665527186,4123432.8379143],[324201.375546505,4123439.09788687],[324198.80605331296,4123442.88792423],[324198.696015365,4123443.1179044],[324195.725986957,4123449.20788193],[324192.256021315,4123455.93795177],[324169.507010514,4123506.38740957],[324170.931312966,4123507.4347834],[324171.822031459,4123507.98375817],[324173.16884348105,4123508.41062243],[324174.206994929,4123508.504341],[324175.66475289303,4123508.30884216],[324181.870025547,4123505.79055732],[324198.86118887196,4123499.5696515],[324214.41364093806,4123504.72760882],[324216.148411441,4123505.02856292],[324218.024014539,4123505.24989737],[324226.102820206,4123504.46180489],[324231.384033125,4123503.38357449],[324237.77976646,4123505.18206121],[324253.301648524,4123507.76893934],[324255.877908232,4123508.20329015],[324257.62983063,4123508.19080291],[324258.326053048,4123508.03973318],[324265.754552224,4123505.77633037],[324279.950944213,4123507.68564921],[324289.281762621,4123516.1232997],[324293.05417353497,4123524.31983534],[324288.709919722,4123537.86307574],[324287.79520381097,4123541.84035443],[324287.82731237,4123543.15037545],[324288.543996075,4123547.82547196],[324293.027131824,4123556.12734138],[324295.185773161,4123567.91607701],[324290.20465216803,4123570.24071511],[324266.129137188,4123577.71268404],[324247.53278951,4123578.37706232],[324235.06989344,4123577.58514365],[324225.240391056,4123576.12410941],[324206.245487862,4123575.19454168],[324186.98497043696,4123575.194775],[324174.233154413,4123575.72620377],[324157.363604608,4123573.99960831],[324146.93039616797,4123573.89475522],[324139.16303031,4123590.73438645],[324128.53949776804,4123613.76595371],[324126.7794918,4123616.62593607],[324108.930021436,4123645.59545969],[324104.310502822,4123656.37544444],[324101.98048757896,4123661.26538512],[324099.050543829,4123666.27545587],[324096.190534293,4123673.18492866],[324094.97052944603,4123678.33492561],[324092.21097342204,4123685.23494476],[324090.130982646,4123691.71496329],[324087.901009362,4123696.40491015],[324086.280982381,4123701.76491649],[324084.571509163,4123707.03440646],[324081.751552509,4123715.04439534],[324079.58152403,4123721.72439323],[324077.751514039,4123726.59437284],[324074.872003613,4123733.00443796],[324072.862040228,4123738.38443735],[324070.16203900904,4123744.28393747],[324067.691981521,4123750.78395625],[324064.632487665,4123757.79390679],[324062.662545985,4123761.47393862],[324059.79253417096,4123768.08394711],[324057.592515056,4123773.86392575],[324054.933022824,4123780.96395136],[324051.923011756,4123786.48345953],[324047.65301705804,4123793.04345282],[324042.563023594,4123799.32337019],[324031.613481296,4123809.73339341],[324044.773510959,4123805.15343691],[324053.03298893804,4123803.3534386],[324063.05302259,4123800.49344523],[324076.312490969,4123798.62290613],[324086.052543958,4123796.37293686],[324113.292017536,4123792.79289204],[324147.111478175,4123791.39240203],[324157.150996047,4123791.83243874],[324168.40097250504,4123792.43237825],[324180.931026852,4123792.48187356],[324192.91054810805,4123793.9619152],[324205.450536628,4123794.31195327],[324217.3799771,4123794.38143251],[324227.850003321,4123794.83142491],[324230.120003532,4123794.9314539],[324241.060019433,4123795.14143258],[324287.388984015,4123793.08088053],[324306.76851002703,4123791.29091374],[324336.02804471704,4123785.54040184],[324348.63804213103,4123782.39040946],[324357.277505137,4123780.08042545],[324367.707473678,4123777.40044993],[324379.387492524,4123773.48040404],[324395.587039401,4123769.39994499],[324405.626519339,4123767.13990143],[324420.15648695,4123764.31988439],[324428.78648020705,4123764.70990095],[324440.515987495,4123764.78992892],[324448.98602548096,4123763.4893768],[324512.24450136296,4123749.71941613],[324523.384526227,4123747.51894288],[324536.97403950704,4123743.42894346],[324551.124007015,4123738.31894882],[324565.3635406,4123732.89895017],[324577.91352696205,4123728.04890948],[324590.493026377,4123723.79895467],[324605.84248926403,4123718.6489165],[324621.112487798,4123714.19838702],[324635.771975544,4123709.26844612],[324648.93203473,4123704.48839217],[324660.04151293496,4123701.18842261],[324670.751547278,4123700.80839178],[324685.860999309,4123700.26791348],[324703.381017197,4123699.64790395],[324717.89053637,4123699.12792122],[324732.11053375097,4123698.61791687],[324743.019998279,4123698.22739426],[324773.479547295,4123694.20742202],[324796.769016541,4123693.57695804],[324809.769022345,4123693.22690417],[324818.258976648,4123692.99695515],[324825.688500205,4123693.8969086],[324841.518497096,4123695.06640115],[324852.958504926,4123696.35646156],[324870.608013014,4123697.88589124],[324888.60800279,4123697.89592089],[324918.20754605,4123701.01541636],[324930.936985858,4123702.35544596],[324972.48654711,4123703.73489223],[325003.69602606,4123707.49446234],[325019.255496131,4123709.57439112],[325026.885530256,4123710.66442652],[325043.125509069,4123715.7338975],[325050.545524403,4123716.43392525],[325062.354989827,4123716.6139225],[325077.04501922196,4123716.21342675],[325086.594493323,4123714.25341158],[325097.384537476,4123713.46342936],[325112.42402526,4123711.46338894],[325122.403995687,4123710.49344018],[325131.784029913,4123709.53293162],[325143.243492472,4123708.12289254],[325165.503501663,4123706.32293121],[325194.842516818,4123703.93244082],[325216.442516612,4123699.94237758],[325227.29201846797,4123697.9523843],[325234.941977491,4123696.04242004],[325241.58200501,4123690.16244613],[325248.521528396,4123684.27242803],[325254.751523283,4123681.302429],[325265.241005676,4123681.01195294],[325278.960984727,4123681.4419397],[325302.240519943,4123680.72190558],[325330.540027414,4123676.65141892],[325387.608985431,4123675.11094779],[325400.289018767,4123677.97088095],[325416.498510013,4123678.13037995],[325454.257997295,4123676.10996598],[325478.577502394,4123676.84993187],[325492.367550764,4123676.4799511],[325504.587014458,4123676.94941041],[325511.387004235,4123676.76943797],[325524.23701826297,4123674.71945295],[325544.996493113,4123673.05943938],[325576.346024301,4123670.90893558],[325593.935482315,4123670.63890457],[325608.565556994,4123667.45844939],[325611.835552987,4123666.74842958],[325621.91501262604,4123662.0784105],[325631.635044562,4123659.00846938],[325642.014495758,4123656.56841298]],[[324823.37725947297,4123438.10922116],[324809.85332125606,4123437.86753008],[324759.138457174,4123436.41692283],[324745.131522969,4123434.24111069],[324737.88652913,4123430.37293733],[324733.539530422,4123422.63659375],[324734.02255784604,4123381.77910955],[324740.301485129,4123375.00990545],[324782.805429199,4123375.2516082],[324826.758251448,4123375.97688524],[324825.309251319,4123432.54879241],[324823.37725947297,4123438.10922116]]]}},{type:"Feature",properties:{Source:"Parcela3",Source2:"SEVILLA",Source_1:"SP20_REC_41041",ID_RECINTO:30788693,CD_PROV:41,CD_MUN:41,CD_POL:8,CD_PARCELA:1,CD_RECINTO:1,CD_USO:"OV",NU_AREA:128340.95,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:3.1777,INCIDENCIA:"341",REGION:"1802",GC:"CP",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[337799.598362719,4131811.65366078],[337803.403489564,4131804.17891367],[337808.952988378,4131793.28941753],[337814.672493405,4131783.25941218],[337820.632484942,4131772.79941313],[337832.22149262903,4131750.49991672],[337845.550987263,4131724.8404109],[337848.790486253,4131718.6004144],[337856.450488634,4131703.58041093],[337839.539987705,4131686.61091179],[337782.10999267304,4131637.36291838],[337740.179989187,4131599.95392206],[337695.239494476,4131556.115416],[337643.698987231,4131499.01691511],[337604.34898935404,4131458.53791991],[337585.52898681303,4131443.50841748],[337569.72899433,4131430.71891851],[337543.418493412,4131396.97992109],[337520.838492986,4131370.10091601],[337511.06848809,4131361.21092571],[337489.57849281,4131346.71141846],[337432.918489189,4131309.54291766],[337432.418488514,4131310.50292337],[337426.528987993,4131316.53292162],[337417.84948595,4131335.4324185],[337413.03948659,4131348.25241874],[337401.02048905,4131382.18192658],[337378.65249159804,4131445.77092234],[337359.073992759,4131493.65991726],[337347.534486923,4131519.89942674],[337344.274486928,4131527.95941776],[337336.00549308,4131553.09892608],[337331.045996841,4131572.84841911],[337326.196496044,4131601.60791952],[337324.956988735,4131609.93792445],[337324.84789222304,4131616.2171507],[337322.114932356,4131631.55394637],[337319.36234785296,4131643.68022815],[337748.3182449,4131791.59930411],[337799.598362719,4131811.65366078]]]}},{type:"Feature",properties:{Source:"Parcela3",Source2:"SEVILLA",Source_1:"SP20_REC_41041",ID_RECINTO:30788695,CD_PROV:41,CD_MUN:41,CD_POL:8,CD_PARCELA:1,CD_RECINTO:2,CD_USO:"OV",NU_AREA:129325.77,PC_PASTOS:null,COEF_REG:57,PDTE_MEDIA:5.7702,INCIDENCIA:null,REGION:"1802",GC:"CP",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[337319.36234785296,4131643.68022815],[337316.04024322296,4131653.16158547],[337314.880492245,4131673.56984651],[337308.907414996,4131691.07825977],[337299.638847095,4131718.26779578],[337284.499639867,4131737.73312009],[337278.747417976,4131757.1377096],[337269.741169898,4131777.07055118],[337265.60198223405,4131789.69192483],[337264.366395555,4131803.49263853],[337265.312673409,4131823.72799285],[337260.041794727,4131849.63234018],[337256.231329905,4131858.38655582],[337256.101701822,4131864.48601902],[337260.704489942,4131905.00291987],[337673.870996656,4132051.32541606],[337770.6049902,4131865.12841559],[337775.984992398,4131858.31841796],[337779.38499053,4131852.58841904],[337786.36449488596,4131836.6584203],[337789.053986119,4131832.35841975],[337793.883987977,4131822.87891229],[337799.598362719,4131811.65366078],[337748.3182449,4131791.59930411],[337319.36234785296,4131643.68022815]]]}},{type:"Feature",properties:{Source:"Secano1",Source2:"SEVILLA",Source_1:"SP20_REC_41046",ID_RECINTO:31201461,CD_PROV:41,CD_MUN:46,CD_POL:10,CD_PARCELA:17,CD_RECINTO:3,CD_USO:"OV",NU_AREA:61884.47,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:11.0168,INCIDENCIA:"678",REGION:"1802",GC:"CP",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[328420.569293917,4118238.3773462],[328422.20596978604,4118245.28375384],[328414.412106155,4118248.93722218],[328398.580802471,4118254.53924506],[328395.901671222,4118256.73130647],[328394.683898693,4118259.16691298],[328394.481520271,4118269.61689879],[328396.24152061297,4118263.83689418],[328397.421516852,4118259.5968979],[328401.501511878,4118255.47690104],[328412.57101849304,4118254.14689602],[328420.34101274604,4118252.61689694],[328428.131011533,4118248.57690224],[328433.75051725,4118242.30689845],[328439.73051425896,4118234.81690278],[328445.940013529,4118221.96690005],[328453.58001687704,4118212.10740017],[328459.35001312103,4118207.15740144],[328462.53951129405,4118204.73740311],[328466.72951719,4118202.89739466],[328470.969511264,4118206.96690077],[328479.05951244896,4118216.70689839],[328490.61951671797,4118223.0264027],[328510.08901235,4118226.77639501],[328524.779013942,4118229.48590271],[328561.55801133,4118237.70539578],[328580.97801492905,4118244.17540029],[328602.10751337506,4118251.22489774],[328652.437016494,4118263.54440504],[328722.896017436,4118283.08340666],[328741.275519508,4118288.54289936],[328751.905516049,4118292.43290598],[328760.27501423,4118294.39289905],[328772.955016048,4118296.51240699],[328847.46352269704,4118293.90190213],[328656.96450916503,4118011.30889878],[328620.564507414,4117957.31989475],[328604.385006517,4117982.09990372],[328587.055514833,4118003.70940025],[328582.325516038,4118011.30940177],[328580.975512058,4118013.4793965],[328562.34650703304,4118043.40889803],[328549.136509411,4118060.82889844],[328528.837515413,4118087.81839852],[328512.22801004705,4118114.31840104],[328502.53801531804,4118128.35839685],[328488.768516171,4118147.58790055],[328470.049514686,4118173.6379017],[328468.719517707,4118175.53790101],[328460.249511594,4118187.62739945],[328449.10001212603,4118203.53739634],[328441.820010278,4118220.19690193],[328436.350514231,4118228.70689447],[328431.070519257,4118231.66690372],[328425.420513074,4118234.83690287],[328420.569293917,4118238.3773462]]]}},{type:"Feature",properties:{Source:"Secano1",Source2:"SEVILLA",Source_1:"SP20_REC_41046",ID_RECINTO:31201427,CD_PROV:41,CD_MUN:46,CD_POL:10,CD_PARCELA:2,CD_RECINTO:1,CD_USO:"OV",NU_AREA:79484.42,PC_PASTOS:null,COEF_REG:0,PDTE_MEDIA:11.0178,INCIDENCIA:null,REGION:"1802",GC:"CP",VER:"SP20_1"},geometry:{type:"Polygon",coordinates:[[[328620.564507414,4117957.31989475],[328656.96450916503,4118011.30889878],[328847.46352269704,4118293.90190213],[328980.901022339,4118290.15040919],[329095.749023402,4118286.92940922],[328980.899516867,4118112.38390386],[328917.279514971,4118015.6959044],[328915.729509567,4118015.35590566],[328896.320015382,4118011.88639785],[328893.110017549,4118011.30639967],[328874.300513502,4118007.9364042],[328763.422016814,4117988.08790545],[328730.65251109505,4117977.34839793],[328716.84301521105,4117972.82890379],[328711.933014896,4117969.92890349],[328706.09301577404,4117966.46890227],[328702.173016097,4117963.41889492],[328694.883010903,4117957.72939752],[328689.383007358,4117953.43939769],[328657.113505296,4117930.95990372],[328645.02350927703,4117922.53040212],[328643.323508167,4117921.35039977],[328621.10450939304,4117956.48989418],[328620.824508834,4117956.92989912],[328620.564507414,4117957.31989475]]]}}]}}},Pe=(a(406),a(819)),Ie=Object(O.a)({palette:{primary:{main:Le.a.A200}}}),De={root:{position:"fixed",top:74,right:10,width:300,borderRadius:4,margin:0,zIndex:900},header:{backgroundColor:"#f1f1f1"},closeBtn:{position:"absolute",top:6,right:8,fontSize:22},content:{paddingBottom:16},select:{width:"100%"},placeholder:{height:28,lineHeight:"28px",cursor:"pointer"},chipContainer:{display:"flex",overflow:"hidden"},chip:{height:28,lineHeight:"28px",marginRight:5},layerList:{marginTop:6,paddingBottom:0},layerItem:{paddingLeft:2},sortAction:{right:12}},xe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,selected:[],resolution:7,zoom:0,layerForm:"Border"},a.handleCloseClick=function(){a.setState({open:!1})},a.handleDatasetChange=function(){var e=Object(G.a)(U.a.mark(function e(t){var n,o,r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,a.state.selected.map(function(e){return-1===t.target.value.indexOf(e)&&(y.emit("removeDataset",e),n=!0),!0}),n||!t.target.value.length){e.next=16;break}if(o=t.target.value[t.target.value.length-1],!(a.state.zoom>14.92)){e.next=16;break}return e.prev=5,e.next=8,X.a.get("http://localhost:9000/api/v1/crops");case 8:r=e.sent,console.log(r.data),y.emit("displayDataset",o,"heatmap",r.data,"#CC1E33",a.state.resolution,a.state.layerForm),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("Error reading GeoJSON file:",e.t0);case 16:a.setState({selected:t.target.value.reverse()});case 17:case"end":return e.stop()}},e,null,[[5,13]])}));return function(t){return e.apply(this,arguments)}}(),a.handleLayerListUpdate=function(e){for(var t=a.state.selected,n=t.splice(e.oldIndex,1),o=t.push(0)-1;o>e.newIndex;o--)t[o]=t[o-1];t[e.newIndex]=n[0],y.emit("moveLayer",t[e.newIndex],e.newIndex>0?t[e.newIndex-1]:null),a.setState({selected:a.state.selected})},a.handleResolutionChange=function(e,t){a.setState({resolution:t})},a.handleLayerFormBor=function(){a.setState({layerForm:"Border"})},a.handleLayerFormHex=function(){a.setState({layerForm:"Hexagonal"})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.openLayerControllerListener=y.addListener("openLayerController",function(){e.setState({open:!0})}),this.closeAllControllerListener=y.addListener("closeAllController",function(){e.setState({open:!1})}),this.setMapZoomListener=y.addListener("setMapZoom",function(t){e.setState({zoom:t})})}},{key:"componentDidUpdate",value:function(){document.getElementById("layers")&&pe.a.create(document.getElementById("layers"),{group:"layers",handle:".handle",animation:200,onUpdate:this.handleLayerListUpdate})}},{key:"componentWillUnmount",value:function(){y.removeListener(this.openLayerControllerListener),y.removeListener(this.closeAllControllerListener),y.removeListener(this.setMapZoomListener)}},{key:"render",value:function(){var e=this;return o.a.createElement(P.a,{theme:Ie},o.a.createElement(H.a,{direction:"left",in:this.state.open},o.a.createElement(re.a,{style:De.root},o.a.createElement(ie.a,{style:De.header},o.a.createElement(q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Layers"),o.a.createElement(q.a,{variant:"body2",color:"textSecondary"},"Download and display layers"),o.a.createElement(k.a,{title:"Hexagons","aria-label":"Hexagons",enterDelay:200},o.a.createElement(w.a,{"aria-label":"Hexagons",onClick:this.handleLayerFormHex},o.a.createElement(L.a,{fontSize:"inherit"},"crop"))),o.a.createElement(k.a,{title:"Border","aria-label":"Border",enterDelay:200,onClick:this.handleLayerFormBor},o.a.createElement(w.a,{"aria-label":"Border"},o.a.createElement(L.a,{fontSize:"inherit"},"border_style"))),o.a.createElement(w.a,{style:De.closeBtn,"aria-label":"Close",onClick:this.handleCloseClick},o.a.createElement(L.a,{fontSize:"inherit"},"chevron_right"))),"Hexagonal"===this.state.layerForm?o.a.createElement(ie.a,{style:this.state.selected.length?De.content:null},o.a.createElement(he.a,{style:De.select},o.a.createElement(ge.a,{shrink:!0,htmlFor:"resolution-label"},"Resolution"),"\xa0\xa0\xa0",o.a.createElement(Pe.a,{value:this.state.resolution,min:1,max:15,step:1,onChange:this.handleResolutionChange}),o.a.createElement(ye.a,{multiple:!0,displayEmpty:!0,value:this.state.selected,onChange:this.handleDatasetChange,input:o.a.createElement(Ce.a,{id:"dataset-label"}),renderValue:function(e){return e.length?o.a.createElement("div",{style:De.chipContainer},e.map(function(e){return o.a.createElement(fe.a,{key:e,style:De.chip,label:e})})):o.a.createElement(ge.a,{style:De.placeholder},"Choose layers")}},Object.keys(Oe).map(function(t){return o.a.createElement(Ee.a,{key:t,value:t},o.a.createElement(Y.a,{checked:e.state.selected.indexOf(t)>-1,color:"primary"}),o.a.createElement(ve.a,{primary:t}))}))),this.state.selected.length?o.a.createElement(be.a,{id:"layers",style:De.layerList},this.state.selected.map(function(e){return o.a.createElement(_e.a,{style:De.layerItem,key:e},o.a.createElement(Se.a,null,o.a.createElement(ke.a,null,o.a.createElement(L.a,{color:"action"},"layers"))),o.a.createElement(ve.a,{primary:e}),o.a.createElement(we.a,{style:De.sortAction},o.a.createElement(w.a,{className:"handle",edge:"end","aria-label":"Sort",disableRipple:!0,disableFocusRipple:!0},o.a.createElement(L.a,null,"menu"))))})):null):o.a.createElement(ie.a,{style:this.state.selected.length?De.content:null},o.a.createElement(he.a,{style:De.select},o.a.createElement(ye.a,{multiple:!0,displayEmpty:!0,value:this.state.selected,onChange:this.handleDatasetChange,input:o.a.createElement(Ce.a,{id:"dataset-label"}),renderValue:function(e){return e.length?o.a.createElement("div",{style:De.chipContainer},e.map(function(e){return o.a.createElement(fe.a,{key:e,style:De.chip,label:e})})):o.a.createElement(ge.a,{style:De.placeholder},"Choose layers")}},Object.keys(Oe).map(function(t){return o.a.createElement(Ee.a,{key:t,value:t},o.a.createElement(Y.a,{checked:e.state.selected.indexOf(t)>-1,color:"primary"}),o.a.createElement(ve.a,{primary:t}))}))),this.state.selected.length?o.a.createElement(be.a,{id:"layers",style:De.layerList},this.state.selected.map(function(e){return o.a.createElement(_e.a,{style:De.layerItem,key:e},o.a.createElement(Se.a,null,o.a.createElement(ke.a,null,o.a.createElement(L.a,{color:"action"},"layers"))),o.a.createElement(ve.a,{primary:e}),o.a.createElement(we.a,{style:De.sortAction},o.a.createElement(w.a,{className:"handle",edge:"end","aria-label":"Sort",disableRipple:!0,disableFocusRipple:!0},o.a.createElement(L.a,null,"menu"))))})):null))))}}]),t}(o.a.Component),Re=a(6),Ae=a(461),Ne=a(25),Te=a(371),je=a.n(Te),Me=a(733),Be=a(828),Fe=a(825),Ue=a(253),Ge=a(501),ze=function(e){var t="GET"===e.method&&e.params?function(e,t){if(t){var a=[];return Object.keys(t).map(function(e){return a.push(e+"="+t[e]),!0}),e+"?"+a.join("&")}}(e.url,e.params):e.url;e.successCallback=e.successCallback||function(){},e.finallyCallback=e.finallyCallback||function(){},e.errorCallback=e.errorCallback||function(e){return y.emit("showSnackbar","error",e.toString())},e.failedCallback=e.failedCallback||function(e){e.authError&&(y.emit("login"),y.emit("setLoginState",!1)),y.emit("showSnackbar","error",e.errMsg)},fetch(t,{method:e.method,body:"POST"===e.method?JSON.stringify(e.params):void 0,credentials:e.credentials||"include"}).then(function(e){return e.json()}).then(function(t){return t.hasOwnProperty("success")&&!t.success?e.failedCallback(t):e.successCallback(t)}).finally(e.finallyCallback).catch(e.errorCallback)},Ve=function(e){for(var t in e)return!1;return!0},We="pk.eyJ1IjoiZ29vbGhhbnJyeSIsImEiOiJjanYxYWJtajgxOHphM3lteHh5dGNlcGdiIn0.ZL8sPakwzM68TeVwf2ntpA",He="http://localhost:9000/api/v1",qe={login:{url:"".concat(He,"/users"),method:"POST"},logout:{url:"".concat(He,"/logout"),method:"POST"},getDataset:{url:"".concat(He,"/getDataset"),method:"GET"},search:{url:"".concat(He,"/search"),method:"GET"},insert:{url:"".concat(He,"/insert"),method:"POST"},update:{url:"".concat(He,"/update"),method:"POST"},delete:{url:"".concat(He,"/delete"),method:"POST"}},Ze=(a(627),Object(O.a)({palette:{primary:{main:Q.a.A200}}})),Je={root:{position:"fixed",top:74,right:10,borderRadius:4,minWidth:350,margin:0,zIndex:900},header:{backgroundColor:"#f1f1f1"},closeBtn:{position:"absolute",top:6,right:8,fontSize:22},searchField:{display:"flex",alignItems:"center",width:"100%",height:40,padding:"2px 4px"},searchBox:{marginLeft:8,flex:1,border:"none !important"},searchBoxBtn:{padding:8},searchOptionsContainer:{padding:"5px 2px"},searchOption:{color:"rgba(0, 0, 0, 0.6)",cursor:"pointer"},searchBoxProgress:{marginRight:8},searchBoxDivider:{width:1,height:28,margin:4},resultWrapperOpen:{maxWidth:800},resultWrapperClosed:{maxWidth:350},resultContainer:{paddingTop:0,paddingBottom:0},resultTable:{boxShadow:"none"},uploadBoxInput:{display:"none"},uploadBoxBtnEdit:{width:40,height:40,lineHeight:"40px",textAlign:"center",borderRadius:"50%",fontSize:22},wrapBtn:{position:"absolute",bottom:12,left:18,padding:10,fontSize:24},addPointWrapperOpen:{maxWidth:350},addPointWrapperClose:{width:0},uploadBoxBtnAdd:{width:90,height:90,lineHeight:"90px",textAlign:"center",borderRadius:"50%",fontSize:30,backgroundColor:"rgba(0, 0, 0, 0.08)"},previewImageContainer:{display:"flex",alignItems:"center"},nameTextField:{margin:"0 20px 0 13px"},pinyinTextField:{margin:"10px 20px 10px 13px"},introTextField:{width:"100%",marginTop:5},locationImageContainer:{display:"flex",flexDirection:"column",alignItems:"center"},locationImage:{display:"block",marginTop:5,width:225,height:140,borderRadius:3,cursor:"pointer"},locationLabel:{display:"block",marginTop:6},actions:{paddingTop:10},saveBtn:{display:"inline-block",position:"relative",marginRight:10},saveBtnProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}},Ye=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,resultUnwrap:!1,addPointUnwrap:!1,optionsOpen:!1,searching:!1,submitting:!1,anchorEl:null,geometry:null,previewImage:null,previewMapUrl:null,previewCoordinate:{},data:[],searchOptions:[{value:"gid",label:"Gid",checked:!0},{value:"name",label:"Name",checked:!0},{value:"pinyin",label:"Pinyin",checked:!0},{value:"introduction",label:"Introduction",checked:!1}]},a.initMaterialbox=function(){var e=document.querySelectorAll(".materialboxed");v.a.Materialbox.init(e,{onOpenStart:function(e){e.parentNode.style.overflow="visible"},onCloseEnd:function(e){e.parentNode.style.overflow="hidden"}})},a.resetPreviewImage=function(){a.setState({previewImage:null})},a.resetNewPointData=function(){a.setState({previewMapUrl:null,geometry:null,previewCoordinate:{}})},a.handleCloseClick=function(){a.setState({open:!1})},a.handleAddClick=function(){y.emit("getPoint"),a.handleWrapClick(),a.resetPreviewImage(),a.resetNewPointData(),a.setState({addPointUnwrap:!1})},a.handleWrapClick=function(){y.emit("removeTempLayer"),a.resetPreviewImage(),document.getElementById("search-box").value="",a.setState({resultUnwrap:!1})},a.handleImageChange=function(e){e.target.files[0]&&(e.target.files[0].size>1048576?y.emit("showSnackbar","error","Error: Image must be smaller than 1MB."):a.state.reader.readAsDataURL(e.target.files[0]))},a.handleDoneEdit=function(){a.resetPreviewImage(),setTimeout(a.initMaterialbox,800)},a.handleSearchOptionsClick=function(){a.setState({optionsOpen:!0})},a.handleSearchOptionsClose=function(){a.setState({optionsOpen:!1})},a.handleSearchOptionChange=function(e){var t=null,n=!1;if(a.state.searchOptions.map(function(a){return a.value===e.currentTarget.value&&(a.checked=e.currentTarget.checked,t=a),n=n||a.checked,!0}),!n)return y.emit("showSnackbar","error","Error: Please select at least one option."),void(t.checked=!0);a.setState({searchOptions:a.state.searchOptions})},a.handleSearchClick=function(){a.handleCancelClick();var e=document.getElementById("search-box").value;if(e){a.setState({searching:!0});var t={};a.state.searchOptions.map(function(e){return t[e.value]=e.checked,!0}),ze({url:qe.search.url,method:qe.search.method,params:{keyword:e,options:JSON.stringify(t)},successCallback:function(e){a.setState({addPointWrapperClose:!1,resultUnwrap:!0,data:e.data},a.initMaterialbox)},finallyCallback:function(){a.setState({searching:!1})}})}},a.handlePreviewClick=function(e,t){y.emit("displayTempLayer",t)},a.handlePreviewMapClick=function(){y.emit("getPoint"),a.setState({addPointUnwrap:!1})},a.handleSubmitClick=function(){y.emit("removeTempPoint"),a.setState({submitting:!0});var e={name:document.getElementById("name").value,pinyin:document.getElementById("pinyin").value,introduction:document.getElementById("introduction").value,image:a.state.previewImage?a.state.previewImage:{},geometry:a.state.geometry};ze({url:qe.insert.url,method:qe.insert.method,params:e,successCallback:function(e){y.emit("showSnackbar","success","Insert new object with Gid = '".concat(e.gid,"' successfully.")),a.handleCancelClick()},finallyCallback:function(){a.setState({searching:!1,submitting:!1})}})},a.handleCancelClick=function(){y.emit("removeTempPoint"),document.getElementById("name").value="",document.getElementById("pinyin").value="",document.getElementById("introduction").value="",a.resetPreviewImage(),a.resetNewPointData(),a.setState({addPointUnwrap:!1})},a.handleRowUpdate=function(e,t){return new Promise(function(n){t.gid!==e.gid&&y.emit("showSnackbar","error","Column 'Gid' is readonly.");var o={gid:t.gid};a.state.previewImage?e.image=a.state.previewImage:e.image={},Object.keys(e).map(function(a){return"geometry"!==a&&e[a]!==t[a]&&(o[a]=e[a]),!0}),Ve(o)?y.emit("showSnackbar","default","Nothing to update."):ze({url:qe.update.url,method:qe.update.method,params:o,successCallback:function(n){var o="Update ".concat(n.count," ").concat(n.count>1?"objects":"object"," successfully.");y.emit("showSnackbar","success",o);var r=a.state.data;r[r.indexOf(t)]=e,a.setState({data:r})},finallyCallback:function(){n(),a.handleDoneEdit()}})})},a.handleRowDelete=function(e){return new Promise(function(t){ze({url:qe.delete.url,method:qe.delete.method,params:{gid:e.gid},successCallback:function(t){var n="Delete ".concat(t.count," ").concat(t.count>1?"objects":"object"," successfully.");y.emit("showSnackbar","success",n);var o=Object(Ne.a)(a.state.data);o.splice(o.indexOf(e),1),a.setState(Object(Ae.a)({},a.state,{data:o}))},finallyCallback:function(){t(),y.emit("removeTempLayer"),a.handleDoneEdit()}})})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("anchorEl"),a=new FileReader;a.onload=function(t){var a=new Image;a.src=t.target.result;var n={longitude:a.height>a.width,src:t.target.result};e.setState({previewImage:n})},this.setState({reader:a,anchorEl:t}),this.openDataControllerListener=y.addListener("openDataController",function(){e.setState({open:!0})}),this.closeAllControllerListener=y.addListener("closeAllController",function(){e.setState({open:!1})}),this.updatePointListener=y.addListener("setPoint",function(t,a,n){var o=Object(Re.a)(t.geometry.coordinates,2),r=o[0],i=o[1],l="https://api.mapbox.com/styles/v1/".concat(a,"/static/pin-s+f00(").concat(r,",").concat(i,")/").concat(r,",").concat(i,",").concat(n,",0,1/250x155@2x?access_token=").concat(We);e.setState({addPointUnwrap:!0,previewMapUrl:l,geometry:t,previewCoordinate:{lng:parseFloat(r).toFixed(3),lat:parseFloat(i).toFixed(3)}})})}},{key:"componentWillUnmount",value:function(){y.removeListener(this.openDataControllerListener),y.removeListener(this.closeAllControllerListener),y.removeListener(this.addPointListener),y.removeListener(this.updatePointListener),document.querySelectorAll(".materialboxed").map(function(e){return e.destory()})}},{key:"render",value:function(){var e=this;return o.a.createElement(P.a,{theme:Ze},o.a.createElement(H.a,{direction:"left",in:this.state.open},o.a.createElement(re.a,{style:Je.root},o.a.createElement(ie.a,{style:Je.header},o.a.createElement(q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Spatial Data"),o.a.createElement(q.a,{variant:"body2",color:"textSecondary"},"Search and configure spatial data"),o.a.createElement(w.a,{style:Je.closeBtn,"aria-label":"Close",onClick:this.handleCloseClick},o.a.createElement(L.a,{fontSize:"inherit"},"chevron_right"))),o.a.createElement(ie.a,null,o.a.createElement(Ue.a,{id:"anchorEl",style:Je.searchField},o.a.createElement(w.a,{style:Je.searchBoxBtn,"aria-label":"Menu",onClick:this.handleSearchOptionsClick},o.a.createElement(L.a,null,"menu")),o.a.createElement(Me.a,{open:this.state.optionsOpen,anchorEl:this.state.anchorEl,onClose:this.handleSearchOptionsClose,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},o.a.createElement(he.a,{style:Je.searchOptionsContainer},this.state.searchOptions.map(function(t){return o.a.createElement(J.a,{style:Je.searchOption,key:t.value,checked:t.checked,value:t.value,control:o.a.createElement(Y.a,{color:"primary"}),label:t.label,onChange:e.handleSearchOptionChange})}))),o.a.createElement(Ge.a,{id:"search-box",style:Je.searchBox,placeholder:"Search Data..."}),this.state.searching?o.a.createElement($.a,{style:Je.searchBoxProgress,size:18}):o.a.createElement(w.a,{style:Je.searchBoxBtn,"aria-label":"Search",onClick:this.handleSearchClick},o.a.createElement(L.a,null,"search")),o.a.createElement(Be.a,{style:Je.searchBoxDivider}),o.a.createElement(w.a,{style:Je.searchBoxBtn,color:"primary","aria-label":"Add",onClick:this.handleAddClick},o.a.createElement(L.a,null,"add_circle")))),o.a.createElement(Fe.a,{style:this.state.resultUnwrap?Je.resultWrapperOpen:Je.resultWrapperClosed,className:"wrapper",in:this.state.resultUnwrap},o.a.createElement(Be.a,{variant:"middle"}),o.a.createElement(ie.a,{style:Je.resultContainer},o.a.createElement(je.a,{style:Je.resultTable,data:this.state.data,columns:[{title:"Gid",field:"gid",editable:"never"},{title:"Name",field:"name"},{title:"Pinyin",field:"pinyin"},{title:"Introduction",field:"introduction"},{title:"Image",field:"image",render:function(e){return e.image&&e.image.src&&o.a.createElement("div",{className:"preview-image-container"},o.a.createElement("img",{id:e.gid,className:(e.image.longitude?"longitude-image":"latitude-image")+" materialboxed",src:e.image.src,alt:""}))}}],options:{actionsColumnIndex:-1,pageSize:7,pageSizeOptions:[3,5,7,9]},actions:[{icon:function(){return o.a.createElement(L.a,{color:"action",fontSize:"small"},"my_location")},tooltip:"Diaplay on map",onClick:this.handlePreviewClick}],icons:{Edit:function(){return o.a.createElement(L.a,{color:"action",fontSize:"small"},"edit")},Delete:function(){return o.a.createElement(L.a,{color:"action",fontSize:"small"},"delete")},Check:function(){return o.a.createElement(L.a,{color:"action",fontSize:"small"},"check")},Clear:function(){return o.a.createElement(L.a,{color:"action",fontSize:"small",onClick:e.handleDoneEdit},"clear")}},components:{Toolbar:function(){return null},EditField:function(t){return"image"===t.columnDef.field?o.a.createElement("label",{className:"preview-image-container-edit"},o.a.createElement("input",{style:Je.uploadBoxInput,type:"file",accept:"image/*",onChange:e.handleImageChange}),o.a.createElement(k.a,{title:"Choose Image","aria-label":"Choose Image"},e.state.previewImage||t.rowData.image&&t.rowData.image.src?o.a.createElement("img",{className:e.state.previewImage&&e.state.previewImage.longitude||!e.state.previewImage&&t.rowData.image.longitude?"longitude-image":"latitude-image",src:e.state.previewImage?e.state.previewImage.src:t.rowData.image.src,alt:""}):o.a.createElement(L.a,{className:"upload-box-btn waves-effect",style:Je.uploadBoxBtnEdit},"create_new_folder"))):o.a.createElement(Te.MTableEditField,t)}},editable:{onRowUpdate:this.handleRowUpdate,onRowDelete:this.handleRowDelete}})),o.a.createElement(k.a,{title:"Wrap","aria-label":"Wrap"},o.a.createElement(w.a,{className:this.state.resultUnwrap?null:"hidden",style:Je.wrapBtn,"aria-label":"Wrap",onClick:this.handleWrapClick},o.a.createElement(L.a,{fontSize:"inherit"},"keyboard_arrow_up")))),o.a.createElement(Fe.a,{style:this.state.addPointUnwrap?Je.addPointWrapperOpen:Je.addPointWrapperClose,className:"wrapper",in:this.state.addPointUnwrap},o.a.createElement(Be.a,{variant:"middle"}),o.a.createElement(ie.a,null,o.a.createElement(le.a,{container:!0,spacing:3},o.a.createElement(le.a,{item:!0,xs:7},o.a.createElement(he.a,null,o.a.createElement(Z.a,{id:"name",style:Je.nameTextField,label:"Name"}),o.a.createElement(Z.a,{id:"pinyin",style:Je.pinyinTextField,label:"Pinyin"}))),o.a.createElement(le.a,{style:Je.previewImageContainer,item:!0,xs:5},o.a.createElement("label",{className:"preview-image-container-add"},o.a.createElement("input",{style:Je.uploadBoxInput,type:"file",accept:"image/*",onChange:this.handleImageChange}),o.a.createElement(k.a,{title:"Choose Image","aria-label":"Choose Image"},this.state.previewImage?o.a.createElement("img",{className:this.state.previewImage.longitude?"longitude-image":"latitude-image",src:this.state.previewImage.src,alt:""}):o.a.createElement(L.a,{className:"waves-effect",style:Je.uploadBoxBtnAdd},"create_new_folder")))),o.a.createElement(le.a,{item:!0,xs:12},o.a.createElement(Z.a,{id:"introduction",style:Je.introTextField,label:"Introduction",variant:"outlined",multiline:!0,rows:3,rowsMax:5})),o.a.createElement(le.a,{style:Je.locationImageContainer,item:!0,xs:12},o.a.createElement(k.a,{title:"Change Location","aria-label":"Change Location"},o.a.createElement("img",{style:Je.locationImage,className:"waves-effct",src:this.state.previewMapUrl,alt:"",onClick:this.handlePreviewMapClick})),o.a.createElement("label",{style:Je.locationLabel},"Lng: ",this.state.previewCoordinate.lng,"\xa0\xa0Lat: ",this.state.previewCoordinate.lat)))),o.a.createElement(ie.a,{style:Je.actions},o.a.createElement("div",{style:Je.saveBtn},o.a.createElement(g.a,{variant:"contained",color:"primary",disabled:this.state.submitting,onClick:this.handleSubmitClick},"SUBMIT"),this.state.submitting&&o.a.createElement($.a,{style:Je.saveBtnProgress,size:24})),o.a.createElement(g.a,{color:"primary",onClick:this.handleCancelClick},"CANCEL"))))))}}]),t}(o.a.Component),$e=a(127),Ke=a.n($e),Qe=a(470),Xe=a.n(Qe),et=a(471),tt=a.n(et),at=a(472),nt=a.n(at);a(699);function ot(e){Object.assign(this.options,e),this._ticking=!1,this._lastMouseMoveEvent=null,this._parentMap=null,this._isDragging=!1,this._isCursorOverFeature=!1,this._previousPoint=[0,0],this._currentPoint=[0,0],this._trackingRectCoordinates=[[[],[],[],[],[]]]}ot.prototype=Object.assign({},Ke.a.NavigationControl.prototype,{options:{style:se.Streets,center:[0,0]},onAdd:function(e){return this._container=this._createContainer(e),this._parentMap=e,this._miniMap=new Ke.a.Map({attributionControl:!1,container:this._container,style:this.options.style,center:this.options.center,zoom:0}),this._miniMap.on("load",this._load.bind(this)),this._container},_createContainer:function(e){var t=document.createElement("div");return t.id="minimap",t.className="mapboxgl-ctrl mapboxgl-ctrl-minimap",t.addEventListener("contextmenu",this._preventDefault),e.getContainer().appendChild(t),t},_preventDefault:function(e){e.preventDefault()},_load:function(){var e=this;this._zoomAdjust(),["dragPan","boxZoom","dragRotate","keyboard","doubleClickZoom","touchZoomRotate"].map(function(t){return e._miniMap[t].disable(),!0});var t=this._miniMap.getBounds();this._convertBoundsToPoints(t),this._miniMap.addSource("trackingRect",{type:"geojson",data:{type:"Feature",properties:{name:"trackingRect"},geometry:{type:"Polygon",coordinates:this._trackingRectCoordinates}}}),this._miniMap.addLayer({id:"trackingRectOutline",type:"line",source:"trackingRect",layout:{},paint:{"line-color":"#08F","line-width":1,"line-opacity":1}}),this._miniMap.addLayer({id:"trackingRectFill",type:"fill",source:"trackingRect",layout:{},paint:{"fill-color":"#08F","fill-opacity":.25}}),this._trackingRect=this._miniMap.getSource("trackingRect"),this._parentMap.on("move",this._update.bind(this)),this._parentMap.on("zoom",this._zoomAdjust.bind(this)),this._miniMap.on("mousemove",this._mouseMove.bind(this)),this._miniMap.on("mousedown",this._mouseDown.bind(this)),this._miniMap.on("mouseup",this._mouseUp.bind(this)),this._miniMap.on("touchmove",this._mouseMove.bind(this)),this._miniMap.on("touchstart",this._mouseDown.bind(this)),this._miniMap.on("touchend",this._mouseUp.bind(this)),this._miniMapCanvas=this._miniMap.getCanvasContainer(),this._miniMapCanvas.addEventListener("wheel",this._preventDefault),this._miniMapCanvas.addEventListener("mousewheel",this._preventDefault),this._update()},_mouseDown:function(e){this._isCursorOverFeature&&(this._isDragging=!0,this._previousPoint=this._currentPoint,this._currentPoint=[e.lngLat.lng,e.lngLat.lat])},_mouseUp:function(){this._isDragging=!1,this._ticking=!1},_mouseMove:function(e){this._ticking=!1;var t=this._miniMap.queryRenderedFeatures(e.point,{layers:["trackingRectFill"]});if((!this._isCursorOverFeature||t.length<=0)&&(this._isCursorOverFeature=t.length>0,this._miniMapCanvas.style.cursor=this._isCursorOverFeature?"move":""),this._isDragging){this._previousPoint=this._currentPoint,this._currentPoint=[e.lngLat.lng,e.lngLat.lat];var a=[this._currentPoint[0]-this._previousPoint[0],this._currentPoint[1]-this._previousPoint[1]],n=this._moveTrackingRect(a);this._parentMap.fitBounds(n,{duration:80,noMoveStart:!0})}},_moveTrackingRect:function(e){var t=this._trackingRect._data.properties.bounds;return t._ne.lng+=e[0],t._ne.lat+=e[1],t._sw.lng+=e[0],t._sw.lat+=e[1],this._convertBoundsToPoints(t),this._trackingRect.setData(this._trackingRect._data),t},_setTrackingRectBounds:function(e){this._convertBoundsToPoints(e),this._trackingRect._data.properties.bounds=e,this._trackingRect.setData(this._trackingRect._data)},_convertBoundsToPoints:function(e){this._trackingRectCoordinates[0][0][0]=e._ne.lng,this._trackingRectCoordinates[0][0][1]=e._ne.lat,this._trackingRectCoordinates[0][1][0]=e._sw.lng,this._trackingRectCoordinates[0][1][1]=e._ne.lat,this._trackingRectCoordinates[0][2][0]=e._sw.lng,this._trackingRectCoordinates[0][2][1]=e._sw.lat,this._trackingRectCoordinates[0][3][0]=e._ne.lng,this._trackingRectCoordinates[0][3][1]=e._sw.lat,this._trackingRectCoordinates[0][4][0]=e._ne.lng,this._trackingRectCoordinates[0][4][1]=e._ne.lat},_update:function(){if(!this._isDragging){var e=this._parentMap.getBounds();this._setTrackingRectBounds(e)}},_zoomAdjust:function(){var e=parseInt(this._parentMap.getZoom());this._miniMap.flyTo({center:this._parentMap.getCenter(),zoom:e<4?0:e-3,bearing:0})}});var rt=ot,it=function(e){var t=e.match(/^[ ]*(?:Lat: )?(-?\d+\.?\d*)[, ]+(?:Lng: )?(-?\d+\.?\d*)[ ]*$/i);if(!t)return null;var a=function(e,t){return{center:[e,t],geometry:{type:"Point",coordinates:[e,t]},place_name:"Lat: "+t+" Lng: "+e,place_type:["coordinate"],properties:{},type:"Feature"}},n=Number(t[1]),o=Number(t[2]),r=[];return(n<-90||n>90)&&r.push(a(n,o)),(o<-90||o>90)&&r.push(a(o,n)),0===r.length&&(r.push(a(n,o)),r.push(a(o,n))),r},lt={width:200,height:200,data:new Uint8Array(16e4),onAdd:function(e){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,this.context=t.getContext("2d"),this.map=e},render:function(){var e=this.context,t=performance.now()%1e3/1e3;return e.clearRect(0,0,this.width,this.height),e.beginPath(),e.arc(this.width/2,this.height/2,70*t+30,0,2*Math.PI),e.fillStyle="rgba(200, 200, 255,"+(1-t)+")",e.fill(),e.beginPath(),e.arc(this.width/2,this.height/2,30,0,2*Math.PI),e.fillStyle="rgba(100, 100, 255, 1)",e.strokeStyle="white",e.lineWidth=2+4*(1-t),e.fill(),e.stroke(),this.data=e.getImageData(0,0,this.width,this.height).data,this.map.triggerRepaint(),!0}},st=(a(700),a(374)),ct=(a(719),null),ut={root:{width:"100%",position:"fixed",top:64,bottom:0}},dt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={map:null,draw:null,minimap:null,popup:null,gettingPoint:null,tempId:null,styleCode:Object.values(se)[0].substring(16)},a.removeTempLayer=function(){a.state.map.getStyle().layers.map(function(e){return"custom-temp-point"===e.id&&(a.state.map.removeLayer("custom-temp-point"),a.state.map.removeSource("custom-temp-point")),!0}),a.state.popup.isOpen()&&a.state.popup.remove()},a.removeTempPoint=function(){a.state.draw.delete(a.state.tempId),a.setState({tempId:null})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(Ke.a.accessToken=We,Ke.a.supported()){var t=new Ke.a.Map({container:"map",style:Object.values(se)[0],center:[-4.626,37.1425],zoom:10,antialias:!0}),a=new nt.a({controls:{combine_features:!1,uncombine_features:!1}}),n=new rt({center:t.getCenter()});t.addControl(new Xe.a({accessToken:Ke.a.accessToken,mapboxgl:Ke.a,localGeocoder:it,placeholder:"Search Address",marker:{color:"red"}}),"top-left"),t.addControl(new Ke.a.NavigationControl,"top-left"),t.addControl(new Ke.a.GeolocateControl,"top-left"),t.addControl(new tt.a({trafficSource:new RegExp("/*/")}),"top-left"),t.addControl(a,"top-left"),t.addControl(n,"bottom-left"),t.on("moveend",function(){var t=e.state.map.getBounds();console.log(t)});var o=new Ke.a.Popup({closeButton:!1,anchor:"bottom"}).setHTML('<div id="popup-container"></div>');document.getElementsByClassName("mapboxgl-ctrl-geocoder--input")[0].setAttribute("type","search-box"),t.on("load",function(){document.getElementById("loader-wrapper").classList.add("loaded")}),t.on("zoomend",function(){var e=t.getZoom();y.emit("setMapZoom",e)}),t.on("draw.create",function(t){e.state.gettingPoint&&(e.setState({tempId:t.features[0].id}),y.emit("setPoint",t.features[0],e.state.styleCode,e.state.map.getZoom()),e.setState({gettingPoint:!1}))}),this.setMapStyleListener=y.addListener("setMapStyle",function(t){e.state.popup.isOpen()&&e.state.popup.remove(),e.state.map.setStyle(se[t]);var a=new rt({center:e.state.map.getCenter(),style:se[t]});e.state.map.removeControl(e.state.minimap),e.state.map.addControl(a,"bottom-left"),e.setState({minimap:a,styleCode:se[t].substring(16)})}),this.displayDatasetListener=y.addListener("displayDataset",function(t,a,n,o,r,i){n.forEach(function(a,n){e.state.map.getSource(t)&&e.state.map.removeSource(t),ct=e.state.map.getBounds();var o=a.st_asgeojson;o.coordinates&&(e.state.map.addSource(n.toString(),{type:"geojson",data:o}),e.state.map.addLayer({id:n.toString(),type:"fill",source:n.toString(),paint:{"fill-color":"#f08","fill-opacity":.4}}))});if(console.log(ct),"Hexagonal"===i){var l=[],s=!0,c=!1,u=void 0;try{for(var d,m=n.features[Symbol.iterator]();!(s=(d=m.next()).done);s=!0){var p=d.value,h=!0,g=!1,y=void 0;try{for(var C,f=p.geometry.coordinates[Symbol.iterator]();!(h=(C=f.next()).done);h=!0){var E=C.value,v=!0,b=!1,_=void 0;try{for(var S,k=E[Symbol.iterator]();!(v=(S=k.next()).done);v=!0){var w=S.value,L=Object(st.a)(w[1],w[0],r);l.includes(L)||l.push(L)}}catch(O){b=!0,_=O}finally{try{v||null==k.return||k.return()}finally{if(b)throw _}}}}catch(O){g=!0,y=O}finally{try{h||null==f.return||f.return()}finally{if(g)throw y}}}}catch(O){c=!0,u=O}finally{try{s||null==m.return||m.return()}finally{if(c)throw u}}n={type:"FeatureCollection",features:l.map(function(e){return{type:"Feature",geometry:{type:"Polygon",coordinates:[Object(st.b)(e,!0).map(function(e){return e})]}}})}}"fill"===a||"heatmap"===a&&(e.state.map.addLayer({id:t,type:"heatmap",source:t,paint:ce(o)}),e.state.map.flyTo({center:n.features[0].geometry.coordinates[0][0],zoom:6,bearing:0}))}),this.removeDatasetListener=y.addListener("removeDataset",function(t){e.state.map.getLayer(t)&&(e.state.map.removeLayer(t),e.state.map.removeSource(t))}),this.moveLayerListener=y.addListener("moveLayer",function(t,a){a?e.state.map.moveLayer(t,a):e.state.map.moveLayer(t)}),this.displayTempLayerListener=y.addListener("displayTempLayer",function(t){e.removeTempLayer(),e.state.map.hasImage("marker")||e.state.map.addImage("marker",lt,{pixelRatio:3}),e.state.map.addLayer({id:"custom-temp-point",type:"symbol",source:{type:"geojson",data:t.geometry},layout:{"icon-image":"marker"}}),e.state.popup.setLngLat(t.geometry.geometry.coordinates).addTo(e.state.map),y.emit("bindPopup",t),e.state.map.flyTo({center:t.geometry.geometry.coordinates,zoom:6,bearing:0})}),this.removeTempLayerListener=y.addListener("removeTempLayer",function(){e.removeTempLayer()}),this.getPointListener=y.addListener("getPoint",function(){e.removeTempPoint(),e.state.draw.changeMode("draw_point"),y.emit("showSnackbar","default","Click on the map to select a point."),e.setState({gettingPoint:!0})}),this.removeTempPointListener=y.addListener("removeTempPoint",function(){e.removeTempPoint()}),this.setState({map:t,draw:a,minimap:n,popup:o})}else alert("Your browser does not support Mapbox GL")}},{key:"componentWillUnmount",value:function(){y.removeListener(this.setMapStyleListener),y.removeListener(this.displayDatasetListener),y.removeListener(this.removeDatasetListener),y.removeListener(this.moveLayerListener),y.removeListener(this.displayTempLayerListener),y.removeListener(this.removeTempLayerListener),y.removeListener(this.getPointListener),y.removeListener(this.removeTempPointListener)}},{key:"render",value:function(){return o.a.createElement("div",{id:"map",style:ut.root})}}]),t}(o.a.Component),mt=a(824),pt={root:{minWidth:320,maxWidth:345},image:{height:140},titleContainer:{display:"flex",alignItems:"space-between",padding:"5px 16px 2px"},titleContainerEnd:{display:"flex",alignItems:"space-between",padding:"5px 16px 10px"},nameContainer:{display:"flex",flexDirection:"column",justifyContent:"flex-end",height:65},popupName:{display:"inline-block"},popupPinyin:{display:"inline-block"},weatherWidgetContainer:{position:"absolute",right:0,width:155},introductionContainer:{paddingTop:5},popupIntroduction:{wordWrap:"break-word",wordBreak:"break-all"}},ht=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,data:{}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.bindPopupListener=y.addListener("bindPopup",function(t){var a=document.getElementById("popup");document.getElementById("popup-container").appendChild(a);var n=document.createElement("script");n.type="text/javascript",n.src="https://darksky.net/widget/default-small/".concat(t.geometry.geometry.coordinates[1].toString(),",").concat(t.geometry.geometry.coordinates[0].toString(),"/ca12/en.js?height=60"),document.getElementById("customize-script-container").appendChild(n),e.setState({open:!0,data:t})})}},{key:"componentWillUnmount",value:function(){y.removeListener(this.bindPopupListener)}},{key:"render",value:function(){return o.a.createElement(re.a,{id:"popup",style:pt.root,className:this.state.open?null:"hidden"},o.a.createElement(mt.a,{className:this.state.data.image&&this.state.data.image.src?null:"hidden",style:pt.image,image:this.state.data.image&&this.state.data.image.src?this.state.data.image.src:"#"}),o.a.createElement(ie.a,{style:this.state.data.introduction?pt.titleContainer:pt.titleContainerEnd},o.a.createElement("div",{style:pt.nameContainer},o.a.createElement(q.a,{style:pt.popupName,variant:"h5",component:"h2"},this.state.data.name),o.a.createElement(q.a,{style:pt.popupPinyin,variant:"subtitle1",color:"textSecondary",component:"h3"},this.state.data.pinyin)),o.a.createElement("div",{id:"customize-script-container",style:pt.weatherWidgetContainer})),o.a.createElement(ie.a,{style:pt.introductionContainer,className:this.state.data.introduction?null:"hidden"},o.a.createElement(q.a,{style:pt.popupIntroduction,variant:"body2",color:"textSecondary",component:"p"},this.state.data.introduction)))}}]),t}(o.a.Component),gt=(a(701),["Linear Regression","Decision Tree","Neural Networks","Random Forest"]),yt=a(240),Ct=Object(O.a)({palette:{primary:{main:Le.a.A200}}}),ft={root:{position:"fixed",top:74,right:10,width:300,borderRadius:4,margin:0,zIndex:900},header:{backgroundColor:"#f1f1f1"},closeBtn:{position:"absolute",top:6,right:8,fontSize:22},content:{paddingBottom:16},select:{width:"100%"},placeholder:{height:28,lineHeight:"28px",cursor:"pointer"},chipContainer:{display:"flex",overflow:"hidden"},chip:{height:28,lineHeight:"28px",marginRight:5},layerList:{marginTop:6,paddingBottom:0},layerItem:{paddingLeft:2},sortAction:{right:12}},Et=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,selected:[],resolution:7,layerForm:"Border"},a.handleCloseClick=function(){a.setState({open:!1})},a.handleDatasetChange=function(){var e=Object(G.a)(U.a.mark(function e(t){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,a.state.selected.map(function(e){return-1===t.target.value.indexOf(e)&&(y.emit("removeDataset",e),n=!0),!0}),!n&&t.target.value.length&&t.target.value[t.target.value.length-1],a.setState({selected:t.target.value.reverse()});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleLayerListUpdate=function(e){for(var t=a.state.selected,n=t.splice(e.oldIndex,1),o=t.push(0)-1;o>e.newIndex;o--)t[o]=t[o-1];t[e.newIndex]=n[0],y.emit("moveLayer",t[e.newIndex],e.newIndex>0?t[e.newIndex-1]:null),a.setState({selected:a.state.selected})},a.handleResolutionChange=function(e,t){a.setState({resolution:t})},a.handleLayerFormBor=function(){a.setState({layerForm:"Border"})},a.handleLayerFormHex=function(){a.setState({layerForm:"Hexagonal"})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.openModelControllerListener=y.addListener("openModelController",function(){e.setState({open:!0});var t=yt.b();t.add(yt.a.dense({units:1,inputShape:[1]})),t.compile({loss:"meanSquaredError",optimizer:"sgd"});var a=yt.c([1,2,3,4],[4,1]),n=yt.c([1,3,5,7],[4,1]);t.fit(a,n).then(function(){console.log(t.predict(yt.c([5],[1,1])).print())})}),this.closeAllControllerListener=y.addListener("closeAllController",function(){e.setState({open:!1})})}},{key:"componentDidUpdate",value:function(){document.getElementById("layers")&&pe.a.create(document.getElementById("layers"),{group:"layers",handle:".handle",animation:200,onUpdate:this.handleLayerListUpdate})}},{key:"componentWillUnmount",value:function(){y.removeListener(this.openModelControllerListener),y.removeListener(this.closeAllControllerListener)}},{key:"render",value:function(){var e=this;return o.a.createElement(P.a,{theme:Ct},o.a.createElement(H.a,{direction:"left",in:this.state.open},o.a.createElement(re.a,{style:ft.root},o.a.createElement(ie.a,{style:ft.header},o.a.createElement(q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Predictive Models"),o.a.createElement(q.a,{variant:"body2",color:"textSecondary"},"Predictions with many models"),o.a.createElement(w.a,{style:ft.closeBtn,"aria-label":"Close",onClick:this.handleCloseClick},o.a.createElement(L.a,{fontSize:"inherit"},"chevron_right"))),o.a.createElement(ie.a,{style:this.state.selected.length?ft.content:null},o.a.createElement(he.a,{style:ft.select},o.a.createElement(ye.a,{multiple:!0,displayEmpty:!0,value:this.state.selected,onChange:this.handleDatasetChange,input:o.a.createElement(Ce.a,{id:"dataset-label"}),renderValue:function(e){return e.length?o.a.createElement("div",{style:ft.chipContainer},e.map(function(e){return o.a.createElement(fe.a,{key:e,style:ft.chip,label:e})})):o.a.createElement(ge.a,{style:ft.placeholder},"Choose a predictive model")}},gt.map(function(t){return o.a.createElement(Ee.a,{key:t,value:t},o.a.createElement(Y.a,{checked:e.state.selected.indexOf(t)>-1,color:"primary"}),o.a.createElement(ve.a,{primary:t}))}))),this.state.selected.length?o.a.createElement(be.a,{id:"layers",style:ft.layerList},this.state.selected.map(function(e){return o.a.createElement(_e.a,{style:ft.layerItem,key:e},o.a.createElement(Se.a,null,o.a.createElement(ke.a,null,o.a.createElement(L.a,{color:"action"},"layers"))),o.a.createElement(ve.a,{primary:e}),o.a.createElement(we.a,{style:ft.sortAction},o.a.createElement(w.a,{className:"handle",edge:"end","aria-label":"Sort",disableRipple:!0,disableFocusRipple:!0},o.a.createElement(L.a,null,"menu"))))})):null))))}}]),t}(o.a.Component),vt=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(h.SnackbarProvider,{maxSnack:3},o.a.createElement(o.a.Fragment,null,o.a.createElement(f,null),o.a.createElement(b,null),o.a.createElement(A,null),o.a.createElement(B,null),o.a.createElement(ne,null),o.a.createElement(oe,null),o.a.createElement(de,null),o.a.createElement(xe,null),o.a.createElement(Et,null),o.a.createElement(Ye,null),o.a.createElement(ht,null),o.a.createElement(dt,null)))}}]),t}(o.a.Component),bt=function(){return o.a.createElement(l.a,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:vt})))},_t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function St(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(function(){return o.a.createElement(bt,null)},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/geoviewer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/geoviewer","/service-worker.js");_t?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):St(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):St(t,e)})}}()}},[[536,1,2]]]);
//# sourceMappingURL=main.1acd4a3c.chunk.js.map